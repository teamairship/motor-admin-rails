/*! For license information please see main-51cae20dcef5d8d82f24.js.LICENSE.txt */
(()=>{var e={2877:function(e,t){!function(e){"use strict";var t={logger:self.console,WebSocket:self.WebSocket},n={log:function(){if(this.enabled){for(var e,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];i.push(Date.now()),(e=t.logger).log.apply(e,["[ActionCable]"].concat(i))}}},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){return(new Date).getTime()},a=function(e){return(s()-e)/1e3},l=function(){function e(t){r(this,e),this.visibilityDidChange=this.visibilityDidChange.bind(this),this.connection=t,this.reconnectAttempts=0}return e.prototype.start=function(){this.isRunning()||(this.startedAt=s(),delete this.stoppedAt,this.startPolling(),addEventListener("visibilitychange",this.visibilityDidChange),n.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms"))},e.prototype.stop=function(){this.isRunning()&&(this.stoppedAt=s(),this.stopPolling(),removeEventListener("visibilitychange",this.visibilityDidChange),n.log("ConnectionMonitor stopped"))},e.prototype.isRunning=function(){return this.startedAt&&!this.stoppedAt},e.prototype.recordPing=function(){this.pingedAt=s()},e.prototype.recordConnect=function(){this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,n.log("ConnectionMonitor recorded connect")},e.prototype.recordDisconnect=function(){this.disconnectedAt=s(),n.log("ConnectionMonitor recorded disconnect")},e.prototype.startPolling=function(){this.stopPolling(),this.poll()},e.prototype.stopPolling=function(){clearTimeout(this.pollTimeout)},e.prototype.poll=function(){var e=this;this.pollTimeout=setTimeout((function(){e.reconnectIfStale(),e.poll()}),this.getPollInterval())},e.prototype.getPollInterval=function(){var e=this.constructor.pollInterval,t=e.min,n=e.max,i=e.multiplier*Math.log(this.reconnectAttempts+1);return Math.round(1e3*function(e,t,n){return Math.max(t,Math.min(n,e))}(i,t,n))},e.prototype.reconnectIfStale=function(){this.connectionIsStale()&&(n.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+a(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?n.log("ConnectionMonitor skipping reopening recent disconnect"):(n.log("ConnectionMonitor reopening"),this.connection.reopen()))},e.prototype.connectionIsStale=function(){return a(this.pingedAt?this.pingedAt:this.startedAt)>this.constructor.staleThreshold},e.prototype.disconnectedRecently=function(){return this.disconnectedAt&&a(this.disconnectedAt)<this.constructor.staleThreshold},e.prototype.visibilityDidChange=function(){var e=this;"visible"===document.visibilityState&&setTimeout((function(){!e.connectionIsStale()&&e.connection.isOpen()||(n.log("ConnectionMonitor reopening stale connection on visibilitychange. visibilityState = "+document.visibilityState),e.connection.reopen())}),200)},e}();l.pollInterval={min:3,max:30,multiplier:5},l.staleThreshold=6;var c={message_types:{welcome:"welcome",disconnect:"disconnect",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},disconnect_reasons:{unauthorized:"unauthorized",invalid_request:"invalid_request",server_restart:"server_restart"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},u=c.message_types,h=c.protocols,d=h.slice(0,h.length-1),p=[].indexOf,f=function(){function e(t){r(this,e),this.open=this.open.bind(this),this.consumer=t,this.subscriptions=this.consumer.subscriptions,this.monitor=new l(this),this.disconnected=!0}return e.prototype.send=function(e){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(e)),!0)},e.prototype.open=function(){return this.isActive()?(n.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(n.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+h),this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new t.WebSocket(this.consumer.url,h),this.installEventHandlers(),this.monitor.start(),!0)},e.prototype.close=function(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return this.webSocket.close()},e.prototype.reopen=function(){if(n.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(e){n.log("Failed to reopen WebSocket",e)}finally{n.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},e.prototype.getProtocol=function(){if(this.webSocket)return this.webSocket.protocol},e.prototype.isOpen=function(){return this.isState("open")},e.prototype.isActive=function(){return this.isState("open","connecting")},e.prototype.isProtocolSupported=function(){return p.call(d,this.getProtocol())>=0},e.prototype.isState=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.call(t,this.getState())>=0},e.prototype.getState=function(){if(this.webSocket)for(var e in t.WebSocket)if(t.WebSocket[e]===this.webSocket.readyState)return e.toLowerCase();return null},e.prototype.installEventHandlers=function(){for(var e in this.events){var t=this.events[e].bind(this);this.webSocket["on"+e]=t}},e.prototype.uninstallEventHandlers=function(){for(var e in this.events)this.webSocket["on"+e]=function(){}},e}();f.reopenDelay=500,f.prototype.events={message:function(e){if(this.isProtocolSupported()){var t=JSON.parse(e.data),i=t.identifier,r=t.message,o=t.reason,s=t.reconnect;switch(t.type){case u.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case u.disconnect:return n.log("Disconnecting. Reason: "+o),this.close({allowReconnect:s});case u.ping:return this.monitor.recordPing();case u.confirmation:return this.subscriptions.notify(i,"connected");case u.rejection:return this.subscriptions.reject(i);default:return this.subscriptions.notify(i,"received",r)}}},open:function(){if(n.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return n.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(e){if(n.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){n.log("WebSocket onerror event")}};var m=function(e,t){if(null!=t)for(var n in t){var i=t[n];e[n]=i}return e},g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];r(this,e),this.consumer=t,this.identifier=JSON.stringify(n),m(this,i)}return e.prototype.perform=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.action=e,this.send(t)},e.prototype.send=function(e){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(e)})},e.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},e}(),v=function(){function e(t){r(this,e),this.consumer=t,this.subscriptions=[]}return e.prototype.create=function(e,t){var n=e,r="object"===(void 0===n?"undefined":i(n))?n:{channel:n},o=new g(this.consumer,r,t);return this.add(o)},e.prototype.add=function(e){return this.subscriptions.push(e),this.consumer.ensureActiveConnection(),this.notify(e,"initialized"),this.sendCommand(e,"subscribe"),e},e.prototype.remove=function(e){return this.forget(e),this.findAll(e.identifier).length||this.sendCommand(e,"unsubscribe"),e},e.prototype.reject=function(e){var t=this;return this.findAll(e).map((function(e){return t.forget(e),t.notify(e,"rejected"),e}))},e.prototype.forget=function(e){return this.subscriptions=this.subscriptions.filter((function(t){return t!==e})),e},e.prototype.findAll=function(e){return this.subscriptions.filter((function(t){return t.identifier===e}))},e.prototype.reload=function(){var e=this;return this.subscriptions.map((function(t){return e.sendCommand(t,"subscribe")}))},e.prototype.notifyAll=function(e){for(var t=this,n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return this.subscriptions.map((function(n){return t.notify.apply(t,[n,e].concat(i))}))},e.prototype.notify=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return("string"==typeof e?this.findAll(e):[e]).map((function(e){return"function"==typeof e[t]?e[t].apply(e,i):void 0}))},e.prototype.sendCommand=function(e,t){var n=e.identifier;return this.consumer.send({command:t,identifier:n})},e}(),y=function(){function e(t){r(this,e),this._url=t,this.subscriptions=new v(this),this.connection=new f(this)}return e.prototype.send=function(e){return this.connection.send(e)},e.prototype.connect=function(){return this.connection.open()},e.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},e.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},o(e,[{key:"url",get:function(){return b(this._url)}}]),e}();function b(e){if("function"==typeof e&&(e=e()),e&&!/^wss?:/i.test(e)){var t=document.createElement("a");return t.href=e,t.href=t.href,t.protocol=t.protocol.replace("http","ws"),t.href}return e}function w(e){var t=document.head.querySelector("meta[name='action-cable-"+e+"']");if(t)return t.getAttribute("content")}e.Connection=f,e.ConnectionMonitor=l,e.Consumer=y,e.INTERNAL=c,e.Subscription=g,e.Subscriptions=v,e.adapters=t,e.createWebSocketURL=b,e.logger=n,e.createConsumer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w("url")||c.default_mount_path;return new y(e)},e.getConfig=w,Object.defineProperty(e,"__esModule",{value:!0})}(t)},2262:(e,t,n)=>{"use strict";n.d(t,{Bj:()=>o,Fl:()=>$e,IU:()=>be,Jd:()=>b,PG:()=>me,SU:()=>Ee,Um:()=>de,WL:()=>Pe,X$:()=>k,X3:()=>ye,XI:()=>Te,Xl:()=>we,dq:()=>Se,iH:()=>Ae,j:()=>_,lk:()=>w,qj:()=>he,qq:()=>m,yT:()=>ve});var i=n(3577);let r;class o{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&r&&(this.parent=r,this.index=(r.scopes||(r.scopes=[])).push(this)-1)}run(e){if(this.active){const t=r;try{return r=this,e()}finally{r=t}}}on(){r=this}off(){r=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}const s=e=>{const t=new Set(e);return t.w=0,t.n=0,t},a=e=>(e.w&d)>0,l=e=>(e.n&d)>0,c=new WeakMap;let u,h=0,d=1;const p=Symbol(""),f=Symbol("");class m{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,function(e,t=r){t&&t.active&&t.effects.push(e)}(this,n)}run(){if(!this.active)return this.fn();let e=u,t=v;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=u,u=this,v=!0,d=1<<++h,h<=30?(({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=d})(this):g(this),this.fn()}finally{h<=30&&(e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const r=t[i];a(r)&&!l(r)?r.delete(e):t[n++]=r,r.w&=~d,r.n&=~d}t.length=n}})(this),d=1<<--h,u=this.parent,v=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){u===this?this.deferStop=!0:this.active&&(g(this),this.onStop&&this.onStop(),this.active=!1)}}function g(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let v=!0;const y=[];function b(){y.push(v),v=!1}function w(){const e=y.pop();v=void 0===e||e}function _(e,t,n){if(v&&u){let t=c.get(e);t||c.set(e,t=new Map);let i=t.get(n);i||t.set(n,i=s()),x(i)}}function x(e,t){let n=!1;h<=30?l(e)||(e.n|=d,n=!a(e)):n=!e.has(u),n&&(e.add(u),u.deps.push(e))}function k(e,t,n,r,o,a){const l=c.get(e);if(!l)return;let u=[];if("clear"===t)u=[...l.values()];else if("length"===n&&(0,i.kJ)(e))l.forEach(((e,t)=>{("length"===t||t>=r)&&u.push(e)}));else switch(void 0!==n&&u.push(l.get(n)),t){case"add":(0,i.kJ)(e)?(0,i.S0)(n)&&u.push(l.get("length")):(u.push(l.get(p)),(0,i._N)(e)&&u.push(l.get(f)));break;case"delete":(0,i.kJ)(e)||(u.push(l.get(p)),(0,i._N)(e)&&u.push(l.get(f)));break;case"set":(0,i._N)(e)&&u.push(l.get(p))}if(1===u.length)u[0]&&C(u[0]);else{const e=[];for(const t of u)t&&e.push(...t);C(s(e))}}function C(e,t){const n=(0,i.kJ)(e)?e:[...e];for(const e of n)e.computed&&S(e);for(const e of n)e.computed||S(e)}function S(e,t){(e!==u||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const A=(0,i.fY)("__proto__,__v_isRef,__isVue"),T=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(i.yk)),O=M(),L=M(!1,!0),E=M(!0),D=P();function P(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=be(this);for(let e=0,t=this.length;e<t;e++)_(n,0,e+"");const i=n[t](...e);return-1===i||!1===i?n[t](...e.map(be)):i}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){b();const n=be(this)[t].apply(this,e);return w(),n}})),e}function M(e=!1,t=!1){return function(n,r,o){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_isShallow"===r)return t;if("__v_raw"===r&&o===(e?t?ue:ce:t?le:ae).get(n))return n;const s=(0,i.kJ)(n);if(!e&&s&&(0,i.RI)(D,r))return Reflect.get(D,r,o);const a=Reflect.get(n,r,o);return((0,i.yk)(r)?T.has(r):A(r))?a:(e||_(n,0,r),t?a:Se(a)?s&&(0,i.S0)(r)?a:a.value:(0,i.Kn)(a)?e?pe(a):he(a):a)}}const $=I(),R=I(!0);function I(e=!1){return function(t,n,r,o){let s=t[n];if(ge(s)&&Se(s)&&!Se(r))return!1;if(!e&&!ge(r)&&(ve(r)||(r=be(r),s=be(s)),!(0,i.kJ)(t)&&Se(s)&&!Se(r)))return s.value=r,!0;const a=(0,i.kJ)(t)&&(0,i.S0)(n)?Number(n)<t.length:(0,i.RI)(t,n),l=Reflect.set(t,n,r,o);return t===be(o)&&(a?(0,i.aU)(r,s)&&k(t,"set",n,r):k(t,"add",n,r)),l}}const F={get:O,set:$,deleteProperty:function(e,t){const n=(0,i.RI)(e,t),r=(e[t],Reflect.deleteProperty(e,t));return r&&n&&k(e,"delete",t,void 0),r},has:function(e,t){const n=Reflect.has(e,t);return(0,i.yk)(t)&&T.has(t)||_(e,0,t),n},ownKeys:function(e){return _(e,0,(0,i.kJ)(e)?"length":p),Reflect.ownKeys(e)}},j={get:E,set:(e,t)=>!0,deleteProperty:(e,t)=>!0},N=(0,i.l7)({},F,{get:L,set:R}),z=e=>e,q=e=>Reflect.getPrototypeOf(e);function V(e,t,n=!1,i=!1){const r=be(e=e.__v_raw),o=be(t);n||(t!==o&&_(r,0,t),_(r,0,o));const{has:s}=q(r),a=i?z:n?xe:_e;return s.call(r,t)?a(e.get(t)):s.call(r,o)?a(e.get(o)):void(e!==r&&e.get(t))}function B(e,t=!1){const n=this.__v_raw,i=be(n),r=be(e);return t||(e!==r&&_(i,0,e),_(i,0,r)),e===r?n.has(e):n.has(e)||n.has(r)}function W(e,t=!1){return e=e.__v_raw,!t&&_(be(e),0,p),Reflect.get(e,"size",e)}function U(e){e=be(e);const t=be(this);return q(t).has.call(t,e)||(t.add(e),k(t,"add",e,e)),this}function H(e,t){t=be(t);const n=be(this),{has:r,get:o}=q(n);let s=r.call(n,e);s||(e=be(e),s=r.call(n,e));const a=o.call(n,e);return n.set(e,t),s?(0,i.aU)(t,a)&&k(n,"set",e,t):k(n,"add",e,t),this}function Z(e){const t=be(this),{has:n,get:i}=q(t);let r=n.call(t,e);r||(e=be(e),r=n.call(t,e)),i&&i.call(t,e);const o=t.delete(e);return r&&k(t,"delete",e,void 0),o}function K(){const e=be(this),t=0!==e.size,n=e.clear();return t&&k(e,"clear",void 0,void 0),n}function G(e,t){return function(n,i){const r=this,o=r.__v_raw,s=be(o),a=t?z:e?xe:_e;return!e&&_(s,0,p),o.forEach(((e,t)=>n.call(i,a(e),a(t),r)))}}function Y(e,t,n){return function(...r){const o=this.__v_raw,s=be(o),a=(0,i._N)(s),l="entries"===e||e===Symbol.iterator&&a,c="keys"===e&&a,u=o[e](...r),h=n?z:t?xe:_e;return!t&&_(s,0,c?f:p),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function Q(e){return function(...t){return"delete"!==e&&this}}function J(){const e={get(e){return V(this,e)},get size(){return W(this)},has:B,add:U,set:H,delete:Z,clear:K,forEach:G(!1,!1)},t={get(e){return V(this,e,!1,!0)},get size(){return W(this)},has:B,add:U,set:H,delete:Z,clear:K,forEach:G(!1,!0)},n={get(e){return V(this,e,!0)},get size(){return W(this,!0)},has(e){return B.call(this,e,!0)},add:Q("add"),set:Q("set"),delete:Q("delete"),clear:Q("clear"),forEach:G(!0,!1)},i={get(e){return V(this,e,!0,!0)},get size(){return W(this,!0)},has(e){return B.call(this,e,!0)},add:Q("add"),set:Q("set"),delete:Q("delete"),clear:Q("clear"),forEach:G(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((r=>{e[r]=Y(r,!1,!1),n[r]=Y(r,!0,!1),t[r]=Y(r,!1,!0),i[r]=Y(r,!0,!0)})),[e,n,t,i]}const[X,ee,te,ne]=J();function ie(e,t){const n=t?e?ne:te:e?ee:X;return(t,r,o)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get((0,i.RI)(n,r)&&r in t?n:t,r,o)}const re={get:ie(!1,!1)},oe={get:ie(!1,!0)},se={get:ie(!0,!1)},ae=new WeakMap,le=new WeakMap,ce=new WeakMap,ue=new WeakMap;function he(e){return ge(e)?e:fe(e,!1,F,re,ae)}function de(e){return fe(e,!1,N,oe,le)}function pe(e){return fe(e,!0,j,se,ce)}function fe(e,t,n,r,o){if(!(0,i.Kn)(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const a=(l=e).__v_skip||!Object.isExtensible(l)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}((0,i.W7)(l));var l;if(0===a)return e;const c=new Proxy(e,2===a?r:n);return o.set(e,c),c}function me(e){return ge(e)?me(e.__v_raw):!(!e||!e.__v_isReactive)}function ge(e){return!(!e||!e.__v_isReadonly)}function ve(e){return!(!e||!e.__v_isShallow)}function ye(e){return me(e)||ge(e)}function be(e){const t=e&&e.__v_raw;return t?be(t):e}function we(e){return(0,i.Nj)(e,"__v_skip",!0),e}const _e=e=>(0,i.Kn)(e)?he(e):e,xe=e=>(0,i.Kn)(e)?pe(e):e;function ke(e){v&&u&&x((e=be(e)).dep||(e.dep=s()))}function Ce(e,t){(e=be(e)).dep&&C(e.dep)}function Se(e){return!(!e||!0!==e.__v_isRef)}function Ae(e){return Oe(e,!1)}function Te(e){return Oe(e,!0)}function Oe(e,t){return Se(e)?e:new Le(e,t)}class Le{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:be(e),this._value=t?e:_e(e)}get value(){return ke(this),this._value}set value(e){e=this.__v_isShallow?e:be(e),(0,i.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:_e(e),Ce(this))}}function Ee(e){return Se(e)?e.value:e}const De={get:(e,t,n)=>Ee(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const r=e[t];return Se(r)&&!Se(n)?(r.value=n,!0):Reflect.set(e,t,n,i)}};function Pe(e){return me(e)?e:new Proxy(e,De)}class Me{constructor(e,t,n,i){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new m(e,(()=>{this._dirty||(this._dirty=!0,Ce(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const e=be(this);return ke(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function $e(e,t,n=!1){let r,o;const s=(0,i.mf)(e);return s?(r=e,o=i.dG):(r=e.get,o=e.set),new Me(r,o,s||!o,n)}},6252:(e,t,n)=>{"use strict";n.d(t,{$d:()=>s,Cn:()=>U,FN:()=>on,Fl:()=>pn,HY:()=>Tt,JJ:()=>Q,Ko:()=>Ue,LL:()=>qe,P$:()=>le,Q2:()=>Ve,Q6:()=>fe,RC:()=>ve,U2:()=>ue,Uk:()=>Zt,Us:()=>Ct,WI:()=>He,Wm:()=>Ut,Y3:()=>_,Y8:()=>se,YP:()=>te,_:()=>Wt,aZ:()=>me,dD:()=>W,dG:()=>Xt,f3:()=>J,h:()=>fn,iD:()=>Ft,ic:()=>Le,j4:()=>jt,kq:()=>Gt,m0:()=>X,nK:()=>pe,qZ:()=>Rt,uE:()=>Kt,up:()=>Ne,w5:()=>H,wg:()=>Mt,wy:()=>Ie});var i=n(2262),r=n(3577);function o(e,t,n,i){let r;try{r=i?e(...i):e()}catch(e){a(e,t,n)}return r}function s(e,t,n,i){if((0,r.mf)(e)){const s=o(e,t,n,i);return s&&(0,r.tI)(s)&&s.catch((e=>{a(e,t,n)})),s}const l=[];for(let r=0;r<e.length;r++)l.push(s(e[r],t,n,i));return l}function a(e,t,n,i=!0){if(t&&t.vnode,t){let i=t.parent;const r=t.proxy,s=n;for(;i;){const t=i.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,r,s))return;i=i.parent}const a=t.appContext.config.errorHandler;if(a)return void o(a,null,10,[e,r,s])}!function(e,t,n,i=!0){console.error(e)}(e,0,0,i)}let l=!1,c=!1;const u=[];let h=0;const d=[];let p=null,f=0;const m=[];let g=null,v=0;const y=Promise.resolve();let b=null,w=null;function _(e){const t=b||y;return e?t.then(this?e.bind(this):e):t}function x(e){u.length&&u.includes(e,l&&e.allowRecurse?h+1:h)||e===w||(null==e.id?u.push(e):u.splice(function(e){let t=h+1,n=u.length;for(;t<n;){const i=t+n>>>1;T(u[i])<e?t=i+1:n=i}return t}(e.id),0,e),k())}function k(){l||c||(c=!0,b=y.then(O))}function C(e,t,n,i){(0,r.kJ)(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?i+1:i)||n.push(e),k()}function S(e,t=null){if(d.length){for(w=t,p=[...new Set(d)],d.length=0,f=0;f<p.length;f++)p[f]();p=null,f=0,w=null,S(e,t)}}function A(e){if(S(),m.length){const e=[...new Set(m)];if(m.length=0,g)return void g.push(...e);for(g=e,g.sort(((e,t)=>T(e)-T(t))),v=0;v<g.length;v++)g[v]();g=null,v=0}}const T=e=>null==e.id?1/0:e.id;function O(e){c=!1,l=!0,S(e),u.sort(((e,t)=>T(e)-T(t))),r.dG;try{for(h=0;h<u.length;h++){const e=u[h];e&&!1!==e.active&&o(e,null,14)}}finally{h=0,u.length=0,A(),l=!1,b=null,(u.length||d.length||m.length)&&O(e)}}new Set,new Map;let L,E=[],D=!1;function P(e,...t){L?L.emit(e,...t):D||E.push({event:e,args:t})}function M(e,t){var n,i;L=e,L?(L.enabled=!0,E.forEach((({event:e,args:t})=>L.emit(e,...t))),E=[]):"undefined"!=typeof window&&window.HTMLElement&&!(null===(i=null===(n=window.navigator)||void 0===n?void 0:n.userAgent)||void 0===i?void 0:i.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{M(e,t)})),setTimeout((()=>{L||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,D=!0,E=[])}),3e3)):(D=!0,E=[])}const $=F("component:added"),R=F("component:updated"),I=F("component:removed");function F(e){return t=>{P(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}function j(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||r.kT;let o=n;const a=t.startsWith("update:"),l=a&&t.slice(7);if(l&&l in i){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:t,trim:s}=i[e]||r.kT;s&&(o=n.map((e=>e.trim()))),t&&(o=n.map(r.He))}let c;__VUE_PROD_DEVTOOLS__&&function(e,t,n){P("component:emit",e.appContext.app,e,t,n)}(e,t,o);let u=i[c=(0,r.hR)(t)]||i[c=(0,r.hR)((0,r._A)(t))];!u&&a&&(u=i[c=(0,r.hR)((0,r.rs)(t))]),u&&s(u,e,6,o);const h=i[c+"Once"];if(h){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,s(h,e,6,o)}}function N(e,t,n=!1){const i=t.emitsCache,o=i.get(e);if(void 0!==o)return o;const s=e.emits;let a={},l=!1;if(__VUE_OPTIONS_API__&&!(0,r.mf)(e)){const i=e=>{const n=N(e,t,!0);n&&(l=!0,(0,r.l7)(a,n))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return s||l?((0,r.kJ)(s)?s.forEach((e=>a[e]=null)):(0,r.l7)(a,s),i.set(e,a),a):(i.set(e,null),null)}function z(e,t){return!(!e||!(0,r.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,r.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,r.RI)(e,(0,r.rs)(t))||(0,r.RI)(e,t))}let q=null,V=null;function B(e){const t=q;return q=e,V=e&&e.type.__scopeId||null,t}function W(e){V=e}function U(){V=null}function H(e,t=q,n){if(!t)return e;if(e._n)return e;const i=(...n)=>{i._d&&Rt(-1);const r=B(t),o=e(...n);return B(r),i._d&&Rt(1),__VUE_PROD_DEVTOOLS__&&R(t),o};return i._n=!0,i._c=!0,i._d=!0,i}function Z(e){const{type:t,vnode:n,proxy:i,withProxy:o,props:s,propsOptions:[l],slots:c,attrs:u,emit:h,render:d,renderCache:p,data:f,setupState:m,ctx:g,inheritAttrs:v}=e;let y,b;const w=B(e);try{if(4&n.shapeFlag){const e=o||i;y=Yt(d.call(e,e,p,s,m,f,g)),b=u}else{const e=t;y=Yt(e.length>1?e(s,{attrs:u,slots:c,emit:h}):e(s,null)),b=t.props?u:K(u)}}catch(t){Dt.length=0,a(t,e,1),y=Ut(Lt)}let _=y;if(b&&!1!==v){const e=Object.keys(b),{shapeFlag:t}=_;e.length&&7&t&&(l&&e.some(r.tR)&&(b=G(b,l)),_=Ht(_,b))}return n.dirs&&(_=Ht(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),y=_,B(w),y}const K=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,r.F7)(n))&&((t||(t={}))[n]=e[n]);return t},G=(e,t)=>{const n={};for(const i in e)(0,r.tR)(i)&&i.slice(9)in t||(n[i]=e[i]);return n};function Y(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const o=i[r];if(t[o]!==e[o]&&!z(n,o))return!0}return!1}function Q(e,t){if(rn){let n=rn.provides;const i=rn.parent&&rn.parent.provides;i===n&&(n=rn.provides=Object.create(i)),n[e]=t}}function J(e,t,n=!1){const i=rn||q;if(i){const o=null==i.parent?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&(0,r.mf)(t)?t.call(i.proxy):t}}function X(e,t){return ne(e,null,t)}const ee={};function te(e,t,n){return ne(e,t,n)}function ne(e,t,{immediate:n,deep:a,flush:l,onTrack:c,onTrigger:u}=r.kT){const h=rn;let m,g,v=!1,y=!1;if((0,i.dq)(e)?(m=()=>e.value,v=(0,i.yT)(e)):(0,i.PG)(e)?(m=()=>e,a=!0):(0,r.kJ)(e)?(y=!0,v=e.some((e=>(0,i.PG)(e)||(0,i.yT)(e))),m=()=>e.map((e=>(0,i.dq)(e)?e.value:(0,i.PG)(e)?oe(e):(0,r.mf)(e)?o(e,h,2):void 0))):m=(0,r.mf)(e)?t?()=>o(e,h,2):()=>{if(!h||!h.isUnmounted)return g&&g(),s(e,h,3,[b])}:r.dG,t&&a){const e=m;m=()=>oe(e())}let b=e=>{g=k.onStop=()=>{o(e,h,4)}};if(cn)return b=r.dG,t?n&&s(t,h,3,[m(),y?[]:void 0,b]):m(),r.dG;let w=y?[]:ee;const _=()=>{if(k.active)if(t){const e=k.run();(a||v||(y?e.some(((e,t)=>(0,r.aU)(e,w[t]))):(0,r.aU)(e,w)))&&(g&&g(),s(t,h,3,[e,w===ee?void 0:w,b]),w=e)}else k.run()};let x;_.allowRecurse=!!t,x="sync"===l?_:"post"===l?()=>kt(_,h&&h.suspense):()=>function(e){C(e,p,d,f)}(_);const k=new i.qq(m,x);return t?n?_():w=k.run():"post"===l?kt(k.run.bind(k),h&&h.suspense):k.run(),()=>{k.stop(),h&&h.scope&&(0,r.Od)(h.scope.effects,k)}}function ie(e,t,n){const i=this.proxy,o=(0,r.HD)(e)?e.includes(".")?re(i,e):()=>i[e]:e.bind(i,i);let s;(0,r.mf)(t)?s=t:(s=t.handler,n=t);const a=rn;sn(this);const l=ne(o,s.bind(i),n);return a?sn(a):an(),l}function re(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function oe(e,t){if(!(0,r.Kn)(e)||e.__v_skip)return e;if((t=t||new Set).has(e))return e;if(t.add(e),(0,i.dq)(e))oe(e.value,t);else if((0,r.kJ)(e))for(let n=0;n<e.length;n++)oe(e[n],t);else if((0,r.DM)(e)||(0,r._N)(e))e.forEach((e=>{oe(e,t)}));else if((0,r.PO)(e))for(const n in e)oe(e[n],t);return e}function se(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Te((()=>{e.isMounted=!0})),Ee((()=>{e.isUnmounting=!0})),e}const ae=[Function,Array],le={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ae,onEnter:ae,onAfterEnter:ae,onEnterCancelled:ae,onBeforeLeave:ae,onLeave:ae,onAfterLeave:ae,onLeaveCancelled:ae,onBeforeAppear:ae,onAppear:ae,onAfterAppear:ae,onAppearCancelled:ae},setup(e,{slots:t}){const n=on(),r=se();let o;return()=>{const s=t.default&&fe(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let e=!1;for(const t of s)if(t.type!==Lt){a=t,e=!0;break}}const l=(0,i.IU)(e),{mode:c}=l;if(r.isLeaving)return he(a);const u=de(a);if(!u)return he(a);const h=ue(u,l,r,n);pe(u,h);const d=n.subTree,p=d&&de(d);let f=!1;const{getTransitionKey:m}=u.type;if(m){const e=m();void 0===o?o=e:e!==o&&(o=e,f=!0)}if(p&&p.type!==Lt&&(!zt(u,p)||f)){const e=ue(p,l,r,n);if(pe(p,e),"out-in"===c)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,n.update()},he(a);"in-out"===c&&u.type!==Lt&&(e.delayLeave=(e,t,n)=>{ce(r,p)[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}};function ce(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function ue(e,t,n,i){const{appear:o,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:p,onLeave:f,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:w}=t,_=String(e.key),x=ce(n,e),k=(e,t)=>{e&&s(e,i,9,t)},C=(e,t)=>{const n=t[1];k(e,t),(0,r.kJ)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},S={mode:a,persisted:l,beforeEnter(t){let i=c;if(!n.isMounted){if(!o)return;i=v||c}t._leaveCb&&t._leaveCb(!0);const r=x[_];r&&zt(e,r)&&r.el._leaveCb&&r.el._leaveCb(),k(i,[t])},enter(e){let t=u,i=h,r=d;if(!n.isMounted){if(!o)return;t=y||u,i=b||h,r=w||d}let s=!1;const a=e._enterCb=t=>{s||(s=!0,k(t?r:i,[e]),S.delayedLeave&&S.delayedLeave(),e._enterCb=void 0)};t?C(t,[e,a]):a()},leave(t,i){const r=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return i();k(p,[t]);let o=!1;const s=t._leaveCb=n=>{o||(o=!0,i(),k(n?g:m,[t]),t._leaveCb=void 0,x[r]===e&&delete x[r])};x[r]=e,f?C(f,[t,s]):s()},clone:e=>ue(e,t,n,i)};return S}function he(e){if(be(e))return(e=Ht(e)).children=null,e}function de(e){return be(e)?e.children?e.children[0]:void 0:e}function pe(e,t){6&e.shapeFlag&&e.component?pe(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function fe(e,t=!1,n){let i=[],r=0;for(let o=0;o<e.length;o++){let s=e[o];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:o);s.type===Tt?(128&s.patchFlag&&r++,i=i.concat(fe(s.children,t,a))):(t||s.type!==Lt)&&i.push(null!=a?Ht(s,{key:a}):s)}if(r>1)for(let e=0;e<i.length;e++)i[e].patchFlag=-2;return i}function me(e){return(0,r.mf)(e)?{setup:e,name:e.name}:e}const ge=e=>!!e.type.__asyncLoader;function ve(e){(0,r.mf)(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:o,delay:s=200,timeout:l,suspensible:c=!0,onError:u}=e;let h,d=null,p=0;const f=()=>{let e;return d||(e=d=t().catch((e=>{if(e=e instanceof Error?e:new Error(String(e)),u)return new Promise(((t,n)=>{u(e,(()=>t((p++,d=null,f()))),(()=>n(e)),p+1)}));throw e})).then((t=>e!==d&&d?d:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),h=t,t))))};return me({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return h},setup(){const e=rn;if(h)return()=>ye(h,e);const t=t=>{d=null,a(t,e,13,!o)};if(c&&e.suspense||cn)return f().then((t=>()=>ye(t,e))).catch((e=>(t(e),()=>o?Ut(o,{error:e}):null)));const r=(0,i.iH)(!1),u=(0,i.iH)(),p=(0,i.iH)(!!s);return s&&setTimeout((()=>{p.value=!1}),s),null!=l&&setTimeout((()=>{if(!r.value&&!u.value){const e=new Error(`Async component timed out after ${l}ms.`);t(e),u.value=e}}),l),f().then((()=>{r.value=!0,e.parent&&be(e.parent.vnode)&&x(e.parent.update)})).catch((e=>{t(e),u.value=e})),()=>r.value&&h?ye(h,e):u.value&&o?Ut(o,{error:u.value}):n&&!p.value?Ut(n):void 0}})}function ye(e,{vnode:{ref:t,props:n,children:i,shapeFlag:r},parent:o}){const s=Ut(e,n,i);return s.ref=t,s}const be=e=>e.type.__isKeepAlive;function we(e,t){xe(e,"a",t)}function _e(e,t){xe(e,"da",t)}function xe(e,t,n=rn){const i=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(Ce(t,i,n),n){let e=n.parent;for(;e&&e.parent;)be(e.parent.vnode)&&ke(i,t,n,e),e=e.parent}}function ke(e,t,n,i){const o=Ce(t,e,i,!0);De((()=>{(0,r.Od)(i[t],o)}),n)}function Ce(e,t,n=rn,r=!1){if(n){const o=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...r)=>{if(n.isUnmounted)return;(0,i.Jd)(),sn(n);const o=s(t,n,e,r);return an(),(0,i.lk)(),o});return r?o.unshift(a):o.push(a),a}}RegExp,RegExp;const Se=e=>(t,n=rn)=>(!cn||"sp"===e)&&Ce(e,t,n),Ae=Se("bm"),Te=Se("m"),Oe=Se("bu"),Le=Se("u"),Ee=Se("bum"),De=Se("um"),Pe=Se("sp"),Me=Se("rtg"),$e=Se("rtc");function Re(e,t=rn){Ce("ec",e,t)}function Ie(e,t){const n=q;if(null===n)return e;const i=dn(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[n,s,a,l=r.kT]=t[e];(0,r.mf)(n)&&(n={mounted:n,updated:n}),n.deep&&oe(s),o.push({dir:n,instance:i,value:s,oldValue:void 0,arg:a,modifiers:l})}return e}function Fe(e,t,n,r){const o=e.dirs,a=t&&t.dirs;for(let l=0;l<o.length;l++){const c=o[l];a&&(c.oldValue=a[l].value);let u=c.dir[r];u&&((0,i.Jd)(),s(u,n,8,[e.el,c,e,t]),(0,i.lk)())}}const je="components";function Ne(e,t){return Be(je,e,!0,t)||e}const ze=Symbol();function qe(e){return(0,r.HD)(e)?Be(je,e,!1)||e:e||ze}function Ve(e){return Be("directives",e)}function Be(e,t,n=!0,i=!1){const o=q||rn;if(o){const n=o.type;if(e===je){const e=function(e){return(0,r.mf)(e)&&e.displayName||e.name}(n);if(e&&(e===t||e===(0,r._A)(t)||e===(0,r.kC)((0,r._A)(t))))return n}const s=We(o[e]||n[e],t)||We(o.appContext[e],t);return!s&&i?n:s}}function We(e,t){return e&&(e[t]||e[(0,r._A)(t)]||e[(0,r.kC)((0,r._A)(t))])}function Ue(e,t,n,i){let o;const s=n&&n[i];if((0,r.kJ)(e)||(0,r.HD)(e)){o=new Array(e.length);for(let n=0,i=e.length;n<i;n++)o[n]=t(e[n],n,void 0,s&&s[n])}else if("number"==typeof e){o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,s&&s[n])}else if((0,r.Kn)(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,s&&s[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let i=0,r=n.length;i<r;i++){const r=n[i];o[i]=t(e[r],r,i,s&&s[i])}}else o=[];return n&&(n[i]=o),o}function He(e,t,n={},i,r){if(q.isCE||q.parent&&ge(q.parent)&&q.parent.isCE)return Ut("slot","default"===t?null:{name:t},i&&i());let o=e[t];o&&o._c&&(o._d=!1),Mt();const s=o&&Ze(o(n)),a=jt(Tt,{key:n.key||`_${t}`},s||(i?i():[]),s&&1===e._?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Ze(e){return e.some((e=>!Nt(e)||e.type!==Lt&&!(e.type===Tt&&!Ze(e.children))))?e:null}const Ke=e=>e?ln(e)?dn(e)||e.proxy:Ke(e.parent):null,Ge=(0,r.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ke(e.parent),$root:e=>Ke(e.root),$emit:e=>e.emit,$options:e=>__VUE_OPTIONS_API__?et(e):e.type,$forceUpdate:e=>e.f||(e.f=()=>x(e.update)),$nextTick:e=>e.n||(e.n=_.bind(e.proxy)),$watch:e=>__VUE_OPTIONS_API__?ie.bind(e):r.dG}),Ye={get({_:e},t){const{ctx:n,setupState:o,data:s,props:a,accessCache:l,type:c,appContext:u}=e;let h;if("$"!==t[0]){const i=l[t];if(void 0!==i)switch(i){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return a[t]}else{if(o!==r.kT&&(0,r.RI)(o,t))return l[t]=1,o[t];if(s!==r.kT&&(0,r.RI)(s,t))return l[t]=2,s[t];if((h=e.propsOptions[0])&&(0,r.RI)(h,t))return l[t]=3,a[t];if(n!==r.kT&&(0,r.RI)(n,t))return l[t]=4,n[t];__VUE_OPTIONS_API__&&!Qe||(l[t]=0)}}const d=Ge[t];let p,f;return d?("$attrs"===t&&(0,i.j)(e,"get",t),d(e)):(p=c.__cssModules)&&(p=p[t])?p:n!==r.kT&&(0,r.RI)(n,t)?(l[t]=4,n[t]):(f=u.config.globalProperties,(0,r.RI)(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:i,setupState:o,ctx:s}=e;return o!==r.kT&&(0,r.RI)(o,t)?(o[t]=n,!0):i!==r.kT&&(0,r.RI)(i,t)?(i[t]=n,!0):!((0,r.RI)(e.props,t)||"$"===t[0]&&t.slice(1)in e||(s[t]=n,0))},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==r.kT&&(0,r.RI)(e,a)||t!==r.kT&&(0,r.RI)(t,a)||(l=s[0])&&(0,r.RI)(l,a)||(0,r.RI)(i,a)||(0,r.RI)(Ge,a)||(0,r.RI)(o.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,r.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Qe=!0;function Je(e,t,n){s((0,r.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Xe(e,t,n,i){const o=i.includes(".")?re(n,i):()=>n[i];if((0,r.HD)(e)){const n=t[e];(0,r.mf)(n)&&te(o,n)}else if((0,r.mf)(e))te(o,e.bind(n));else if((0,r.Kn)(e))if((0,r.kJ)(e))e.forEach((e=>Xe(e,t,n,i)));else{const i=(0,r.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,r.mf)(i)&&te(o,i,e)}}function et(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:r,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:r.length||n||i?(l={},r.length&&r.forEach((e=>tt(l,e,s,!0))),tt(l,t,s)):l=t,o.set(t,l),l}function tt(e,t,n,i=!1){const{mixins:r,extends:o}=t;o&&tt(e,o,n,!0),r&&r.forEach((t=>tt(e,t,n,!0)));for(const r in t)if(i&&"expose"===r);else{const i=nt[r]||n&&n[r];e[r]=i?i(e[r],t[r]):t[r]}return e}const nt={data:it,props:st,emits:st,methods:st,computed:st,beforeCreate:ot,created:ot,beforeMount:ot,mounted:ot,beforeUpdate:ot,updated:ot,beforeDestroy:ot,beforeUnmount:ot,destroyed:ot,unmounted:ot,activated:ot,deactivated:ot,errorCaptured:ot,serverPrefetch:ot,components:st,directives:st,watch:function(e,t){if(!e)return t;if(!t)return e;const n=(0,r.l7)(Object.create(null),e);for(const i in t)n[i]=ot(e[i],t[i]);return n},provide:it,inject:function(e,t){return st(rt(e),rt(t))}};function it(e,t){return t?e?function(){return(0,r.l7)((0,r.mf)(e)?e.call(this,this):e,(0,r.mf)(t)?t.call(this,this):t)}:t:e}function rt(e){if((0,r.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ot(e,t){return e?[...new Set([].concat(e,t))]:t}function st(e,t){return e?(0,r.l7)((0,r.l7)(Object.create(null),e),t):t}function at(e,t,n,o){const[s,a]=e.propsOptions;let l,c=!1;if(t)for(let i in t){if((0,r.Gg)(i))continue;const u=t[i];let h;s&&(0,r.RI)(s,h=(0,r._A)(i))?a&&a.includes(h)?(l||(l={}))[h]=u:n[h]=u:z(e.emitsOptions,i)||i in o&&u===o[i]||(o[i]=u,c=!0)}if(a){const t=(0,i.IU)(n),o=l||r.kT;for(let i=0;i<a.length;i++){const l=a[i];n[l]=lt(s,t,l,o[l],e,!(0,r.RI)(o,l))}}return c}function lt(e,t,n,i,o,s){const a=e[n];if(null!=a){const e=(0,r.RI)(a,"default");if(e&&void 0===i){const e=a.default;if(a.type!==Function&&(0,r.mf)(e)){const{propsDefaults:r}=o;n in r?i=r[n]:(sn(o),i=r[n]=e.call(null,t),an())}else i=e}a[0]&&(s&&!e?i=!1:!a[1]||""!==i&&i!==(0,r.rs)(n)||(i=!0))}return i}function ct(e,t,n=!1){const i=t.propsCache,o=i.get(e);if(o)return o;const s=e.props,a={},l=[];let c=!1;if(__VUE_OPTIONS_API__&&!(0,r.mf)(e)){const i=e=>{c=!0;const[n,i]=ct(e,t,!0);(0,r.l7)(a,n),i&&l.push(...i)};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}if(!s&&!c)return i.set(e,r.Z6),r.Z6;if((0,r.kJ)(s))for(let e=0;e<s.length;e++){const t=(0,r._A)(s[e]);ut(t)&&(a[t]=r.kT)}else if(s)for(const e in s){const t=(0,r._A)(e);if(ut(t)){const n=s[e],i=a[t]=(0,r.kJ)(n)||(0,r.mf)(n)?{type:n}:n;if(i){const e=pt(Boolean,i.type),n=pt(String,i.type);i[0]=e>-1,i[1]=n<0||e<n,(e>-1||(0,r.RI)(i,"default"))&&l.push(t)}}}const u=[a,l];return i.set(e,u),u}function ut(e){return"$"!==e[0]}function ht(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function dt(e,t){return ht(e)===ht(t)}function pt(e,t){return(0,r.kJ)(t)?t.findIndex((t=>dt(t,e))):(0,r.mf)(t)&&dt(t,e)?0:-1}const ft=e=>"_"===e[0]||"$stable"===e,mt=e=>(0,r.kJ)(e)?e.map(Yt):[Yt(e)],gt=(e,t,n)=>{if(t._n)return t;const i=H(((...e)=>mt(t(...e))),n);return i._c=!1,i},vt=(e,t,n)=>{const i=e._ctx;for(const n in e){if(ft(n))continue;const o=e[n];if((0,r.mf)(o))t[n]=gt(0,o,i);else if(null!=o){const e=mt(o);t[n]=()=>e}}},yt=(e,t)=>{const n=mt(t);e.slots.default=()=>n};function bt(){return{app:null,config:{isNativeTag:r.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wt=0;function _t(e,t){return function(n,i=null){(0,r.mf)(n)||(n=Object.assign({},n)),null==i||(0,r.Kn)(i)||(i=null);const o=bt(),s=new Set;let a=!1;const l=o.app={_uid:wt++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:mn,get config(){return o.config},set config(e){},use:(e,...t)=>(s.has(e)||(e&&(0,r.mf)(e.install)?(s.add(e),e.install(l,...t)):(0,r.mf)(e)&&(s.add(e),e(l,...t))),l),mixin:e=>(__VUE_OPTIONS_API__&&(o.mixins.includes(e)||o.mixins.push(e)),l),component:(e,t)=>t?(o.components[e]=t,l):o.components[e],directive:(e,t)=>t?(o.directives[e]=t,l):o.directives[e],mount(r,s,c){if(!a){const u=Ut(n,i);return u.appContext=o,s&&t?t(u,r):e(u,r,c),a=!0,l._container=r,r.__vue_app__=l,__VUE_PROD_DEVTOOLS__&&(l._instance=u.component,function(e,t){P("app:init",e,t,{Fragment:Tt,Text:Ot,Comment:Lt,Static:Et})}(l,mn)),dn(u.component)||u.component.proxy}},unmount(){a&&(e(null,l._container),__VUE_PROD_DEVTOOLS__&&(l._instance=null,function(e){P("app:unmount",e)}(l)),delete l._container.__vue_app__)},provide:(e,t)=>(o.provides[e]=t,l)};return l}}function xt(e,t,n,s,a=!1){if((0,r.kJ)(e))return void e.forEach(((e,i)=>xt(e,t&&((0,r.kJ)(t)?t[i]:t),n,s,a)));if(ge(s)&&!a)return;const l=4&s.shapeFlag?dn(s.component)||s.component.proxy:s.el,c=a?null:l,{i:u,r:h}=e,d=t&&t.r,p=u.refs===r.kT?u.refs={}:u.refs,f=u.setupState;if(null!=d&&d!==h&&((0,r.HD)(d)?(p[d]=null,(0,r.RI)(f,d)&&(f[d]=null)):(0,i.dq)(d)&&(d.value=null)),(0,r.mf)(h))o(h,u,12,[c,p]);else{const t=(0,r.HD)(h),o=(0,i.dq)(h);if(t||o){const o=()=>{if(e.f){const n=t?p[h]:h.value;a?(0,r.kJ)(n)&&(0,r.Od)(n,l):(0,r.kJ)(n)?n.includes(l)||n.push(l):t?(p[h]=[l],(0,r.RI)(f,h)&&(f[h]=p[h])):(h.value=[l],e.k&&(p[e.k]=h.value))}else t?(p[h]=c,(0,r.RI)(f,h)&&(f[h]=c)):(0,i.dq)(h)&&(h.value=c,e.k&&(p[e.k]=c))};c?(o.id=-1,kt(o,n)):o()}}}const kt=function(e,t){t&&t.pendingBranch?(0,r.kJ)(e)?t.effects.push(...e):t.effects.push(e):C(e,g,m,v)};function Ct(e){return function(e,t){"boolean"!=typeof __VUE_OPTIONS_API__&&((0,r.E9)().__VUE_OPTIONS_API__=!0),"boolean"!=typeof __VUE_PROD_DEVTOOLS__&&((0,r.E9)().__VUE_PROD_DEVTOOLS__=!1);const n=(0,r.E9)();n.__VUE__=!0,__VUE_PROD_DEVTOOLS__&&M(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:s,remove:l,patchProp:c,createElement:d,createText:p,createComment:f,setText:m,setElementText:g,parentNode:v,nextSibling:y,setScopeId:b=r.dG,cloneNode:w,insertStaticContent:_}=e,k=(e,t,n,i=null,r=null,o=null,s=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!zt(e,t)&&(i=ae(e),ne(e,r,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case Ot:C(e,t,n,i);break;case Lt:T(e,t,n,i);break;case Et:null==e&&O(t,n,i,s);break;case Tt:W(e,t,n,i,r,o,s,a,l);break;default:1&h?E(e,t,n,i,r,o,s,a,l):6&h?U(e,t,n,i,r,o,s,a,l):(64&h||128&h)&&c.process(e,t,n,i,r,o,s,a,l,ce)}null!=u&&r&&xt(u,e&&e.ref,o,t||e,!t)},C=(e,t,n,i)=>{if(null==e)s(t.el=p(t.children),n,i);else{const n=t.el=e.el;t.children!==e.children&&m(n,t.children)}},T=(e,t,n,i)=>{null==e?s(t.el=f(t.children||""),n,i):t.el=e.el},O=(e,t,n,i)=>{[e.el,e.anchor]=_(e.children,t,n,i,e.el,e.anchor)},L=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=y(e),l(e),e=n;l(t)},E=(e,t,n,i,r,o,s,a,l)=>{s=s||"svg"===t.type,null==e?D(t,n,i,r,o,s,a,l):q(e,t,r,o,s,a,l)},D=(e,t,n,i,o,a,l,u)=>{let h,p;const{type:f,props:m,shapeFlag:v,transition:y,patchFlag:b,dirs:_}=e;if(e.el&&void 0!==w&&-1===b)h=e.el=w(e.el);else{if(h=e.el=d(e.type,a,m&&m.is,m),8&v?g(h,e.children):16&v&&F(e.children,h,null,i,o,a&&"foreignObject"!==f,l,u),_&&Fe(e,null,i,"created"),m){for(const t in m)"value"===t||(0,r.Gg)(t)||c(h,t,null,m[t],a,e.children,i,o,se);"value"in m&&c(h,"value",null,m.value),(p=m.onVnodeBeforeMount)&&en(p,i,e)}P(h,e,e.scopeId,l,i)}__VUE_PROD_DEVTOOLS__&&(Object.defineProperty(h,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(h,"__vueParentComponent",{value:i,enumerable:!1})),_&&Fe(e,null,i,"beforeMount");const x=(!o||o&&!o.pendingBranch)&&y&&!y.persisted;x&&y.beforeEnter(h),s(h,t,n),((p=m&&m.onVnodeMounted)||x||_)&&kt((()=>{p&&en(p,i,e),x&&y.enter(h),_&&Fe(e,null,i,"mounted")}),o)},P=(e,t,n,i,r)=>{if(n&&b(e,n),i)for(let t=0;t<i.length;t++)b(e,i[t]);if(r&&t===r.subTree){const t=r.vnode;P(e,t,t.scopeId,t.slotScopeIds,r.parent)}},F=(e,t,n,i,r,o,s,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?Qt(e[c]):Yt(e[c]);k(null,l,t,n,i,r,o,s,a)}},q=(e,t,n,i,o,s,a)=>{const l=t.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:d}=t;u|=16&e.patchFlag;const p=e.props||r.kT,f=t.props||r.kT;let m;n&&St(n,!1),(m=f.onVnodeBeforeUpdate)&&en(m,n,t,e),d&&Fe(t,e,n,"beforeUpdate"),n&&St(n,!0);const v=o&&"foreignObject"!==t.type;if(h?V(e.dynamicChildren,h,l,n,i,v,s):a||J(e,t,l,null,n,i,v,s,!1),u>0){if(16&u)B(l,t,p,f,n,i,o);else if(2&u&&p.class!==f.class&&c(l,"class",null,f.class,o),4&u&&c(l,"style",p.style,f.style,o),8&u){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const s=r[t],a=p[s],u=f[s];u===a&&"value"!==s||c(l,s,a,u,o,e.children,n,i,se)}}1&u&&e.children!==t.children&&g(l,t.children)}else a||null!=h||B(l,t,p,f,n,i,o);((m=f.onVnodeUpdated)||d)&&kt((()=>{m&&en(m,n,t,e),d&&Fe(t,e,n,"updated")}),i)},V=(e,t,n,i,r,o,s)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===Tt||!zt(l,c)||70&l.shapeFlag)?v(l.el):n;k(l,c,u,null,i,r,o,s,!0)}},B=(e,t,n,i,o,s,a)=>{if(n!==i){for(const l in i){if((0,r.Gg)(l))continue;const u=i[l],h=n[l];u!==h&&"value"!==l&&c(e,l,h,u,a,t.children,o,s,se)}if(n!==r.kT)for(const l in n)(0,r.Gg)(l)||l in i||c(e,l,n[l],null,a,t.children,o,s,se);"value"in i&&c(e,"value",n.value,i.value)}},W=(e,t,n,i,r,o,a,l,c)=>{const u=t.el=e?e.el:p(""),h=t.anchor=e?e.anchor:p("");let{patchFlag:d,dynamicChildren:f,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(s(u,n,i),s(h,n,i),F(t.children,n,h,r,o,a,l,c)):d>0&&64&d&&f&&e.dynamicChildren?(V(e.dynamicChildren,f,n,r,o,a,l),(null!=t.key||r&&t===r.subTree)&&At(e,t,!0)):J(e,t,n,h,r,o,a,l,c)},U=(e,t,n,i,r,o,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?r.ctx.activate(t,n,i,s,l):H(t,n,i,r,o,s,l):K(e,t,l)},H=(e,t,n,s,l,c,u)=>{const h=e.component=function(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||tn,a={uid:nn++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new i.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ct(o,s),emitsOptions:N(o,s),emit:null,emitted:null,propsDefaults:r.kT,inheritAttrs:o.inheritAttrs,ctx:r.kT,data:r.kT,props:r.kT,attrs:r.kT,slots:r.kT,refs:r.kT,setupState:r.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=j.bind(null,a),e.ce&&e.ce(a),a}(e,s,l);if(be(e)&&(h.ctx.renderer=ce),function(e,t=!1){cn=t;const{props:n,children:s}=e.vnode,l=ln(e);!function(e,t,n,o=!1){const s={},a={};(0,r.Nj)(a,qt,1),e.propsDefaults=Object.create(null),at(e,t,s,a);for(const t in e.propsOptions[0])t in s||(s[t]=void 0);n?e.props=o?s:(0,i.Um)(s):e.type.props?e.props=s:e.props=a,e.attrs=a}(e,n,l,t),((e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,i.IU)(t),(0,r.Nj)(t,"_",n)):vt(t,e.slots={})}else e.slots={},t&&yt(e,t);(0,r.Nj)(e.slots,qt,1)})(e,s);const c=l?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,i.Xl)(new Proxy(e.ctx,Ye));const{setup:s}=n;if(s){const n=e.setupContext=s.length>1?function(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=function(e){return new Proxy(e.attrs,{get:(t,n)=>((0,i.j)(e,"get","$attrs"),t[n])})}(e))},slots:e.slots,emit:e.emit,expose:t}}(e):null;sn(e),(0,i.Jd)();const l=o(s,e,0,[e.props,n]);if((0,i.lk)(),an(),(0,r.tI)(l)){if(l.then(an,an),t)return l.then((n=>{un(e,n,t)})).catch((t=>{a(t,e,0)}));e.asyncDep=l}else un(e,l,t)}else hn(e,t)}(e,t):void 0;cn=!1}(h),h.asyncDep){if(l&&l.registerDep(h,G),!e.el){const e=h.subTree=Ut(Lt);T(null,e,t,n)}}else G(h,e,t,n,l,c,u)},K=(e,t,n)=>{const i=t.component=e.component;if(function(e,t,n){const{props:i,children:r,component:o}=e,{props:s,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!r&&!a||a&&a.$stable)||i!==s&&(i?!s||Y(i,s,c):!!s);if(1024&l)return!0;if(16&l)return i?Y(i,s,c):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==i[n]&&!z(c,n))return!0}}return!1}(e,t,n)){if(i.asyncDep&&!i.asyncResolved)return void Q(i,t,n);i.next=t,function(e){const t=u.indexOf(e);t>h&&u.splice(t,1)}(i.update),i.update()}else t.el=e.el,i.vnode=t},G=(e,t,n,o,s,a,l)=>{const c=e.effect=new i.qq((()=>{if(e.isMounted){let t,{next:n,bu:i,u:o,parent:c,vnode:u}=e,h=n;St(e,!1),n?(n.el=u.el,Q(e,n,l)):n=u,i&&(0,r.ir)(i),(t=n.props&&n.props.onVnodeBeforeUpdate)&&en(t,c,n,u),St(e,!0);const d=Z(e),p=e.subTree;e.subTree=d,k(p,d,v(p.el),ae(p),e,s,a),n.el=d.el,null===h&&function({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}(e,d.el),o&&kt(o,s),(t=n.props&&n.props.onVnodeUpdated)&&kt((()=>en(t,c,n,u)),s),__VUE_PROD_DEVTOOLS__&&R(e)}else{let i;const{el:l,props:c}=t,{bm:u,m:h,parent:d}=e,p=ge(t);if(St(e,!1),u&&(0,r.ir)(u),!p&&(i=c&&c.onVnodeBeforeMount)&&en(i,d,t),St(e,!0),l&&he){const n=()=>{e.subTree=Z(e),he(l,e.subTree,e,s,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{const i=e.subTree=Z(e);k(null,i,n,o,e,s,a),t.el=i.el}if(h&&kt(h,s),!p&&(i=c&&c.onVnodeMounted)){const e=t;kt((()=>en(i,d,e)),s)}(256&t.shapeFlag||d&&ge(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&kt(e.a,s),e.isMounted=!0,__VUE_PROD_DEVTOOLS__&&$(e),t=n=o=null}}),(()=>x(u)),e.scope),u=e.update=()=>c.run();u.id=e.uid,St(e,!0),u()},Q=(e,t,n)=>{t.component=e;const o=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,o){const{props:s,attrs:a,vnode:{patchFlag:l}}=e,c=(0,i.IU)(s),[u]=e.propsOptions;let h=!1;if(!(o||l>0)||16&l){let i;at(e,t,s,a)&&(h=!0);for(const o in c)t&&((0,r.RI)(t,o)||(i=(0,r.rs)(o))!==o&&(0,r.RI)(t,i))||(u?!n||void 0===n[o]&&void 0===n[i]||(s[o]=lt(u,c,o,void 0,e,!0)):delete s[o]);if(a!==c)for(const e in a)t&&(0,r.RI)(t,e)||(delete a[e],h=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let i=0;i<n.length;i++){let o=n[i];if(z(e.emitsOptions,o))continue;const l=t[o];if(u)if((0,r.RI)(a,o))l!==a[o]&&(a[o]=l,h=!0);else{const t=(0,r._A)(o);s[t]=lt(u,c,t,l,e,!1)}else l!==a[o]&&(a[o]=l,h=!0)}}h&&(0,i.X$)(e,"set","$attrs")}(e,t.props,o,n),((e,t,n)=>{const{vnode:i,slots:o}=e;let s=!0,a=r.kT;if(32&i.shapeFlag){const e=t._;e?n&&1===e?s=!1:((0,r.l7)(o,t),n||1!==e||delete o._):(s=!t.$stable,vt(t,o)),a=t}else t&&(yt(e,t),a={default:1});if(s)for(const e in o)ft(e)||e in a||delete o[e]})(e,t.children,n),(0,i.Jd)(),S(void 0,e.update),(0,i.lk)()},J=(e,t,n,i,r,o,s,a,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:d,shapeFlag:p}=t;if(d>0){if(128&d)return void ee(c,h,n,i,r,o,s,a,l);if(256&d)return void X(c,h,n,i,r,o,s,a,l)}8&p?(16&u&&se(c,r,o),h!==c&&g(n,h)):16&u?16&p?ee(c,h,n,i,r,o,s,a,l):se(c,r,o,!0):(8&u&&g(n,""),16&p&&F(h,n,i,r,o,s,a,l))},X=(e,t,n,i,o,s,a,l,c)=>{e=e||r.Z6,t=t||r.Z6;const u=e.length,h=t.length,d=Math.min(u,h);let p;for(p=0;p<d;p++){const i=t[p]=c?Qt(t[p]):Yt(t[p]);k(e[p],i,n,null,o,s,a,l,c)}u>h?se(e,o,s,!0,!1,d):F(t,n,i,o,s,a,l,c,d)},ee=(e,t,n,i,o,s,a,l,c)=>{let u=0;const h=t.length;let d=e.length-1,p=h-1;for(;u<=d&&u<=p;){const i=e[u],r=t[u]=c?Qt(t[u]):Yt(t[u]);if(!zt(i,r))break;k(i,r,n,null,o,s,a,l,c),u++}for(;u<=d&&u<=p;){const i=e[d],r=t[p]=c?Qt(t[p]):Yt(t[p]);if(!zt(i,r))break;k(i,r,n,null,o,s,a,l,c),d--,p--}if(u>d){if(u<=p){const e=p+1,r=e<h?t[e].el:i;for(;u<=p;)k(null,t[u]=c?Qt(t[u]):Yt(t[u]),n,r,o,s,a,l,c),u++}}else if(u>p)for(;u<=d;)ne(e[u],o,s,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const e=t[u]=c?Qt(t[u]):Yt(t[u]);null!=e.key&&g.set(e.key,u)}let v,y=0;const b=p-m+1;let w=!1,_=0;const x=new Array(b);for(u=0;u<b;u++)x[u]=0;for(u=f;u<=d;u++){const i=e[u];if(y>=b){ne(i,o,s,!0);continue}let r;if(null!=i.key)r=g.get(i.key);else for(v=m;v<=p;v++)if(0===x[v-m]&&zt(i,t[v])){r=v;break}void 0===r?ne(i,o,s,!0):(x[r-m]=u+1,r>=_?_=r:w=!0,k(i,t[r],n,null,o,s,a,l,c),y++)}const C=w?function(e){const t=e.slice(),n=[0];let i,r,o,s,a;const l=e.length;for(i=0;i<l;i++){const l=e[i];if(0!==l){if(r=n[n.length-1],e[r]<l){t[i]=r,n.push(i);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<l?o=a+1:s=a;l<e[n[o]]&&(o>0&&(t[i]=n[o-1]),n[o]=i)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}(x):r.Z6;for(v=C.length-1,u=b-1;u>=0;u--){const e=m+u,r=t[e],d=e+1<h?t[e+1].el:i;0===x[u]?k(null,r,n,d,o,s,a,l,c):w&&(v<0||u!==C[v]?te(r,n,d,2):v--)}}},te=(e,t,n,i,r=null)=>{const{el:o,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)te(e.component.subTree,t,n,i);else if(128&u)e.suspense.move(t,n,i);else if(64&u)a.move(e,t,n,ce);else if(a!==Tt)if(a!==Et)if(2!==i&&1&u&&l)if(0===i)l.beforeEnter(o),s(o,t,n),kt((()=>l.enter(o)),r);else{const{leave:e,delayLeave:i,afterLeave:r}=l,a=()=>s(o,t,n),c=()=>{e(o,(()=>{a(),r&&r()}))};i?i(o,a,c):c()}else s(o,t,n);else(({el:e,anchor:t},n,i)=>{let r;for(;e&&e!==t;)r=y(e),s(e,n,i),e=r;s(t,n,i)})(e,t,n);else{s(o,t,n);for(let e=0;e<c.length;e++)te(c[e],t,n,i);s(e.anchor,t,n)}},ne=(e,t,n,i=!1,r=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=e;if(null!=a&&xt(a,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const p=1&u&&d,f=!ge(e);let m;if(f&&(m=s&&s.onVnodeBeforeUnmount)&&en(m,t,e),6&u)oe(e.component,n,i);else{if(128&u)return void e.suspense.unmount(n,i);p&&Fe(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,r,ce,i):c&&(o!==Tt||h>0&&64&h)?se(c,t,n,!1,!0):(o===Tt&&384&h||!r&&16&u)&&se(l,t,n),i&&ie(e)}(f&&(m=s&&s.onVnodeUnmounted)||p)&&kt((()=>{m&&en(m,t,e),p&&Fe(e,null,t,"unmounted")}),n)},ie=e=>{const{type:t,el:n,anchor:i,transition:r}=e;if(t===Tt)return void re(n,i);if(t===Et)return void L(e);const o=()=>{l(n),r&&!r.persisted&&r.afterLeave&&r.afterLeave()};if(1&e.shapeFlag&&r&&!r.persisted){const{leave:t,delayLeave:i}=r,s=()=>t(n,o);i?i(e.el,o,s):s()}else o()},re=(e,t)=>{let n;for(;e!==t;)n=y(e),l(e),e=n;l(t)},oe=(e,t,n)=>{const{bum:i,scope:o,update:s,subTree:a,um:l}=e;i&&(0,r.ir)(i),o.stop(),s&&(s.active=!1,ne(a,e,t,n)),l&&kt(l,t),kt((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),__VUE_PROD_DEVTOOLS__&&I(e)},se=(e,t,n,i=!1,r=!1,o=0)=>{for(let s=o;s<e.length;s++)ne(e[s],t,n,i,r)},ae=e=>6&e.shapeFlag?ae(e.component.subTree):128&e.shapeFlag?e.suspense.next():y(e.anchor||e.el),le=(e,t,n)=>{null==e?t._vnode&&ne(t._vnode,null,null,!0):k(t._vnode||null,e,t,null,null,null,n),A(),t._vnode=e},ce={p:k,um:ne,m:te,r:ie,mt:H,mc:F,pc:J,pbc:V,n:ae,o:e};let ue,he;return t&&([ue,he]=t(ce)),{render:le,hydrate:ue,createApp:_t(le,ue)}}(e)}function St({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function At(e,t,n=!1){const i=e.children,o=t.children;if((0,r.kJ)(i)&&(0,r.kJ)(o))for(let e=0;e<i.length;e++){const t=i[e];let r=o[e];1&r.shapeFlag&&!r.dynamicChildren&&((r.patchFlag<=0||32===r.patchFlag)&&(r=o[e]=Qt(o[e]),r.el=t.el),n||At(t,r))}}const Tt=Symbol(void 0),Ot=Symbol(void 0),Lt=Symbol(void 0),Et=Symbol(void 0),Dt=[];let Pt=null;function Mt(e=!1){Dt.push(Pt=e?null:[])}let $t=1;function Rt(e){$t+=e}function It(e){return e.dynamicChildren=$t>0?Pt||r.Z6:null,Dt.pop(),Pt=Dt[Dt.length-1]||null,$t>0&&Pt&&Pt.push(e),e}function Ft(e,t,n,i,r,o){return It(Wt(e,t,n,i,r,o,!0))}function jt(e,t,n,i,r){return It(Ut(e,t,n,i,r,!0))}function Nt(e){return!!e&&!0===e.__v_isVNode}function zt(e,t){return e.type===t.type&&e.key===t.key}const qt="__vInternal",Vt=({key:e})=>null!=e?e:null,Bt=({ref:e,ref_key:t,ref_for:n})=>null!=e?(0,r.HD)(e)||(0,i.dq)(e)||(0,r.mf)(e)?{i:q,r:e,k:t,f:!!n}:e:null;function Wt(e,t=null,n=null,i=0,o=null,s=(e===Tt?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Vt(t),ref:t&&Bt(t),scopeId:V,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:o,dynamicChildren:null,appContext:null};return l?(Jt(c,n),128&s&&e.normalize(c)):n&&(c.shapeFlag|=(0,r.HD)(n)?8:16),$t>0&&!a&&Pt&&(c.patchFlag>0||6&s)&&32!==c.patchFlag&&Pt.push(c),c}const Ut=function(e,t=null,n=null,o=0,s=null,a=!1){if(e&&e!==ze||(e=Lt),Nt(e)){const i=Ht(e,t,!0);return n&&Jt(i,n),$t>0&&!a&&Pt&&(6&i.shapeFlag?Pt[Pt.indexOf(e)]=i:Pt.push(i)),i.patchFlag|=-2,i}if(l=e,(0,r.mf)(l)&&"__vccOpts"in l&&(e=e.__vccOpts),t){t=function(e){return e?(0,i.X3)(e)||qt in e?(0,r.l7)({},e):e:null}(t);let{class:e,style:n}=t;e&&!(0,r.HD)(e)&&(t.class=(0,r.C_)(e)),(0,r.Kn)(n)&&((0,i.X3)(n)&&!(0,r.kJ)(n)&&(n=(0,r.l7)({},n)),t.style=(0,r.j5)(n))}var l;return Wt(e,t,n,o,s,(0,r.HD)(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:(0,r.Kn)(e)?4:(0,r.mf)(e)?2:0,a,!0)};function Ht(e,t,n=!1){const{props:i,ref:o,patchFlag:s,children:a}=e,l=t?Xt(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Vt(l),ref:t&&t.ref?n&&o?(0,r.kJ)(o)?o.concat(Bt(t)):[o,Bt(t)]:Bt(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Tt?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ht(e.ssContent),ssFallback:e.ssFallback&&Ht(e.ssFallback),el:e.el,anchor:e.anchor}}function Zt(e=" ",t=0){return Ut(Ot,null,e,t)}function Kt(e,t){const n=Ut(Et,null,e);return n.staticCount=t,n}function Gt(e="",t=!1){return t?(Mt(),jt(Lt,null,e)):Ut(Lt,null,e)}function Yt(e){return null==e||"boolean"==typeof e?Ut(Lt):(0,r.kJ)(e)?Ut(Tt,null,e.slice()):"object"==typeof e?Qt(e):Ut(Ot,null,String(e))}function Qt(e){return null===e.el||e.memo?e:Ht(e)}function Jt(e,t){let n=0;const{shapeFlag:i}=e;if(null==t)t=null;else if((0,r.kJ)(t))n=16;else if("object"==typeof t){if(65&i){const n=t.default;return void(n&&(n._c&&(n._d=!1),Jt(e,n()),n._c&&(n._d=!0)))}{n=32;const i=t._;i||qt in t?3===i&&q&&(1===q.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=q}}else(0,r.mf)(t)?(t={default:t,_ctx:q},n=32):(t=String(t),64&i?(n=16,t=[Zt(t)]):n=8);e.children=t,e.shapeFlag|=n}function Xt(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const e in i)if("class"===e)t.class!==i.class&&(t.class=(0,r.C_)([t.class,i.class]));else if("style"===e)t.style=(0,r.j5)([t.style,i.style]);else if((0,r.F7)(e)){const n=t[e],o=i[e];!o||n===o||(0,r.kJ)(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=i[e])}return t}function en(e,t,n,i=null){s(e,t,7,[n,i])}const tn=bt();let nn=0;let rn=null;const on=()=>rn||q,sn=e=>{rn=e,e.scope.on()},an=()=>{rn&&rn.scope.off(),rn=null};function ln(e){return 4&e.vnode.shapeFlag}let cn=!1;function un(e,t,n){(0,r.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,r.Kn)(t)&&(__VUE_PROD_DEVTOOLS__&&(e.devtoolsRawSetupState=t),e.setupState=(0,i.WL)(t)),hn(e,n)}function hn(e,t,n){const o=e.type;e.render||(e.render=o.render||r.dG),__VUE_OPTIONS_API__&&(sn(e),(0,i.Jd)(),function(e){const t=et(e),n=e.proxy,o=e.ctx;Qe=!1,t.beforeCreate&&Je(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:l,watch:c,provide:u,inject:h,created:d,beforeMount:p,mounted:f,beforeUpdate:m,updated:g,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:w,destroyed:_,unmounted:x,render:k,renderTracked:C,renderTriggered:S,errorCaptured:A,serverPrefetch:T,expose:O,inheritAttrs:L,components:E,directives:D,filters:P}=t;if(h&&function(e,t,n=r.dG,o=!1){(0,r.kJ)(e)&&(e=rt(e));for(const n in e){const s=e[n];let a;a=(0,r.Kn)(s)?"default"in s?J(s.from||n,s.default,!0):J(s.from||n):J(s),(0,i.dq)(a)&&o?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[n]=a}}(h,o,null,e.appContext.config.unwrapInjectedRef),l)for(const e in l){const t=l[e];(0,r.mf)(t)&&(o[e]=t.bind(n))}if(s){const t=s.call(n,n);(0,r.Kn)(t)&&(e.data=(0,i.qj)(t))}if(Qe=!0,a)for(const e in a){const t=a[e],i=(0,r.mf)(t)?t.bind(n,n):(0,r.mf)(t.get)?t.get.bind(n,n):r.dG,s=!(0,r.mf)(t)&&(0,r.mf)(t.set)?t.set.bind(n):r.dG,l=pn({get:i,set:s});Object.defineProperty(o,e,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const e in c)Xe(c[e],o,n,e);if(u){const e=(0,r.mf)(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{Q(t,e[t])}))}function M(e,t){(0,r.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&Je(d,e,"c"),M(Ae,p),M(Te,f),M(Oe,m),M(Le,g),M(we,v),M(_e,y),M(Re,A),M($e,C),M(Me,S),M(Ee,w),M(De,x),M(Pe,T),(0,r.kJ)(O))if(O.length){const t=e.exposed||(e.exposed={});O.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});k&&e.render===r.dG&&(e.render=k),null!=L&&(e.inheritAttrs=L),E&&(e.components=E),D&&(e.directives=D)}(e),(0,i.lk)(),an())}function dn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,i.WL)((0,i.Xl)(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Ge?Ge[n](e):void 0}))}const pn=(e,t)=>(0,i.Fl)(e,t,cn);function fn(e,t,n){const i=arguments.length;return 2===i?(0,r.Kn)(t)&&!(0,r.kJ)(t)?Nt(t)?Ut(e,null,[t]):Ut(e,t):Ut(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):3===i&&Nt(n)&&(n=[n]),Ut(e,t,n))}Symbol("");const mn="3.2.36"},9963:(e,t,n)=>{"use strict";n.d(t,{D2:()=>H,F8:()=>Z,e8:()=>N,iM:()=>W,nr:()=>j,ri:()=>Q,uT:()=>k});var i=n(3577),r=n(6252);n(2262);const o="undefined"!=typeof document?document:null,s=o&&o.createElement("template"),a={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const r=t?o.createElementNS("http://www.w3.org/2000/svg",e):o.createElement(e,n?{is:n}:void 0);return"select"===e&&i&&null!=i.multiple&&r.setAttribute("multiple",i.multiple),r},createText:e=>o.createTextNode(e),createComment:e=>o.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>o.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,i,r,o){const a=n?n.previousSibling:t.lastChild;if(r&&(r===o||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),r!==o&&(r=r.nextSibling););else{s.innerHTML=i?`<svg>${e}</svg>`:e;const r=s.content;if(i){const e=r.firstChild;for(;e.firstChild;)r.appendChild(e.firstChild);r.removeChild(e)}t.insertBefore(r,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},l=/\s*!important$/;function c(e,t,n){if((0,i.kJ)(n))n.forEach((n=>c(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=h[t];if(n)return n;let r=(0,i._A)(t);if("filter"!==r&&r in e)return h[t]=r;r=(0,i.kC)(r);for(let n=0;n<u.length;n++){const i=u[n]+r;if(i in e)return h[t]=i}return t}(e,t);l.test(n)?e.setProperty((0,i.rs)(r),n.replace(l,""),"important"):e[r]=n}}const u=["Webkit","Moz","ms"],h={},d="http://www.w3.org/1999/xlink",[p,f]=(()=>{let e=Date.now,t=!1;if("undefined"!=typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let m=0;const g=Promise.resolve(),v=()=>{m=0};function y(e,t,n,i){e.addEventListener(t,n,i)}const b=/(?:Once|Passive|Capture)$/,w=/^on[a-z]/;"undefined"!=typeof HTMLElement&&HTMLElement;const _="transition",x="animation",k=(e,{slots:t})=>(0,r.h)(r.P$,function(e){const t={};for(const n in e)n in C||(t[n]=e[n]);if(!1===e.css)return t;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:u=a,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,m=function(e){if(null==e)return null;if((0,i.Kn)(e))return[T(e.enter),T(e.leave)];{const t=T(e);return[t,t]}}(o),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:w,onLeave:_,onLeaveCancelled:x,onBeforeAppear:k=y,onAppear:D=b,onAppearCancelled:M=w}=t,$=(e,t,n)=>{L(e,t?h:l),L(e,t?u:a),n&&n()},R=(e,t)=>{e._isLeaving=!1,L(e,d),L(e,f),L(e,p),t&&t()},I=e=>(t,n)=>{const i=e?D:b,o=()=>$(t,e,n);S(i,[t,o]),E((()=>{L(t,e?c:s),O(t,e?h:l),A(i)||P(t,r,g,o)}))};return(0,i.l7)(t,{onBeforeEnter(e){S(y,[e]),O(e,s),O(e,a)},onBeforeAppear(e){S(k,[e]),O(e,c),O(e,u)},onEnter:I(!1),onAppear:I(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>R(e,t);O(e,d),document.body.offsetHeight,O(e,p),E((()=>{e._isLeaving&&(L(e,d),O(e,f),A(_)||P(e,r,v,n))})),S(_,[e,n])},onEnterCancelled(e){$(e,!1),S(w,[e])},onAppearCancelled(e){$(e,!0),S(M,[e])},onLeaveCancelled(e){R(e),S(x,[e])}})}(e),t);k.displayName="Transition";const C={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},S=(k.props=(0,i.l7)({},r.P$.props,C),(e,t=[])=>{(0,i.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)}),A=e=>!!e&&((0,i.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function T(e){return(0,i.He)(e)}function O(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function L(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function E(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let D=0;function P(e,t,n,i){const r=e._endId=++D,o=()=>{r===e._endId&&i()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=function(e,t){const n=window.getComputedStyle(e),i=e=>(n[e]||"").split(", "),r=i("transitionDelay"),o=i("transitionDuration"),s=M(r,o),a=i("animationDelay"),l=i("animationDuration"),c=M(a,l);let u=null,h=0,d=0;return t===_?s>0&&(u=_,h=s,d=o.length):t===x?c>0&&(u=x,h=c,d=l.length):(h=Math.max(s,c),u=h>0?s>c?_:x:null,d=u?u===_?o.length:l.length:0),{type:u,timeout:h,propCount:d,hasTransform:u===_&&/\b(transform|all)(,|$)/.test(n.transitionProperty)}}(e,t);if(!s)return i();const c=s+"end";let u=0;const h=()=>{e.removeEventListener(c,d),o()},d=t=>{t.target===e&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),a+1),e.addEventListener(c,d)}function M(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>$(t)+$(e[n]))))}function $(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}new WeakMap,new WeakMap;const R=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,i.kJ)(t)?e=>(0,i.ir)(t,e):t};function I(e){e.target.composing=!0}function F(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const j={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=R(o);const s=r||o.props&&"number"===o.props.type;y(e,t?"change":"input",(t=>{if(t.target.composing)return;let r=e.value;n&&(r=r.trim()),s&&(r=(0,i.He)(r)),e._assign(r)})),n&&y(e,"change",(()=>{e.value=e.value.trim()})),t||(y(e,"compositionstart",I),y(e,"compositionend",F),y(e,"change",F))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},s){if(e._assign=R(s),e.composing)return;if(document.activeElement===e&&"range"!==e.type){if(n)return;if(r&&e.value.trim()===t)return;if((o||"number"===e.type)&&(0,i.He)(e.value)===t)return}const a=null==t?"":t;e.value!==a&&(e.value=a)}},N={deep:!0,created(e,t,n){e._assign=R(n),y(e,"change",(()=>{const t=e._modelValue,n=function(e){return"_value"in e?e._value:e.value}(e),r=e.checked,o=e._assign;if((0,i.kJ)(t)){const e=(0,i.hq)(t,n),s=-1!==e;if(r&&!s)o(t.concat(n));else if(!r&&s){const n=[...t];n.splice(e,1),o(n)}}else if((0,i.DM)(t)){const e=new Set(t);r?e.add(n):e.delete(n),o(e)}else o(q(e,r))}))},mounted:z,beforeUpdate(e,t,n){e._assign=R(n),z(e,t,n)}};function z(e,{value:t,oldValue:n},r){e._modelValue=t,(0,i.kJ)(t)?e.checked=(0,i.hq)(t,r.props.value)>-1:(0,i.DM)(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=(0,i.WV)(t,q(e,!0)))}function q(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const V=["ctrl","shift","alt","meta"],B={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>V.some((n=>e[`${n}Key`]&&!t.includes(n)))},W=(e,t)=>(n,...i)=>{for(let e=0;e<t.length;e++){const i=B[t[e]];if(i&&i(n,t))return}return e(n,...i)},U={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},H=(e,t)=>n=>{if(!("key"in n))return;const r=(0,i.rs)(n.key);return t.some((e=>e===r||U[e]===r))?e(n):void 0},Z={beforeMount(e,{value:t},{transition:n}){e._vod="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):K(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),K(e,!0),i.enter(e)):i.leave(e,(()=>{K(e,!1)})):K(e,t))},beforeUnmount(e,{value:t}){K(e,t)}};function K(e,t){e.style.display=t?e._vod:"none"}const G=(0,i.l7)({patchProp:(e,t,n,o,s=!1,a,l,u,h)=>{"class"===t?function(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,o,s):"style"===t?function(e,t,n){const r=e.style,o=(0,i.HD)(n);if(n&&!o){for(const e in n)c(r,e,n[e]);if(t&&!(0,i.HD)(t))for(const e in t)null==n[e]&&c(r,e,"")}else{const i=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}(e,n,o):(0,i.F7)(t)?(0,i.tR)(t)||function(e,t,n,o,s=null){const a=e._vei||(e._vei={}),l=a[t];if(o&&l)l.value=o;else{const[n,c]=function(e){let t;if(b.test(e)){let n;for(t={};n=e.match(b);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[(0,i.rs)(e.slice(2)),t]}(t);if(o){const l=a[t]=function(e,t){const n=e=>{const o=e.timeStamp||p();(f||o>=n.attached-1)&&(0,r.$d)(function(e,t){if((0,i.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=m||(g.then(v),m=p()),n}(o,s);y(e,n,l,c)}else l&&(function(e,t,n,i){e.removeEventListener(t,n,i)}(e,n,l,c),a[t]=void 0)}}(e,t,0,o,l):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){return r?"innerHTML"===t||"textContent"===t||!!(t in e&&w.test(t)&&(0,i.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!w.test(t)||!(0,i.HD)(n))&&t in e))))}(e,t,o,s))?function(e,t,n,r,o,s,a){if("innerHTML"===t||"textContent"===t)return r&&a(r,o,s),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const i=null==n?"":n;return e.value===i&&"OPTION"!==e.tagName||(e.value=i),void(null==n&&e.removeAttribute(t))}let l=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=(0,i.yA)(n):null==n&&"string"===r?(n="",l=!0):"number"===r&&(n=0,l=!0)}try{e[t]=n}catch(e){}l&&e.removeAttribute(t)}(e,t,o,a,l,u,h):("true-value"===t?e._trueValue=o:"false-value"===t&&(e._falseValue=o),function(e,t,n,r,o){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(d,t.slice(6,t.length)):e.setAttributeNS(d,t,n);else{const r=(0,i.Pq)(t);null==n||r&&!(0,i.yA)(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}(e,t,o,s))}},a);let Y;const Q=(...e)=>{const t=(Y||(Y=(0,r.Us)(G))).createApp(...e),{mount:n}=t;return t.mount=e=>{const r=function(e){if((0,i.HD)(e))return document.querySelector(e);return e}(e);if(!r)return;const o=t._component;(0,i.mf)(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t}},3577:(e,t,n)=>{"use strict";function i(e,t){const n=Object.create(null),i=e.split(",");for(let e=0;e<i.length;e++)n[i[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,{C_:()=>h,DM:()=>L,E9:()=>ee,F7:()=>_,Gg:()=>q,HD:()=>P,He:()=>J,Kn:()=>$,NO:()=>b,Nj:()=>Q,Od:()=>C,PO:()=>N,Pq:()=>o,RI:()=>A,S0:()=>z,W7:()=>j,WV:()=>d,Z6:()=>v,_A:()=>W,_N:()=>O,aU:()=>G,dG:()=>y,e1:()=>r,fY:()=>i,hR:()=>K,hq:()=>p,ir:()=>Y,j5:()=>a,kC:()=>Z,kJ:()=>T,kT:()=>g,l7:()=>k,mf:()=>D,rs:()=>H,tI:()=>R,tR:()=>x,yA:()=>s,yk:()=>M,zw:()=>f});const r=i("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),o=i("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function s(e){return!!e||""===e}function a(e){if(T(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],r=P(i)?u(i):a(i);if(r)for(const e in r)t[e]=r[e]}return t}return P(e)||$(e)?e:void 0}const l=/;(?![^(]*\))/g,c=/:(.+)/;function u(e){const t={};return e.split(l).forEach((e=>{if(e){const n=e.split(c);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function h(e){let t="";if(P(e))t=e;else if(T(e))for(let n=0;n<e.length;n++){const i=h(e[n]);i&&(t+=i+" ")}else if($(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function d(e,t){if(e===t)return!0;let n=E(e),i=E(t);if(n||i)return!(!n||!i)&&e.getTime()===t.getTime();if(n=M(e),i=M(t),n||i)return e===t;if(n=T(e),i=T(t),n||i)return!(!n||!i)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=d(e[i],t[i]);return n}(e,t);if(n=$(e),i=$(t),n||i){if(!n||!i)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const i=e.hasOwnProperty(n),r=t.hasOwnProperty(n);if(i&&!r||!i&&r||!d(e[n],t[n]))return!1}}return String(e)===String(t)}function p(e,t){return e.findIndex((e=>d(e,t)))}const f=e=>P(e)?e:null==e?"":T(e)||$(e)&&(e.toString===I||!D(e.toString))?JSON.stringify(e,m,2):String(e),m=(e,t)=>t&&t.__v_isRef?m(e,t.value):O(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:L(t)?{[`Set(${t.size})`]:[...t.values()]}:!$(t)||T(t)||N(t)?t:String(t),g={},v=[],y=()=>{},b=()=>!1,w=/^on[^a-z]/,_=e=>w.test(e),x=e=>e.startsWith("onUpdate:"),k=Object.assign,C=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},S=Object.prototype.hasOwnProperty,A=(e,t)=>S.call(e,t),T=Array.isArray,O=e=>"[object Map]"===F(e),L=e=>"[object Set]"===F(e),E=e=>"[object Date]"===F(e),D=e=>"function"==typeof e,P=e=>"string"==typeof e,M=e=>"symbol"==typeof e,$=e=>null!==e&&"object"==typeof e,R=e=>$(e)&&D(e.then)&&D(e.catch),I=Object.prototype.toString,F=e=>I.call(e),j=e=>F(e).slice(8,-1),N=e=>"[object Object]"===F(e),z=e=>P(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,q=i(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),V=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},B=/-(\w)/g,W=V((e=>e.replace(B,((e,t)=>t?t.toUpperCase():"")))),U=/\B([A-Z])/g,H=V((e=>e.replace(U,"-$1").toLowerCase())),Z=V((e=>e.charAt(0).toUpperCase()+e.slice(1))),K=V((e=>e?`on${Z(e)}`:"")),G=(e,t)=>!Object.is(e,t),Y=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Q=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},J=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let X;const ee=()=>X||(X="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n.g?n.g:{})},3239:(e,t,n)=>{e=n.nmd(e),function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function(e,n,i){"string"==typeof e?(2==arguments.length&&(i=n),t.modules[e]||(t.payloads[e]=i,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n,i=function(e,t,n){if("string"==typeof t){var i=s(e,t);if(null!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(t)){for(var o=[],a=0,l=t.length;a<l;++a){var c=s(e,t[a]);if(null==c&&r.original)return;o.push(c)}return n&&n.apply(null,o)||!0}},r=function(e,t){var n=i("",e,t);return null==n&&r.original?r.original.apply(this,arguments):n},o=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return o(e,n[0])+"!"+o(e,n[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},s=function(e,n){n=o(e,n);var r=t.modules[n];if(!r){if("function"==typeof(r=t.payloads[n])){var s={},a={id:n,uri:"",exports:s,packaged:!0};s=r((function(e,t){return i(n,e,t)}),s,a)||a.exports,t.modules[n]=s,delete t.payloads[n]}r=t.modules[n]=s||r}return r};n=e,"ace"&&(e.ace||(e.ace={}),n=e.ace),n.define&&n.define.packaged||(t.original=n.define,n.define=t,n.define.packaged=!0),n.require&&n.require.packaged||(r.original=n.require,n.require=r,n.require.packaged=!0)}(),ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],(function(e,t,n){"use strict";"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var i="object"==typeof navigator?navigator:{},r=(/mac|win|linux/i.exec(i.platform)||["other"])[0].toLowerCase(),o=i.userAgent||"",s=i.appName||"";t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==s||s.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=o.indexOf("AdobeAIR")>=0,t.isAndroid=o.indexOf("Android")>=0,t.isChromeOS=o.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var i,r=e("./useragent");t.buildDom=function e(t,n,i){if("string"==typeof t&&t){var r=document.createTextNode(t);return n&&n.appendChild(r),r}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],s=0;s<t.length;s++){var a=e(t[s],n,i);a&&o.push(a)}return o}var l=document.createElement(t[0]),c=t[1],u=1;for(c&&"object"==typeof c&&!Array.isArray(c)&&(u=2),s=u;s<t.length;s++)e(t[s],l,i);return 2==u&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?i&&(i[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(n=(t=t||document).querySelectorAll("style"))for(;i<n.length;)if(n[i++].id===e)return!0};var o=[];function s(){var e=o;o=null,e&&e.forEach((function(e){a(e[0],e[1])}))}function a(e,n,r){if("undefined"!=typeof document){if(o)if(r)s();else if(!1===r)return o.push([e,n]);if(!i){var a=r;r&&r.getRootNode&&(a=r.getRootNode())&&a!=r||(a=document);var l=a.ownerDocument||a;if(n&&t.hasCssString(n,a))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var c=t.createElement("style");c.appendChild(l.createTextNode(e)),n&&(c.id=n),a==l&&(a=t.getDocumentHead(l)),a.insertBefore(c,a.firstChild)}}}if(t.useStrictCSP=function(e){i=e,0==e?s():o||(o=[])},t.importCssString=a,t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var o=e.documentElement;o.appendChild(i);var s=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=i.clientWidth),o.removeChild(i),s-a},t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!r.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,r.isChromeOS&&(t.HI_DPI=!1),"undefined"!=typeof document){var l=document.createElement("div");t.HI_DPI&&void 0!==l.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),r.isEdge||void 0===l.style.animationName||(t.HAS_CSS_ANIMATION=!0),l=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./oop"),r=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r),t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i,r=e("./keys"),o=e("./useragent"),s=null,a=0;function l(){return null==i&&function(){i=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){i={passive:!1}}})}catch(e){}}(),i}function c(e,t,n){this.elem=e,this.type=t,this.callback=n}c.prototype.destroy=function(){h(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var u=t.addListener=function(e,t,n,i){e.addEventListener(t,n,l()),i&&i.$toDestroy.push(new c(e,t,n))},h=t.removeListener=function(e,t,n){e.removeEventListener(t,n,l())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){var i=e&&e.ownerDocument||document;function r(e){t&&t(e),n&&n(e),h(i,"mousemove",t),h(i,"mouseup",r),h(i,"dragstart",r)}return u(i,"mousemove",t),u(i,"mouseup",r),u(i,"dragstart",r),r},t.addMouseWheelListener=function(e,t,n){u(e,"wheel",(function(e){var n=e.deltaX||0,i=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*n,e.wheelY=.15*i;break;case e.DOM_DELTA_LINE:e.wheelX=15*n,e.wheelY=15*i;break;case e.DOM_DELTA_PAGE:e.wheelX=150*n,e.wheelY=150*i}t(e)}),n)},t.addMultiMouseDownListener=function(e,n,i,r,s){var a,l,c,h=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};function p(e){if(0!==t.getButton(e)?h=0:e.detail>1?++h>4&&(h=1):h=1,o.isIE){var s=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;c&&!s||(h=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[h-1]||600),1==h&&(a=e.clientX,l=e.clientY)}if(e._clicks=h,i[r]("mousedown",e),h>4)h=0;else if(h>1)return i[r](d[h],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){u(e,"mousedown",p,s)}))};var d=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function p(e,t,n){var i=d(t);if(!o.isMac&&s){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(i|=8),s.altGr){if(3==(3&i))return;s.altGr=0}if(18===n||17===n){var l="location"in t?t.location:t.keyLocation;17===n&&1===l?1==s[n]&&(a=t.timeStamp):18===n&&3===i&&2===l&&t.timeStamp-a<50&&(s.altGr=!0)}}if(n in r.MODIFIER_KEYS&&(n=-1),i||13!==n||3!==(l="location"in t?t.location:t.keyLocation)||(e(t,i,-n),!t.defaultPrevented)){if(o.isChromeOS&&8&i){if(e(t,i,n),t.defaultPrevented)return;i&=-9}return!!(i||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS)&&e(t,i,n)}}function f(){s=Object.create(null)}if(t.getModifierString=function(e){return r.KEY_MODS[d(e)]},t.addCommandKeyListener=function(e,n,i){if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var r=null;u(e,"keydown",(function(e){r=e.keyCode}),i),u(e,"keypress",(function(e){return p(n,e,r)}),i)}else{var a=null;u(e,"keydown",(function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=p(n,e,e.keyCode);return a=e.defaultPrevented,t}),i),u(e,"keypress",(function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),i),u(e,"keyup",(function(e){s[e.keyCode]=null}),i),s||(f(),u(window,"focus",f))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var m=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+m++,r=function(o){o.data==i&&(t.stopPropagation(o),h(n,"message",r),e())};u(n,"message",r),n.postMessage(i,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";var i=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(i.row,i.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(i.row,i.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)&&!this.isStart(e,t)},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else this.end.row<e&&(n={row:e,column:0});if(this.start.row>t)var r={row:t+1,column:0};else this.start.row<e&&(r={row:e,column:0});return i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var r={row:e,column:t};else var o={row:e,column:t};return i.fromPoints(r||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var i in n={},t)n[i]=e(t[i]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},r=function(e){null==n&&(n=setTimeout(i,e||t))};return r.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},r.schedule=r,r.call=function(){this.cancel(),e()},r.cancel=function(){n&&clearTimeout(n),n=null},r.isPending=function(){return n},r}})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var i;n.exports={lineMode:!1,pasteCancelled:function(){return!!(i&&i>Date.now()-50)||(i=!1)},cancel:function(){i=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),o=e("../lib/dom"),s=e("../lib/lang"),a=e("../clipboard"),l=r.isChrome<18,c=r.isIE,u=r.isChrome>63,h=400,d=e("../lib/keys"),p=d.KEY_MODS,f=r.isIOS,m=f?/\s/:/\n/,g=r.isMobile;t.TextInput=function(e,t){var n=o.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",e.insertBefore(n,e.firstChild);var v=!1,y=!1,b=!1,w=!1,_="";g||(n.style.fontSize="1px");var x=!1,k=!1,C="",S=0,A=0,T=0;try{var O=document.activeElement===n}catch(e){}i.addListener(n,"blur",(function(e){k||(t.onBlur(e),O=!1)}),t),i.addListener(n,"focus",(function(e){if(!k){if(O=!0,r.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),r.isEdge?setTimeout(L):L()}}),t),this.$focusScroll=!1,this.focus=function(){if(_||u||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var t=0!=n.getBoundingClientRect().top}catch(e){return}var i=[];if(t)for(var r=n.parentElement;r&&1==r.nodeType;)i.push(r),r.setAttribute("ace_nocontext",!0),r=!r.parentElement&&r.getRootNode?r.getRootNode().host:r.parentElement;n.focus({preventScroll:!0}),t&&i.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return O},t.on("beforeEndOperation",(function(){var e=t.curOp,i=e&&e.command&&e.command.name;if("insertstring"!=i){var r=i&&(e.docChanged||e.selectionChanged);b&&r&&(C=n.value="",z()),L()}}));var L=f?function(e){if(O&&(!v||e)&&!w){e||(e="");var i="\n ab"+e+"cde fg\n";i!=n.value&&(n.value=C=i);var r=4+(e.length||(t.selection.isEmpty()?0:1));4==S&&A==r||n.setSelectionRange(4,r),S=4,A=r}}:function(){if(!b&&!w&&(O||D)){b=!0;var e=0,i=0,r="";if(t.session){var o=t.selection,s=o.getRange(),a=o.cursor.row;if(e=s.start.column,i=s.end.column,r=t.session.getLine(a),s.start.row!=a){var l=t.session.getLine(a-1);e=s.start.row<a-1?0:e,i+=l.length+1,r=l+"\n"+r}else if(s.end.row!=a){var c=t.session.getLine(a+1);i=s.end.row>a+1?c.length:i,i+=r.length+1,r=r+"\n"+c}else g&&a>0&&(r="\n"+r,i+=1,e+=1);r.length>h&&(e<h&&i<h?r=r.slice(0,h):(r="\n",e==i?e=i=0:(e=0,i=1)))}var u=r+"\n\n";if(u!=C&&(n.value=C=u,S=A=u.length),D&&(S=n.selectionStart,A=n.selectionEnd),A!=i||S!=e||n.selectionEnd!=A)try{n.setSelectionRange(e,i),S=e,A=i}catch(e){}b=!1}};this.resetSelection=L,O&&t.onFocus();var E=null;this.setInputHandler=function(e){E=e},this.getInputHandler=function(){return E};var D=!1,P=function(e,i){if(D&&(D=!1),y)return L(),e&&t.onPaste(e),y=!1,"";for(var o=n.selectionStart,s=n.selectionEnd,a=S,l=C.length-A,c=e,u=e.length-o,h=e.length-s,d=0;a>0&&C[d]==e[d];)d++,a--;for(c=c.slice(d),d=1;l>0&&C.length-d>S-1&&C[C.length-d]==e[e.length-d];)d++,l--;u-=d-1,h-=d-1;var p=c.length-d+1;if(p<0&&(a=-p,p=0),c=c.slice(0,p),!(i||c||u||a||l||h))return"";w=!0;var f=!1;return r.isAndroid&&". "==c&&(c="  ",f=!0),c&&!a&&!l&&!u&&!h||x?t.onTextInput(c):t.onTextInput(c,{extendLeft:a,extendRight:l,restoreStart:u,restoreEnd:h}),w=!1,C=e,S=o,A=s,T=h,f?"\n":c},M=function(e){if(b)return N();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var i=n.value,r=P(i,!0);(i.length>500||m.test(r)||g&&S<1&&S==A)&&L()},$=function(e,t,n){var i=e.clipboardData||window.clipboardData;if(i&&!l){var r=c||n?"Text":"text/plain";try{return t?!1!==i.setData(r,t):i.getData(r)}catch(e){if(!n)return $(e,t,!0)}}},R=function(e,r){var o=t.getCopyText();if(!o)return i.preventDefault(e);$(e,o)?(f&&(L(o),v=o,setTimeout((function(){v=!1}),10)),r?t.onCut():t.onCopy(),i.preventDefault(e)):(v=!0,n.value=o,n.select(),setTimeout((function(){v=!1,L(),r?t.onCut():t.onCopy()})))},I=function(e){R(e,!0)},F=function(e){R(e,!1)},j=function(e){var o=$(e);a.pasteCancelled()||("string"==typeof o?(o&&t.onPaste(o,e),r.isIE&&setTimeout(L),i.preventDefault(e)):(n.value="",y=!0))};i.addCommandKeyListener(n,t.onCommandKey.bind(t),t),i.addListener(n,"select",(function(e){b||(v?v=!1:function(e){return 0===e.selectionStart&&e.selectionEnd>=C.length&&e.value===C&&C&&e.selectionEnd!==A}(n)?(t.selectAll(),L()):g&&n.selectionStart!=S&&L())}),t),i.addListener(n,"input",M,t),i.addListener(n,"cut",I,t),i.addListener(n,"copy",F,t),i.addListener(n,"paste",j,t),"oncut"in n&&"oncopy"in n&&"onpaste"in n||i.addListener(e,"keydown",(function(e){if((!r.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:F(e);break;case 86:j(e);break;case 88:I(e)}}),t);var N=function(){if(b&&t.onCompositionUpdate&&!t.$readOnly){if(x)return q();if(b.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;P(e),b.markerRange&&(b.context&&(b.markerRange.start.column=b.selectionStart=b.context.compositionStartOffset),b.markerRange.end.column=b.markerRange.start.column+A-b.selectionStart+T)}}},z=function(e){t.onCompositionEnd&&!t.$readOnly&&(b=!1,t.onCompositionEnd(),t.off("mousedown",q),e&&M())};function q(){k=!0,n.blur(),n.focus(),k=!1}var V,B=s.delayedCall(N,50).schedule.bind(null,null);function W(){clearTimeout(V),V=setTimeout((function(){_&&(n.style.cssText=_,_=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}i.addListener(n,"compositionstart",(function(e){if(!b&&t.onCompositionStart&&!t.$readOnly&&(b={},!x)){e.data&&(b.useTextareaForIME=!1),setTimeout(N,0),t._signal("compositionStart"),t.on("mousedown",q);var i=t.getSelectionRange();i.end.row=i.start.row,i.end.column=i.start.column,b.markerRange=i,b.selectionStart=S,t.onCompositionStart(b),b.useTextareaForIME?(C=n.value="",S=0,A=0):(n.msGetInputContext&&(b.context=n.msGetInputContext()),n.getInputContext&&(b.context=n.getInputContext()))}}),t),i.addListener(n,"compositionupdate",N,t),i.addListener(n,"keyup",(function(e){27==e.keyCode&&n.value.length<n.selectionStart&&(b||(C=n.value),S=A=-1,L()),B()}),t),i.addListener(n,"keydown",B,t),i.addListener(n,"compositionend",z,t),this.getElement=function(){return n},this.setCommandMode=function(e){x=e,n.readOnly=!1},this.setReadOnly=function(e){x||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){D=!0,L(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,s){_||(_=n.style.cssText),n.style.cssText=(s?"z-index:100000;":"")+(r.isIE?"opacity:0.1;":"")+"text-indent: -"+(S+A)*t.renderer.characterWidth*.5+"px;";var a=t.container.getBoundingClientRect(),l=o.computedStyle(t.container),c=a.top+(parseInt(l.borderTopWidth)||0),u=a.left+(parseInt(a.borderLeftWidth)||0),h=a.bottom-c-n.clientHeight-2,d=function(e){o.translate(n,e.clientX-u-2,Math.min(e.clientY-c-2,h))};d(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(V),r.isWin&&i.capture(t.container,d,W))},this.onContextMenuClose=W;var U=function(e){t.textInput.onContextMenu(e),W()};i.addListener(n,"mouseup",U,t),i.addListener(n,"mousedown",(function(e){e.preventDefault(),W()}),t),i.addListener(t.renderer.scroller,"contextmenu",U,t),i.addListener(n,"contextmenu",U,t),f&&function(e,t,n){var i=null,r=!1;n.addEventListener("keydown",(function(e){i&&clearTimeout(i),r=!0}),!0),n.addEventListener("keyup",(function(e){i=setTimeout((function(){r=!1}),100)}),!0);var o=function(e){if(document.activeElement===n&&!(r||b||t.$mouseHandler.isMousePressed||v)){var i=n.selectionStart,o=n.selectionEnd,s=null,a=0;if(0==i?s=d.up:1==i?s=d.home:o>A&&"\n"==C[o]?s=d.end:i<S&&" "==C[i-1]?(s=d.left,a=p.option):i<S||i==S&&A!=S&&i==o?s=d.left:o>A&&C.slice(0,o).split("\n").length>2?s=d.down:o>A&&" "==C[o-1]?(s=d.right,a=p.option):(o>A||o==A&&A!=S&&i==o)&&(s=d.right),i!==o&&(a|=p.shift),s){if(!t.onCommandKey({},a,s)&&t.commands){s=d.keyCodeToString(s);var l=t.commands.findKeyCommand(a,s);l&&t.execCommand(l)}S=i,A=o,L("")}}};document.addEventListener("selectionchange",o),t.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,t,n)},t.$setUserAgentForTests=function(e,t){g=e,f=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/useragent");function r(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,o=e.getButton();return 0!==o?((r.getSelectionRange().isEmpty()||1==o)&&r.selection.moveToPosition(n),void(2==o&&(r.textInput.onContextMenu(e.domEvent),i.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimeout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var r=o(this.$clickSelection,n);n=r.cursor,e=r.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),r=n.selection[e](i.row,i.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(r.start),a=this.$clickSelection.comparePoint(r.end);if(-1==s&&a<=0)t=this.$clickSelection.end,r.end.row==i.row&&r.end.column==i.column||(i=r.start);else if(1==a&&s>=0)t=this.$clickSelection.start,r.start.row==i.row&&r.start.column==i.column||(i=r.end);else if(-1==s&&1==a)i=r.end,t=r.start;else{var l=o(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,n,i,r=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,n=this.x,i=this.y,Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))),o=Date.now();(r>0||o-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=e.domEvent.timeStamp,r=i-n.t,o=r?e.wheelX/r:n.vx,s=r?e.wheelY/r:n.vy;r<550&&(o=(o+n.vx)/2,s=(s+n.vy)/2);var a=Math.abs(o/s),l=!1;return a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l?n.allowed=i:i-n.allowed<550&&(Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(s)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=i):n.allowed=0),n.t=i,n.vx=o,n.vy=s,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(r.prototype),t.DefaultHandlers=r})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){"use strict";e("./lib/oop");var i=e("./lib/dom");function r(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(r.prototype),t.Tooltip=r})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),o=e("../lib/event"),s=e("../tooltip").Tooltip;function a(e){s.call(this,e)}r.inherits(a,s),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();(e+=15)+r>n&&(e-=e+r-n),(t+=15)+o>i&&(t-=20+o),s.prototype.setPosition.call(this,e,t)}}.call(a.prototype),t.GutterHandler=function(e){var t,n,r,s=e.editor,l=s.renderer.$gutterLayer,c=new a(s.container);function u(){t&&(t=clearTimeout(t)),r&&(c.hide(),r=null,s._signal("hideGutterTooltip",c),s.off("mousewheel",u))}function h(e){c.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(s.isFocused()&&0==t.getButton()&&"foldWidgets"!=l.getRegion(t)){var n=t.getDocumentPosition().row,i=s.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(o){var a=o.domEvent.target||o.domEvent.srcElement;if(i.hasCssClass(a,"ace_fold-widget"))return u();r&&e.$tooltipFollowsMouse&&h(o),n=o,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?function(){var t=n.getDocumentPosition().row,i=l.$annotations[t];if(!i)return u();if(t==s.session.getLength()){var o=s.renderer.pixelToScreenCoordinates(0,n.y).row,a=n.$pos;if(o>s.session.documentToScreenRow(a.row,a.column))return u()}if(r!=i)if(r=i.text.join("<br/>"),c.setHtml(r),c.show(),s._signal("showGutterTooltip",c),s.on("mousewheel",u),e.$tooltipFollowsMouse)h(n);else{var d=n.domEvent.target.getBoundingClientRect(),p=c.getElement().style;p.left=d.right+"px",p.top=d.bottom+"px"}}():u()}),50))})),o.addListener(s.renderer.$gutter,"mouseout",(function(e){n=null,r&&!t&&(t=setTimeout((function(){t=null,u()}),50))}),s),s.on("changeSession",u)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/event"),o=e("../lib/useragent");function s(e){var t=e.editor,n=i.createElement("div");n.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",n.textContent="",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var s,l,c,u,h,d,p,f,m,g,v,y=t.container,b=0;function w(){var e=d;(function(e,n){var i=Date.now(),r=!n||e.row!=n.row,o=!n||e.column!=n.column;!g||r||o?(t.moveCursorToPosition(e),g=i,v={x:l,y:c}):a(v.x,v.y,l,c)>5?g=null:i-g>=200&&(t.renderer.scrollCursorIntoView(),g=null)})(d=t.renderer.screenToTextCoordinates(l,c),e),function(e,n){var i=Date.now(),r=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,s=t.renderer.scroller.getBoundingClientRect(),a={x:{left:l-s.left,right:s.right-l},y:{top:c-s.top,bottom:s.bottom-c}},u=Math.min(a.x.left,a.x.right),h=Math.min(a.y.top,a.y.bottom),d={row:e.row,column:e.column};u/o<=2&&(d.column+=a.x.left<a.x.right?-3:2),h/r<=1&&(d.row+=a.y.top<a.y.bottom?-1:1);var p=e.row!=d.row,f=e.column!=d.column,g=!n||e.row!=n.row;p||f&&!g?m?i-m>=200&&t.renderer.scrollCursorIntoView(d):m=i:m=null}(d,e)}function _(){h=t.selection.toOrientedRange(),s=t.session.addMarker(h,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(u),w(),u=setInterval(w,20),b=0,r.addListener(document,"mousemove",C)}function x(){clearInterval(u),t.session.removeMarker(s),s=null,t.selection.fromOrientedRange(h),t.isFocused()&&!f&&t.$resetCursorStyle(),h=null,d=null,b=0,m=null,g=null,r.removeListener(document,"mousemove",C)}this.onDragStart=function(e){if(this.cancelDrag||!y.draggable){var i=this;return setTimeout((function(){i.startSelect(),i.captureMouse(e)}),0),e.preventDefault()}h=t.getSelectionRange();var r=e.dataTransfer;r.effectAllowed=t.getReadOnly()?"copy":"copyMove",t.container.appendChild(n),r.setDragImage&&r.setDragImage(n,0,0),setTimeout((function(){t.container.removeChild(n)})),r.clearData(),r.setData("Text",t.session.getTextRange()),f=!0,this.setState("drag")},this.onDragEnd=function(e){if(y.draggable=!1,f=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;p||"move"!=n||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&S(e.dataTransfer))return l=e.clientX,c=e.clientY,s||_(),b++,e.dataTransfer.dropEffect=p=A(e),r.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&S(e.dataTransfer))return l=e.clientX,c=e.clientY,s||(_(),b++),null!==k&&(k=null),e.dataTransfer.dropEffect=p=A(e),r.preventDefault(e)},this.onDragLeave=function(e){if(--b<=0&&s)return x(),p=null,r.preventDefault(e)},this.onDrop=function(e){if(d){var n=e.dataTransfer;if(f)switch(p){case"move":h=h.contains(d.row,d.column)?{start:d,end:d}:t.moveText(h,d);break;case"copy":h=t.moveText(h,d,!0)}else{var i=n.getData("Text");h={start:d,end:t.session.insert(d,i)},t.focus(),p=null}return x(),r.preventDefault(e)}},r.addListener(y,"dragstart",this.onDragStart.bind(e),t),r.addListener(y,"dragend",this.onDragEnd.bind(e),t),r.addListener(y,"dragenter",this.onDragEnter.bind(e),t),r.addListener(y,"dragover",this.onDragOver.bind(e),t),r.addListener(y,"dragleave",this.onDragLeave.bind(e),t),r.addListener(y,"drop",this.onDrop.bind(e),t);var k=null;function C(){null==k&&(k=setTimeout((function(){null!=k&&s&&x()}),20))}function S(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function A(e){var t=["copy","copymove","all","uninitialized"],n=o.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return n&&t.indexOf(i)>=0?r="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?r="move":t.indexOf(i)>=0&&(r="copy"),r}}function a(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=o.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop(),"dragWait"===this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;"unselectable"in r&&(r.unselectable="on"),t.getDragDelay()?(o.isWebKit&&(this.cancelDrag=!0,t.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(s.prototype),t.DragdropHandler=s})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./mouse_event").MouseEvent,r=e("../lib/event"),o=e("../lib/dom");t.addTouchListeners=function(e,t){var n,s,a,l,c,u,h,d,p,f="scroll",m=0,g=0,v=0,y=0;function b(){var e,n,i;p||(e=window.navigator&&window.navigator.clipboard,n=!1,i=function(i){var r,s,a=i.target.getAttribute("action");if("more"==a||!n)return n=!n,r=t.getCopyText(),s=t.session.getUndoManager().hasUndo(),void p.replaceChild(o.buildDom(n?["span",!r&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],s&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),p.firstChild);"paste"==a?e.readText().then((function(e){t.execCommand(a,e)})):a&&("cut"!=a&&"copy"!=a||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(a)),p.firstChild.style.display="none",n=!1,"openCommandPallete"!=a&&t.focus()},p=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){f="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),i(e)},onclick:i},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container));var r=t.selection.cursor,s=t.renderer.textToScreenCoordinates(r.row,r.column),a=t.renderer.textToScreenCoordinates(0,0).pageX,l=t.renderer.scrollLeft,c=t.container.getBoundingClientRect();p.style.top=s.pageY-c.top-3+"px",s.pageX-c.left<c.width-70?(p.style.left="",p.style.right="10px"):(p.style.right="",p.style.left=a+l-c.left+"px"),p.style.display="",p.firstChild.style.display="none",t.on("input",w)}function w(e){p&&(p.style.display="none"),t.off("input",w)}function _(){c=null,clearTimeout(c);var e=t.selection.getRange(),n=e.contains(h.row,h.column);!e.isEmpty()&&n||(t.selection.moveToPosition(h),t.selection.selectWord()),f="wait",b()}r.addListener(e,"contextmenu",(function(e){d&&t.textInput.getElement().focus()}),t),r.addListener(e,"touchstart",(function(e){var r=e.touches;if(c||r.length>1)return clearTimeout(c),c=null,a=-1,void(f="zoom");d=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,u=t.renderer.layerConfig.lineHeight,p=e.timeStamp;l=p;var b=r[0],w=b.clientX,x=b.clientY;Math.abs(n-w)+Math.abs(s-x)>o&&(a=-1),n=e.clientX=w,s=e.clientY=x,v=y=0;var k=new i(e,t);if(h=k.getDocumentPosition(),p-a<500&&1==r.length&&!m)g++,e.preventDefault(),e.button=0,function(){c=null,clearTimeout(c),t.selection.moveToPosition(h);var e=g>=2?t.selection.getLineRange(h.row):t.session.getBracketRange(h);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),f="wait"}();else{g=0;var C=t.selection.cursor,S=t.selection.isEmpty()?C:t.selection.anchor,A=t.renderer.$cursorLayer.getPixelPosition(C,!0),T=t.renderer.$cursorLayer.getPixelPosition(S,!0),O=t.renderer.scroller.getBoundingClientRect(),L=t.renderer.layerConfig.offset,E=t.renderer.scrollLeft,D=function(e,t){return(e/=u)*e+(t=t/o-.75)*t};if(e.clientX<O.left)return void(f="zoom");var P=D(e.clientX-O.left-A.left+E,e.clientY-O.top-A.top+L),M=D(e.clientX-O.left-T.left+E,e.clientY-O.top-T.top+L);P<3.5&&M<3.5&&(f=P>M?"cursor":"anchor"),f=M<3.5?"anchor":P<3.5?"cursor":"scroll",c=setTimeout(_,450)}a=p}),t),r.addListener(e,"touchend",(function(e){d=t.$mouseHandler.isMousePressed=!1,u&&clearInterval(u),"zoom"==f?(f="",m=0):c?(t.selection.moveToPosition(h),m=0,b()):"scroll"==f?(m+=60,u=setInterval((function(){m--<=0&&(clearInterval(u),u=null),Math.abs(v)<.01&&(v=0),Math.abs(y)<.01&&(y=0),m<20&&(v*=.9),m<20&&(y*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*v,10*y),e==t.session.getScrollTop()&&(m=0)}),10),w()):b(),clearTimeout(c),c=null}),t),r.addListener(e,"touchmove",(function(e){c&&(clearTimeout(c),c=null);var r=e.touches;if(!(r.length>1||"zoom"==f)){var o=r[0],a=n-o.clientX,u=s-o.clientY;if("wait"==f){if(!(a*a+u*u>4))return e.preventDefault();f="cursor"}n=o.clientX,s=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var h=e.timeStamp,d=h-l;if(l=h,"scroll"==f){var p=new i(e,t);p.speed=1,p.wheelX=a,p.wheelY=u,10*Math.abs(a)<Math.abs(u)&&(a=0),10*Math.abs(u)<Math.abs(a)&&(u=0),0!=d&&(v=a/d,y=u/d),t._emit("mousewheel",p),p.propagationStopped||(v=y=0)}else{var m=new i(e,t).getDocumentPosition();"cursor"==f?t.selection.moveCursorToPosition(m):"anchor"==f&&t.selection.setSelectionAnchor(m.row,m.column),t.renderer.scrollCursorIntoView(m),e.preventDefault()}}}),t)}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=i.getDocumentHead(),r=document.createElement("script");r.src=e,n.appendChild(r),r.onload=r.onreadystatechange=function(e,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";var i={},r=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],i=this._defaultHandlers[e];if(n.length||i){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=r),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return i&&!t.defaultPrevented?i(t,this):void 0}},i._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},i.once=function(e,t){var n=this;if(this.on(e,(function i(){n.off(e,i),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},i.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],r=n._disabled_[e];r||(n._disabled_[e]=r=[]),r.push(i);var o=r.indexOf(t);-1!=o&&r.splice(o,1)}n[e]=t},i.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t)i&&this.setDefaultHandler(e,i.pop());else if(i){var r=i.indexOf(t);-1!=r&&i.splice(r,1)}}},i.on=i.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},i.off=i.removeListener=i.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=i})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var i=e("./oop"),r=e("./event_emitter").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return s('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:s('misspelled option "'+e+'"')}};function s(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var l=function(){this.$defaultOptions={}};(function(){i.implement(this,r),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)})),i.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=s,this.reportError=a}).call(l.prototype),t.AppConfig=l})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config"],(function(e,t,i){var r=e("./lib/lang"),o=(e("./lib/oop"),e("./lib/net")),s=e("./lib/dom"),a=e("./lib/app_config").AppConfig;i.exports=t=new a;var l=function(){return this||"undefined"!=typeof window&&window}(),c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!c.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return c[e]},t.set=function(e,t){if(c.hasOwnProperty(e))c[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&s.useStrictCSP(t)},t.all=function(){return r.copyObject(c)},t.$modes={},t.moduleUrl=function(e,t){if(c.$moduleUrls[e])return c.$moduleUrls[e];var n=e.split("/"),i="snippets"==(t=t||n[n.length-2]||"")?"/":"-",r=n[n.length-1];if("worker"==t&&"-"==i){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");r=r.replace(o,"")}(!r||r==t)&&n.length>1&&(r=n[n.length-2]);var s=c[t+"Path"];return null==s?s=c.basePath:"/"==i&&(t=i=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+i+r+this.get("suffix")},t.setModuleUrl=function(e,t){return c.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,i){var r,s;Array.isArray(n)&&(s=n[0],n=n[1]);try{r=e(n)}catch(e){}if(r&&!t.$loading[n])return i&&i(r);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var a=function(){e([n],(function(e){t._emit("load.module",{name:n,module:e});var i=t.$loading[n];t.$loading[n]=null,i.forEach((function(t){t&&t(e)}))}))};if(!t.get("packaged"))return a();o.loadScript(t.moduleUrl(n,s),a),u()}};var u=function(){c.basePath||c.workerPath||c.modePath||c.themePath||Object.keys(c.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),u=function(){})};function h(r){if(l&&l.document){c.packaged=r||e.packaged||i.packaged||l.define&&n.amdD.packaged;for(var o,s={},a="",u=document.currentScript||document._currentScript,h=(u&&u.ownerDocument||document).getElementsByTagName("script"),d=0;d<h.length;d++){var p=h[d],f=p.src||p.getAttribute("src");if(f){for(var m=p.attributes,g=0,v=m.length;g<v;g++){var y=m[g];0===y.name.indexOf("data-ace-")&&(s[(o=y.name.replace(/^data-ace-/,""),o.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=y.value)}var b=f.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(a=b[1])}}for(var w in a&&(s.base=s.base||a,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base,s)void 0!==s[w]&&t.set(w,s[w])}}h(!0),t.init=h,t.version="1.5.1"})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,u=e("../config"),h=function(e){var t=this;this.editor=e,new o(this),new s(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();i.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),i.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),i.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),i.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var u=e.renderer.$gutter;i.addListener(u,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),i.addListener(u,"click",this.onMouseEvent.bind(this,"gutterclick"),e),i.addListener(u,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),i.addListener(u,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),i.addListener(a,"mousedown",n,e),i.addListener(u,"mousedown",n,e),r.isIE&&e.renderer.scrollBarV&&(i.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),i.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),o=e.renderer;!r.isEmpty()&&r.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),e)};(function(){this.onMouseEvent=function(e,t){this.editor.session&&this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var s=this,l=function(e){if(e){if(r.isWebKit&&!e.which&&s.releaseMouse)return s.releaseMouse();s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new a(e,s.editor),s.$mouseMoved=!0}},c=function(e){n.off("beforeEndOperation",h),clearInterval(d),n.session&&u(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",s.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e),n.endOperation()},u=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(r.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var h=function(e){s.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(s[s.state+"End"]&&s[s.state+"End"](),s.state="",s.releaseMouse())};n.on("beforeEndOperation",h),n.startOperation({command:{name:"mouse"}}),s.$onCaptureMouseMove=l,s.releaseMouse=i.capture(this.editor.container,l,c);var d=setInterval(u,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(h.prototype),u.defineOptions(h.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:r.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=h})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),r=e.session,o=r.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?r.removeFold(o):r.expandFold(o),t.stop());var s=t.domEvent&&t.domEvent.target;s&&i.hasCssClass(s,"ace_inline_button")&&i.hasCssClass(s,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session,r=i.getParentFoldRangeData(n,!0),o=r.range||r.firstRange;if(o){n=o.start.row;var s=i.getFoldAt(n,i.getLine(n).length,1);s?i.removeFold(s):(i.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,i){for(var o,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,i))&&o.command&&((s="null"==o.command||a.exec(o.command,this.$editor,o.args,i))&&i&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&r.stopEvent(i),s)););return s||-1!=e||(o={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),s},this.onCommandKey=function(e,t,n){var r=i.keyCodeToString(n);return this.$callKeyboardHandlers(t,r,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){"use strict";var i=0,r=0,o=!1,s=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=11,h=18,d=[h,h,h,h,h,h,h,h,h,6,5,6,8,5,h,h,h,h,h,h,h,h,h,h,h,h,h,h,5,5,5,6,8,4,4,u,u,u,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,h,h,h,h,h,h,5,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,9,4,u,u,u,u,4,4,4,4,0,4,4,h,4,4,u,u,2,2,4,0,4,4,4,2,0,4,4,4,4,4],p=[8,8,8,8,8,8,8,8,8,8,8,h,h,h,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,u,u,u,u,u,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function f(e,t,n){if(!(r<e))if(1!=e||1!=i||s)for(var o,a,l,c,u=n.length,h=0;h<u;){if(t[h]>=e){for(o=h+1;o<u&&t[o]>=e;)o++;for(a=h,l=o-1;a<l;a++,l--)c=n[a],n[a]=n[l],n[l]=c;h=o}h++}else n.reverse()}function m(e,t,n,r){var l,c,d,p,f=t[r];switch(f){case 0:case 1:o=!1;case 4:case 3:return f;case 2:return o?3:2;case 7:return o=!0,1;case 8:return 4;case 9:return r<1||r+1>=t.length||2!=(l=n[r-1])&&3!=l||2!=(c=t[r+1])&&3!=c?4:(o&&(c=3),c==l?c:4);case 10:return 2==(l=r>0?n[r-1]:5)&&r+1<t.length&&2==t[r+1]?2:4;case u:if(r>0&&2==n[r-1])return 2;if(o)return 4;for(p=r+1,d=t.length;p<d&&t[p]==u;)p++;return p<d&&2==t[p]?2:4;case 12:for(d=t.length,p=r+1;p<d&&12==t[p];)p++;if(p<d){var m=e[r],g=m>=1425&&m<=2303||64286==m;if(l=t[p],g&&(1==l||7==l))return 1}return r<1||5==(l=t[r-1])?4:n[r-1];case 5:return o=!1,s=!0,i;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:o=!1;case h:return 4}}function g(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?0:d[t]:5==n?/[\u0591-\u05f4]/.test(e)?1:0:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?12:/[\u0660-\u0669\u066b-\u066c]/.test(e)?3:1642==t?u:/[\u06f0-\u06f9]/.test(e)?2:7:32==n&&t<=8287?p[255&t]:254==n&&t>=65136?7:4}t.L=0,t.R=1,t.EN=2,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="",t.doBidiReorder=function(e,n,u){if(e.length<2)return{};var d=e.split(""),p=new Array(d.length),v=new Array(d.length),y=[];i=u?1:0,function(e,t,n,u){var h=i?c:l,d=null,p=null,f=null,v=0,y=null,b=-1,w=null,_=null,x=[];if(!u)for(w=0,u=[];w<n;w++)u[w]=g(e[w]);for(r=i,o=!1,s=!1,a=!1,_=0;_<n;_++){if(d=v,x[_]=p=m(e,u,x,_),y=240&(v=h[d][p]),v&=15,t[_]=f=h[v][5],y>0)if(16==y){for(w=b;w<_;w++)t[w]=1;b=-1}else b=-1;if(h[v][6])-1==b&&(b=_);else if(b>-1){for(w=b;w<_;w++)t[w]=f;b=-1}5==u[_]&&(t[_]=0),r|=f}if(a)for(w=0;w<n;w++)if(6==u[w]){t[w]=i;for(var k=w-1;k>=0&&8==u[k];k--)t[k]=i}}(d,y,d.length,n);for(var b=0;b<p.length;p[b]=b,b++);for(f(2,y,p),f(1,y,p),b=0;b<p.length-1;b++)3===n[b]?y[b]=t.AN:1===y[b]&&(n[b]>7&&n[b]<13||4===n[b]||n[b]===h)?y[b]=t.ON_R:b>0&&""===d[b-1]&&/\u0622|\u0623|\u0625|\u0627/.test(d[b])&&(y[b-1]=y[b]=t.R_H,b++);for(d[d.length-1]===t.DOT&&(y[d.length-1]=t.B),""===d[0]&&(y[0]=t.RLE),b=0;b<p.length;b++)v[b]=y[p[b]];return{logicalFromVisual:p,bidiLevels:v}},t.hasBidiCharacters=function(e,t){for(var n=!1,i=0;i<e.length;i++)t[i]=g(e.charAt(i)),n||1!=t[i]&&7!=t[i]&&3!=t[i]||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("./lib/bidiutil"),r=e("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=i,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,i=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===i;)i=n,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(void 0===t&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t])),t==o.length&&(this.line+=this.showInvisibles?n:i.DOT)}else this.line+=this.showInvisibles?n:i.DOT;var s,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(s="\t"===e?a.getScreenTabSize(t+l):2,l+=s-1,r.stringRepeat(i.DOT,s)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];i.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=i.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=t,this.charWidths[i.R]=this.charWidths[i.AN]=n,this.charWidths[i.R_H]=.45*n,this.charWidths[i.B]=this.charWidths[i.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),i=e.selection.getSelectionAnchor().row;i<=n.row;i++)t||e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:i},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(i,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,r=i.getVisualFromLogicalIdx(n,this.bidiMap),o=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&e<=t&&o[r]%2!=0&&r++;for(var a=0;a<r;a++)s+=this.charWidths[o[a]];return!this.session.getOverwrite()&&e>t&&o[r]%2==0&&(s+=this.charWidths[o[r]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},this.getSelections=function(e,t){var n,i=this.bidiMap,r=i.bidiLevels,o=[],s=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,u=!1,h=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,p=0;p<r.length;p++)d=i.logicalFromVisual[p],n=r[p],(c=d>=a&&d<l)&&!u?h=s:!c&&u&&o.push({left:h,width:s-h}),s+=this.charWidths[n],u=c;if(c&&p===r.length&&o.push({left:h,width:s-h}),this.isRtlDir)for(var f=0;f<o.length;f++)o[f].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),i=0,r=this.bidiMap.bidiLevels,o=this.charWidths[r[i]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+o/2;){if(n+=o,i===r.length-1){o=0;break}o=this.charWidths[r[++i]]}return i>0&&r[i-1]%2!=0&&r[i]%2==0?(e<n&&i--,t=this.bidiMap.logicalFromVisual[i]):i>0&&r[i-1]%2==0&&r[i]%2!=0?t=1+(e>n?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===r.length-1&&0===o&&r[i-1]%2==0||!this.isRtlDir&&0===i&&r[i]%2!=0?t=1+this.bidiMap.logicalFromVisual[i]:(i>0&&r[i-1]%2!=0&&0!==o&&i--,t=this.bidiMap.logicalFromVisual[i]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(s.prototype),t.BidiHandler=s})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))};(function(){i.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,i=t?e.start:e.end;this.$setSelection(n.row,n.column,i.row,i.column)},this.$setSelection=function(e,t,n,i){if(!this.$silent){var r=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,i),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||o)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,r=this.session.getFoldLine(i);return r?(i=r.start.row,n=r.end.row):n=i,!0===t?new s(i,0,n,this.session.getLine(n).length):new s(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var i=e.column,r=e.column+t;return n<0&&(i=e.column-t,r=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(i,r).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead,this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);r[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=r[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,t,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var o=r.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&i.test(t);)n++;if(n<1)for(r.lastIndex=0;(t=e[n])&&!r.test(t);)if(r.lastIndex=0,n++,i.test(t)){if(n>2){n--;break}for(;(t=e[n])&&i.test(t);)n++;if(n>2)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,i=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var s=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var o=r.stringReverse(i),s=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];e<0?e-=r.rowsAbove||0:e>0&&(e+=r.rowCount-(r.rowsAbove||0))}var o=this.session.screenToDocumentPosition(i.row+e,i.column,n);0!==e&&0===t&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(r.charAt(t))&&r.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return s.fromPoints(t,n)}catch(e){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=s.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){"use strict";var i=e("./config"),r=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],i=[],r=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&-1===s.indexOf("i")&&(s+="i"),c.unicode&&-1===s.indexOf("u")&&(s+="u"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var u=c.regex,h=new RegExp("(?:("+u+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==h?c.token=c.token[0]:h-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:h-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=h>1?this.$applyToken:c.token),h>1&&(/\\\d/.test(c.regex)?u=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+r+1)})):(h=1,u=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[r]=l,r+=h,i.push(u),c.onMatch||(c.onMatch=null)}}i.length||(o[0]=0,i.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)}),this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",s)}};(function(){this.$setMaxTokenCount=function(e){r=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],r=0,o=n.length;r<o;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,o=i.length;r<o;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,r={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,s,a,l){return i?i="]"!=a:a?i=!0:s?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=l)),e})),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var i=t||"start",o=this.states[i];o||(i="start",o=this.states[i]);var s=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,c=[],u=0,h=0,d={type:null,value:""};l=a.exec(e);){var p=s.defaultToken,f=null,m=l[0],g=a.lastIndex;if(g-m.length>u){var v=e.substring(u,g-m.length);d.type==p?d.value+=v:(d.type&&c.push(d),d={type:p,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){p=(f=o[s[y]]).onMatch?f.onMatch(m,i,n,e):f.token,f.next&&(i="string"==typeof f.next?f.next:f.next(i,n),(o=this.states[i])||(this.reportError("state doesn't exist",i),i="start",o=this.states[i]),s=this.matchMappings[i],u=g,(a=this.regExps[i]).lastIndex=g),f.consumeLineEnd&&(u=g);break}if(m)if("string"==typeof p)f&&!1===f.merge||d.type!==p?(d.type&&c.push(d),d={type:p,value:m}):d.value+=m;else if(p)for(d.type&&c.push(d),d={type:null,value:""},y=0;y<p.length;y++)c.push(p[y]);if(u==e.length)break;if(u=g,h++>r){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});u<e.length;)d.type&&c.push(d),d={value:e.substring(u,u+=500),type:"overflow"};i="start",n=[];break}}return d.type&&c.push(d),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:c,state:n.length?n:i}},this.reportError=i.reportError}).call(o.prototype),t.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("../lib/lang"),r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;r<i.length;r++){var o=i[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,r,o){var s="function"==typeof e?(new e).getRules():e;if(r)for(var a=0;a<r.length;a++)r[a]=t+r[a];else for(var l in r=[],s)r.push(t+l);if(this.addRules(s,t),n){var c=Array.prototype[o?"push":"unshift"];for(a=0;a<r.length;a++)c.apply(this.$rules[r[a]],i.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,i=this.$rules;Object.keys(i).forEach((function r(o){var s=i[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var u=l.next||l.push;if(u&&Array.isArray(u)){var h=l.stateName;h||("string"!=typeof(h=l.token)&&(h=h[0]||""),i[h]&&(h+=n++)),i[h]=u,l.next=h,r(h)}else"pop"==u&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)i[d]?i[d].push&&i[d].push.apply(i[d],l.rules[d]):i[d]=l.rules[d];var p="string"==typeof l?l:l.include;if(p&&(c=Array.isArray(p)?p.map((function(e){return i[e]})):i[p]),c){var f=[a,1].concat(c);l.noEscape&&(f=f.filter((function(e){return!e.next}))),s.splice.apply(s,f),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(i||"|"),s=o.length;s--;){var a=o[s];this.$keywordList.push(a),n&&(a=a.toLowerCase()),r[a]=t}}),this),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(r.prototype),t.TextHighlightRules=r})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(i.prototype),t.Behaviour=i})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range,r=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new i(this.$row,t,this.$row,t+e.value.length)}}).call(r.prototype),t.TokenIterator=r})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var i,r=e("../../lib/oop"),o=e("../behaviour").Behaviour,s=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u={},h={'"':'"',"'":"'"},d=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return i=u[t];i=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},p=function(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}},f=function(e){this.add("braces","insertion",(function(t,n,r,o,s){var l=r.getCursorPosition(),c=o.doc.getLine(l.row);if("{"==s){d(r);var u=r.getSelectionRange(),h=o.doc.getTextRange(u);if(""!==h&&"{"!==h&&r.getWrapBehavioursEnabled())return p(u,h,"{","}");if(f.isSaneInsertion(r,o))return/[\]\}\)]/.test(c[l.column])||r.inMultiSelectMode||e&&e.braces?(f.recordAutoInsert(r,o,"}"),{text:"{}",selection:[1,1]}):(f.recordMaybeInsert(r,o,"{"),{text:"{",selection:[1,1]})}else if("}"==s){if(d(r),"}"==c.substring(l.column,l.column+1)&&null!==o.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&f.isAutoInsertedClosing(l,c,s))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==s||"\r\n"==s){d(r);var m="";if(f.isMaybeInsertedClosing(l,c)&&(m=a.stringRepeat("}",i.maybeInsertedBrackets),f.clearMaybeInsertedClosing()),"}"===c.substring(l.column,l.column+1)){var g=o.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!g)return null;var v=this.$getIndent(o.getLine(g.row))}else{if(!m)return void f.clearMaybeInsertedClosing();v=this.$getIndent(c)}var y=v+o.getTabString();return{text:"\n"+y+"\n"+v+m,selection:[1,y.length,1,y.length]}}f.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==s){if(d(n),"}"==r.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;i.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,i,r){if("("==r){d(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return p(o,s,"(",")");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==r){d(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1)&&null!==i.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,l,r))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"("==o&&(d(n),")"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("brackets","insertion",(function(e,t,n,i,r){if("["==r){d(n);var o=n.getSelectionRange(),s=i.doc.getTextRange(o);if(""!==s&&n.getWrapBehavioursEnabled())return p(o,s,"[","]");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==r){d(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1)&&null!==i.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,l,r))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&"["==o&&(d(n),"]"==i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)))return r.end.column++,r})),this.add("string_dquotes","insertion",(function(e,t,n,i,r){var o=i.$mode.$quotes||h;if(1==r.length&&o[r]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(r))return;d(n);var s=r,a=n.getSelectionRange(),l=i.doc.getTextRange(a);if(!(""===l||1==l.length&&o[l])&&n.getWrapBehavioursEnabled())return p(a,l,s,s);if(!l){var c=n.getCursorPosition(),u=i.doc.getLine(c.row),f=u.substring(c.column-1,c.column),m=u.substring(c.column,c.column+1),g=i.getTokenAt(c.row,c.column),v=i.getTokenAt(c.row,c.column+1);if("\\"==f&&g&&/escape/.test(g.type))return null;var y,b=g&&/string|escape/.test(g.type),w=!v||/string|escape/.test(v.type);if(m==s)(y=b!==w)&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!w)return null;if(b&&w)return null;var _=i.$mode.tokenRe;_.lastIndex=0;var x=_.test(f);_.lastIndex=0;var k=_.test(f);if(x||k)return null;if(m&&!/[\s;,.})\]\\]/.test(m))return null;var C=u[c.column-2];if(f==s&&(C==s||_.test(C)))return null;y=!0}return{text:y?s+s:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,r){var o=i.$mode.$quotes||h,s=i.doc.getTextRange(r);if(!r.isMultiLine()&&o.hasOwnProperty(s)&&(d(n),i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==s))return r.end.column++,r}))};f.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new s(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",l)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var r=new s(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",l))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",c)},f.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},f.recordAutoInsert=function(e,t,n){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isAutoInsertedClosing(r,o,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=r.row,i.autoInsertedLineEnd=n+o.substr(r.column),i.autoInsertedBrackets++},f.recordMaybeInsert=function(e,t,n){var r=e.getCursorPosition(),o=t.doc.getLine(r.row);this.isMaybeInsertedClosing(r,o)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=r.row,i.maybeInsertedLineStart=o.substr(0,r.column)+n,i.maybeInsertedLineEnd=o.substr(r.column),i.maybeInsertedBrackets++},f.isAutoInsertedClosing=function(e,t,n){return i.autoInsertedBrackets>0&&e.row===i.autoInsertedRow&&n===i.autoInsertedLineEnd[0]&&t.substr(e.column)===i.autoInsertedLineEnd},f.isMaybeInsertedClosing=function(e,t){return i.maybeInsertedBrackets>0&&e.row===i.maybeInsertedRow&&t.substr(e.column)===i.maybeInsertedLineEnd&&t.substr(0,e.column)==i.maybeInsertedLineStart},f.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},f.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},r.inherits(f,o),t.CstyleBehaviour=f})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";for(var i=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,o=[],s=0;s<i.length;s+=2)o.push(r+=i[s]),i[s+1]&&o.push(45,r+=i[s+1]);t.wordChars=String.fromCharCode.apply(null,o)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../config"),r=e("../tokenizer").Tokenizer,o=e("./text_highlight_rules").TextHighlightRules,s=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),l=e("../lib/lang"),c=e("../token_iterator").TokenIterator,u=e("../range").Range,h=function(){this.HighlightRules=o};(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new r(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){var r=t.doc,o=!0,s=!0,a=1/0,c=t.getTabSize(),u=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(m=this.lineCommentStart.map(l.escapeRegExp).join("|"),p=this.lineCommentStart[0]):(m=l.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart),m=new RegExp("^(\\s*)(?:"+m+") ?"),u=t.getUseSoftTabs(),y=function(e,t){var n=e.match(m);if(n){var i=n[1].length,o=n[0].length;d(e,i,o)||" "!=n[0][o-1]||o--,r.removeInLine(t,i,o)}};var h=p+" ",d=(v=function(e,t){o&&!/\S/.test(e)||(d(e,a,a)?r.insertInLine({row:t,column:a},h):r.insertInLine({row:t,column:a},p))},b=function(e,t){return m.test(e)},function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%c!=0)return!1;for(i=0;" "==e.charAt(n++);)i++;return c>2?i%c!=c-1:i%c==0})}else{if(!this.blockComment)return!1;var p=this.blockComment.start,f=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+l.escapeRegExp(p)+")"),g=new RegExp("(?:"+l.escapeRegExp(f)+")\\s*$"),v=function(e,t){b(e,t)||o&&!/\S/.test(e)||(r.insertInLine({row:t,column:e.length},f),r.insertInLine({row:t,column:a},p))},y=function(e,t){var n;(n=e.match(g))&&r.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(m))&&r.removeInLine(t,n[1].length,n[0].length)},b=function(e,n){if(m.test(e))return!0;for(var i=t.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}function w(e){for(var t=n;t<=i;t++)e(r.getLine(t),t)}var _=1/0;w((function(e,t){var n=e.search(/\S/);-1!==n?(n<a&&(a=n),s&&!b(e,t)&&(s=!1)):_>e.length&&(_=e.length)})),a==1/0&&(a=_,o=!1,s=!1),u&&a%c!=0&&(a=Math.floor(a/c)*c),w(s?y:v)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,s,a=(m=new c(t,i.row,i.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var h,d;a&&/comment/.test(a.type);){if(-1!=(g=a.value.indexOf(r.start))){var p=m.getCurrentTokenRow(),f=m.getCurrentTokenColumn()+g;h=new u(p,f,p,f+r.start.length);break}a=m.stepBackward()}var m;for(a=(m=new c(t,i.row,i.column)).getCurrentToken();a&&/comment/.test(a.type);){var g;if(-1!=(g=a.value.indexOf(r.end))){p=m.getCurrentTokenRow(),f=m.getCurrentTokenColumn()+g,d=new u(p,f,p,f+r.end.length);break}a=m.stepForward()}d&&t.remove(d),h&&(t.remove(h),o=h.start.row,s=-r.start.length)}else s=r.start.length,o=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);l.start.row==o&&(l.start.column+=s),l.end.row==o&&(l.end.column+=s),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],r=n.prototype.$id,o=i.$modes[r];o||(i.$modes[r]=o=new n),i.$modes[t]||(i.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<s.length;t++)!function(e){var n=s[t],i=e[n];e[s[t]]=function(){return this.$delegator(n,arguments,i)}}(this)},this.$delegator=function(e,t,n){var i=t[0]||"start";if("string"!=typeof i){if(Array.isArray(i[2])){var r=i[2][i[2].length-1];if(s=this.$modes[r])return s[e].apply(s,[i[1]].concat([].slice.call(t,1)))}i=i[0]||"start"}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var s,a=i.split(this.$embeds[o]);if(!a[0]&&a[1])return t[0]=a[1],(s=this.$modes[this.$embeds[o]])[e].apply(s,t)}var l=n.apply(this,t);return n?l:void 0},this.transformAction=function(e,t,n,i,r){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var s in o)if(o[s][t]){var a=o[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var r=t[i],o=0,s=r.length;o<s;o++)if("string"==typeof r[o].token)/keyword|support|storage/.test(r[o].token)&&n.push(r[o].regex);else if("object"==typeof r[o].token)for(var a=0,l=r[o].token.length;a<l;a++)/keyword|support|storage/.test(r[o].token[a])&&(i=r[o].regex.match(/\(.+?\)/g)[a],n.push(i.substr(1,i.length-2)));this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,i){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(h.prototype),t.Mode=h})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var i=t.start.row,r=t.start.column,o=e[i]||"";switch(t.action){case"insert":if(1===t.lines.length)e[i]=o.substring(0,r)+t.lines[0]+o.substring(r);else{var s=[i,1].concat(t.lines);e.splice.apply(e,s),e[i]=o.substring(0,r)+e[i],e[i+t.lines.length-1]+=o.substring(r)}break;case"remove":var a=t.end.column,l=t.end.row;i===l?e[i]=o.substring(0,r)+o.substring(a):e.splice(i,l-i+1,o.substring(0,r)+e[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var i=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var n=function(t,n,i){var r="insert"==t.action,o=(r?1:-1)*(t.end.row-t.start.row),s=(r?1:-1)*(t.end.column-t.start.column),a=t.start,l=r?a:t.end;return e(n,a,i)?{row:n.row,column:n.column}:e(l,n,!i)?{row:n.row+o,column:n.column+(n.row==l.row?s:0)}:{row:a.row,column:a.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var r={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:r,value:i})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){i.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var i=this.getLine(e);return null==t&&(t=i.length),{row:e,column:t=Math.min(Math.max(t,0),i.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var i=this.clippedPos(e,t),r=this.clippedPos(e,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,i=t<this.getLength()-1,r=n?e-1:e,o=n?this.getLine(r).length:0,a=i?t+1:t,l=i?0:this.getLine(a).length,c=new s(r,o,a,l),u=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),u},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof s||(e=s.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(r(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,i=n.length-t+1,r=e.start.row,o=e.start.column,s=0,a=0;s<i;s=a){a+=t-1;var l=n.slice(s,a);l.push(""),this.applyDelta({start:this.pos(r+s,o),end:this.pos(r+a,o=0),action:e.action,lines:l},!0)}e.lines=n.slice(s),e.start.row=r+s,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,o=n.length;r<o;r++)if((e-=n[r].length+i)<0)return{row:r,column:e+n[r].length+i};return{row:o-1,column:e+n[o-1].length+i}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,o=Math.min(e.row,n.length),s=t||0;s<o;++s)r+=n[s].length+i;return r+e.column}}).call(l.prototype),t.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,i=-1,r=n.doc,o=t;n.lines[t];)t++;var s=r.getLength(),a=0;for(n.running=!1;t<s;){n.$tokenizeRow(t),i=t;do{t++}while(n.lines[t]);if(++a%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==i&&(i=t),o<=i&&n.fireUpdateEvent(o,i)}}};(function(){i.implement(this,r),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens}}).call(o.prototype),t.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),r=(e("./lib/oop"),e("./range").Range),o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,o){if(this.regExp)for(var s=o.firstRow,a=o.lastRow,l=s;l<=a;l++){var c=this.cache[l];null==c&&((c=i.getMatchOffsets(n.getLine(l),this.regExp)).length>this.MAX_RANGES&&(c=c.slice(0,this.MAX_RANGES)),c=c.map((function(e){return new r(l,e.offset,l,e.offset+e.length)})),this.cache[l]=c.length?c:"");for(var u=c.length;u--;)t.drawSingleLineMarker(e,c[u].toScreenRange(n),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range;function r(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,r,o=0,s=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<s.length;l++){if(-1==(r=(i=s[l]).range.compareStart(t,n)))return void e(null,t,n,o,a);if(!e(null,i.start.row,i.start.column,o,a)&&e(i.placeholder,i.start.row,i.start.column,o)||0===r)return;a=!i.sameRow,o=i.end.column}e(null,t,n,o,a)},this.getNextFoldTo=function(e,t){for(var n,i,r=0;r<this.folds.length;r++){if(-1==(i=(n=this.folds[r]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,r,o=this.getNextFoldTo(e,t);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){var s=(r=this.folds).indexOf(i);for(0===s&&(this.start.column+=n);s<r.length;s++){if((i=r[s]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var i=n.fold,o=this.folds,s=this.foldData,a=o.indexOf(i),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new r(s,o=o.splice(a,o.length-a));return s.splice(s.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(r.prototype),t.FoldLine=r})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range.comparePoints,r=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var r=this.ranges,o=n||0;o<r.length;o++){var s=r[o],a=i(e,s.end);if(!(a>0)){var l=i(e,s.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],n=this.ranges,r=(n=n.sort((function(e,t){return i(e.start,t.start)})))[0],o=1;o<n.length;o++){e=r,r=n[o];var s=i(e.end,r.start);s<0||(0!=s||e.isEmpty()||r.isEmpty())&&(i(e.end,r.end)<0&&(e.end.row=r.end.row,e.end.column=r.end.column),n.splice(o,1),t.push(r),r=e,o--)}return this.ranges=n,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);r<0&&(r=-r-1);for(var o=[],s=i;s<r;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,n=e.end,i=t.row,r=n.row,o=this.ranges,s=0,a=o.length;s<a&&!((u=o[s]).end.row>=i);s++);if("insert"==e.action){for(var l=r-i,c=-t.column+n.column;s<a&&!((u=o[s]).start.row>i);s++)if(u.start.row==i&&u.start.column>=t.column&&(u.start.column==t.column&&this.$bias<=0||(u.start.column+=c,u.start.row+=l)),u.end.row==i&&u.end.column>=t.column){if(u.end.column==t.column&&this.$bias<0)continue;u.end.column==t.column&&c>0&&s<a-1&&u.end.column>u.start.column&&u.end.column==o[s+1].start.column&&(u.end.column-=c),u.end.column+=c,u.end.row+=l}}else for(l=i-r,c=t.column-n.column;s<a&&!((u=o[s]).start.row>r);s++)u.end.row<r&&(i<u.end.row||i==u.end.row&&t.column<u.end.column)?(u.end.row=i,u.end.column=t.column):u.end.row==r?u.end.column<=n.column?(l||u.end.column>t.column)&&(u.end.column=t.column,u.end.row=t.row):(u.end.column+=c,u.end.row+=l):u.end.row>r&&(u.end.row+=l),u.start.row<r&&(i<u.start.row||i==u.start.row&&t.column<u.start.column)?(u.start.row=i,u.start.column=t.column):u.start.row==r?u.start.column<=n.column?(l||u.start.column>t.column)&&(u.start.column=t.column,u.start.row=t.row):(u.start.column+=c,u.start.row+=l):u.start.row>r&&(u.start.row+=l);if(0!=l&&s<a)for(;s<a;s++){var u;(u=o[s]).start.row+=l,u.end.row+=l}}}).call(r.prototype),t.RangeList=r})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("../range_list").RangeList,r=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function s(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}r.inherits(o,i),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){var t,n;t=e,n=this.start,s(t.start,n),s(t.end,n);for(var i=e.start.row,r=e.start.column,o=0,a=-1;o<this.subFolds.length&&1==(a=this.subFolds[o].range.compare(i,r));o++);var l=this.subFolds[o],c=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);c=1}i=e.range.end.row,r=e.range.end.column;var u=o;for(a=-1;u<this.subFolds.length&&1==(a=this.subFolds[u].range.compare(i,r));u++);0==a&&u++;for(var h=this.subFolds.splice(o,u-o,e),d=0==a?h.length-1:h.length,p=c;p<d;p++)e.addSubFold(h[p]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){a(e.start,t),a(e.end,t)}(e,this.start)}}.call(o.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("./fold_line").FoldLine,o=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,o=0;o<r.length;o++){var s=r[o].range;if(s.contains(e,t)){if(1==n&&s.isEnd(e,t)&&!s.isEmpty())continue;if(-1==n&&s.isStart(e,t)&&!s.isEmpty())continue;return r[o]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,n.column-=1;for(var o=0;o<i.length;o++){var s=i[o].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=i[o].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(s=c.range.compareRange(e)))break;if(2!=s){if(42==s)break;r.push(c)}}}}return t.column-=1,n.column+=1,r},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(!(i=i||this.getFoldLine(e)))return null;for(var r,o,s={end:{column:0}},a=0;a<i.folds.length;a++){var l=(o=i.folds[a]).range.compareEnd(e,t);if(-1==l){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return r||(r=this.getLine(o.start.row).substring(s.end.column)),-1==n?r.substring(0,t-s.end.column):1==n?r.substring(t-s.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;r<n.length;r++){var o=n[r],s=o.end.row,a=o.start.row;if(s>=t){a<t&&(a>=e?i-=t-a:i=0);break}s>=e&&(i-=a>=e?s-a:s-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,i=this.$foldData,s=!1;e instanceof o?n=e:(n=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,u=n.end.column,h=this.getFoldAt(a,l,1),d=this.getFoldAt(c,u,-1);if(h&&d==h)return h.addSubFold(n);h&&!h.range.isStart(a,l)&&this.removeFold(h),d&&!d.range.isEnd(c,u)&&this.removeFold(d);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),n.collapseChildren||p.forEach((function(e){n.addSubFold(e)})));for(var f=0;f<i.length;f++){var m=i[f];if(c==m.start.row){m.addFold(n),s=!0;break}if(a==m.end.row){if(m.addFold(n),s=!0,!n.sameRow){var g=i[f+1];if(g&&g.start.row==c){m.merge(g);break}}break}if(c<=m.start.row)break}return s||(m=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,r=this.$foldData,o=t.folds;if(1==o.length)r.splice(r.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);(o=s.folds).shift(),s.start.row=o[0].start.row,s.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,r;if(null==e)n=new i(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)n=new i(e,0,e,this.getLine(e).length);else if("row"in e)n=i.fromPoints(e,e);else{if(Array.isArray(e))return r=[],e.forEach((function(e){r=r.concat(this.unfold(e))}),this),r;n=e}for(var o=r=this.getFoldsInRangeList(n);1==r.length&&i.comparePoints(r[0].start,n.start)<0&&i.comparePoints(r[0].end,n.end)>0;)this.expandFolds(r),r=this.getFoldsInRangeList(n);if(0!=t?this.removeFolds(r):this.expandFolds(r),o.length)return o},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk((function(e,t,n,a){if(!(t<i)){if(t==i){if(n<r)return;a=Math.max(r,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}}),t,n),s},this.getDisplayLine=function(e,t,n,i){var r,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,n,i):(r=this.doc.getLine(e)).substring(i||0,t||r.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new r(e,n)}))},this.toggleFold=function(e){var t,n,i=this.selection.getRange();if(i.isEmpty()){var r=i.start;if(t=this.getFoldAt(r.row,r.column))return void this.expandFold(t);(n=this.findMatchingBracket(r))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(r.row,r.column)||i}else{var o=this.getFoldsInRange(i);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())this.expandFold(t);else{var s="...";if(!i.isMultiLine()){if((s=this.getTextRange(i)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,i)}},this.getCommentFoldRange=function(e,t,n){var r=new s(this,e,t),o=r.getCurrentToken(),a=o&&o.type;if(o&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new i;if(1!=n){do{o=r.stepBackward()}while(o&&l.test(o.type));r.stepForward()}if(c.start.row=r.getCurrentTokenRow(),c.start.column=r.getCurrentTokenColumn()+2,r=new s(this,e,t),-1!=n){var u=-1;do{if(o=r.stepForward(),-1==u){var h=this.getState(r.$row);l.test(h)||(u=r.$row)}else if(r.$row>u)break}while(o&&l.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return c.end.row=r.getCurrentTokenRow(),c.end.column=r.getCurrentTokenColumn()+o.value.length-2,c}},this.foldAll=function(e,t,n,i){null==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==r[o]&&(r[o]=this.getFoldWidget(o)),"start"==r[o]&&(!i||i(o))){var s=this.getFoldWidgetRange(o);s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e&&(o=s.end.row,s.collapseChildren=n,this.addFold("...",s))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),i=0;i<n.length;i++){var r=n[i];if("text"!=r.type||!/^\s+$/.test(r.value))return!!/comment/.test(r.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,r=e-1;r>=0;){var o=n[r];if(null==o&&(o=n[r]=this.getFoldWidget(r)),"start"==o){var s=this.getFoldWidgetRange(r);if(i||(i=s),s&&s.end.row>=e)break}r--}return{range:-1!==r&&s,firstRange:i}},this.onFoldWidgetClick=function(e,t){var n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,o=this.getFoldAt(e,-1===r?0:i.length,r);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(o=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var i=this.getParentFoldRangeData(t,!0);if(n=i.range||i.firstRange){t=n.start.row;var r=this.getFoldAt(t,this.getLine(t).length,1);r?this.removeFold(r):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,o=n.charAt(e.column-1),s=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(s||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},s=o&&o.match(/([\(\[\{])|([\)\]\}])/),i=!1),!s)return null;if(s[1]){if(!(a=this.$findClosingBracket(s[1],e)))return null;t=r.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(s[2],e)))return null;t=r.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),n=t.charAt(e.column-1),i=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(i||(n=t.charAt(e.column),e={row:e.row,column:e.column+1},i=n&&n.match(/([\(\[\{])|([\)\]\}])/)),!i)return null;var o=new r(e.row,e.column-1,e.row,e.column),s=i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e);return s?[o,new r(s.row,s.column,s.row,s.column+1)]:[o]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var u=c.charAt(l);if(u==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(o+=1);l-=1}do{a=s.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,u=c.length;l<u;){var h=c.charAt(l);if(h==r){if(0==(o-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==e&&(o+=1);l+=1}do{a=s.stepForward()}while(a&&!n.test(a.type));if(null==a)break;l=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),o=e("./bidihandler").BidiHandler,s=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,u=e("./range").Range,h=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,p=e("./search_highlight").SearchHighlight,f=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++f.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new h(e)),this.setDocument(e),this.selection=new l(this),this.$bidiHandler=new o(this),s.resetOptions(this),this.setMode(t),s._signal("session",this)};f.$uid=0,function(){i.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,o=e[r];if(t>o)n=r+1;else{if(!(t<o))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t){var o=i.length-1;r=this.getLine(e).length}else for(o=0;o<i.length&&!((r+=i[o].value.length)>=t);o++);return(n=i[o])?(n.index=o,n.start=r-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var r=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new p(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var r=new u(e,0,t,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var r=this.tokenRe;else r=/^\s+$/.test(n.slice(t-1,t+1))?/\s/:this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(r));o++}for(var s=t;s<n.length&&n.charAt(s).match(r);)s++;return new u(e,o,e,s)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=s.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,s.loadModule(["mode",i],function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.on){var r=this.onReloadTokenizer.bind(this);i.on("update",r)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(i);else{this.bgTokenizer=new d(i);var o=this;this.bgTokenizer.on("update",(function(e){o._signal("tokenizerUpdate",e)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,o=this.$foldData[r],s=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>s){if((l=o.end.row+1)>=a)break;s=(o=this.$foldData[r++])?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var i=e[n];"insert"==i.action||"remove"==i.action?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var i=e[n];"insert"!=i.action&&"remove"!=i.action||this.doc.$safeApplyDelta(i)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var i,r,o=0;o<e.length;o++){var s=e[o];s.start&&(i?n(s)?(r=s.start,-1==i.compare(r.row,r.column)&&i.setStart(r),r=s.end,1==i.compare(r.row,r.column)&&i.setEnd(r)):(r=s.start,-1==i.compare(r.row,r.column)&&(i=u.fromPoints(s.start,s.start))):i=n(s)?u.fromPoints(s.start,s.end):u.fromPoints(s.start,s.start))}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),r=this.getFoldsInRange(e),o=u.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row;(c=s?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=c),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=c)),s&&o.start.row>=e.end.row&&(o.start.row+=s,o.end.row+=s)}if(o.end=this.insert(o.start,i),r.length){var a=e.start,l=o.start,c=(s=l.row-a.row,l.column-a.column);this.addFolds(r.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=c),e.end.row==a.row&&(e.end.column+=c),e.start.row+=s,e.end.row+=s,e})))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new u(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var s=0;s<i&&" "==o.charAt(s);++s);s<i&&"\t"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((r=this.getRowFoldStart(e+n))<0)return 0;var i=r-e}else if(n>0){var r;if((r=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;i=r-t}else e=this.$clipRowToDocument(e),i=(t=this.$clipRowToDocument(t))-e+1;var o=new u(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=i,e.end.row+=i,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,a),s.length&&this.addFolds(s),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,i=e.start,r=e.end,o=i.row,s=r.row,a=s-o,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var u=0;if(m=this.getFoldLine(r.row)){m.addRemoveChars(r.row,r.column,i.column-r.column),m.shiftRow(-a);var h=this.getFoldLine(o);h&&h!==m&&(h.merge(m),m=h),u=c.indexOf(m)+1}for(;u<c.length;u++)(m=c[u]).start.row>=r.row&&m.shiftRow(-a);s=o}else{var d=Array(a);d.unshift(o,0);var p=t?this.$wrapData:this.$rowLengthCache;if(p.splice.apply(p,d),c=this.$foldData,u=0,m=this.getFoldLine(o)){var f=m.range.compareInside(i.row,i.column);0==f?(m=m.split(i.row,i.column))&&(m.shiftRow(a),m.addRemoveChars(s,0,r.column-i.column)):-1==f&&(m.addRemoveChars(o,0,r.column-i.column),m.shiftRow(a)),u=c.indexOf(m)+1}for(;u<c.length;u++){var m;(m=c[u]).start.row>=o&&m.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(m=this.getFoldLine(o))&&m.addRemoveChars(o,i.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,s):this.$updateRowLengthCache(o,s),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(n,i){var r,o,s=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,u=n;for(i=Math.min(i,s.length-1);u<=i;)(o=this.getFoldLine(u,o))?(r=[],o.walk(function(n,i,o,a){var l;if(null!=n){(l=this.$getDisplayTokens(n,r.length))[0]=e;for(var c=1;c<l.length;c++)l[c]=t}else l=this.$getDisplayTokens(s[i].substring(a,o),r.length);r=r.concat(l)}.bind(this),o.end.row,s[o.end.row].length+1),l[o.start.row]=this.$computeWrapSplits(r,c,a),u=o.end.row+1):(r=this.$getDisplayTokens(s[u]),l[u]=this.$computeWrapSplits(r,c,a),u++)};var e=3,t=4;function n(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(n,i,r){if(0==n.length)return[];var o=[],s=n.length,a=0,l=0,c=this.$wrapAsCode,u=this.$indentedSoftWrap,h=i<=Math.max(2*r,8)||!1===u?0:Math.floor(i/2);function d(e){for(var t=e-a,i=a;i<e;i++){var s=n[i];12!==s&&2!==s||(t-=1)}o.length||(p=function(){var e=0;if(0===h)return e;if(u)for(var t=0;t<n.length;t++){var i=n[t];if(10==i)e+=1;else{if(11!=i){if(12==i)continue;break}e+=r}}return c&&!1!==u&&(e+=r),Math.min(e,h)}(),o.indent=p),l+=t,o.push(l),a=e}for(var p=0;s-a>i-p;){var f=a+i-p;if(n[f-1]>=10&&n[f]>=10)d(f);else if(n[f]!=e&&n[f]!=t){for(var m=Math.max(f-(i-(i>>2)),a-1);f>m&&n[f]<e;)f--;if(c){for(;f>m&&n[f]<e;)f--;for(;f>m&&9==n[f];)f--}else for(;f>m&&n[f]<10;)f--;f>m?d(++f):(2==n[f=a+i]&&f--,d(f-p))}else{for(;f!=a-1&&n[f]!=e;f--);if(f>a){d(f);continue}for(f=a+i;f<n.length&&n[f]==t;f++);if(f==n.length)break;d(f)}}return o},this.$getDisplayTokens=function(e,t){var i,r=[];t=t||0;for(var o=0;o<e.length;o++){var s=e.charCodeAt(o);if(9==s){i=this.getScreenTabSize(r.length+t),r.push(11);for(var a=1;a<i;a++)r.push(12)}else 32==s?r.push(10):s>39&&s<48||s>57&&s<64?r.push(9):s>=4352&&n(s)?r.push(1,2):r.push(1)}return r},this.$getStringScreenWidth=function(e,t,i){if(0==t)return[0,0];var r,o;for(null==t&&(t=1/0),i=i||0,o=0;o<e.length&&(9==(r=e.charCodeAt(o))?i+=this.getScreenTabSize(i):r>=4352&&n(r)?i+=2:i+=1,!(i>t));o++);return[i,o]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var i,r,o=0,s=0,a=0,l=0,c=this.$screenRowCache,u=this.$getRowCacheIndex(c,e),h=c.length;if(h&&u>=0){a=c[u],o=this.$docRowCache[u];var d=e>c[h-1]}else d=!h;for(var p=this.getLength()-1,f=this.getNextFoldLine(o),m=f?f.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(o))>e||o>=p);)a+=l,++o>m&&(o=f.end.row+1,m=(f=this.getNextFoldLine(o,f))?f.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(f&&f.start.row<=o)i=this.getFoldDisplayLine(f),o=f.start.row;else{if(a+l<=e||o>p)return{row:p,column:this.getLine(p).length};i=this.getLine(o),f=null}var g=0,v=Math.floor(e-a);if(this.$useWrapMode){var y=this.$wrapData[o];y&&(r=y[v],v>0&&y.length&&(g=y.indent,s=y[v-1]||y[y.length-1],i=i.substring(s)))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+v,o,v)&&(t=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(i,t-g)[1],this.$useWrapMode&&s>=r&&(s=r-1),f?f.idxToPosition(s):{row:o,column:s}},this.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i,r=0,o=null;(i=this.getFoldAt(e,t,1))&&(e=i.start.row,t=i.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),u=l.length;if(u&&c>=0){a=l[c],r=this.$screenRowCache[c];var h=e>l[u-1]}else h=!u;for(var d=this.getNextFoldLine(a),p=d?d.start.row:1/0;a<e;){if(a>=p){if((s=d.end.row+1)>e)break;p=(d=this.getNextFoldLine(s,d))?d.start.row:1/0}else s=a+1;r+=this.getRowLength(a),a=s,h&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var f="";d&&a>=p?(f=this.getFoldDisplayLine(d,e,t),o=d.start.row):(f=this.getLine(e).substring(0,t),o=e);var m=0;if(this.$useWrapMode){var g=this.$wrapData[o];if(g){for(var v=0;f.length>=g[v];)r++,v++;f=f.substring(g[v-1]||0,f.length),m=v>0?g.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(r+=this.lineWidgets[a].rowsAbove),{row:r,column:m+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);i<n;){var o=this.$wrapData[i];e+=o?o.length+1:1,++i>r&&(i=t.end.row+1,r=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var s=this.$foldData,a=0;a<s.length;a++)e-=(t=s[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];var r,o;for(n||(n=1/0),i=i||0,o=0;o<t.length&&!((i+="\t"===(r=t.charAt(o))?this.getScreenTabSize(i):e.getCharacterWidth(r))>n);o++);return[i,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=n}.call(f.prototype),e("./edit_session/folding").Folding.call(f.prototype),e("./edit_session/bracket_match").BracketMatch.call(f.prototype),s.defineOptions(f.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=f})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),r=e("./lib/oop"),o=e("./range").Range,s=function(){this.$options={}};(function(){this.set=function(e){return r.mixin(this.$options,e),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach((function(e,n,r,s){return i=new o(e,n,r,s),!(n==s&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start)&&(i=null,1))})),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,r=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,u=r.length-c;e:for(var h=a.offset||0;h<=u;h++){for(var d=0;d<c;d++)if(-1==r[h+d].search(a[d]))continue e;var p=r[h],f=r[h+c-1],m=p.length-p.match(a[0])[0].length,g=f.match(a[c-1])[0].length;l&&l.end.row===h&&l.end.column>m||(s.push(l=new o(h,m,h+c-1,g)),c>2&&(h=h+c-2))}}else for(var v=0;v<r.length;v++){var y=i.getMatchOffsets(r[v],a);for(d=0;d<y.length;d++){var b=y[d];s.push(new o(v,b.offset,v,b.offset+b.length))}}if(n){var w=n.start.column,_=n.start.column;for(v=0,d=s.length-1;v<d&&s[v].start.column<w&&s[v].start.row==n.start.row;)v++;for(;v<d&&s[d].end.column>_&&s[d].end.row==n.end.row;)d--;for(s=s.slice(v,d+1),v=0,d=s.length;v<d;v++)s[v].start.row+=n.start.row,s[v].end.row+=n.start.row}return s},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];s&&s.toLowerCase()!=s?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n)),e.wholeWord&&(n=function(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var r=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,r);try{var o=new RegExp(n,r)}catch(e){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(e){return!1}return i},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i=1==t.backwards,r=0!=t.skipCurrent,o=t.range,s=t.start;s||(s=o?o[i?"end":"start"]:e.selection.getRange()),s.start&&(s=s[r!=i?"end":"start"]);var a=o?o.start.row:0,l=o?o.end.row:e.getLength()-1;if(i)var c=function(e){var n=s.row;if(!h(n,s.column,e)){for(n--;n>=a;n--)if(h(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=l,a=s.row;n>=a;n--)if(h(n,Number.MAX_VALUE,e))return}};else c=function(e){var n=s.row;if(!h(n,s.column,e)){for(n+=1;n<=l;n++)if(h(n,0,e))return;if(0!=t.wrap)for(n=a,l=s.row;n<=l;n++)if(h(n,0,e))return}};if(t.$isMultiLine)var u=n.length,h=function(t,r,o){var s=i?t-u+1:t;if(!(s<0||s+u>e.getLength())){var a=e.getLine(s),l=a.search(n[0]);if(!(!i&&l<r||-1===l)){for(var c=1;c<u;c++)if(-1==(a=e.getLine(s+c)).search(n[c]))return;var h=a.match(n[u-1])[0].length;if(!(i&&h>r))return!!o(s,l,s+u-1,h)||void 0}}};else h=i?function(t,i,r){var o,s=e.getLine(t),a=[],l=0;for(n.lastIndex=0;o=n.exec(s);){var c=o[0].length;if(l=o.index,!c){if(l>=s.length)break;n.lastIndex=l+=1}if(o.index+c>i)break;a.push(o.index,c)}for(var u=a.length-1;u>=0;u-=2){var h=a[u-1];if(r(t,h,t,h+(c=a[u])))return!0}}:function(t,i,r){var o,s,a=e.getLine(t);for(n.lastIndex=i;s=n.exec(a);){var l=s[0].length;if(r(t,o=s.index,t,o+l))return!0;if(!l&&(n.lastIndex=o+=1,o>=a.length))return!1}};return{forEach:c}}}).call(s.prototype),t.Search=s})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/useragent"),o=i.KEY_MODS;function s(e,t){this.platform=t||(r.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function a(e,t){s.call(this,e,t),this.$singleCommand=!1}a.prototype=s.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var r in i){var o=i[r];if(o==e)delete i[r];else if(Array.isArray(o)){var s=o.indexOf(e);-1!=s&&(o.splice(s,1),1==o.length&&(i[r]=o[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var i="";if(-1!=e.indexOf(" ")){var r=e.split(/\s+/);e=r.pop(),r.forEach((function(e){var t=this.parseKeys(e),n=o[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")}),this),i+=" "}var s=this.parseKeys(e),a=o[s.hashId]+s.key;this._addCommandToBinding(i+a,t,n)}),this)},this._addCommandToBinding=function(t,n,i){var r,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{Array.isArray(o[t])?-1!=(r=o[t].indexOf(n))&&o[t].splice(r,1):o[t]=[o[t]],"number"!=typeof i&&(i=e(n));var s=o[t];for(r=0;r<s.length&&!(e(s[r])>i);r++);s.splice(r,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),r=i[n];if(i.FUNCTION_KEYS[r])n=i.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,s=t.length;s--;){var a=i.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;o|=a}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=o[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,i){if(!(i<0)){var r=o[t]+n,s=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,s=this.commandKeyBinding[e.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:s}):(e.$keyChain=e.$keyChain||r,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(s.prototype),t.HashHandler=s,t.MultiHashHandler=a})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,s=function(e,t){r.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.command.exec(e.editor,e.args||{})}))};i.inherits(s,r),function(){i.implement(this,o),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(s.prototype),t.CommandManager=s})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";var i=e("../lib/lang"),r=e("../config"),o=e("../range").Range;function s(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(e){r.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(e){r.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=r.row+1;c++){var u=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(c)));0!==u.length&&(u=" "+u),l+=u}r.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,r.row+2,0),l),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row===t&&i[s].end.column===n||r.push(new o(i[s].end.row,i[s].end.column,t,n))),0===s?0===i[s].start.row&&0===i[s].start.column||r.push(new o(0,0,i[s].start.row,i[s].start.column)):r.push(new o(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));for(e.exitMultiSelectMode(),e.clearSelection(),s=0;s<r.length;s++)e.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:s("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./lib/lang"),s=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,d=e("./search").Search,p=e("./range").Range,f=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,g=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=e("./clipboard"),w=function(e,t,n){this.$toDestroy=[];var i=e.getContainerElement();this.container=i,this.renderer=e,this.id="editor"+ ++w.$uid,this.commands=new m(s.isMac?"mac":"win",g),"object"==typeof document&&(this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new u(this),this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||n&&n.session||new h("")),v.resetOptions(this),n&&this.setOptions(n),v._signal("editor",this)};w.$uid=0,function(){i.implement(this,f),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var r=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;v.loadModule(["keybinding",e],(function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=t.getMatchingBracketRanges(e.getCursorPosition());if(!n&&t.$mode.getMatching&&(n=t.$mode.getMatching(e.session)),n){var i="ace_bracket";Array.isArray(n)?1==n.length&&(i="ace_error_bracket"):n=[n],2==n.length&&(0==p.comparePoints(n[0].end,n[1].start)?n=[p.fromPoints(n[0].start,n[1].end)]:0==p.comparePoints(n[0].start,n[1].end)&&(n=[p.fromPoints(n[1].start,n[0].end)])),t.$bracketHighlight={ranges:n,markerIds:n.map((function(e){return t.addMarker(e,i,"text")}))}}}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout((function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),i=new y(e.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1===r.type.indexOf("tag-open")||(r=i.stepForward())){var o=r.value,s=r.value,a=0,l=i.stepBackward();if("<"===l.value)do{l=r,(r=i.stepForward())&&(-1!==r.type.indexOf("tag-name")?o===(s=r.value)&&("<"===l.value?a++:"</"===l.value&&a--):o===s&&"/>"===r.value&&a--)}while(r&&a>=0);else{do{if(r=l,l=i.stepBackward(),r)if(-1!==r.type.indexOf("tag-name"))o===r.value&&("<"===l.value?a++:"</"===l.value&&a--);else if("/>"===r.value){for(var c=0,u=l;u;){if(-1!==u.type.indexOf("tag-name")&&u.value===o){a--;break}if("<"===u.value)break;u=i.stepBackward(),c++}for(var h=0;h<c;h++)i.stepForward()}}while(l&&a<=0);i.stepForward()}if(!r)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var d=i.getCurrentTokenRow(),f=i.getCurrentTokenColumn(),m=new p(d,f,d,f+r.value.length),g=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&null!=g&&0!==m.compareRange(g.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(m,"ace_bracket","text"))}}}),50)}},this.focus=function(){var e=this;setTimeout((function(){e.isFocused()||e.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new p(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,i=t.end.column,r=e.getLine(t.start.row),o=r.substring(n,i);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=r.substring(n-1,i+1);if(s.test(a))return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var i=this.selection.getAllRanges(),r=0;r<i.length;r++){var o=i[r];r&&i[r-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var s={text:e};return this._signal("copy",s),b.lineMode=!!n&&s.text,s.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t===b.lineMode,i=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?i.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){i.insert({row:e.start.row,column:0},t)}));else{var r=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges,s=!(2!=r.length||r[0]&&r[1]);if(r.length!=o.length||s)return this.commands.exec("insertstring",this,t);for(var a=o.length;a--;){var l=o[a];l.isEmpty()||i.remove(l),i.insert(l.start,r[a])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,i=n.getMode(),r=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=i.transformAction(n.getState(r.row),"insertion",this,n,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==e.indexOf("\n")&&((s=new p.fromPoints(r,r)).end.column+=e.length,this.session.remove(s));else{var s=this.getSelectionRange();r=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(r.row);if(r.column>a.search(/\S|$/)){var l=a.substr(r.column).search(/\S|$/);n.doc.removeInLine(r.row,r.column,r.column+l)}}this.clearSelection();var c=r.column,u=n.getState(r.row),h=(a=n.getLine(r.row),i.checkOutdent(u,a,e));if(n.insert(r,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new p(r.row,c+o.selection[0],r.row,c+o.selection[1])):this.selection.setSelectionRange(new p(r.row+o.selection[0],o.selection[1],r.row+o.selection[2],o.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var d=i.getNextLineIndent(u,a.slice(0,r.column),n.getTabString());n.insert({row:r.row+1,column:0},d)}h&&i.autoOutdent(u,n,r.row)}},this.autoIndent=function(){var e,t,n=this.session,i=n.getMode();if(this.selection.isEmpty())e=0,t=n.doc.getLength()-1;else{var r=this.getSelectionRange();e=r.start.row,t=r.end.row}for(var o,s,a,l="",c="",u="",h=n.getTabString(),d=e;d<=t;d++)d>0&&(l=n.getState(d-1),c=n.getLine(d-1),u=i.getNextLineIndent(l,c,h)),o=n.getLine(d),u!==(s=i.$getIndent(o))&&(s.length>0&&(a=new p(d,0,d,s.length),n.remove(a)),u.length>0&&n.insert({row:d,column:0},u)),i.autoOutdent(l,n,d)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove()),!e&&this.selection.isEmpty()||this.insert(e,!0),(t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),r=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}r&&(t=r)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,r=this.session.getLine(e.row);t<r.length?(n=r.charAt(t)+r.charAt(t-1),i=new p(e.row,t-1,e.row,t+1)):(n=r.charAt(t-1)+r.charAt(t-2),i=new p(e.row,t-2,e.row,t)),this.session.replace(i,n),this.session.selection.moveToPosition(i.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n))return u=this.$getSelectedRows(),void e.indentRows(u.first,u.last,"\t")}var i=e.getLine(t.start.row),r=t.start,s=e.getTabSize(),a=e.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var l=s-a%s,c=o.stringRepeat(" ",l);else{for(l=a%s;" "==i[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var u=this.$getSelectedRows();e.indentRows(u.first,u.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var r=new p(0,0,0,0);for(i=e.first;i<=e.last;i++){var o=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=o.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new p(t,n-1,t,n),r=this.session.getTextRange(i);if(!isNaN(parseFloat(r))&&isFinite(r)){var o=this.getNumberAt(t,n);if(o){var s=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-s,l=parseFloat(o.value);l*=Math.pow(10,a),s!==o.end&&n<s?e*=Math.pow(10,o.end-n-1):e*=Math.pow(10,o.end-n),l+=e;var c=(l/=Math.pow(10,a)).toFixed(a),u=new p(t,o.start,t,o.end);this.session.replace(u,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),i=this.selection.getWordRange().start.column,r=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=t-i-1;s<0&&(s=0);var a=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&r.forEach((function(t,r){l=a+t.length,s>=a&&s<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,a+i),c.selection.selectTo(e,l+i)),a=l}));for(var u,h=this.$toggleWordPairs,d=0;d<h.length;d++)for(var p=h[d],f=0;f<=1;f++){var m=+!f,g=n.match(new RegExp("^\\s?_?("+o.escapeRegExp(p[f])+")\\s?$","i"));g&&n.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(g[1])+")($|\\s)","g"))&&(u=n.replace(new RegExp(o.escapeRegExp(p[f]),"i"),(function(e){var t=p[m];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[m].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(u),u="")}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var r=n.start.row;t.duplicateLines(r,r)}else{var o=i?n.start:n.end,s=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=s,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,i,r=this.selection;if(!r.inMultiSelectMode||this.inVirtualSelectionMode){var o=r.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),o.moveBy(i,0),r.fromOrientedRange(o)}else{var s=r.rangeList.ranges;r.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,u=0;u<c;u++){var h=u;s[u].moveBy(a,0);for(var d=(n=this.$getSelectedRows(s[u])).first,p=n.last;++u<c;){l&&s[u].moveBy(l,0);var f=this.$getSelectedRows(s[u]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(u--,a=this.session.$moveLines(d,p,t?0:e),t&&-1==e&&(h=u+1);h<=u;)s[h].moveBy(a,0),h++;t||(a=0),l+=a}r.fromOrientedRange(r.ranges[0]),r.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new y(this.session,n.row,n.column),r=i.getCurrentToken(),o=r||i.stepForward();if(o){var s,a,l=!1,c={},u=n.column-o.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;u<o.value.length&&!l;u++)if(h[o.value[u]])switch(a=h[o.value[u]]+"."+o.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),o.value[u]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(s="bracket",l=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===r.value?c[o.value]++:"</"===r.value&&c[o.value]--,-1===c[o.value]&&(s="tag",l=!0));l||(r=o,o=i.stepForward(),u=0)}while(o&&!l);if(s){var d,f;if("bracket"===s)(d=this.session.getBracketRange(n))||(f=(d=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1)).start,(t||f.row===n.row&&Math.abs(f.column-n.column)<2)&&(d=this.session.getBracketRange(f)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var m=o.value;if(0===(d=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column)){l=!1;do{o=r,(r=i.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&d.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),o.value===m&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?c[m]++:"</"===r.value&&c[m]--,0===c[m]&&(l=!0)))}while(r&&!l)}o&&o.type.indexOf("tag-name")&&(f=d.start).row==n.row&&Math.abs(f.column-n.column)<2&&(f=d.end)}(f=d&&d.cursor||f)&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&i++;return this.selection.setSelectionRange(r),i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&i.mixin(t,e);var r=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var r=this.$scrollAnchor;r.style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild);var o=this.on("changeSelection",(function(){i=!0})),s=this.renderer.on("beforeRender",(function(){i&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=o.top-s.offset;null!=(i=o.top>=0&&a+t.top<0||!(o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight)&&null)&&(r.style.top=a+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(i)),i=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,r.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,n){var i=this;v.loadModule("./ext/prompt",(function(r){r.prompt(i,e,t,n)}))}}.call(w.prototype),v.defineOptions(w.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?_.attach(this):_.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?_.attach(this):_.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),r.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),r.addCssClass(this.container,"ace_hasPlaceholder");var t=r.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var _={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=w})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){this.$fromUndo||e!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=n.length;i--;){var r=n[i][0];if(r.id<=e)break;r.id<t&&(r.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var n=this.selections,i=n.length;i--;){var r=n[i];if(r.rev<e)return t&&(r=n[i+1]),r}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=null,r=0,o=n.length;o--;){var s=n[o][0];if(s.id<t&&!i&&(i=o+1),s.id<=e){r=o+1;break}}return n.slice(r,i)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var i=e[n];if(i&&!i[0].ignore){for(;n<t-1;){var r=u(e[n],e[n+1]);e[n]=r[0],e[n+1]=r[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var i=n.pop(),r=null;return i&&(r=e.undoChanges(i,t),this.$redoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;r++)m(e,i[r])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var i=this.$redoStack.pop(),r=null;return i&&(r=e.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?a(e):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)}}).call(i.prototype);var r=e("./range").Range,o=r.comparePoints;function s(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join("\n"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function l(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function c(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(n&&!i)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}else if(!n&&i)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(!n&&!i)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}return[t,e]}function u(e,t){for(var n=e.length;n--;)for(var i=0;i<t.length;i++)if(!c(e[n],t[i])){for(;n<e.length;){for(;i--;)c(t[i],e[n]);i=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function h(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)o(e.start,t.start)<0?d(t,e,1):d(e,t,1);else if(n&&!i)o(e.start,t.end)>=0?d(e,t,-1):(o(e.start,t.start)<=0||d(e,r.fromPoints(t.start,e.start),-1),d(t,e,1));else if(!n&&i)o(t.start,e.end)>=0?d(t,e,-1):(o(t.start,e.start)<=0||d(t,r.fromPoints(e.start,t.start),-1),d(e,t,1));else if(!n&&!i)if(o(t.start,e.end)>=0)d(t,e,-1);else{var s,a;if(!(o(t.end,e.start)<=0))return o(e.start,t.start)<0&&(s=e,e=f(e,t.start)),o(e.end,t.end)>0&&(a=f(e,t.end)),p(t.end,e.start,e.end,-1),a&&!s&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,s,a].filter(Boolean);d(e,t,-1)}return[t,e]}function d(e,t,n){p(e.start,t.start,t.end,n),p(e.end,t.start,t.end,n)}function p(e,t,n,i){e.row==(1==i?t:n).row&&(e.column+=i*(n.column-t.column)),e.row+=i*(n.row-t.row)}function f(e,t){var n=e.lines,i=e.end;e.end=s(t);var r=e.end.row-e.start.row,o=n.splice(r,n.length),a=r?t.column:t.column-e.start.column;return n.push(o[0].substring(0,a)),o[0]=o[0].substr(a),{start:s(t),end:i,lines:o,action:e.action}}function m(e,t){t=function(e){return{start:s(e.start),end:s(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var i=e[n],r=0;r<i.length;r++){var o=h(i[r],t);t=o[0],2!=o.length&&(o[2]?(i.splice(r+1,1,o[1],o[2]),r++):o[1]||(i.splice(r,1),r--))}i.length||e.splice(n,1)}return e}r.comparePoints,t.UndoManager=i})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){i.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var i=t.firstRowScreen*t.lineHeight,r=Math.floor(i/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-r*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,n,r){var o=this.cellCache.pop();if(!o){var s=i.createElement("div");r&&r(s),this.element.appendChild(s),o={element:s,text:"",row:e}}return o.row=e,o}}).call(r.prototype),t.Lines=r})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),o=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,l=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function c(e){var t=document.createTextNode("");e.appendChild(t);var n=i.createElement("span");return e.appendChild(n),e}(function(){r.implement(this,s),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,r=this.$annotations[i];r||(r=this.$annotations[i]={text:[]});var s=n.text;s=s?o.escapeHTML(s):n.html||"",-1===r.text.indexOf(s)&&r.text.push(s);var a=n.type;"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=a||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var r=t.getNextFoldLine(n),o=r?r.start.row:1/0,s=null,a=-1,l=n;;){if(l>o&&(l=r.end.row+1,o=(r=t.getNextFoldLine(l,r))?r.start.row:1/0),l>i){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(s=this.$lines.get(++a))?s.row=l:(s=this.$lines.createCell(l,e,this.session,c),this.$lines.push(s)),this.$renderCell(s,e,r,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(r=t.getLength()+i-1);var o=n?n.getWidth(t,r,e):r.toString().length*e.characterWidth,s=this.$padding||this.$computePadding();(o+=s.left+s.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var i=t[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&r&&r.start.row==t[n-1].row))break;i=t[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=n,!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(i>n)for(r=this.session.getFoldedRowCount(n+1,i);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>i&&this.$lines.push(this.$renderLines(e,i+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var i=[],r=t,o=this.session.getNextFoldLine(r),s=o?o.start.row:1/0;r>s&&(r=o.end.row+1,s=(o=this.session.getNextFoldLine(r,o))?o.start.row:1/0),!(r>n);){var a=this.$lines.createCell(r,e,this.session,c);this.$renderCell(a,e,o,r),i.push(a),r++}return i},this.$renderCell=function(e,t,n,r){var o=e.element,s=this.session,a=o.childNodes[0],l=o.childNodes[1],c=s.$firstLineNumber,u=s.$breakpoints,h=s.$decorations,d=s.gutterRenderer||this.$renderer,p=this.$showFoldWidgets&&s.foldWidgets,f=n?n.start.row:Number.MAX_VALUE,m="ace_gutter-cell ";if(this.$highlightGutterLine&&(r==this.$cursorRow||n&&r<this.$cursorRow&&r>=f&&this.$cursorRow<=n.end.row)&&(m+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),u[r]&&(m+=u[r]),h[r]&&(m+=h[r]),this.$annotations[r]&&(m+=this.$annotations[r].className),o.className!=m&&(o.className=m),p){var g=p[r];null==g&&(g=p[r]=s.getFoldWidget(r))}if(g){m="ace_fold-widget ace_"+g,"start"==g&&r==f&&r<n.end.row?m+=" ace_closed":m+=" ace_open",l.className!=m&&(l.className=m);var v=t.lineHeight+"px";i.setStyle(l.style,"height",v),i.setStyle(l.style,"display","inline-block")}else l&&i.setStyle(l.style,"display","none");var y=(d?d.getText(s,r):r+c).toString();return y!==a.data&&(a.data=y),i.setStyle(e.element.style,"height",this.$lines.computeLineHeight(r,t,s)+"px"),i.setStyle(e.element.style,"top",this.$lines.computeLineTop(r,t,s)+"px"),e.text=y,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(l.prototype),t.Gutter=l})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("../lib/dom"),o=function(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var i=this.markers[n];if(i.range){var r=i.range.clipRows(e.firstRow,e.lastRow);if(!r.isEmpty())if(r=r.toScreenRange(this.session),i.renderer){var o=this.$getTop(r.start.row,e),s=this.$padding+r.start.column*e.characterWidth;i.renderer(t,r,s,o,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,r,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,r,i.clazz,e):r.isMultiLine()?"text"==i.type?this.drawTextMarker(t,r,i.clazz,e):this.drawMultiLineMarker(t,r,i.clazz,e):this.drawSingleLineMarker(t,r,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,r,o){for(var s=this.session,a=t.start.row,l=t.end.row,c=a,u=0,h=0,d=s.getScreenLastRowColumn(c),p=new i(c,t.start.column,c,h);c<=l;c++)p.start.row=p.end.row=c,p.start.column=c==a?t.start.column:s.getRowWrapIndent(c),p.end.column=d,u=h,h=d,d=c+1<l?s.getScreenLastRowColumn(c+1):c==l?0:t.end.column,this.drawSingleLineMarker(e,p,n+(c==a?" ace_start":"")+" ace_br"+((c==a||c==a+1&&t.start.column?1:0)|(u<h?2:0)|(h>d?4:0)|(c==l?8:0)),r,c==l?0:1,o)},this.drawMultiLineMarker=function(e,t,n,i,r){var o=this.$padding,s=i.lineHeight,a=this.$getTop(t.start.row,i),l=o+t.start.column*i.characterWidth;if(r=r||"",this.session.$bidiHandler.isBidiRow(t.start.row)?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",i,null,r)):this.elt(n+" ace_br1 ace_start","height:"+s+"px;right:0;top:"+a+"px;left:"+l+"px;"+(r||"")),this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,n+" ace_br12",i,null,r)}else{a=this.$getTop(t.end.row,i);var u=t.end.column*i.characterWidth;this.elt(n+" ace_br12","height:"+s+"px;width:"+u+"px;top:"+a+"px;left:"+o+"px;"+(r||""))}if(!((s=(t.end.row-t.start.row-1)*i.lineHeight)<=0)){a=this.$getTop(t.start.row+1,i);var h=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(h?" ace_br"+h:""),"height:"+s+"px;right:0;top:"+a+"px;left:"+o+"px;"+(r||""))}},this.drawSingleLineMarker=function(e,t,n,i,r,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,i,r,o);var s=i.lineHeight,a=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),c=this.$padding+t.start.column*i.characterWidth;this.elt(n,"height:"+s+"px;width:"+a+"px;top:"+l+"px;left:"+c+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,n,i,r,o){var s=i.lineHeight,a=this.$getTop(t.start.row,i),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+s+"px;width:"+e.width+(r||0)+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(o||""))}),this)},this.drawFullLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,i)-o),this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))}}).call(o.prototype),t.Marker=o})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/dom"),o=e("../lib/lang"),s=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,l=function(e){this.dom=r,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)};(function(){i.implement(this,a),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showTabs?((i=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",i.textContent=o.stringRepeat(this.TAB_CHAR,n),t.push(i)):t.push(this.dom.createTextNode(o.stringRepeat(" ",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i,r="ace_indent-guide",s=this.showSpaces?" ace_invisible ace_invisible_space":"",a=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):a;(i=this.dom.createElement("span")).className=r+s,i.textContent=a,this.$tabStrings[" "]=i,(i=this.dom.createElement("span")).className=r+l,i.textContent=c,this.$tabStrings["\t"]=i}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;a<i;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}s++}for(var l,c=!1,u=(a=i,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);a>u&&(a=l.end.row+1,u=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>r);){var h=o[s++];if(h){this.dom.removeChildren(h),this.$renderLine(h,a,a==u&&l),c&&(h.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var d=e.lineHeight*this.session.getRowLength(a)+"px";h.style.height!=d&&(c=!0,h.style.height=d)}a++}if(c)for(;s<this.$lines.cells.length;){var p=this.$lines.cells[s++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,i=t?t.lastRow:-1;if(!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);r>0;r--)this.$lines.shift();if(t.lastRow>e.lastRow)for(r=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);r>0;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,n){for(var i=[],o=t,s=this.session.getNextFoldLine(o),a=s?s.start.row:1/0;o>a&&(o=s.end.row+1,a=(s=this.session.getNextFoldLine(o,s))?s.start.row:1/0),!(o>n);){var l=this.$lines.createCell(o,e,this.session),c=l.element;this.dom.removeChildren(c),r.setStyle(c.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),r.setStyle(c.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(c,o,o==a&&s),this.$useLineGroups()?c.className="ace_line_group":c.className="ace_line",i.push(l),o++}return i},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,i){for(var r,s=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,l=this.dom.createFragment(this.element),c=0;r=a.exec(i);){var u=r[1],h=r[2],d=r[3],p=r[4],f=r[5];if(s.showSpaces||!h){var m=c!=r.index?i.slice(c,r.index):"";if(c=r.index+r[0].length,m&&l.appendChild(this.dom.createTextNode(m,this.element)),u){var g=s.session.getScreenTabSize(t+r.index);l.appendChild(s.$tabStrings[g].cloneNode(!0)),t+=g-1}else h?s.showSpaces?((y=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",y.textContent=o.stringRepeat(s.SPACE_CHAR,h.length),l.appendChild(y)):l.appendChild(this.com.createTextNode(h,this.element)):d?((y=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",y.textContent=o.stringRepeat(s.SPACE_CHAR,d.length),l.appendChild(y)):p?(t+=1,(y=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",y.className=s.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",y.textContent=s.showSpaces?s.SPACE_CHAR:p,l.appendChild(y)):f&&(t+=1,(y=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",y.className="ace_cjk",y.textContent=f,l.appendChild(y))}}if(l.appendChild(this.dom.createTextNode(c?i.slice(c):i,this.element)),this.$textToken[n.type])e.appendChild(l);else{var v="ace_"+n.type.replace(/\./g," ace_"),y=this.dom.createElement("span");"fold"==n.type&&(y.style.width=n.value.length*this.config.characterWidth+"px"),y.className=v,y.appendChild(l),e.appendChild(y)}return t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);if(i<=0||i>=n)return t;if(" "==t[0]){for(var r=(i-=i%this.tabSize)/this.tabSize,o=0;o<r;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(i)}if("\t"==t[0]){for(o=0;o<i;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(i)}return t},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var i=0,r=0,s=n[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var u=t[c],h=u.value;if(0==c&&this.displayIndentGuides){if(i=h.length,!(h=this.renderIndentGuide(l,h,s)))continue;i-=h.length}if(i+h.length<s)a=this.$renderToken(l,a,u,h),i+=h.length;else{for(;i+h.length>=s;)a=this.$renderToken(l,a,u,h.substring(0,s-i)),h=h.substring(s-i),i=s,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(o.stringRepeat("",n.indent),this.element)),a=0,s=n[++r]||Number.MAX_VALUE;0!=h.length&&(i+=h.length,a=this.$renderToken(l,a,u,h))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},this.$renderSimpleLine=function(e,t){var n=0,i=t[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(e,r)),r&&(n=this.$renderToken(e,n,i,r));for(var o=1;o<t.length;o++){if(n+(r=(i=t[o]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,i,r);n=this.$renderToken(e,n,i,r)}},this.$renderOverflowMessage=function(e,t,n,i,r){n&&this.$renderToken(e,t,n,i.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=r?"<hide>":"<click to see more...>",e.appendChild(o)},this.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var i=this.$getFoldLineTokens(t,n);else i=this.session.getTokens(t);var r=e;if(i.length){var o=this.session.getRowSplitData(t);o&&o.length?(this.$renderWrappedLine(e,i,o),r=e.lastChild):(r=e,this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r)),this.$renderSimpleLine(r,i))}else this.$useLineGroups()&&(r=this.$createLineElement(),e.appendChild(r));if(this.showEOL&&r){n&&(t=n.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,r.appendChild(s)}},this.$getFoldLineTokens=function(e,t){var n=this.session,i=[],r=n.getTokens(e);return t.walk((function(e,t,o,s,a){null!=e?i.push({type:"fold",value:e}):(a&&(r=n.getTokens(t)),r.length&&function(e,t,n){for(var r=0,o=0;o+e[r].value.length<t;)if(o+=e[r].value.length,++r==e.length)return;for(o!=t&&((s=e[r].value.substring(t-o)).length>n-t&&(s=s.substring(0,n-t)),i.push({type:e[r].type,value:s}),o=t+s.length,r+=1);o<n&&r<e.length;){var s;(s=e[r].value).length+o>n?i.push({type:e[r].type,value:s.substring(0,n-o)}):i.push(e[r]),o+=s.length,r+=1}}(r,s,o))}),t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),t.Text=l})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)i.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,i.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,i.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),i.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,r=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]),n=0;for(var o=t.length;n<o;n++){var s=this.getPixelPosition(t[n].cursor,!0);if(!((s.top>e.height+e.offset||s.top<0)&&n>1)){var a=this.cursors[r++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,s,e,t[n],this.session):this.isCursorInView(s,e)?(i.setStyle(l,"display","block"),i.translate(a,s.left,s.top),i.setStyle(l,"width",Math.round(e.characterWidth)+"px"),i.setStyle(l,"height",e.lineHeight+"px")):i.setStyle(l,"display","none")}}for(;this.cursors.length>r;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=s,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(r.prototype),t.Cursor=r})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./lib/event"),s=e("./lib/event_emitter").EventEmitter,a=32768,l=function(e){this.element=r.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=r.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){i.implement(this,s),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(l.prototype);var c=function(e,t){l.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=r.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};i.inherits(c,l),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(c.prototype);var u=function(e,t){l.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(u,l),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(u.prototype),t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=u,t.VScrollBar=c,t.HScrollBar=u})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";var i=e("./lib/event"),r=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(i.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(r.prototype),t.RenderLoop=r})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var i=e("../lib/oop"),r=e("../lib/dom"),o=e("../lib/lang"),s=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c=256,u="function"==typeof ResizeObserver,h=200,d=t.FontMetrics=function(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",c),this.$characterSize={width:0,height:0},u?this.$addObserver():this.checkForSizeChanges()};(function(){i.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=s.onIdle((function t(){e.checkForSizeChanges(),s.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/c};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,c),this.$main.getBoundingClientRect().width/c},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=r.buildDom([e(0,0),e(h,0),e(0,h),e(h,h)],this.el)},this.transformCoordinates=function(e,t){function n(e,t,n){var i=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/i,(+e[1]*n[0]-e[0]*n[1])/i]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function r(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function s(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e&&(e=o(1/this.$getZoom(this.el),e)),this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),l=s(this.els[1]),c=s(this.els[2]),u=s(this.els[3]),d=n(i(u,l),i(u,c),i(r(l,c),r(u,a))),p=o(1+d[0],i(l,a)),f=o(1+d[1],i(c,a));if(t){var m=t,g=d[0]*m[0]/h+d[1]*m[1]/h+1,v=r(o(m[0],p),o(m[1],f));return r(o(1/g/h,v),a)}var y=i(e,a),b=n(i(p,o(d[0],y)),i(f,o(d[1],y)),y);return o(h,b)}}).call(d.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./config"),s=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,u=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,d=e("./renderloop").RenderLoop,p=e("./layer/font_metrics").FontMetrics,f=e("./lib/event_emitter").EventEmitter,m='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',g=e("./lib/useragent"),v=g.isIE;r.importCssString(m,"ace_editor.css",!1);var y=function(e,t){var n=this;this.container=e||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==o.get("useStrictCSP")&&o.set("useStrictCSP",!1),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var i=this.$textLayer=new l(this.content);this.canvas=i.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!g.isIOS,this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,f),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var r=this.container;i||(i=r.clientHeight||r.scrollHeight),n||(n=r.clientWidth||r.scrollWidth);var o=this.$updateCachedSize(e,t,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var o=0,s=this.$size,a={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if(i&&(e||s.height!=i)&&(s.height=i,o|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||s.width!=n)){o|=this.CHANGE_SIZE,s.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,r.setStyle(this.scrollBarH.element.style,"left",t+"px"),r.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),s.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";r.setStyle(this.scrollBarH.element.style,"right",l),r.setStyle(this.scroller.style,"right",l),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return s.$dirty=!n||!i,o&&this._signal("resize",a),o},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=r.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var i=this.layerConfig,o=n.top,s=n.left;o-=i.offset;var a=t&&t.useTextareaForIME?this.lineHeight:v?0:1;if(o<0||o>i.height-a)r.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-a;if(t)if(t.useTextareaForIME){var u=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(u)[0]}else o+=this.lineHeight+2;else o+=this.lineHeight;(s-=this.scrollLeft)>this.$size.scrollerWidth-l&&(s=this.$size.scrollerWidth-l),s+=this.gutterWidth+this.margin.left,r.setStyle(e,"height",a+"px"),r.setStyle(e,"width",l+"px"),r.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-l),Math.min(o,c))}}}else r.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.setMargin=function(e,t,n,i){var r=this.margin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-n.offset);var o=n.width+2*this.$padding+"px",s=n.minHeight+"px";r.setStyle(this.content.style,"width",o),r.setStyle(this.content.style,"height",s)}if(e&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(n):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var r=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,r,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=c;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,i-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+u.right)));var h=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+c<0||this.scrollTop>u.top),d=a!==h;d&&(this.$vScroll=h,this.scrollBarV.setVisible(h));var p,f,m=this.scrollTop%this.lineHeight,g=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-m)/this.lineHeight)),y=v+g,b=this.lineHeight;v=e.screenToDocumentRow(v,0);var w=e.getFoldLine(v);w&&(v=w.start.row),p=e.documentToScreenRow(v,0),f=e.getRowLength(v)*b,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(y)*b+f,m=this.scrollTop-p*b;var _=0;return(this.layerConfig.width!=r||s)&&(_=this.CHANGE_H_SCROLL),(s||d)&&(_|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:v,firstRowScreen:p,lastRow:y,lineHeight:b,characterWidth:this.characterWidth,minHeight:l,maxHeight:i,offset:m,gutterOffset:b?Math.max(0,Math.ceil((m+t.height-t.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),_},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),r=i.left,o=i.top,s=n&&n.top||0,a=n&&n.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>o?(t&&l+s>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft;c>r?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,r=n.top-i*(t||0);return this.session.setScrollTop(r),r},this.STEPS=8,this.$calcSteps=function(e,t){var n,i,r=0,o=this.STEPS,s=[];for(r=0;r<o;++r)s.push((n=r/this.STEPS,i=e,(t-e)*(Math.pow(n-1,3)+1)+i));return s},this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(r-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(o,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0])==n)return}var o=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval((function(){if(!i.session)return clearInterval(i.$timer);o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:s,column:a,side:o-a>0?1:-1,offsetX:r}},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),r)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),o=i.row*this.lineHeight;return{pageX:n.left+r-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(e,t,n,i){var r=this.session;r.bgTokenizer.lines[n]=null;var o={type:t,value:e},s=r.getTokens(n);if(null==i)s.push(o);else for(var a=0,l=0;l<s.length;l++){var c=s[l];if(i<=(a+=c.value.length)){var u=c.value.length-(a-i),h=c.value.slice(0,u),d=c.value.slice(u);s.splice(l,1,{type:c.type,value:h},o,{type:c.type,value:d});break}}this.updateLines(n,n)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)s(e);else{var i=e||this.$options.theme.initialValue;o.loadModule(["theme",i],s)}function s(i){if(n.$themeId!=e)return t&&t();if(!i||!i.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.$id&&(n.$themeId=i.$id),r.importCssString(i.cssText,i.cssClass,n.container),n.theme&&r.removeCssClass(n.container,n.theme.cssClass);var o="padding"in i?i.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=i.cssClass,n.theme=i,r.addCssClass(n.container,i.cssClass),r.setCssClass(n.container,"ace_dark",i.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:i}),t&&t()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){r.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){r.removeCssClass(this.container,e)},this.setCursorStyle=function(e){r.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){r.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){r.importCssString(m,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(y.prototype),o.defineOptions(y.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!g.isMobile&&!g.isIE}}),t.VirtualRenderer=y})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,s=e("../config");function a(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+r.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,o),this.$createWorkerFromOldConfig=function(t,n,i,r,o){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)r=r||s.moduleUrl(n,"worker");else{var l=this.$normalizePath;r=r||l(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach((function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=a(r),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:i}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return r.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype),t.UIWorkerClient=function(e,t,n){var i=null,r=!1,a=Object.create(o),c=[],u=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),i&&(r?setTimeout(h):h())}});u.setEmitSync=function(e){r=e};var h=function(){var e=c.shift();e.command?i[e.command].apply(i,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){u.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],(function(e){for(i=new e[n](a);c.length;)h()})),u},t.WorkerClient=l,t.createWorker=a})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./range").Range,r=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),s=function(e,t,n,i,r,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout((function(){s.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,r),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var r=this.pos;r.$insertRight=!0,r.detach(),r.markerId=n.addMarker(new i(r.row,r.column,r.row,r.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,r=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),r&&(this.length+=n),r&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--){var a={row:(l=this.others[s]).row,column:l.column+o};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(s=this.others.length-1;s>=0;s--){var l;a={row:(l=this.others[s]).row,column:l.column+o},this.doc.remove(new i(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,r){t.removeMarker(n.markerId),n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),r,null,!1)};n(this.pos,this.mainClass);for(var r=this.others.length;r--;)n(this.others[r],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(s.prototype),t.PlaceHolder=s})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var i=e("../lib/event"),r=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,s=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&r.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||l){if(0===c){var u,h=e.editor,d=h.selection,p=h.inMultiSelectMode,f=e.getDocumentPosition(),m=d.getCursor(),g=e.inSelection()||d.isEmpty()&&o(f,m),v=e.x,y=e.y,b=h.session,w=h.renderer.pixelToScreenCoordinates(v,y),_=w;if(h.$mouseHandler.$enableJumpToDef)a&&n||l&&n?u=s?"block":"add":n&&h.$blockSelectEnabled&&(u="block");else if(l&&!n){if(u="add",!p&&s)return}else n&&h.$blockSelectEnabled&&(u="block");if(u&&r.isMac&&t.ctrlKey&&h.$mouseHandler.cancelContextMenu(),"add"==u){if(!p&&g)return;if(!p){var x=d.toOrientedRange();h.addSelectionMarker(x)}var k=d.rangeList.rangeAtPoint(f);h.inVirtualSelectionMode=!0,s&&(k=null,x=d.ranges[0]||x,h.removeSelectionMarker(x)),h.once("mouseup",(function(){var e=d.toOrientedRange();k&&e.isEmpty()&&o(k.cursor,e.cursor)?d.substractPoint(e.cursor):(s?d.substractPoint(x.cursor):x&&(h.removeSelectionMarker(x),d.addRange(x)),d.addRange(e)),h.inVirtualSelectionMode=!1}))}else if("block"==u){var C;e.stop(),h.inVirtualSelectionMode=!0;var S=[],A=function(){var e=h.renderer.pixelToScreenCoordinates(v,y),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);o(_,e)&&o(t,d.lead)||(_=e,h.selection.moveToPosition(t),h.renderer.scrollCursorIntoView(),h.removeSelectionMarkers(S),S=d.rectangularRangeBlock(_,w),h.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=h.$mouseHandler.$clickSelection.clone()),S.forEach(h.addSelectionMarker,h),h.updateSelectionMarkers())};p&&!l?d.toSingleRange():!p&&l&&(C=d.toOrientedRange(),h.addSelectionMarker(C)),s?w=b.documentToScreenPosition(d.lead):d.moveToPosition(f),_={row:-1,column:-1};var T=A;i.capture(h.container,(function(e){v=e.clientX,y=e.clientY}),(function(e){A(),clearInterval(O),h.removeSelectionMarkers(S),S.length||(S=[d.toOrientedRange()]),C&&(h.removeSelectionMarker(C),d.toSingleRange(C));for(var t=0;t<S.length;t++)d.addRange(S[t]);h.inVirtualSelectionMode=!1,h.$mouseHandler.$clickSelection=null}));var O=setInterval((function(){T()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var i=e("./range_list").RangeList,r=e("./range").Range,o=e("./selection").Selection,s=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),l=e("./lib/lang"),c=e("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var u=new(0,e("./search").Search),h=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(h.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new i,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var i=e[n],o=i.start.row,s=i.end.row;if(o===s)t.push(i.clone());else{for(t.push(new r(o,i.start.column,o,this.session.getLine(o).length));++o<s;)t.push(this.getLineRange(o,!0));t.push(new r(s,0,s,i.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}for(this.toSingleRange(),n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(i,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var i=[],o=e.column<t.column;if(o)var s=e.column,a=t.column,l=e.offsetX,c=t.offsetX;else s=t.column,a=e.column,l=t.offsetX,c=e.offsetX;var u,h,d,p=e.row<t.row;if(p)var f=e.row,m=t.row;else f=t.row,m=e.row;s<0&&(s=0),f<0&&(f=0),f==m&&(n=!0);for(var g=f;g<=m;g++){var v=r.fromPoints(this.session.screenToDocumentPosition(g,s,l),this.session.screenToDocumentPosition(g,a,c));if(v.isEmpty()){if(u&&(d=u,(h=v.end).row==d.row&&h.column==d.column))break;u=v.end}v.cursor=o?v.start:v.end,i.push(v)}if(p&&i.reverse(),!n){for(var y=i.length-1;i[y].isEmpty()&&y>0;)y--;if(y>0)for(var b=0;i[b].isEmpty();)b++;for(var w=y;w>=b;w--)i[w].isEmpty()&&i.splice(w,1)}return i}}.call(o.prototype);var d=e("./editor").Editor;function p(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",s),e.commands.addCommands(c.defaultCommands),function(e){if(e.textInput){var t=e.textInput.getElement(),n=!1;a.addListener(t,"keydown",(function(t){var r=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&r?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&i()}),e),a.addListener(t,"keyup",i,e),a.addListener(t,"blur",i,e)}function i(t){n&&(e.renderer.setMouseCursor(""),n=!1)}}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var r=t.indexOf(i);-1!=r&&t.splice(r,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=n&&n.keepOrder,s=1==n||n&&n.$byLines,a=this.session,l=this.selection,c=l.rangeList,u=(r?l:c).ranges;if(!u.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=l._eventRegistry;l._eventRegistry={};var d=new o(a);this.inVirtualSelectionMode=!0;for(var p=u.length;p--;){if(s)for(;p>0&&u[p].start.row==u[p-1].end.row;)p--;d.fromOrientedRange(u[p]),d.index=p,this.selection=a.selection=d;var f=e.exec?e.exec(this,t||{}):e(this,t||{});i||void 0===f||(i=f),d.toOrientedRange(u[p])}d.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=h,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();(e=n.join(r)).length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,null==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var s,a=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())c=a;else var l=this.session.documentToScreenPosition(i?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);if(i?(s=r.fromPoints(a,c)).cursor=s.start:(s=r.fromPoints(c,a)).cursor=s.end,s.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var u=n.cursor}else this.selection.addRange(n);this.selection.addRange(s),u&&this.selection.substractPoint(u)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;)if((a=i[r]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}n.mergeOverlappingRanges();var s=[];for(r=i.length;r--;){var a=i[r];s.unshift(t.getTextRange(a))}for(e<0?s.unshift(s.pop()):s.push(s.shift()),r=i.length;r--;)o=(a=i[r]).clone(),t.replace(a,s[r]),a.start.row=o.start.row,a.start.column=o.start.column;n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var i=this.session,r=i.multiSelect.toOrientedRange();if(!r.isEmpty()||((r=i.getWordRange(r.start.row,r.start.column)).cursor=-1==e?r.start:r.end,this.multiSelect.addRange(r),!n)){var o=i.getTextRange(r),s=function(e,t,n){return u.$options.wrap=!0,u.$options.needle=t,u.$options.backwards=-1==n,u.find(e)}(i,o,e);s&&(s.cursor=-1==e?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(r.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,o=n.filter((function(e){if(e.cursor.row==i)return!0;i=e.cursor.row}));if(n.length&&o.length!=n.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var s=0,a=1/0,c=n.map((function(t){var n=t.cursor,i=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>s&&(s=n.column),i<a&&(a=i),i}));n.forEach((function(t,n){var i=t.cursor,o=s-i.column,u=c[n]-a;o>u?e.insert(i,l.stringRepeat(" ",o-u)):e.remove(new r(i.row,i.column,i.row,i.column-o+u)),t.start.column=t.end.column=s,t.start.row=t.end.row=i.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var u=this.selection.getRange(),h=u.start.row,d=u.end.row,p=h==d;if(p){var f,m=this.session.getLength();do{f=this.session.getLine(d)}while(/[=:]/.test(f)&&++d<m);do{f=this.session.getLine(h)}while(/[=:]/.test(f)&&--h>0);h<0&&(h=0),d>=m&&(d=m-1)}var g=this.session.removeFullLines(h,d);g=this.$reAlignText(g,p),this.session.insert({row:h,column:0},g.join("\n")+"\n"),p||(u.start.column=0,u.end.column=g[g.length-1].length),this.selection.setRange(u)}},this.$reAlignText=function(e,t){var n,i,r,o=!0,s=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,i=t[2].length,r=t[3].length,t):(n+i+r!=t[1].length+t[2].length+t[3].length&&(s=!1),n!=t[1].length&&(o=!1),n>t[1].length&&(n=t[1].length),i<t[2].length&&(i=t[2].length),r>t[3].length&&(r=t[3].length),t):[e]})).map(t?c:o?s?function(e){return e[2]?a(n+i-e[2].length)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?a(n)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?a(n)+e[2]+a(i-e[2].length+r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=p,e("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(e){p(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",s)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",s))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var r=/\S/,o=e.getLine(t),s=o.search(r);if(-1!=s){for(var a=n||o.length,l=e.getLength(),c=t,u=t;++t<l;){var h=e.getLine(t).search(r);if(-1!=h){if(h<=s){var d=e.getTokenAt(t,0);if(!d||"string"!==d.type)break}u=t}}if(u>c){var p=e.getLine(u).length;return new i(c,a,u,p)}}},this.openingBracketBlock=function(e,t,n,r,o){var s={row:n,column:r+1},a=e.$findClosingBracket(t,s,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),i.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,n,r,o){var s={row:n,column:r},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,i.fromPoints(a,s)}}).call(r.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./lib/dom");function r(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,r=i.start.row,o=i.end.row,s="add"==e.action,a=r+1;a<o;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[r]?n[o].hidden=s:n[r]=n[o]:(n[r]==n[o]&&(n[r]=void 0),n[o].hidden=s))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,i=e.end.row-n;if(0===i);else if("remove"==e.action){var r=t.splice(n+1,i);!t[n]&&r[r.length-1]&&(t[n]=r.pop()),r.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(i);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var r=this.session.lineWidgets;e.row!=n.end.row||r[n.start.row]?e.hidden=!0:r[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=1/0,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/i.characterWidth));var a=s.h/i.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<r&&(r=s.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);r>0&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=r;s<=o;s++){var a=i[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(r.prototype),t.LineWidgets=r})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";var i=e("../line_widgets").LineWidgets,r=e("../lib/dom"),o=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new i(n),n.widgetManager.attach(e));var s=e.getCursorPosition(),a=s.row,l=n.widgetManager.getWidgetsAtRow(a).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():a-=t;var c,u=function(e,t,n){var i=e.getAnnotations().sort(o.comparePoints);if(i.length){var r=function(e,t,n){for(var i=0,r=e.length-1;i<=r;){var o=i+r>>1,s=n(t,e[o]);if(s>0)i=o+1;else{if(!(s<0))return o;r=o-1}}return-(i+1)}(i,{row:t,column:-1},o.comparePoints);r<0&&(r=-r-1),r>=i.length?r=n>0?0:i.length-1:0===r&&n<0&&(r=i.length-1);var s=i[r];if(s&&n){if(s.row===t){do{s=i[r+=n]}while(s&&s.row===t);if(!s)return i.slice()}var a=[];t=s.row;do{a[n<0?"unshift":"push"](s),s=i[r+=n]}while(s&&s.row==t);return a.length&&a}}}(n,a,t);if(u){var h=u[0];s.column=(h.pos&&"number"!=typeof h.column?h.pos.sc:h.column)||0,s.row=h.row,c=e.renderer.$gutterLayer.$annotations[s.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var d={row:s.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},p=d.el.appendChild(r.createElement("div")),f=d.el.appendChild(r.createElement("div"));f.className="error_widget_arrow "+c.className;var m=e.renderer.$cursorLayer.getPixelPosition(s).left;f.style.left=m+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(r.createElement("div"));var g=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(g),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(g),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},r.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/dom"),o=e("./lib/event"),s=e("./range").Range,a=e("./editor").Editor,l=e("./edit_session").EditSession,c=e("./undomanager").UndoManager,u=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.define=n.amdD,t.edit=function(e,n){if("string"==typeof e){var i=e;if(!(e=document.getElementById(i)))throw new Error("ace.edit can't find div #"+i)}if(e&&e.env&&e.env.editor instanceof a)return e.env.editor;var s="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;s=l.value,e=r.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(s=e.textContent,e.innerHTML="");var c=t.createEditSession(s),h=new a(new u(e),c,n),d={document:c,editor:h,onResize:h.resize.bind(h,null)};return l&&(d.textarea=l),o.addListener(window,"resize",d.onResize),h.on("destroy",(function(){o.removeListener(window,"resize",d.onResize),d.editor.container.env=null})),h.container.env=h.env=d,h},t.createEditSession=function(e,t){var n=new l(e,t);return n.setUndoManager(new c),n},t.Range=s,t.Editor=a,t.EditSession=l,t.UndoManager=c,t.VirtualRenderer=u,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){for(var n in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(n)&&(window.ace[n]=t[n]);window.ace.default=window.ace,e&&(e.exports=window.ace)}))},2679:(e,t,n)=>{e=n.nmd(e),ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],(function(e,t,n){"use strict";var i=e("./lib/dom"),r=e("./lib/oop"),o=e("./lib/event_emitter").EventEmitter,s=e("./lib/lang"),a=e("./range").Range,l=e("./range_list").RangeList,c=e("./keyboard/hash_handler").HashHandler,u=e("./tokenizer").Tokenizer,h=e("./clipboard"),d={CURRENT_WORD:function(e){return e.session.getTextRange(e.session.getWordRange())},SELECTION:function(e,t,n){var i=e.session.getTextRange();return n?i.replace(/\n\r?([ \t]*\S)/g,"\n"+n+"$1"):i},CURRENT_LINE:function(e){return e.session.getLine(e.getCursorPosition().row)},PREV_LINE:function(e){return e.session.getLine(e.getCursorPosition().row-1)},LINE_INDEX:function(e){return e.getCursorPosition().row},LINE_NUMBER:function(e){return e.getCursorPosition().row+1},SOFT_TABS:function(e){return e.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(e){return e.session.getTabSize()},CLIPBOARD:function(e){return h.getText&&h.getText()},FILENAME:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0]},FILENAME_BASE:function(e){return/[^/\\]*$/.exec(this.FILEPATH(e))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(e){return this.FILEPATH(e).replace(/[^/\\]*$/,"")},FILEPATH:function(e){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(e){var t=e.session.$mode||{};return t.blockComment&&t.blockComment.start||""},BLOCK_COMMENT_END:function(e){var t=e.session.$mode||{};return t.blockComment&&t.blockComment.end||""},LINE_COMMENT:function(e){return(e.session.$mode||{}).lineCommentStart||""},CURRENT_YEAR:p.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:p.bind(null,{year:"2-digit"}),CURRENT_MONTH:p.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:p.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:p.bind(null,{month:"short"}),CURRENT_DATE:p.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:p.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:p.bind(null,{weekday:"short"}),CURRENT_HOUR:p.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:p.bind(null,{minute:"2-digit"}),CURRENT_SECOND:p.bind(null,{second:"2-digit"})};function p(e){var t=(new Date).toLocaleString("en-us",e);return 1==t.length?"0"+t:t}d.SELECTED_TEXT=d.SELECTION;var f=function(){this.snippetMap={},this.snippetNameMap={}};(function(){r.implement(this,o),this.getTokenizer=function(){return f.$tokenizer||this.createTokenizer()},this.createTokenizer=function(){function e(e){return e=e.substr(1),/^\d+$/.test(e)?[{tabstopId:parseInt(e,10)}]:[{text:e}]}function t(e){return"(?:[^\\\\"+e+"]|\\\\.)"}var n={regex:"/("+t("/")+"+)/",onMatch:function(e,t,n){var i=n[0];return i.fmtString=!0,i.guard=e.slice(1,-1),i.flag="",""},next:"formatString"};return f.$tokenizer=new u({start:[{regex:/\\./,onMatch:function(e,t,n){var i=e[1];return("}"==i&&n.length||-1!="`$\\".indexOf(i))&&(e=i),[e]}},{regex:/}/,onMatch:function(e,t,n){return[n.length?n.shift():e]}},{regex:/\$(?:\d+|\w+)/,onMatch:e},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(t,n,i){var r=e(t.substr(1));return i.unshift(r[0]),r},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(e,t,n){var i=e.slice(1,-1).replace(/\\[,|\\]|,/g,(function(e){return 2==e.length?e[1]:"\0"})).split("\0").map((function(e){return{value:e}}));return n[0].choices=i,[i[0]]},next:"start"},n,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(e,t,n){return n.length&&n[0].expectElse?(n[0].expectElse=!1,n[0].ifEnd={elseEnd:n[0]},[n[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(e,t,n){var i=e[1];return"}"==i&&n.length||-1!="`$\\".indexOf(i)?e=i:"n"==i?e="\n":"t"==i?e="\t":-1!="ulULE".indexOf(i)&&(e={changeCase:i,local:i>"a"}),[e]}},{regex:"/\\w*}",onMatch:function(e,t,n){var i=n.shift();return i&&(i.flag=e.slice(1,-1)),this.next=i&&i.tabstopId?"start":"",[i||e]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(e,t,n){return[{text:e.slice(1)}]}},{regex:/\${\w+/,onMatch:function(e,t,n){var i={text:e.slice(2)};return n.unshift(i),[i]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(e,t,n){var i=n.shift();return this.next=i&&i.tabstopId?"start":"",[i||e]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(e,t,n){return n[0].formatFunction=e.slice(2,-1),[n.shift()]},next:"formatString"},n,{regex:/:[\?\-+]?/,onMatch:function(e,t,n){"+"==e[1]&&(n[0].ifEnd=n[0]),"?"==e[1]&&(n[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]})},this.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map((function(e){return e.value||e}))},this.getVariableValue=function(e,t,n){if(/^\d+$/.test(t))return(this.variables.__||{})[t]||"";if(/^[A-Z]\d+$/.test(t))return(this.variables[t[0]+"__"]||{})[t.substr(1)]||"";if(t=t.replace(/^TM_/,""),!this.variables.hasOwnProperty(t))return"";var i=this.variables[t];return"function"==typeof i&&(i=this.variables[t](e,t,n)),null==i?"":i},this.variables=d,this.tmStrFormat=function(e,t,n){if(!t.fmt)return e;var i=t.flag||"",r=t.guard;r=new RegExp(r,i.replace(/[^gim]/g,""));var o="string"==typeof t.fmt?this.tokenizeTmSnippet(t.fmt,"formatString"):t.fmt,s=this,a=e.replace(r,(function(){var e=s.variables.__;s.variables.__=[].slice.call(arguments);for(var t=s.resolveVariables(o,n),i="E",r=0;r<t.length;r++){var a=t[r];if("object"==typeof a)if(t[r]="",a.changeCase&&a.local){var l=t[r+1];l&&"string"==typeof l&&("u"==a.changeCase?t[r]=l[0].toUpperCase():t[r]=l[0].toLowerCase(),t[r+1]=l.substr(1))}else a.changeCase&&(i=a.changeCase);else"U"==i?t[r]=a.toUpperCase():"L"==i&&(t[r]=a.toLowerCase())}return s.variables.__=e,t.join("")}));return a},this.tmFormatFunction=function(e,t,n){return"upcase"==t.formatFunction?e.toUpperCase():"downcase"==t.formatFunction?e.toLowerCase():e},this.resolveVariables=function(e,t){for(var n=[],i="",r=!0,o=0;o<e.length;o++){var s=e[o];if("string"!=typeof s){if(s){if(r=!1,s.fmtString){var a=e.indexOf(s,o+1);-1==a&&(a=e.length),s.fmt=e.slice(o+1,a),o=a}if(s.text){var l=this.getVariableValue(t,s.text,i)+"";s.fmtString&&(l=this.tmStrFormat(l,s,t)),s.formatFunction&&(l=this.tmFormatFunction(l,s,t)),l&&!s.ifEnd?(n.push(l),c(s)):!l&&s.ifEnd&&c(s.ifEnd)}else s.elseEnd?c(s.elseEnd):(null!=s.tabstopId||null!=s.changeCase)&&n.push(s)}}else n.push(s),"\n"==s?(r=!0,i=""):r&&(i=/^\t*/.exec(s)[0],r=/\S/.test(s))}function c(t){var n=e.indexOf(t,o+1);-1!=n&&(o=n)}return n},this.insertSnippetForSelection=function(e,t){var n=e.getCursorPosition(),i=e.session.getLine(n.row),r=e.session.getTabString(),o=i.match(/^\s*/)[0];n.column<o.length&&(o=o.slice(0,n.column)),t=t.replace(/\r/g,"");var s=this.tokenizeTmSnippet(t);s=(s=this.resolveVariables(s,e)).map((function(e){return"\n"==e?e+o:"string"==typeof e?e.replace(/\t/g,r):e}));var a=[];s.forEach((function(e,t){if("object"==typeof e){var n=e.tabstopId,i=a[n];if(i||((i=a[n]=[]).index=n,i.value="",i.parents={}),-1===i.indexOf(e)){e.choices&&!i.choices&&(i.choices=e.choices),i.push(e);var r=s.indexOf(e,t+1);if(-1!==r){var o=s.slice(t+1,r);o.some((function(e){return"object"==typeof e}))&&!i.value?i.value=o:!o.length||i.value&&"string"==typeof i.value||(i.value=o.join(""))}}}})),a.forEach((function(e){e.length=0}));var l={};function c(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if("object"==typeof i){if(l[i.tabstopId])continue;i=t[e.lastIndexOf(i,n-1)]||{tabstopId:i.tabstopId}}t[n]=i}return t}for(var u=0;u<s.length;u++){var h=s[u];if("object"==typeof h){var d=h.tabstopId,p=a[d],f=s.indexOf(h,u+1);if(l[d])l[d]===h&&(delete l[d],Object.keys(l).forEach((function(e){p.parents[e]=!0})));else{l[d]=h;var g=p.value;"string"!=typeof g?g=c(g):h.fmt&&(g=this.tmStrFormat(g,h,e)),s.splice.apply(s,[u+1,Math.max(0,f-u)].concat(g,h)),-1===p.indexOf(h)&&p.push(h)}}}var v=0,y=0,b="";s.forEach((function(e){if("string"==typeof e){var t=e.split("\n");t.length>1?(y=t[t.length-1].length,v+=t.length-1):y+=e.length,b+=e}else e&&(e.start?e.end={row:v,column:y}:e.start={row:v,column:y})}));var w=e.getSelectionRange(),_=e.session.replace(w,b),x=new m(e),k=e.inVirtualSelectionMode&&e.selection.index;x.addTabstops(a,w.start,_,k)},this.insertSnippet=function(e,t){var n=this;if(e.inVirtualSelectionMode)return n.insertSnippetForSelection(e,t);e.forEachSelection((function(){n.insertSnippetForSelection(e,t)}),null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()},this.$getScope=function(e){var t=e.session.$mode.$id||"";if("html"===(t=t.split("/").pop())||"php"===t){"php"!==t||e.session.$mode.inlinePhp||(t="html");var n=e.getCursorPosition(),i=e.session.getState(n.row);"object"==typeof i&&(i=i[0]),i.substring&&("js-"==i.substring(0,3)?t="javascript":"css-"==i.substring(0,4)?t="css":"php-"==i.substring(0,4)&&(t="php"))}return t},this.getActiveScopes=function(e){var t=this.$getScope(e),n=[t],i=this.snippetMap;return i[t]&&i[t].includeScopes&&n.push.apply(n,i[t].includeScopes),n.push("_"),n},this.expandWithTab=function(e,t){var n=this,i=e.forEachSelection((function(){return n.expandSnippetForSelection(e,t)}),null,{keepOrder:!0});return i&&e.tabstopManager&&e.tabstopManager.tabNext(),i},this.expandSnippetForSelection=function(e,t){var n,i=e.getCursorPosition(),r=e.session.getLine(i.row),o=r.substring(0,i.column),s=r.substr(i.column),a=this.snippetMap;return this.getActiveScopes(e).some((function(e){var t=a[e];return t&&(n=this.findMatchingSnippet(t,o,s)),!!n}),this),!!n&&(t&&t.dryRun||(e.session.doc.removeInLine(i.row,i.column-n.replaceBefore.length,i.column+n.replaceAfter.length),this.variables.M__=n.matchBefore,this.variables.T__=n.matchAfter,this.insertSnippetForSelection(e,n.content),this.variables.M__=this.variables.T__=null),!0)},this.findMatchingSnippet=function(e,t,n){for(var i=e.length;i--;){var r=e[i];if((!r.startRe||r.startRe.test(t))&&(!r.endRe||r.endRe.test(n))&&(r.startRe||r.endRe))return r.matchBefore=r.startRe?r.startRe.exec(t):[""],r.matchAfter=r.endRe?r.endRe.exec(n):[""],r.replaceBefore=r.triggerRe?r.triggerRe.exec(t)[0]:"",r.replaceAfter=r.endTriggerRe?r.endTriggerRe.exec(n)[0]:"",r}},this.snippetMap={},this.snippetNameMap={},this.register=function(e,t){var n=this.snippetMap,i=this.snippetNameMap,r=this;function o(e){return e&&!/^\^?\(.*\)\$?$|^\\b$/.test(e)&&(e="(?:"+e+")"),e||""}function a(e,t,n){return e=o(e),t=o(t),n?(e=t+e)&&"$"!=e[e.length-1]&&(e+="$"):(e+=t)&&"^"!=e[0]&&(e="^"+e),new RegExp(e)}function l(e){e.scope||(e.scope=t||"_"),t=e.scope,n[t]||(n[t]=[],i[t]={});var o=i[t];if(e.name){var l=o[e.name];l&&r.unregister(l),o[e.name]=e}n[t].push(e),e.prefix&&(e.tabTrigger=e.prefix),!e.content&&e.body&&(e.content=Array.isArray(e.body)?e.body.join("\n"):e.body),e.tabTrigger&&!e.trigger&&(!e.guard&&/^\w/.test(e.tabTrigger)&&(e.guard="\\b"),e.trigger=s.escapeRegExp(e.tabTrigger)),(e.trigger||e.guard||e.endTrigger||e.endGuard)&&(e.startRe=a(e.trigger,e.guard,!0),e.triggerRe=new RegExp(e.trigger),e.endRe=a(e.endTrigger,e.endGuard,!0),e.endTriggerRe=new RegExp(e.endTrigger))}e||(e=[]),Array.isArray(e)?e.forEach(l):Object.keys(e).forEach((function(t){l(e[t])})),this._signal("registerSnippets",{scope:t})},this.unregister=function(e,t){var n=this.snippetMap,i=this.snippetNameMap;function r(e){var r=i[e.scope||t];if(r&&r[e.name]){delete r[e.name];var o=n[e.scope||t],s=o&&o.indexOf(e);s>=0&&o.splice(s,1)}}e.content?r(e):Array.isArray(e)&&e.forEach(r)},this.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t,n=[],i={},r=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm;t=r.exec(e);){if(t[1])try{i=JSON.parse(t[1]),n.push(i)}catch(e){}if(t[4])i.content=t[4].replace(/^\t/gm,""),n.push(i),i={};else{var o=t[2],s=t[3];if("regex"==o){var a=/\/((?:[^\/\\]|\\.)*)|$/g;i.guard=a.exec(s)[1],i.trigger=a.exec(s)[1],i.endTrigger=a.exec(s)[1],i.endGuard=a.exec(s)[1]}else"snippet"==o?(i.tabTrigger=s.match(/^\S*/)[0],i.name||(i.name=s)):o&&(i[o]=s)}}return n},this.getSnippetByName=function(e,t){var n,i=this.snippetNameMap;return this.getActiveScopes(t).some((function(t){var r=i[t];return r&&(n=r[e]),!!n}),this),n}}).call(f.prototype);var m=function(e){if(e.tabstopManager)return e.tabstopManager;e.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=s.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)};(function(){this.attach=function(e){this.index=0,this.ranges=[],this.tabstops=[],this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},this.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges=null,this.tabstops=null,this.selectedTabstop=null,this.editor.removeListener("change",this.$onChange),this.editor.removeListener("changeSelection",this.$onChangeSelection),this.editor.removeListener("changeSession",this.$onChangeSession),this.editor.commands.removeListener("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.editor=null},this.onChange=function(e){for(var t="r"==e.action[0],n=this.selectedTabstop||{},i=n.parents||{},r=(this.tabstops||[]).slice(),o=0;o<r.length;o++){var s=r[o],a=s==n||i[s.index];if(s.rangeList.$bias=a?0:1,"remove"==e.action&&s!==n){var l=s.parents&&s.parents[n.index],c=s.rangeList.pointIndex(e.start,l);c=c<0?-c-1:c+1;var u=s.rangeList.pointIndex(e.end,l);u=u<0?-u-1:u-1;for(var h=s.rangeList.ranges.slice(c,u),d=0;d<h.length;d++)this.removeRange(h[d])}s.rangeList.$onChange(e)}var p=this.editor.session;this.$inChange||!t||1!=p.getLength()||p.getValue()||this.detach()},this.updateLinkedFields=function(){var e=this.selectedTabstop;if(e&&e.hasLinkedRanges&&e.firstNonLinked){this.$inChange=!0;for(var n=this.editor.session,i=n.getTextRange(e.firstNonLinked),r=0;r<e.length;r++){var o=e[r];if(o.linked){var s=o.original,a=t.snippetManager.tmStrFormat(i,s,this.editor);n.replace(o,a)}}this.$inChange=!1}},this.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},this.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,n=this.editor.selection.isEmpty(),i=0;i<this.ranges.length;i++)if(!this.ranges[i].linked){var r=this.ranges[i].contains(e.row,e.column),o=n||this.ranges[i].contains(t.row,t.column);if(r&&o)return}this.detach()}},this.onChangeSession=function(){this.detach()},this.tabNext=function(e){var t=this.tabstops.length,n=this.index+(e||1);(n=Math.min(Math.max(n,1),t))==t&&(n=0),this.selectTabstop(n),0===n&&this.detach()},this.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,(t=this.tabstops[this.index])&&t.length){this.selectedTabstop=t;var n=t.firstNonLinked||t;if(t.choices&&(n.cursor=n.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(n);else{var i=this.editor.multiSelect;i.toSingleRange(n);for(var r=0;r<t.length;r++)t.hasLinkedRanges&&t[r].linked||i.addRange(t[r].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},this.addTabstops=function(e,t,n){var i=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!e[0]){var r=a.fromPoints(n,n);v(r.start,t),v(r.end,t),e[0]=[r],e[0].index=0}var o=[this.index+1,0],s=this.ranges;e.forEach((function(e,n){for(var r=this.$openTabstops[n]||e,c=0;c<e.length;c++){var u=e[c],h=a.fromPoints(u.start,u.end||u.start);g(h.start,t),g(h.end,t),h.original=u,h.tabstop=r,s.push(h),r!=e?r.unshift(h):r[c]=h,u.fmtString||r.firstNonLinked&&i?(h.linked=!0,r.hasLinkedRanges=!0):r.firstNonLinked||(r.firstNonLinked=h)}r.firstNonLinked||(r.hasLinkedRanges=!1),r===e&&(o.push(r),this.$openTabstops[n]=r),this.addTabstopMarkers(r),r.rangeList=r.rangeList||new l,r.rangeList.$bias=0,r.rangeList.addList(r)}),this),o.length>2&&(this.tabstops.length&&o.push(o.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,o))},this.addTabstopMarkers=function(e){var t=this.editor.session;e.forEach((function(e){e.markerId||(e.markerId=t.addMarker(e,"ace_snippet-marker","text"))}))},this.removeTabstopMarkers=function(e){var t=this.editor.session;e.forEach((function(e){t.removeMarker(e.markerId),e.markerId=null}))},this.removeRange=function(e){var t=e.tabstop.indexOf(e);-1!=t&&e.tabstop.splice(t,1),-1!=(t=this.ranges.indexOf(e))&&this.ranges.splice(t,1),-1!=(t=e.tabstop.rangeList.ranges.indexOf(e))&&e.tabstop.splice(t,1),this.editor.session.removeMarker(e.markerId),e.tabstop.length||(-1!=(t=this.tabstops.indexOf(e.tabstop))&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},this.keyboardHandler=new c,this.keyboardHandler.bindKeys({Tab:function(e){t.snippetManager&&t.snippetManager.expandWithTab(e)||(e.tabstopManager.tabNext(1),e.renderer.scrollCursorIntoView())},"Shift-Tab":function(e){e.tabstopManager.tabNext(-1),e.renderer.scrollCursorIntoView()},Esc:function(e){e.tabstopManager.detach()}})}).call(m.prototype);var g=function(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row},v=function(e,t){e.row==t.row&&(e.column-=t.column),e.row-=t.row};i.importCssString(".ace_snippet-marker {    -moz-box-sizing: border-box;    box-sizing: border-box;    background: rgba(194, 193, 208, 0.09);    border: 1px dotted rgba(211, 208, 235, 0.62);    position: absolute;}","snippets.css",!1),t.snippetManager=new f;var y=e("./editor").Editor;(function(){this.insertSnippet=function(e,n){return t.snippetManager.insertSnippet(this,e,n)},this.expandSnippet=function(e){return t.snippetManager.expandWithTab(this,e)}}).call(y.prototype)})),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../virtual_renderer").VirtualRenderer,r=e("../editor").Editor,o=e("../range").Range,s=e("../lib/event"),a=e("../lib/lang"),l=e("../lib/dom"),c=function(e){var t=new i(e);t.$maxLines=4;var n=new r(t);return n.setHighlightActiveLine(!1),n.setShowPrintMargin(!1),n.renderer.setShowGutter(!1),n.renderer.setHighlightGutterLine(!1),n.$mouseHandler.$focusTimeout=0,n.$highlightTagPending=!0,n};l.importCssString(".ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #CAD6FA;    z-index: 1;}.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {    background-color: #3a674e;}.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid #abbffe;    margin-top: -1px;    background: rgba(233,233,253,0.4);    position: absolute;    z-index: 2;}.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {    border: 1px solid rgba(109, 150, 13, 0.8);    background: rgba(58, 103, 78, 0.62);}.ace_completion-meta {    opacity: 0.5;    margin: 0.9em;}.ace_completion-message {    color: blue;}.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #2d69c7;}.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{    color: #93ca12;}.ace_editor.ace_autocomplete {    width: 300px;    z-index: 200000;    border: 1px lightgray solid;    position: fixed;    box-shadow: 2px 3px 5px rgba(0,0,0,.2);    line-height: 1.4;    background: #fefefe;    color: #111;}.ace_dark.ace_editor.ace_autocomplete {    border: 1px #484747 solid;    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);    line-height: 1.4;    background: #25282c;    color: #c1c1c1;}","autocompletion.css",!1),t.AcePopup=function(e){var t=l.createElement("div"),n=new c(t);e&&e.appendChild(t),t.style.display="none",n.renderer.content.style.cursor="default",n.renderer.setStyle("ace_autocomplete"),n.setOption("displayIndentGuides",!1),n.setOption("dragDelay",150);var i,r=function(){};n.focus=r,n.$isFocused=!0,n.renderer.$cursorLayer.restartTimer=r,n.renderer.$cursorLayer.element.style.opacity=0,n.renderer.$maxLines=8,n.renderer.$keepTextAreaAtCursor=!1,n.setHighlightActiveLine(!1),n.session.highlight(""),n.session.$searchHighlight.clazz="ace_highlight-marker",n.on("mousedown",(function(e){var t=e.getDocumentPosition();n.selection.moveToPosition(t),h.start.row=h.end.row=t.row,e.stop()}));var u=new o(-1,0,-1,1/0),h=new o(-1,0,-1,1/0);h.id=n.session.addMarker(h,"ace_active-line","fullLine"),n.setSelectOnHover=function(e){e?u.id&&(n.session.removeMarker(u.id),u.id=null):u.id=n.session.addMarker(u,"ace_line-hover","fullLine")},n.setSelectOnHover(!1),n.on("mousemove",(function(e){if(i){if(i.x!=e.x||i.y!=e.y){(i=e).scrollTop=n.renderer.scrollTop;var t=i.getDocumentPosition().row;u.start.row!=t&&(u.id||n.setRow(t),p(t))}}else i=e})),n.renderer.on("beforeRender",(function(){if(i&&-1!=u.start.row){i.$pos=null;var e=i.getDocumentPosition().row;u.id||n.setRow(e),p(e,!0)}})),n.renderer.on("afterRender",(function(){var e=n.getRow(),t=n.renderer.$textLayer,i=t.element.childNodes[e-t.config.firstRow];i!==t.selectedNode&&t.selectedNode&&l.removeCssClass(t.selectedNode,"ace_selected"),t.selectedNode=i,i&&l.addCssClass(i,"ace_selected")}));var d=function(){p(-1)},p=function(e,t){e!==u.start.row&&(u.start.row=u.end.row=e,t||n.session._emit("changeBackMarker"),n._emit("changeHoverMarker"))};n.getHoveredRow=function(){return u.start.row},s.addListener(n.container,"mouseout",d),n.on("hide",d),n.on("changeSelection",d),n.session.doc.getLength=function(){return n.data.length},n.session.doc.getLine=function(e){var t=n.data[e];return"string"==typeof t?t:t&&t.value||""};var f=n.session.bgTokenizer;return f.$tokenizeRow=function(e){var t=n.data[e],i=[];if(!t)return i;"string"==typeof t&&(t={value:t});var r=t.caption||t.value||t.name;function o(e,n){e&&i.push({type:(t.className||"")+(n||""),value:e})}for(var s=r.toLowerCase(),a=(n.filterText||"").toLowerCase(),l=0,c=0,u=0;u<=a.length;u++)if(u!=c&&(t.matchMask&1<<u||u==a.length)){var h=a.slice(c,u);c=u;var d=s.indexOf(h,l);if(-1==d)continue;o(r.slice(l,d),""),l=d+h.length,o(r.slice(d,l),"completion-highlight")}return o(r.slice(l,r.length),""),t.meta&&i.push({type:"completion-meta",value:t.meta}),t.message&&i.push({type:"completion-message",value:t.message}),i},f.$updateOnChange=r,f.start=r,n.session.$computeWidth=function(){return this.screenWidth=0},n.isOpen=!1,n.isTopdown=!1,n.autoSelect=!0,n.filterText="",n.data=[],n.setData=function(e,t){n.filterText=t||"",n.setValue(a.stringRepeat("\n",e.length),-1),n.data=e||[],n.setRow(0)},n.getData=function(e){return n.data[e]},n.getRow=function(){return h.start.row},n.setRow=function(e){e=Math.max(this.autoSelect?0:-1,Math.min(this.data.length,e)),h.start.row!=e&&(n.selection.clearSelection(),h.start.row=h.end.row=e||0,n.session._emit("changeBackMarker"),n.moveCursorTo(e||0,0),n.isOpen&&n._signal("select"))},n.on("changeSelection",(function(){n.isOpen&&n.setRow(n.selection.lead.row),n.renderer.scrollCursorIntoView()})),n.hide=function(){this.container.style.display="none",this._signal("hide"),n.isOpen=!1},n.show=function(e,t,r){var o=this.container,s=window.innerHeight,a=window.innerWidth,l=this.renderer,c=l.$maxLines*t*1.4,u=e.top+this.$borderSize;u>s/2&&!r&&u+t+c>s?(l.$maxPixelHeight=u-2*this.$borderSize,o.style.top="",o.style.bottom=s-u+"px",n.isTopdown=!1):(u+=t,l.$maxPixelHeight=s-u-.2*t,o.style.top=u+"px",o.style.bottom="",n.isTopdown=!0),o.style.display="";var h=e.left;h+o.offsetWidth>a&&(h=a-o.offsetWidth),o.style.left=h+"px",this._signal("show"),i=null,n.isOpen=!0},n.goTo=function(e){var t=this.getRow(),n=this.session.getLength()-1;switch(e){case"up":t=t<=0?n:t-1;break;case"down":t=t>=n?-1:t+1;break;case"start":t=0;break;case"end":t=n}this.setRow(t)},n.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},n.$imageSize=0,n.$borderSize=1,n},t.$singleLineEditor=c})),ace.define("ace/autocomplete/util",["require","exports","module"],(function(e,t,n){"use strict";t.parForEach=function(e,t,n){var i=0,r=e.length;0===r&&n();for(var o=0;o<r;o++)t(e[o],(function(e,t){++i===r&&n(e,t)}))};var i=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;t.retrievePrecedingIdentifier=function(e,t,n){n=n||i;for(var r=[],o=t-1;o>=0&&n.test(e[o]);o--)r.push(e[o]);return r.reverse().join("")},t.retrieveFollowingIdentifier=function(e,t,n){n=n||i;for(var r=[],o=t;o<e.length&&n.test(e[o]);o++)r.push(e[o]);return r},t.getCompletionPrefix=function(e){var t,n=e.getCursorPosition(),i=e.session.getLine(n.row);return e.completers.forEach(function(e){e.identifierRegexps&&e.identifierRegexps.forEach(function(e){!t&&e&&(t=this.retrievePrecedingIdentifier(i,n.column,e))}.bind(this))}.bind(this)),t||this.retrievePrecedingIdentifier(i,n.column)}})),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config"],(function(e,t,n){"use strict";var i=e("./keyboard/hash_handler").HashHandler,r=e("./autocomplete/popup").AcePopup,o=e("./autocomplete/util"),s=e("./lib/lang"),a=e("./lib/dom"),l=e("./snippets").snippetManager,c=e("./config"),u=function(){this.autoInsert=!1,this.autoSelect=!0,this.exactMatch=!1,this.gatherCompletionsId=0,this.keyboardHandler=new i,this.keyboardHandler.bindKeys(this.commands),this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.changeTimer=s.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=s.delayedCall(this.updateDocTooltip.bind(this),50)};(function(){this.$init=function(){return this.popup=new r(document.body||document.documentElement),this.popup.on("click",function(e){this.insertMatch(),e.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.tooltipTimer.bind(null,null)),this.popup.on("select",this.tooltipTimer.bind(null,null)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup},this.getPopup=function(){return this.popup||this.$init()},this.openPopup=function(e,t,n){this.popup||this.$init(),this.popup.autoSelect=this.autoSelect,this.popup.setData(this.completions.filtered,this.completions.filterText),e.keyBinding.addKeyboardHandler(this.keyboardHandler);var i=e.renderer;if(this.popup.setRow(this.autoSelect?0:-1),n)n&&!t&&this.detach();else{this.popup.setTheme(e.getTheme()),this.popup.setFontSize(e.getFontSize());var r=i.layerConfig.lineHeight,o=i.$cursorLayer.getPixelPosition(this.base,!0);o.left-=this.popup.getTextLeftOffset();var s=e.container.getBoundingClientRect();o.top+=s.top-i.layerConfig.offset,o.left+=s.left-e.renderer.scrollLeft,o.left+=i.gutterWidth,this.popup.show(o,r)}this.changeTimer.cancel()},this.detach=function(){this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener),this.changeTimer.cancel(),this.hideDocTooltip(),this.gatherCompletionsId+=1,this.popup&&this.popup.isOpen&&this.popup.hide(),this.base&&this.base.detach(),this.activated=!1,this.completions=this.base=null},this.changeListener=function(e){var t=this.editor.selection.lead;(t.row!=this.base.row||t.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},this.blurListener=function(e){var t=document.activeElement,n=this.editor.textInput.getElement(),i=e.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(e.relatedTarget),r=this.popup&&this.popup.container;t==n||t.parentNode==r||i||t==this.tooltipNode||e.relatedTarget==n||this.detach()},this.mousedownListener=function(e){this.detach()},this.mousewheelListener=function(e){this.detach()},this.goTo=function(e){this.popup.goTo(e)},this.insertMatch=function(e,t){if(e||(e=this.popup.getData(this.popup.getRow())),!e)return!1;var n=this.completions;if(this.editor.startOperation({command:{name:"insertMatch"}}),e.completer&&e.completer.insertMatch)e.completer.insertMatch(this.editor,e);else{if(n.filterText)for(var i,r=this.editor.selection.getAllRanges(),o=0;i=r[o];o++)i.start.column-=n.filterText.length,this.editor.session.remove(i);e.snippet?l.insertSnippet(this.editor,e.snippet):this.editor.execCommand("insertstring",e.value||e)}this.completions==n&&this.detach(),this.editor.endOperation()},this.commands={Up:function(e){e.completer.goTo("up")},Down:function(e){e.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(e){e.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(e){e.completer.goTo("end")},Esc:function(e){e.completer.detach()},Return:function(e){return e.completer.insertMatch()},"Shift-Return":function(e){e.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(e){var t=e.completer.insertMatch();if(t||e.tabstopManager)return t;e.completer.goTo("down")},PageUp:function(e){e.completer.popup.gotoPageUp()},PageDown:function(e){e.completer.popup.gotoPageDown()}},this.gatherCompletions=function(e,t){var n=e.getSession(),i=e.getCursorPosition(),r=o.getCompletionPrefix(e);this.base=n.doc.createAnchor(i.row,i.column-r.length),this.base.$insertRight=!0;var s=[],a=e.completers.length;return e.completers.forEach((function(l,c){l.getCompletions(e,n,i,r,(function(n,i){!n&&i&&(s=s.concat(i)),t(null,{prefix:o.getCompletionPrefix(e),matches:s,finished:0==--a})}))})),!0},this.showPopup=function(e,t){this.editor&&this.detach(),this.activated=!0,this.editor=e,e.completer!=this&&(e.completer&&e.completer.detach(),e.completer=this),e.on("changeSelection",this.changeListener),e.on("blur",this.blurListener),e.on("mousedown",this.mousedownListener),e.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,t)},this.updateCompletions=function(e,t){if(e&&this.base&&this.completions){var n=this.editor.getCursorPosition(),i=this.editor.session.getTextRange({start:this.base,end:n});if(i==this.completions.filterText)return;return this.completions.setFilter(i),this.completions.filtered.length&&(1!=this.completions.filtered.length||this.completions.filtered[0].value!=i||this.completions.filtered[0].snippet)?void this.openPopup(this.editor,i,e):this.detach()}if(t&&t.matches)return n=this.editor.getSelectionRange().start,this.base=this.editor.session.doc.createAnchor(n.row,n.column),this.base.$insertRight=!0,this.completions=new h(t.matches),this.openPopup(this.editor,"",e);var r=this.gatherCompletionsId,o=function(e){if(e.finished)return this.detach()}.bind(this),s=function(t){var n=t.prefix,i=t.matches;this.completions=new h(i),this.exactMatch&&(this.completions.exactMatch=!0),this.completions.setFilter(n);var r=this.completions.filtered;return r.length&&(1!=r.length||r[0].value!=n||r[0].snippet)?this.autoInsert&&1==r.length&&t.finished?this.insertMatch(r[0]):void this.openPopup(this.editor,n,e):o(t)}.bind(this),a=!0,l=null;if(this.gatherCompletions(this.editor,function(e,t){var n=t.prefix,i=t&&t.matches;if(!i||!i.length)return o(t);0===n.indexOf(t.prefix)&&r==this.gatherCompletionsId&&(a?l=t:s(t))}.bind(this)),a=!1,l){var c=l;l=null,s(c)}},this.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},this.updateDocTooltip=function(){var e=this.popup,t=e.data,n=t&&(t[e.getHoveredRow()]||t[e.getRow()]),i=null;return n&&this.editor&&this.popup.isOpen?(this.editor.completers.some((function(e){return e.getDocTooltip&&(i=e.getDocTooltip(n)),i})),i||"string"==typeof n||(i=n),"string"==typeof i&&(i={docText:i}),i&&(i.docHTML||i.docText)?void this.showDocTooltip(i):this.hideDocTooltip()):this.hideDocTooltip()},this.showDocTooltip=function(e){this.tooltipNode||(this.tooltipNode=a.createElement("div"),this.tooltipNode.className="ace_tooltip ace_doc-tooltip",this.tooltipNode.style.margin=0,this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this));var t=this.tooltipNode;e.docHTML?t.innerHTML=e.docHTML:e.docText&&(t.textContent=e.docText),t.parentNode||document.body.appendChild(t);var n=this.popup,i=n.container.getBoundingClientRect();t.style.top=n.container.style.top,t.style.bottom=n.container.style.bottom,t.style.display="block",window.innerWidth-i.right<320?i.left<320?n.isTopdown?(t.style.top=i.bottom+"px",t.style.left=i.left+"px",t.style.right="",t.style.bottom=""):(t.style.top=n.container.offsetTop-t.offsetHeight+"px",t.style.left=i.left+"px",t.style.right="",t.style.bottom=""):(t.style.right=window.innerWidth-i.left+"px",t.style.left=""):(t.style.left=i.right+1+"px",t.style.right="")},this.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),this.tooltipNode){var e=this.tooltipNode;this.editor.isFocused()||document.activeElement!=e||this.editor.focus(),this.tooltipNode=null,e.parentNode&&e.parentNode.removeChild(e)}},this.onTooltipClick=function(e){for(var t=e.target;t&&t!=this.tooltipNode;){if("A"==t.nodeName&&t.href){t.rel="noreferrer",t.target="_blank";break}t=t.parentNode}},this.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var e=this.popup.container;e&&e.parentNode&&e.parentNode.removeChild(e)}this.editor&&this.editor.completer==this&&this.editor.completer,this.popup=null}}).call(u.prototype),u.for=function(e){return e.completer||(c.get("sharedPopups")?(u.$shared||(u.$sharedInstance=new u),e.completer=u.$sharedInstance):(e.completer=new u,e.once("destroy",(function(e,t){t.completer.destroy()})))),e.completer},u.startCommand={name:"startAutocomplete",exec:function(e,t){var n=u.for(e);n.autoInsert=!1,n.autoSelect=!0,n.showPopup(e,t),n.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var h=function(e,t){this.all=e,this.filtered=e,this.filterText=t||"",this.exactMatch=!1};(function(){this.setFilter=function(e){if(e.length>this.filterText&&0===e.lastIndexOf(this.filterText,0))var t=this.filtered;else t=this.all;this.filterText=e,t=(t=this.filterCompletions(t,this.filterText)).sort((function(e,t){return t.exactMatch-e.exactMatch||t.$score-e.$score||(e.caption||e.value).localeCompare(t.caption||t.value)}));var n=null;t=t.filter((function(e){var t=e.snippet||e.caption||e.value;return t!==n&&(n=t,!0)})),this.filtered=t},this.filterCompletions=function(e,t){var n=[],i=t.toUpperCase(),r=t.toLowerCase();e:for(var o,s=0;o=e[s];s++){var a=o.caption||o.value||o.snippet;if(a){var l,c,u=-1,h=0,d=0;if(this.exactMatch){if(t!==a.substr(0,t.length))continue e}else{var p=a.toLowerCase().indexOf(r);if(p>-1)d=p;else for(var f=0;f<t.length;f++){var m=a.indexOf(r[f],u+1),g=a.indexOf(i[f],u+1);if((l=m>=0&&(g<0||m<g)?m:g)<0)continue e;(c=l-u-1)>0&&(-1===u&&(d+=10),d+=c,h|=1<<f),u=l}}o.matchMask=h,o.exactMatch=d?0:1,o.$score=(o.score||0)-d,n.push(o)}}return n}}).call(h.prototype),t.Autocomplete=u,t.FilteredList=h})),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],(function(e,t,n){var i=e("../range").Range,r=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;t.getCompletions=function(e,t,n,o,s){var a=function(e,t){var n=function(e,t){return e.getTextRange(i.fromPoints({row:0,column:0},t)).split(r).length-1}(e,t),o=e.getValue().split(r),s=Object.create(null),a=o[n];return o.forEach((function(e,t){if(e&&e!==a){var i=Math.abs(n-t),r=o.length-i;s[e]?s[e]=Math.max(r,s[e]):s[e]=r}})),s}(t,n);s(null,Object.keys(a).map((function(e){return{caption:e,value:e,score:a[e],meta:"local"}})))}})),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],(function(e,t,n){"use strict";var i=e("../snippets").snippetManager,r=e("../autocomplete").Autocomplete,o=e("../config"),s=e("../lib/lang"),a=e("../autocomplete/util"),l=e("../autocomplete/text_completer"),c={getCompletions:function(e,t,n,i,r){if(t.$mode.completer)return t.$mode.completer.getCompletions(e,t,n,i,r);var o=e.session.getState(n.row);r(null,t.$mode.getCompletions(o,t,n,i))}},u={getCompletions:function(e,t,n,r,o){var s=[],a=t.getTokenAt(n.row,n.column);a&&a.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?s.push("html-tag"):s=i.getActiveScopes(e);var l=i.snippetMap,c=[];s.forEach((function(e){for(var t=l[e]||[],n=t.length;n--;){var i=t[n],r=i.name||i.tabTrigger;r&&c.push({caption:r,snippet:i.content,meta:i.tabTrigger&&!i.name?i.tabTrigger+" ":"snippet",type:"snippet"})}}),this),o(null,c)},getDocTooltip:function(e){var t,n;"snippet"!=e.type||e.docHTML||(e.docHTML=["<b>",s.escapeHTML(e.caption),"</b>","<hr></hr>",s.escapeHTML((t=e.snippet,n={},t.replace(/\${(\d+)(:(.*?))?}/g,(function(e,t,i,r){return n[t]=r||""})).replace(/\$(\d+?)/g,(function(e,t){return n[t]}))))].join(""))}},h=[u,l,c];t.setCompleters=function(e){h.length=0,e&&h.push.apply(h,e)},t.addCompleter=function(e){h.push(e)},t.textCompleter=l,t.keyWordCompleter=c,t.snippetCompleter=u;var d={name:"expandSnippet",exec:function(e){return i.expandWithTab(e)},bindKey:"Tab"},p=function(e,t){f(t.session.$mode)},f=function(e){"string"==typeof e&&(e=o.$modes[e]),e&&(i.files||(i.files={}),m(e.$id,e.snippetFileId),e.modes&&e.modes.forEach(f))},m=function(e,t){t&&e&&!i.files[e]&&(i.files[e]={},o.loadModule(t,(function(t){t&&(i.files[e]=t,!t.snippets&&t.snippetText&&(t.snippets=i.parseSnippetFile(t.snippetText)),i.register(t.snippets||[],t.scope),t.includeScopes&&(i.snippetMap[t.scope].includeScopes=t.includeScopes,t.includeScopes.forEach((function(e){f("ace/mode/"+e)}))))})))},g=function(e){var t=e.editor,n=t.completer&&t.completer.activated;if("backspace"===e.command.name)n&&!a.getCompletionPrefix(t)&&t.completer.detach();else if("insertstring"===e.command.name&&a.getCompletionPrefix(t)&&!n){var i=r.for(t);i.autoInsert=!1,i.showPopup(t)}},v=e("../editor").Editor;e("../config").defineOptions(v.prototype,"editor",{enableBasicAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:h),this.commands.addCommand(r.startCommand)):this.commands.removeCommand(r.startCommand)},value:!1},enableLiveAutocompletion:{set:function(e){e?(this.completers||(this.completers=Array.isArray(e)?e:h),this.commands.on("afterExec",g)):this.commands.removeListener("afterExec",g)},value:!1},enableSnippets:{set:function(e){e?(this.commands.addCommand(d),this.on("changeMode",p),p(0,this)):(this.commands.removeCommand(d),this.off("changeMode",p))},value:!1}})})),ace.require(["ace/ext/language_tools"],(function(t){e&&(e.exports=t)}))},2568:(e,t,n)=>{e=n.nmd(e),ace.define("ace/mode/graphqlschema_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({keyword:"type|interface|union|enum|schema|input|implements|extends|scalar","storage.type":"Int|Float|String|ID|Boolean"},"identifier");this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};i.inherits(o,r),t.GraphQLSchemaHighlightRules=o})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(s,o),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(e,t,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(e,t,n,i){var r,o=e.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,n);if(r=o.match(this.foldingStartMarker)){var s=r.index;if(r[1])return this.openingBracketBlock(e,r[1],n,s);var a=e.getCommentFoldRange(n,s+r[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}return"markbegin"!==t&&(r=o.match(this.foldingStopMarker))?(s=r.index+r[0].length,r[1]?this.closingBracketBlock(e,r[1],n,s):e.getCommentFoldRange(n,s,-1)):void 0},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),o=t,s=n.length,a=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(i>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(i==c)break}a=t}}return new r(o,s,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),o=e.getLength(),s=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<o;){t=e.getLine(n);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(n>s)return new r(s,i,n,t.length)}}.call(s.prototype)})),ace.define("ace/mode/graphqlschema",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/graphqlschema_highlight_rules","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text").Mode,o=e("./graphqlschema_highlight_rules").GraphQLSchemaHighlightRules,s=e("./folding/cstyle").FoldMode,a=function(){this.HighlightRules=o,this.foldingRules=new s};i.inherits(a,r),function(){this.lineCommentStart="#",this.$id="ace/mode/graphqlschema",this.snippetFileId="ace/snippets/graphqlschema"}.call(a.prototype),t.Mode=a})),ace.require(["ace/mode/graphqlschema"],(function(t){e&&(e.exports=t)}))},1413:(e,t,n)=>{e=n.nmd(e),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},o.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};i.inherits(o,r),o.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},o.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},o.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=o})),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./doc_comment_highlight_rules").DocCommentHighlightRules,o=e("./text_highlight_rules").TextHighlightRules,s="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",a=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[r.getStartRule("doc-start"),c("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+s+")(\\.)(prototype)(\\.)("+s+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+s+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:s},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:s},{regex:"",token:"empty",next:"no_regex"}],start:[r.getStartRule("doc-start"),c("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:s},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:n},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),e&&0==e.jsx||l.call(this)),this.embedRules(r,"doc-",[r.getEndRule("no_regex")]),this.normalizeRules()};function l(){var e=s.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var i="/"==e.charAt(1)?2:1;return 1==i?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==i&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==i?"":"end-")+"tag-open.xml",value:e.slice(0,i)},{type:"meta.tag.tag-name.xml",value:e.substr(i)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,c("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function c(e){return[{token:"comment",regex:/\/\*/,next:[r.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[r.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}i.inherits(a,o),t.JavaScriptHighlightRules=a})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var r=n[1].length,o=e.findMatchingBracket({row:t,column:r});if(!o||o.row==t)return 0;var s=this.$getIndent(e.getLine(o.row));e.replace(new i(t,0,t,r-1),s)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(s,o),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(e,t,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(e,t,n,i){var r,o=e.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,n);if(r=o.match(this.foldingStartMarker)){var s=r.index;if(r[1])return this.openingBracketBlock(e,r[1],n,s);var a=e.getCommentFoldRange(n,s+r[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}return"markbegin"!==t&&(r=o.match(this.foldingStopMarker))?(s=r.index+r[0].length,r[1]?this.closingBracketBlock(e,r[1],n,s):e.getCommentFoldRange(n,s,-1)):void 0},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),o=t,s=n.length,a=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(i>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(i==c)break}a=t}}return new r(o,s,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),o=e.getLength(),s=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<o;){t=e.getLine(n);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(n>s)return new r(s,i,n,t.length)}}.call(s.prototype)})),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text").Mode,o=e("./javascript_highlight_rules").JavaScriptHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../worker/worker_client").WorkerClient,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new l,this.foldingRules=new c};i.inherits(u,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e),o=r.tokens,s=r.state;if(o.length&&"comment"==o[o.length-1].type)return i;if("start"==e||"no_regex"==e)(a=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(i+=n);else if("doc-start"==e){if("start"==s||"no_regex"==s)return"";var a;(a=t.match(/^\s*(\/?)\*/))&&(a[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call(u.prototype),t.Mode=u})),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),o=t.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",s=t.supportFunction="rgb|rgba|url|attr|counter|counters",a=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",l=t.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",c=t.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",u=t.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",h=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",d=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",p=function(){var e=this.createKeywordMapper({"support.function":s,"support.constant":a,"support.type":o,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:u},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+u+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:u},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:h},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:d},{include:"url"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};i.inherits(p,r),t.CssHighlightRules=p})),ace.define("ace/mode/css_completions",["require","exports","module"],(function(e,t,n){"use strict";var i={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},r=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var e=document.createElement("c").style;for(var t in e)if("string"==typeof e[t]){var n=t.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}));i.hasOwnProperty(n)||(i[n]=1)}}this.completionsDefined=!0},this.getCompletions=function(e,t,n,i){if(this.completionsDefined||this.defineCompletions(),"ruleset"===e||"ace/mode/scss"==t.$mode.$id){var r=t.getLine(n.row).substr(0,n.column);return/:[^;]+$/.test(r)?(/([\w\-]+):[^:]*$/.test(r),this.getPropertyValueCompletions(e,t,n,i)):this.getPropertyCompletions(e,t,n,i)}return[]},this.getPropertyCompletions=function(e,t,n,r){return Object.keys(i).map((function(e){return{caption:e,snippet:e+": $0;",meta:"property",score:1e6}}))},this.getPropertyValueCompletions=function(e,t,n,r){var o=t.getLine(n.row).substr(0,n.column),s=(/([\w\-]+):[^:]*$/.exec(o)||{})[1];if(!s)return[];var a=[];return s in i&&"object"==typeof i[s]&&(a=Object.keys(i[s])),a.map((function(e){return{caption:e,snippet:e,meta:"property value",score:1e6}}))}}).call(r.prototype),t.CssCompletions=r})),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),o=e("../../token_iterator").TokenIterator,s=function(){this.inherit(r),this.add("colon","insertion",(function(e,t,n,i,r){if(":"===r&&n.selection.isEmpty()){var s=n.getCursorPosition(),a=new o(i,s.row,s.column),l=a.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=a.stepBackward()),l&&"support.type"===l.type){var c=i.doc.getLine(s.row);if(":"===c.substring(s.column,s.column+1))return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(c.substring(s.column)))return{text:":;",selection:[1,1]}}}})),this.add("colon","deletion",(function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&":"===s){var a=n.getCursorPosition(),l=new o(i,a.row,a.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type&&";"===i.doc.getLine(r.start.row).substring(r.end.column,r.end.column+1))return r.end.column++,r}})),this.add("semicolon","insertion",(function(e,t,n,i,r){if(";"===r&&n.selection.isEmpty()){var o=n.getCursorPosition();if(";"===i.doc.getLine(o.row).substring(o.column,o.column+1))return{text:"",selection:[1,1]}}})),this.add("!important","insertion",(function(e,t,n,i,r){if("!"===r&&n.selection.isEmpty()){var o=n.getCursorPosition(),s=i.doc.getLine(o.row);if(/^\s*(;|}|$)/.test(s.substring(o.column)))return{text:"!important",selection:[10,10]}}}))};i.inherits(s,r),t.CssBehaviour=s})),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text").Mode,o=e("./css_highlight_rules").CssHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../worker/worker_client").WorkerClient,l=e("./css_completions").CssCompletions,c=e("./behaviour/css").CssBehaviour,u=e("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new c,this.$completer=new l,this.foldingRules=new u};i.inherits(h,r),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e).tokens;return r.length&&"comment"==r[r.length-1].type||t.match(/^.*\{\s*$/)&&(i+=n),i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.getCompletions=function(e,t,n,i){return this.$completer.getCompletions(e,t,n,i)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/css_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}.call(h.prototype),t.Mode=h})),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(e){var t="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===o&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(r.prototype),i.inherits(o,r),t.XmlHighlightRules=o})),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/lang"),o=e("./css_highlight_rules").CssHighlightRules,s=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./xml_highlight_rules").XmlHighlightRules,l=r.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),c=function(){a.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var n=l[t];return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(n?"."+n:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(o,"css-","style"),this.embedTagRules(new s({jsx:!1}).getRules(),"js-","script"),this.constructor===c&&this.normalizeRules()};i.inherits(c,a),t.HtmlHighlightRules=c})),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator;function s(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}e("../../lib/lang");var a=function(){this.add("string_dquotes","insertion",(function(e,t,n,i,r){if('"'==r||"'"==r){var a=r,l=i.doc.getTextRange(n.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&n.getWrapBehavioursEnabled())return{text:a+l+a,selection:!1};var c=n.getCursorPosition(),u=i.doc.getLine(c.row).substring(c.column,c.column+1),h=new o(i,c.row,c.column),d=h.getCurrentToken();if(u==a&&(s(d,"attribute-value")||s(d,"string")))return{text:"",selection:[1,1]};if(d||(d=h.stepBackward()),!d)return;for(;s(d,"tag-whitespace")||s(d,"whitespace");)d=h.stepBackward();var p=!u||u.match(/\s/);if(s(d,"attribute-equals")&&(p||">"==u)||s(d,"decl-attribute-equals")&&(p||"?"==u))return{text:a+a,selection:[1,1]}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)&&i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==o)return r.end.column++,r})),this.add("autoclosing","insertion",(function(e,t,n,i,r){if(">"==r){var a=n.getSelectionRange().start,l=new o(i,a.row,a.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(s(c,"tag-name")||s(c,"tag-whitespace")||s(c,"attribute-name")||s(c,"attribute-equals")||s(c,"attribute-value")))return;if(s(c,"reference.attribute-value"))return;if(s(c,"attribute-value")){var u=l.getCurrentTokenColumn()+c.value.length;if(a.column<u)return;if(a.column==u){var h=l.stepForward();if(h&&s(h,"attribute-value"))return;l.stepBackward()}}if(/^\s*>/.test(i.getLine(a.row).slice(a.column)))return;for(;!s(c,"tag-name");)if("<"==(c=l.stepBackward()).value){c=l.stepForward();break}var d=l.getCurrentTokenRow(),p=l.getCurrentTokenColumn();if(s(l.stepBackward(),"end-tag-open"))return;var f=c.value;if(d==a.row&&(f=f.substring(0,a.column-p)),this.voidElements.hasOwnProperty(f.toLowerCase()))return;return{text:"></"+f+">",selection:[1,1]}}})),this.add("autoindent","insertion",(function(e,t,n,i,r){if("\n"==r){var s=n.getCursorPosition(),a=i.getLine(s.row),l=new o(i,s.row,s.column),c=l.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=l.stepBackward();if(!c)return;var u=c.value,h=l.getCurrentTokenRow();if(!(c=l.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[u]){var d=i.getTokenAt(s.row,s.column+1),p=(a=i.getLine(h),this.$getIndent(a)),f=p+i.getTabString();return d&&"</"===d.value?{text:"\n"+f+"\n"+p,selection:[1,f.length,1,f.length]}:{text:"\n"+f}}}}}))};i.inherits(a,r),t.XmlBehaviour=a})),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("./fold_mode").FoldMode,o=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};i.inherits(o,r),function(){this.$getMode=function(e){for(var t in"string"!=typeof e&&(e=e[0]),this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,n,i){var r=this.$getMode(e);return r?r.getFoldWidget(t,n,i):""},this.getFoldWidget=function(e,t,n){return this.$tryMode(e.getState(n-1),e,t,n)||this.$tryMode(e.getState(n),e,t,n)||this.defaultMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n){var i=this.$getMode(e.getState(n-1));return i&&i.getFoldWidget(e,t,n)||(i=this.$getMode(e.getState(n))),i&&i.getFoldWidget(e,t,n)||(i=this.defaultMode),i.getFoldWidgetRange(e,t,n)}}.call(o.prototype)})),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=(e("../../lib/lang"),e("../../range").Range),o=e("./fold_mode").FoldMode,s=e("../../token_iterator").TokenIterator,a=t.FoldMode=function(e,t){o.call(this),this.voidElements=e||{},this.optionalEndTags=i.mixin({},this.voidElements),t&&i.mixin(this.optionalEndTags,t)};i.inherits(a,o);var l=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function c(e,t){return e.type.lastIndexOf(t+".xml")>-1}(function(){this.getFoldWidget=function(e,t,n){var i=this._getFirstTagInLine(e,n);return i?i.closing||!i.tagName&&i.selfClosing?"markbeginend"==t?"end":"":!i.tagName||i.selfClosing||this.voidElements.hasOwnProperty(i.tagName.toLowerCase())||this._findEndTagInLine(e,n,i.tagName,i.end.column)?"":"start":this.getCommentFoldWidget(e,n)},this.getCommentFoldWidget=function(e,t){return/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t))?"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),i=new l,r=0;r<n.length;r++){var o=n[r];if(c(o,"tag-open")){if(i.end.column=i.start.column+o.value.length,i.closing=c(o,"end-tag-open"),!(o=n[++r]))return null;for(i.tagName=o.value,i.end.column+=o.value.length,r++;r<n.length;r++)if(o=n[r],i.end.column+=o.value.length,c(o,"tag-close")){i.selfClosing="/>"==o.value;break}return i}if(c(o,"tag-close"))return i.selfClosing="/>"==o.value,i;i.start.column+=o.value.length}return null},this._findEndTagInLine=function(e,t,n,i){for(var r=e.getTokens(t),o=0,s=0;s<r.length;s++){var a=r[s];if(!((o+=a.value.length)<i)&&c(a,"end-tag-open")&&(a=r[s+1])&&a.value==n)return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new l;do{if(c(t,"tag-open"))n.closing=c(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn();else if(c(t,"tag-name"))n.tagName=t.value;else if(c(t,"tag-close"))return n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),n}while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new l;do{if(c(t,"tag-open"))return n.closing=c(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn(),e.stepBackward(),n;c(t,"tag-name")?n.tagName=t.value:c(t,"tag-close")&&(n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var n=e[e.length-1];if(t&&n.tagName!=t.tagName){if(this.optionalEndTags.hasOwnProperty(n.tagName)){e.pop();continue}return null}return e.pop()}},this.getFoldWidgetRange=function(e,t,n){var i=this._getFirstTagInLine(e,n);if(!i)return this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length);var o,a=[];if(i.closing||i.selfClosing){c=new s(e,n,i.end.column);for(var l={row:n,column:i.start.column};o=this._readTagBackward(c);){if(o.selfClosing){if(a.length)continue;return o.start.column+=o.tagName.length+2,o.end.column-=2,r.fromPoints(o.start,o.end)}if(o.closing)a.push(o);else if(this._pop(a,o),0==a.length)return o.start.column+=o.tagName.length+2,o.start.row==o.end.row&&o.start.column<o.end.column&&(o.start.column=o.end.column),r.fromPoints(o.start,l)}}else{var c=new s(e,n,i.start.column),u={row:n,column:i.start.column+i.tagName.length+2};for(i.start.row==i.end.row&&(u.column=i.end.column);o=this._readTagForward(c);){if(o.selfClosing){if(a.length)continue;return o.start.column+=o.tagName.length+2,o.end.column-=2,r.fromPoints(o.start,o.end)}if(o.closing){if(this._pop(a,o),0==a.length)return r.fromPoints(u,o.start)}else a.push(o)}}}}).call(a.prototype)})),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("./mixed").FoldMode,o=e("./xml").FoldMode,s=e("./cstyle").FoldMode,a=t.FoldMode=function(e,t){r.call(this,new o(e,t),{"js-":new s,"css-":new s})};i.inherits(a,r)})),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,r=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"].concat(["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"]),o={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},s=Object.keys(o);function a(e,t){return e.type.lastIndexOf(t+".xml")>-1}function l(e,t){for(var n=new i(e,t.row,t.column),r=n.getCurrentToken();r&&!a(r,"tag-name");)r=n.stepBackward();if(r)return r.value}var c=function(){};(function(){this.getCompletions=function(e,t,n,i){var r=t.getTokenAt(n.row,n.column);if(!r)return[];if(a(r,"tag-name")||a(r,"tag-open")||a(r,"end-tag-open"))return this.getTagCompletions(e,t,n,i);if(a(r,"tag-whitespace")||a(r,"attribute-name"))return this.getAttributeCompletions(e,t,n,i);if(a(r,"attribute-value"))return this.getAttributeValueCompletions(e,t,n,i);var o=t.getLine(n.row).substr(0,n.column);return/&[a-z]*$/i.test(o)?this.getHTMLEntityCompletions(e,t,n,i):[]},this.getTagCompletions=function(e,t,n,i){return s.map((function(e){return{value:e,meta:"tag",score:1e6}}))},this.getAttributeCompletions=function(e,t,n,i){var s=l(t,n);if(!s)return[];var a=r;return s in o&&(a=a.concat(Object.keys(o[s]))),a.map((function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:1e6}}))},this.getAttributeValueCompletions=function(e,t,n,r){var s=l(t,n),c=function(e,t){for(var n=new i(e,t.row,t.column),r=n.getCurrentToken();r&&!a(r,"attribute-name");)r=n.stepBackward();if(r)return r.value}(t,n);if(!s)return[];var u=[];return s in o&&c in o[s]&&"object"==typeof o[s][c]&&(u=Object.keys(o[s][c])),u.map((function(e){return{caption:e,snippet:e,meta:"attribute value",score:1e6}}))},this.getHTMLEntityCompletions=function(e,t,n,i){return["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"].map((function(e){return{caption:e,snippet:e,meta:"html entity",score:1e6}}))}}).call(c.prototype),t.HtmlCompletions=c})),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/lang"),o=e("./text").Mode,s=e("./javascript").Mode,a=e("./css").Mode,l=e("./html_highlight_rules").HtmlHighlightRules,c=e("./behaviour/xml").XmlBehaviour,u=e("./folding/html").FoldMode,h=e("./html_completions").HtmlCompletions,d=e("../worker/worker_client").WorkerClient,p=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],f=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],m=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=l,this.$behaviour=new c,this.$completer=new h,this.createModeDelegates({"js-":s,"css-":a}),this.foldingRules=new u(this.voidElements,r.arrayToMap(f))};i.inherits(m,o),function(){this.blockComment={start:"\x3c!--",end:"--\x3e"},this.voidElements=r.arrayToMap(p),this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.getCompletions=function(e,t,n,i){return this.$completer.getCompletions(e,t,n,i)},this.createWorker=function(e){if(this.constructor==m){var t=new d(["ace"],"ace/mode/html_worker","Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t}},this.$id="ace/mode/html",this.snippetFileId="ace/snippets/html"}.call(m.prototype),t.Mode=m})),ace.define("ace/mode/behaviour/liquid",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/xml","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("../behaviour").Behaviour,o=e("./xml").XmlBehaviour,s=e("../../token_iterator").TokenIterator;function a(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}e("../../lib/lang");var l=function(){o.call(this),this.add("autoBraceTagClosing","insertion",(function(e,t,n,i,r){if("}"==r){var o=n.getSelectionRange().start,l=new s(i,o.row,o.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!("%"===c.value.trim()||a(c,"tag-name")||a(c,"tag-whitespace")||a(c,"attribute-name")||a(c,"attribute-equals")||a(c,"attribute-value")))return;if(a(c,"reference.attribute-value"))return;if(a(c,"attribute-value")){var u=l.getCurrentTokenColumn()+c.value.length;if(o.column<u)return;if(o.column==u){var h=l.stepForward();if(h&&a(h,"attribute-value"))return;l.stepBackward()}}if(/{%\s*%/.test(i.getLine(o.row)))return;if(/^\s*}/.test(i.getLine(o.row).slice(o.column)))return;for(;"keyword.block"!=!c.type;)if("{%"==(c=l.stepBackward()).value){for(;"keyword.block"!==(c=l.stepForward()).type;)if("%"==c.value.trim()){c=null;break}break}if(!c)return;var d=l.getCurrentTokenRow(),p=l.getCurrentTokenColumn();if(a(l.stepBackward(),"end-tag-open"))return;var f=c.value;if(d==o.row&&(f=f.substring(0,o.column-p)),this.voidElements.hasOwnProperty(f.toLowerCase()))return;return{text:"}{% end"+f+" %}",selection:[1,1]}}}))};i.inherits(l,r),t.LiquidBehaviour=l})),ace.define("ace/mode/liquid_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules","ace/mode/html_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=e("./html_highlight_rules").HtmlHighlightRules,s=function(){o.call(this);var e=this.createKeywordMapper({"variable.language":"forloop|tablerowloop",keyword:"capture|endcapture|case|endcase|when|comment|endcomment|cycle|for|endfor|in|reversed|if|endif|else|elsif|include|endinclude|unless|endunless|style|text|image|widget|plugin|marker|endmarker|tablerow|endtablerow","keyword.block":"for|if|case|capture|unless|tablerow|marker|comment","support.function":"date|capitalize|downcase|upcase|first|last|join|sort|map|size|escape|escape_once|strip_html|strip_newlines|newline_to_br|replace|replace_first|truncate|truncatewords|prepend|append|minus|plus|times|divided_by|split","keyword.definition":"assign"},"identifier");for(var t in this.$rules)this.$rules[t].unshift({token:"variable",regex:"{%",push:"liquid-start"},{token:"variable",regex:"{{",push:"liquid-start"});this.addRules({"liquid-start":[{token:"variable",regex:"}}",next:"pop"},{token:"variable",regex:"%}",next:"pop"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"/|\\*|\\-|\\+|=|!=|\\?\\:"},{token:"paren.lparen",regex:/[\[\({]/},{token:"paren.rparen",regex:/[\])}]/},{token:"text",regex:"\\s+"}]}),this.normalizeRules()};i.inherits(s,r),t.LiquidHighlightRules=s})),ace.define("ace/mode/liquid",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/html","ace/mode/html_completions","ace/mode/behaviour/liquid","ace/mode/liquid_highlight_rules","ace/mode/matching_brace_outdent"],(function(e,t,n){var i=e("../lib/oop"),r=e("./text").Mode,o=e("./html").Mode,s=e("./html_completions").HtmlCompletions,a=e("./behaviour/liquid").LiquidBehaviour,l=e("./liquid_highlight_rules").LiquidHighlightRules,c=e("./matching_brace_outdent").MatchingBraceOutdent,u=function(){this.HighlightRules=l,this.$outdent=new c,this.$behaviour=new a,this.$completer=new s};i.inherits(u,r),function(){this.blockComment={start:"\x3c!--",end:"--\x3e"},this.voidElements=(new o).voidElements,this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e),o=r.tokens;return r.state,o.length&&"comment"==o[o.length-1].type||"start"==e&&t.match(/^.*[\{\(\[]\s*$/)&&(i+=n),i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.$id="ace/mode/liquid",this.snippetFileId="ace/snippets/liquid"}.call(u.prototype),t.Mode=u})),ace.require(["ace/mode/liquid"],(function(t){e&&(e.exports=t)}))},9411:(e,t,n)=>{e=n.nmd(e),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},o.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};i.inherits(o,r),o.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},o.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},o.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=o})),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./doc_comment_highlight_rules").DocCommentHighlightRules,o=e("./text_highlight_rules").TextHighlightRules,s="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",a=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[r.getStartRule("doc-start"),c("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+s+")(\\.)(prototype)(\\.)("+s+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+s+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:s},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:s},{regex:"",token:"empty",next:"no_regex"}],start:[r.getStartRule("doc-start"),c("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:s},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:n},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),e&&0==e.jsx||l.call(this)),this.embedRules(r,"doc-",[r.getEndRule("no_regex")]),this.normalizeRules()};function l(){var e=s.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var i="/"==e.charAt(1)?2:1;return 1==i?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==i&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==i?"":"end-")+"tag-open.xml",value:e.slice(0,i)},{type:"meta.tag.tag-name.xml",value:e.substr(i)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,c("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function c(e){return[{token:"comment",regex:/\/\*/,next:[r.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[r.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}i.inherits(a,o),t.JavaScriptHighlightRules=a})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range,r=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var r=n[1].length,o=e.findMatchingBracket({row:t,column:r});if(!o||o.row==t)return 0;var s=this.$getIndent(e.getLine(o.row));e.replace(new i(t,0,t,r-1),s)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(r.prototype),t.MatchingBraceOutdent=r})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(s,o),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(e,t,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(e,t,n,i){var r,o=e.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,n);if(r=o.match(this.foldingStartMarker)){var s=r.index;if(r[1])return this.openingBracketBlock(e,r[1],n,s);var a=e.getCommentFoldRange(n,s+r[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}return"markbegin"!==t&&(r=o.match(this.foldingStopMarker))?(s=r.index+r[0].length,r[1]?this.closingBracketBlock(e,r[1],n,s):e.getCommentFoldRange(n,s,-1)):void 0},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),o=t,s=n.length,a=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(i>c)break;var u=this.getFoldWidgetRange(e,"all",t);if(u){if(u.start.row<=o)break;if(u.isMultiLine())t=u.end.row;else if(i==c)break}a=t}}return new r(o,s,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),o=e.getLength(),s=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<o;){t=e.getLine(n);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(n>s)return new r(s,i,n,t.length)}}.call(s.prototype)})),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text").Mode,o=e("./javascript_highlight_rules").JavaScriptHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../worker/worker_client").WorkerClient,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new l,this.foldingRules=new c};i.inherits(u,r),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e),o=r.tokens,s=r.state;if(o.length&&"comment"==o[o.length-1].type)return i;if("start"==e||"no_regex"==e)(a=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(i+=n);else if("doc-start"==e){if("start"==s||"no_regex"==s)return"";var a;(a=t.match(/^\s*(\/?)\*/))&&(a[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call(u.prototype),t.Mode=u})),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(e){var t="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===o&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(r.prototype),i.inherits(o,r),t.XmlHighlightRules=o})),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator;function s(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}e("../../lib/lang");var a=function(){this.add("string_dquotes","insertion",(function(e,t,n,i,r){if('"'==r||"'"==r){var a=r,l=i.doc.getTextRange(n.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&n.getWrapBehavioursEnabled())return{text:a+l+a,selection:!1};var c=n.getCursorPosition(),u=i.doc.getLine(c.row).substring(c.column,c.column+1),h=new o(i,c.row,c.column),d=h.getCurrentToken();if(u==a&&(s(d,"attribute-value")||s(d,"string")))return{text:"",selection:[1,1]};if(d||(d=h.stepBackward()),!d)return;for(;s(d,"tag-whitespace")||s(d,"whitespace");)d=h.stepBackward();var p=!u||u.match(/\s/);if(s(d,"attribute-equals")&&(p||">"==u)||s(d,"decl-attribute-equals")&&(p||"?"==u))return{text:a+a,selection:[1,1]}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,r){var o=i.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==o||"'"==o)&&i.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==o)return r.end.column++,r})),this.add("autoclosing","insertion",(function(e,t,n,i,r){if(">"==r){var a=n.getSelectionRange().start,l=new o(i,a.row,a.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(s(c,"tag-name")||s(c,"tag-whitespace")||s(c,"attribute-name")||s(c,"attribute-equals")||s(c,"attribute-value")))return;if(s(c,"reference.attribute-value"))return;if(s(c,"attribute-value")){var u=l.getCurrentTokenColumn()+c.value.length;if(a.column<u)return;if(a.column==u){var h=l.stepForward();if(h&&s(h,"attribute-value"))return;l.stepBackward()}}if(/^\s*>/.test(i.getLine(a.row).slice(a.column)))return;for(;!s(c,"tag-name");)if("<"==(c=l.stepBackward()).value){c=l.stepForward();break}var d=l.getCurrentTokenRow(),p=l.getCurrentTokenColumn();if(s(l.stepBackward(),"end-tag-open"))return;var f=c.value;if(d==a.row&&(f=f.substring(0,a.column-p)),this.voidElements.hasOwnProperty(f.toLowerCase()))return;return{text:"></"+f+">",selection:[1,1]}}})),this.add("autoindent","insertion",(function(e,t,n,i,r){if("\n"==r){var s=n.getCursorPosition(),a=i.getLine(s.row),l=new o(i,s.row,s.column),c=l.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=l.stepBackward();if(!c)return;var u=c.value,h=l.getCurrentTokenRow();if(!(c=l.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[u]){var d=i.getTokenAt(s.row,s.column+1),p=(a=i.getLine(h),this.$getIndent(a)),f=p+i.getTabString();return d&&"</"===d.value?{text:"\n"+f+"\n"+p,selection:[1,f.length,1,f.length]}:{text:"\n"+f}}}}}))};i.inherits(a,r),t.XmlBehaviour=a})),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/range","ace/mode/folding/fold_mode","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=(e("../../lib/lang"),e("../../range").Range),o=e("./fold_mode").FoldMode,s=e("../../token_iterator").TokenIterator,a=t.FoldMode=function(e,t){o.call(this),this.voidElements=e||{},this.optionalEndTags=i.mixin({},this.voidElements),t&&i.mixin(this.optionalEndTags,t)};i.inherits(a,o);var l=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function c(e,t){return e.type.lastIndexOf(t+".xml")>-1}(function(){this.getFoldWidget=function(e,t,n){var i=this._getFirstTagInLine(e,n);return i?i.closing||!i.tagName&&i.selfClosing?"markbeginend"==t?"end":"":!i.tagName||i.selfClosing||this.voidElements.hasOwnProperty(i.tagName.toLowerCase())||this._findEndTagInLine(e,n,i.tagName,i.end.column)?"":"start":this.getCommentFoldWidget(e,n)},this.getCommentFoldWidget=function(e,t){return/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t))?"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),i=new l,r=0;r<n.length;r++){var o=n[r];if(c(o,"tag-open")){if(i.end.column=i.start.column+o.value.length,i.closing=c(o,"end-tag-open"),!(o=n[++r]))return null;for(i.tagName=o.value,i.end.column+=o.value.length,r++;r<n.length;r++)if(o=n[r],i.end.column+=o.value.length,c(o,"tag-close")){i.selfClosing="/>"==o.value;break}return i}if(c(o,"tag-close"))return i.selfClosing="/>"==o.value,i;i.start.column+=o.value.length}return null},this._findEndTagInLine=function(e,t,n,i){for(var r=e.getTokens(t),o=0,s=0;s<r.length;s++){var a=r[s];if(!((o+=a.value.length)<i)&&c(a,"end-tag-open")&&(a=r[s+1])&&a.value==n)return!0}return!1},this._readTagForward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new l;do{if(c(t,"tag-open"))n.closing=c(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn();else if(c(t,"tag-name"))n.tagName=t.value;else if(c(t,"tag-close"))return n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length,e.stepForward(),n}while(t=e.stepForward());return null},this._readTagBackward=function(e){var t=e.getCurrentToken();if(!t)return null;var n=new l;do{if(c(t,"tag-open"))return n.closing=c(t,"end-tag-open"),n.start.row=e.getCurrentTokenRow(),n.start.column=e.getCurrentTokenColumn(),e.stepBackward(),n;c(t,"tag-name")?n.tagName=t.value:c(t,"tag-close")&&(n.selfClosing="/>"==t.value,n.end.row=e.getCurrentTokenRow(),n.end.column=e.getCurrentTokenColumn()+t.value.length)}while(t=e.stepBackward());return null},this._pop=function(e,t){for(;e.length;){var n=e[e.length-1];if(t&&n.tagName!=t.tagName){if(this.optionalEndTags.hasOwnProperty(n.tagName)){e.pop();continue}return null}return e.pop()}},this.getFoldWidgetRange=function(e,t,n){var i=this._getFirstTagInLine(e,n);if(!i)return this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length);var o,a=[];if(i.closing||i.selfClosing){c=new s(e,n,i.end.column);for(var l={row:n,column:i.start.column};o=this._readTagBackward(c);){if(o.selfClosing){if(a.length)continue;return o.start.column+=o.tagName.length+2,o.end.column-=2,r.fromPoints(o.start,o.end)}if(o.closing)a.push(o);else if(this._pop(a,o),0==a.length)return o.start.column+=o.tagName.length+2,o.start.row==o.end.row&&o.start.column<o.end.column&&(o.start.column=o.end.column),r.fromPoints(o.start,l)}}else{var c=new s(e,n,i.start.column),u={row:n,column:i.start.column+i.tagName.length+2};for(i.start.row==i.end.row&&(u.column=i.end.column);o=this._readTagForward(c);){if(o.selfClosing){if(a.length)continue;return o.start.column+=o.tagName.length+2,o.end.column-=2,r.fromPoints(o.start,o.end)}if(o.closing){if(this._pop(a,o),0==a.length)return r.fromPoints(u,o.start)}else a.push(o)}}}}).call(a.prototype)})),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/lang"),o=e("./text").Mode,s=e("./xml_highlight_rules").XmlHighlightRules,a=e("./behaviour/xml").XmlBehaviour,l=e("./folding/xml").FoldMode,c=e("../worker/worker_client").WorkerClient,u=function(){this.HighlightRules=s,this.$behaviour=new a,this.foldingRules=new l};i.inherits(u,o),function(){this.voidElements=r.arrayToMap([]),this.blockComment={start:"\x3c!--",end:"--\x3e"},this.createWorker=function(e){var t=new c(["ace"],"ace/mode/xml_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("error",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/xml"}.call(u.prototype),t.Mode=u})),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),o=t.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",s=t.supportFunction="rgb|rgba|url|attr|counter|counters",a=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",l=t.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",c=t.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",u=t.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",h=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",d=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",p=function(){var e=this.createKeywordMapper({"support.function":s,"support.constant":a,"support.type":o,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:u},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+u+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:u},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:h},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:d},{include:"url"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};i.inherits(p,r),t.CssHighlightRules=p})),ace.define("ace/mode/css_completions",["require","exports","module"],(function(e,t,n){"use strict";var i={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},r=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var e=document.createElement("c").style;for(var t in e)if("string"==typeof e[t]){var n=t.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}));i.hasOwnProperty(n)||(i[n]=1)}}this.completionsDefined=!0},this.getCompletions=function(e,t,n,i){if(this.completionsDefined||this.defineCompletions(),"ruleset"===e||"ace/mode/scss"==t.$mode.$id){var r=t.getLine(n.row).substr(0,n.column);return/:[^;]+$/.test(r)?(/([\w\-]+):[^:]*$/.test(r),this.getPropertyValueCompletions(e,t,n,i)):this.getPropertyCompletions(e,t,n,i)}return[]},this.getPropertyCompletions=function(e,t,n,r){return Object.keys(i).map((function(e){return{caption:e,snippet:e+": $0;",meta:"property",score:1e6}}))},this.getPropertyValueCompletions=function(e,t,n,r){var o=t.getLine(n.row).substr(0,n.column),s=(/([\w\-]+):[^:]*$/.exec(o)||{})[1];if(!s)return[];var a=[];return s in i&&"object"==typeof i[s]&&(a=Object.keys(i[s])),a.map((function(e){return{caption:e,snippet:e,meta:"property value",score:1e6}}))}}).call(r.prototype),t.CssCompletions=r})),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),o=e("../../token_iterator").TokenIterator,s=function(){this.inherit(r),this.add("colon","insertion",(function(e,t,n,i,r){if(":"===r&&n.selection.isEmpty()){var s=n.getCursorPosition(),a=new o(i,s.row,s.column),l=a.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=a.stepBackward()),l&&"support.type"===l.type){var c=i.doc.getLine(s.row);if(":"===c.substring(s.column,s.column+1))return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(c.substring(s.column)))return{text:":;",selection:[1,1]}}}})),this.add("colon","deletion",(function(e,t,n,i,r){var s=i.doc.getTextRange(r);if(!r.isMultiLine()&&":"===s){var a=n.getCursorPosition(),l=new o(i,a.row,a.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type&&";"===i.doc.getLine(r.start.row).substring(r.end.column,r.end.column+1))return r.end.column++,r}})),this.add("semicolon","insertion",(function(e,t,n,i,r){if(";"===r&&n.selection.isEmpty()){var o=n.getCursorPosition();if(";"===i.doc.getLine(o.row).substring(o.column,o.column+1))return{text:"",selection:[1,1]}}})),this.add("!important","insertion",(function(e,t,n,i,r){if("!"===r&&n.selection.isEmpty()){var o=n.getCursorPosition(),s=i.doc.getLine(o.row);if(/^\s*(;|}|$)/.test(s.substring(o.column)))return{text:"!important",selection:[10,10]}}}))};i.inherits(s,r),t.CssBehaviour=s})),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text").Mode,o=e("./css_highlight_rules").CssHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../worker/worker_client").WorkerClient,l=e("./css_completions").CssCompletions,c=e("./behaviour/css").CssBehaviour,u=e("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new c,this.$completer=new l,this.foldingRules=new u};i.inherits(h,r),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e).tokens;return r.length&&"comment"==r[r.length-1].type||t.match(/^.*\{\s*$/)&&(i+=n),i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.getCompletions=function(e,t,n,i){return this.$completer.getCompletions(e,t,n,i)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/css_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}.call(h.prototype),t.Mode=h})),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/lang"),o=e("./css_highlight_rules").CssHighlightRules,s=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./xml_highlight_rules").XmlHighlightRules,l=r.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),c=function(){a.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var n=l[t];return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(n?"."+n:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(o,"css-","style"),this.embedTagRules(new s({jsx:!1}).getRules(),"js-","script"),this.constructor===c&&this.normalizeRules()};i.inherits(c,a),t.HtmlHighlightRules=c})),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("./fold_mode").FoldMode,o=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};i.inherits(o,r),function(){this.$getMode=function(e){for(var t in"string"!=typeof e&&(e=e[0]),this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,n,i){var r=this.$getMode(e);return r?r.getFoldWidget(t,n,i):""},this.getFoldWidget=function(e,t,n){return this.$tryMode(e.getState(n-1),e,t,n)||this.$tryMode(e.getState(n),e,t,n)||this.defaultMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n){var i=this.$getMode(e.getState(n-1));return i&&i.getFoldWidget(e,t,n)||(i=this.$getMode(e.getState(n))),i&&i.getFoldWidget(e,t,n)||(i=this.defaultMode),i.getFoldWidgetRange(e,t,n)}}.call(o.prototype)})),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("./mixed").FoldMode,o=e("./xml").FoldMode,s=e("./cstyle").FoldMode,a=t.FoldMode=function(e,t){r.call(this,new o(e,t),{"js-":new s,"css-":new s})};i.inherits(a,r)})),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,r=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"].concat(["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"]),o={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},s=Object.keys(o);function a(e,t){return e.type.lastIndexOf(t+".xml")>-1}function l(e,t){for(var n=new i(e,t.row,t.column),r=n.getCurrentToken();r&&!a(r,"tag-name");)r=n.stepBackward();if(r)return r.value}var c=function(){};(function(){this.getCompletions=function(e,t,n,i){var r=t.getTokenAt(n.row,n.column);if(!r)return[];if(a(r,"tag-name")||a(r,"tag-open")||a(r,"end-tag-open"))return this.getTagCompletions(e,t,n,i);if(a(r,"tag-whitespace")||a(r,"attribute-name"))return this.getAttributeCompletions(e,t,n,i);if(a(r,"attribute-value"))return this.getAttributeValueCompletions(e,t,n,i);var o=t.getLine(n.row).substr(0,n.column);return/&[a-z]*$/i.test(o)?this.getHTMLEntityCompletions(e,t,n,i):[]},this.getTagCompletions=function(e,t,n,i){return s.map((function(e){return{value:e,meta:"tag",score:1e6}}))},this.getAttributeCompletions=function(e,t,n,i){var s=l(t,n);if(!s)return[];var a=r;return s in o&&(a=a.concat(Object.keys(o[s]))),a.map((function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:1e6}}))},this.getAttributeValueCompletions=function(e,t,n,r){var s=l(t,n),c=function(e,t){for(var n=new i(e,t.row,t.column),r=n.getCurrentToken();r&&!a(r,"attribute-name");)r=n.stepBackward();if(r)return r.value}(t,n);if(!s)return[];var u=[];return s in o&&c in o[s]&&"object"==typeof o[s][c]&&(u=Object.keys(o[s][c])),u.map((function(e){return{caption:e,snippet:e,meta:"attribute value",score:1e6}}))},this.getHTMLEntityCompletions=function(e,t,n,i){return["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"].map((function(e){return{caption:e,snippet:e,meta:"html entity",score:1e6}}))}}).call(c.prototype),t.HtmlCompletions=c})),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/lang"),o=e("./text").Mode,s=e("./javascript").Mode,a=e("./css").Mode,l=e("./html_highlight_rules").HtmlHighlightRules,c=e("./behaviour/xml").XmlBehaviour,u=e("./folding/html").FoldMode,h=e("./html_completions").HtmlCompletions,d=e("../worker/worker_client").WorkerClient,p=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],f=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],m=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=l,this.$behaviour=new c,this.$completer=new h,this.createModeDelegates({"js-":s,"css-":a}),this.foldingRules=new u(this.voidElements,r.arrayToMap(f))};i.inherits(m,o),function(){this.blockComment={start:"\x3c!--",end:"--\x3e"},this.voidElements=r.arrayToMap(p),this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.getCompletions=function(e,t,n,i){return this.$completer.getCompletions(e,t,n,i)},this.createWorker=function(e){if(this.constructor==m){var t=new d(["ace"],"ace/mode/html_worker","Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t}},this.$id="ace/mode/html",this.snippetFileId="ace/snippets/html"}.call(m.prototype),t.Mode=m})),ace.define("ace/mode/markdown_highlight_rules",["require","exports","module","ace/config","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules","ace/mode/html_highlight_rules"],(function(e,t,n){"use strict";var i=e("../config").$modes,r=e("../lib/oop"),o=e("../lib/lang"),s=e("./text_highlight_rules").TextHighlightRules,a=e("./html_highlight_rules").HtmlHighlightRules,l=function(e){return"(?:[^"+o.escapeRegExp(e)+"\\\\]|\\\\.)*"},c=function(){a.call(this);var e={token:"support.function",regex:/^\s*(```+[^`]*|~~~+[^~]*)$/,onMatch:function(e,t,n,r){var o=e.match(/^(\s*)([`~]+)(.*)/),s=/[\w-]+|$/.exec(o[3])[0];return i[s]||(s=""),n.unshift("githubblock",[],[o[1],o[2],s],t),this.token},next:"githubblock"},t=[{token:"support.function",regex:".*",onMatch:function(e,t,n,r){var o=n[1],s=n[2][0],a=n[2][1],l=n[2][2],c=/^(\s*)(`+|~+)\s*$/.exec(e);if(c&&c[1].length<s.length+3&&c[2].length>=a.length&&c[2][0]==a[0])return n.splice(0,3),this.next=n.shift(),this.token;if(this.next="",l&&i[l]){var u=i[l].getTokenizer().getLineTokens(e,o.slice(0));return n[1]=u.state,u.tokens}return this.token}}];this.$rules.start.unshift({token:"empty_line",regex:"^$",next:"allowBlock"},{token:"markup.heading.1",regex:"^=+(?=\\s*$)"},{token:"markup.heading.2",regex:"^\\-+(?=\\s*$)"},{token:function(e){return"markup.heading."+e.length},regex:/^#{1,6}(?=\s|$)/,next:"header"},e,{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{token:"constant",regex:"^ {0,3}(?:(?:\\* ?){3,}|(?:\\- ?){3,}|(?:\\_ ?){3,})\\s*$",next:"allowBlock"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic"}),this.addRules({basic:[{token:"constant.language.escape",regex:/\\[\\`*_{}\[\]()#+\-.!]/},{token:"support.function",regex:"(`+)(.*?[^`])(\\1)"},{token:["text","constant","text","url","string","text"],regex:'^([ ]{0,3}\\[)([^\\]]+)(\\]:\\s*)([^ ]+)(\\s*(?:["][^"]+["])?(\\s*))$'},{token:["text","string","text","constant","text"],regex:"(\\[)("+l("]")+")(\\]\\s*\\[)("+l("]")+")(\\])"},{token:["text","string","text","markup.underline","string","text"],regex:"(\\!?\\[)("+l("]")+')(\\]\\()((?:[^\\)\\s\\\\]|\\\\.|\\s(?=[^"]))*)(\\s*"'+l('"')+'"\\s*)?(\\))'},{token:"string.strong",regex:"([*]{2}|[_]{2}(?=\\S))(.*?\\S[*_]*)(\\1)"},{token:"string.emphasis",regex:"([*]|[_](?=\\S))(.*?\\S[*_]*)(\\1)"},{token:["text","url","text"],regex:"(<)((?:https?|ftp|dict):[^'\">\\s]+|(?:mailto:)?[-.\\w]+\\@[-a-z0-9]+(?:\\.[-a-z0-9]+)*\\.[a-z]+)(>)"}],allowBlock:[{token:"support.function",regex:"^ {4}.+",next:"allowBlock"},{token:"empty_line",regex:"^$",next:"allowBlock"},{token:"empty",regex:"",next:"start"}],header:[{regex:"$",next:"start"},{include:"basic"},{defaultToken:"heading"}],"listblock-start":[{token:"support.variable",regex:/(?:\[[ x]\])?/,next:"listblock"}],listblock:[{token:"empty_line",regex:"^$",next:"start"},{token:"markup.list",regex:"^\\s{0,3}(?:[*+-]|\\d+\\.)\\s+",next:"listblock-start"},{include:"basic",noEscape:!0},e,{defaultToken:"list"}],blockquote:[{token:"empty_line",regex:"^\\s*$",next:"start"},{token:"string.blockquote",regex:"^\\s*>\\s*(?:[*+-]|\\d+\\.)?\\s+",next:"blockquote"},{include:"basic",noEscape:!0},{defaultToken:"string.blockquote"}],githubblock:t}),this.normalizeRules()};r.inherits(c,s),t.MarkdownHighlightRules=c})),ace.define("ace/mode/folding/markdown",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("./fold_mode").FoldMode,o=e("../../range").Range,s=t.FoldMode=function(){};i.inherits(s,r),function(){this.foldingStartMarker=/^(?:[=-]+\s*$|#{1,6} |`{3})/,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"`"==i[0]&&"start"==e.bgTokenizer.getState(n)?"end":"start":""},this.getFoldWidgetRange=function(e,t,n){var i=e.getLine(n),r=i.length,s=e.getLength(),a=n,l=n;if(i.match(this.foldingStartMarker)){if("`"==i[0]){if("start"!==e.bgTokenizer.getState(n)){for(;++n<s&&!("`"==(i=e.getLine(n))[0]&"```"==i.substring(0,3)););return new o(a,r,n,0)}for(;n-- >0&&!("`"==(i=e.getLine(n))[0]&"```"==i.substring(0,3)););return new o(n,i.length,a,0)}var c,u="markup.heading";if(p(n)){for(var h=f();++n<s&&!(p(n)&&f()>=h););if((l=n-(c&&-1!=["=","-"].indexOf(c.value[0])?2:1))>a)for(;l>a&&/^\s*$/.test(e.getLine(l));)l--;if(l>a){var d=e.getLine(l).length;return new o(a,r,l,d)}}}function p(t){return(c=e.getTokens(t)[0])&&0===c.type.lastIndexOf(u,0)}function f(){var e=c.value[0];return"="==e?6:"-"==e?5:7-c.value.search(/[^#]|$/)}}}.call(s.prototype)})),ace.define("ace/mode/sh_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=t.reservedKeywords="!|{|}|case|do|done|elif|else|esac|fi|for|if|in|then|until|while|&|;|export|local|read|typeset|unset|elif|select|set|function|declare|readonly",s=t.languageConstructs="[|]|alias|bg|bind|break|builtin|cd|command|compgen|complete|continue|dirs|disown|echo|enable|eval|exec|exit|fc|fg|getopts|hash|help|history|jobs|kill|let|logout|popd|printf|pushd|pwd|return|set|shift|shopt|source|suspend|test|times|trap|type|ulimit|umask|unalias|wait",a=function(){var e=this.createKeywordMapper({keyword:o,"support.function.builtin":s,"invalid.deprecated":"debugger"},"identifier");this.$rules={start:[{token:"constant",regex:/\\./},{token:["text","comment"],regex:/(^|\s)(#.*)$/},{token:"string.start",regex:'"',push:[{token:"constant.language.escape",regex:/\\(?:[$`"\\]|$)/},{include:"variables"},{token:"keyword.operator",regex:/`/},{token:"string.end",regex:'"',next:"pop"},{defaultToken:"string"}]},{token:"string",regex:"\\$'",push:[{token:"constant.language.escape",regex:/\\(?:[abeEfnrtv\\'"]|x[a-fA-F\d]{1,2}|u[a-fA-F\d]{4}([a-fA-F\d]{4})?|c.|\d{1,3})/},{token:"string",regex:"'",next:"pop"},{defaultToken:"string"}]},{regex:"<<<",token:"keyword.operator"},{stateName:"heredoc",regex:"(<<-?)(\\s*)(['\"`]?)([\\w\\-]+)(['\"`]?)",onMatch:function(e,t,n){var i="-"==e[2]?"indentedHeredoc":"heredoc",r=e.split(this.splitRegex);return n.push(i,r[4]),[{type:"constant",value:r[1]},{type:"text",value:r[2]},{type:"string",value:r[3]},{type:"support.class",value:r[4]},{type:"string",value:r[5]}]},rules:{heredoc:[{onMatch:function(e,t,n){return e===n[1]?(n.shift(),n.shift(),this.next=n[0]||"start","support.class"):(this.next="","string")},regex:".*$",next:"start"}],indentedHeredoc:[{token:"string",regex:"^\t+"},{onMatch:function(e,t,n){return e===n[1]?(n.shift(),n.shift(),this.next=n[0]||"start","support.class"):(this.next="","string")},regex:".*$",next:"start"}]}},{regex:"$",token:"empty",next:function(e,t){return"heredoc"===t[0]||"indentedHeredoc"===t[0]?t[0]:e}},{token:["keyword","text","text","text","variable"],regex:/(declare|local|readonly)(\s+)(?:(-[fixar]+)(\s+))?([a-zA-Z_][a-zA-Z0-9_]*\b)/},{token:"variable.language",regex:"(?:\\$(?:SHLVL|\\$|\\!|\\?))"},{token:"variable",regex:"(?:[a-zA-Z_][a-zA-Z0-9_]*(?==))"},{include:"variables"},{token:"support.function",regex:"(?:[a-zA-Z_][a-zA-Z0-9_]*\\s*\\(\\))"},{token:"support.function",regex:"(?:&(?:\\d+))"},{token:"string",start:"'",end:"'"},{token:"constant.numeric",regex:"(?:(?:(?:(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.))|(?:\\d+)))|(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.)))"},{token:"constant.numeric",regex:"(?:(?:[1-9]\\d*)|(?:0))\\b"},{token:e,regex:"[a-zA-Z_][a-zA-Z0-9_]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|~|<|>|<=|=>|=|!=|[%&|`]"},{token:"punctuation.operator",regex:";"},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]]"},{token:"paren.rparen",regex:"[\\)\\}]",next:"pop"}],variables:[{token:"variable",regex:/(\$)(\w+)/},{token:["variable","paren.lparen"],regex:/(\$)(\()/,push:"start"},{token:["variable","paren.lparen","keyword.operator","variable","keyword.operator"],regex:/(\$)(\{)([#!]?)(\w+|[*@#?\-$!0_])(:[?+\-=]?|##?|%%?|,,?\/|\^\^?)?/,push:"start"},{token:"variable",regex:/\$[*@#?\-$!0_]/},{token:["variable","paren.lparen"],regex:/(\$)(\{)/,push:"start"}]},this.normalizeRules()};i.inherits(a,r),t.ShHighlightRules=a})),ace.define("ace/mode/sh",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/sh_highlight_rules","ace/range","ace/mode/folding/cstyle","ace/mode/behaviour/cstyle"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text").Mode,o=e("./sh_highlight_rules").ShHighlightRules,s=e("../range").Range,a=e("./folding/cstyle").FoldMode,l=e("./behaviour/cstyle").CstyleBehaviour,c=function(){this.HighlightRules=o,this.foldingRules=new a,this.$behaviour=new l};i.inherits(c,r),function(){this.lineCommentStart="#",this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),r=this.getTokenizer().getLineTokens(t,e).tokens;return r.length&&"comment"==r[r.length-1].type||"start"==e&&t.match(/^.*[\{\(\[:]\s*$/)&&(i+=n),i};var e={pass:1,return:1,raise:1,break:1,continue:1};this.checkOutdent=function(t,n,i){if("\r\n"!==i&&"\r"!==i&&"\n"!==i)return!1;var r=this.getTokenizer().getLineTokens(n.trim(),t).tokens;if(!r)return!1;do{var o=r.pop()}while(o&&("comment"==o.type||"text"==o.type&&o.value.match(/^\s+$/)));return!!o&&"keyword"==o.type&&e[o.value]},this.autoOutdent=function(e,t,n){n+=1;var i=this.$getIndent(t.getLine(n)),r=t.getTabString();i.slice(-r.length)==r&&t.remove(new s(n,i.length-r.length,n,i.length))},this.$id="ace/mode/sh",this.snippetFileId="ace/snippets/sh"}.call(c.prototype),t.Mode=c})),ace.define("ace/mode/markdown",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript","ace/mode/xml","ace/mode/html","ace/mode/markdown_highlight_rules","ace/mode/folding/markdown","ace/mode/javascript","ace/mode/html","ace/mode/sh","ace/mode/sh","ace/mode/xml","ace/mode/css"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text").Mode,o=(e("./javascript").Mode,e("./xml").Mode,e("./html").Mode,e("./markdown_highlight_rules").MarkdownHighlightRules),s=e("./folding/markdown").FoldMode,a=function(){this.HighlightRules=o,this.createModeDelegates({javascript:e("./javascript").Mode,html:e("./html").Mode,bash:e("./sh").Mode,sh:e("./sh").Mode,xml:e("./xml").Mode,css:e("./css").Mode}),this.foldingRules=new s,this.$behaviour=this.$defaultBehaviour};i.inherits(a,r),function(){this.type="text",this.blockComment={start:"\x3c!--",end:"--\x3e"},this.$quotes={'"':'"',"`":"`"},this.getNextLineIndent=function(e,t,n){if("listblock"==e){var i=/^(\s*)(?:([-+*])|(\d+)\.)(\s+)/.exec(t);if(!i)return"";var r=i[2];return r||(r=parseInt(i[3],10)+1+"."),i[1]+r+i[4]}return this.$getIndent(t)},this.$id="ace/mode/markdown",this.snippetFileId="ace/snippets/markdown"}.call(a.prototype),t.Mode=a})),ace.require(["ace/mode/markdown"],(function(t){e&&(e.exports=t)}))},7136:(e,t,n)=>{e=n.nmd(e),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},o.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};i.inherits(o,r),o.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},o.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},o.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=o})),ace.define("ace/mode/perl_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({keyword:"base|constant|continue|else|elsif|for|foreach|format|goto|if|last|local|my|next|no|package|parent|redo|require|scalar|sub|unless|until|while|use|vars","constant.language":"ARGV|ENV|INC|SIG","support.function":"getprotobynumber|getprotobyname|getservbyname|gethostbyaddr|gethostbyname|getservbyport|getnetbyaddr|getnetbyname|getsockname|getpeername|setpriority|getprotoent|setprotoent|getpriority|endprotoent|getservent|setservent|endservent|sethostent|socketpair|getsockopt|gethostent|endhostent|setsockopt|setnetent|quotemeta|localtime|prototype|getnetent|endnetent|rewinddir|wantarray|getpwuid|closedir|getlogin|readlink|endgrent|getgrgid|getgrnam|shmwrite|shutdown|readline|endpwent|setgrent|readpipe|formline|truncate|dbmclose|syswrite|setpwent|getpwnam|getgrent|getpwent|ucfirst|sysread|setpgrp|shmread|sysseek|sysopen|telldir|defined|opendir|connect|lcfirst|getppid|binmode|syscall|sprintf|getpgrp|readdir|seekdir|waitpid|reverse|unshift|symlink|dbmopen|semget|msgrcv|rename|listen|chroot|msgsnd|shmctl|accept|unpack|exists|fileno|shmget|system|unlink|printf|gmtime|msgctl|semctl|values|rindex|substr|splice|length|msgget|select|socket|return|caller|delete|alarm|ioctl|index|undef|lstat|times|srand|chown|fcntl|close|write|umask|rmdir|study|sleep|chomp|untie|print|utime|mkdir|atan2|split|crypt|flock|chmod|BEGIN|bless|chdir|semop|shift|reset|link|stat|chop|grep|fork|dump|join|open|tell|pipe|exit|glob|warn|each|bind|sort|pack|eval|push|keys|getc|kill|seek|sqrt|send|wait|rand|tied|read|time|exec|recv|eof|chr|int|ord|exp|pos|pop|sin|log|abs|oct|hex|tie|cos|vec|END|ref|map|die|uc|lc|do"},"identifier");this.$rules={start:[{token:"comment.doc",regex:"^=(?:begin|item)\\b",next:"block_comment"},{token:"string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:'["].*\\\\$',next:"qqstring"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"string",regex:"['].*\\\\$",next:"qstring"},{token:"constant.numeric",regex:"0x[0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"%#|\\$#|\\.\\.\\.|\\|\\|=|>>=|<<=|<=>|&&=|=>|!~|\\^=|&=|\\|=|\\.=|x=|%=|\\/=|\\*=|\\-=|\\+=|=~|\\*\\*|\\-\\-|\\.\\.|\\|\\||&&|\\+\\+|\\->|!=|==|>=|<=|>>|<<|,|=|\\?\\:|\\^|\\||x|%|\\/|\\*|<|&|\\\\|~|!|>|\\.|\\-|\\+|\\-C|\\-b|\\-S|\\-u|\\-t|\\-p|\\-l|\\-d|\\-f|\\-g|\\-s|\\-z|\\-k|\\-e|\\-O|\\-T|\\-B|\\-M|\\-A|\\-X|\\-W|\\-c|\\-R|\\-o|\\-x|\\-w|\\-r|\\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)"},{token:"comment",regex:"#.*$"},{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],qqstring:[{token:"string",regex:'(?:(?:\\\\.)|(?:[^"\\\\]))*?"',next:"start"},{token:"string",regex:".+"}],qstring:[{token:"string",regex:"(?:(?:\\\\.)|(?:[^'\\\\]))*?'",next:"start"},{token:"string",regex:".+"}],block_comment:[{token:"comment.doc",regex:"^=cut\\b",next:"start"},{defaultToken:"comment.doc"}]}};i.inherits(o,r),t.PerlHighlightRules=o})),ace.define("ace/mode/python_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({"invalid.deprecated":"debugger","support.function":"abs|divmod|input|open|staticmethod|all|enumerate|int|ord|str|any|eval|isinstance|pow|sum|basestring|execfile|issubclass|print|super|binfile|bin|iter|property|tuple|bool|filter|len|range|type|bytearray|float|list|raw_input|unichr|callable|format|locals|reduce|unicode|chr|frozenset|long|reload|vars|classmethod|getattr|map|repr|xrange|cmp|globals|max|reversed|zip|compile|hasattr|memoryview|round|__import__|complex|hash|min|apply|delattr|help|next|setattr|set|buffer|dict|hex|object|slice|coerce|dir|id|oct|sorted|intern|ascii|breakpoint|bytes","variable.language":"self|cls","constant.language":"True|False|None|NotImplemented|Ellipsis|__debug__",keyword:"and|as|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|not|or|pass|print|raise|return|try|while|with|yield|async|await|nonlocal"},"identifier"),t="(?:[rR][fF]|[fF][rR])",n="(?:(?:(?:[1-9]\\d*)|(?:0))|(?:0[oO]?[0-7]+)|(?:0[xX][\\dA-Fa-f]+)|(?:0[bB][01]+))",i="(?:(?:(?:(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.))|(?:\\d+))(?:[eE][+-]?\\d+))|(?:(?:(?:\\d+)?(?:\\.\\d+))|(?:(?:\\d+)\\.)))",r="\\\\(x[0-9A-Fa-f]{2}|[0-7]{3}|[\\\\abfnrtv'\"]|U[0-9A-Fa-f]{8}|u[0-9A-Fa-f]{4})";this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"string",regex:'[uU]?"{3}',next:"qqstring3"},{token:"string",regex:'[uU]?"(?=.)',next:"qqstring"},{token:"string",regex:"[uU]?'{3}",next:"qstring3"},{token:"string",regex:"[uU]?'(?=.)",next:"qstring"},{token:"string",regex:'[rR]"{3}',next:"rawqqstring3"},{token:"string",regex:'[rR]"(?=.)',next:"rawqqstring"},{token:"string",regex:"[rR]'{3}",next:"rawqstring3"},{token:"string",regex:"[rR]'(?=.)",next:"rawqstring"},{token:"string",regex:'[fF]"{3}',next:"fqqstring3"},{token:"string",regex:'[fF]"(?=.)',next:"fqqstring"},{token:"string",regex:"[fF]'{3}",next:"fqstring3"},{token:"string",regex:"[fF]'(?=.)",next:"fqstring"},{token:"string",regex:t+'"{3}',next:"rfqqstring3"},{token:"string",regex:t+'"(?=.)',next:"rfqqstring"},{token:"string",regex:t+"'{3}",next:"rfqstring3"},{token:"string",regex:t+"'(?=.)",next:"rfqstring"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\*\\*|\\/|\\/\\/|%|@|<<|>>|&|\\||\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"punctuation",regex:",|:|;|\\->|\\+=|\\-=|\\*=|\\/=|\\/\\/=|%=|@=|&=|\\|=|^=|>>=|<<=|\\*\\*="},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:["keyword","text","entity.name.function"],regex:"(def|class)(\\s+)(\\w+)"},{token:"text",regex:"\\s+"},{include:"constants"}],qqstring3:[{token:"constant.language.escape",regex:r},{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],qstring3:[{token:"constant.language.escape",regex:r},{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],qqstring:[{token:"constant.language.escape",regex:r},{token:"string",regex:"\\\\$",next:"qqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:r},{token:"string",regex:"\\\\$",next:"qstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],rawqqstring3:[{token:"string",regex:'"{3}',next:"start"},{defaultToken:"string"}],rawqstring3:[{token:"string",regex:"'{3}",next:"start"},{defaultToken:"string"}],rawqqstring:[{token:"string",regex:"\\\\$",next:"rawqqstring"},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],rawqstring:[{token:"string",regex:"\\\\$",next:"rawqstring"},{token:"string",regex:"'|$",next:"start"},{defaultToken:"string"}],fqqstring3:[{token:"constant.language.escape",regex:r},{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring3:[{token:"constant.language.escape",regex:r},{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqqstring:[{token:"constant.language.escape",regex:r},{token:"string",regex:"\\\\$",next:"fqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstring:[{token:"constant.language.escape",regex:r},{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring3:[{token:"string",regex:'"{3}',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring3:[{token:"string",regex:"'{3}",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqqstring:[{token:"string",regex:"\\\\$",next:"rfqqstring"},{token:"string",regex:'"|$',next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],rfqstring:[{token:"string",regex:"'|$",next:"start"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"},{defaultToken:"string"}],fqstringParRules:[{token:"paren.lparen",regex:"[\\[\\(]"},{token:"paren.rparen",regex:"[\\]\\)]"},{token:"string",regex:"\\s+"},{token:"string",regex:"'[^']*'"},{token:"string",regex:'"[^"]*"'},{token:"function.support",regex:"(!s|!r|!a)"},{include:"constants"},{token:"paren.rparen",regex:"}",next:"pop"},{token:"paren.lparen",regex:"{",push:"fqstringParRules"}],constants:[{token:"constant.numeric",regex:"(?:"+i+"|\\d+)[jJ]\\b"},{token:"constant.numeric",regex:i},{token:"constant.numeric",regex:n+"[lL]\\b"},{token:"constant.numeric",regex:n+"\\b"},{token:["punctuation","function.support"],regex:"(\\.)([a-zA-Z_]+)\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"}]},this.normalizeRules()};i.inherits(o,r),t.PythonHighlightRules=o})),ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};i.inherits(o,r),t.JsonHighlightRules=o})),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("./doc_comment_highlight_rules").DocCommentHighlightRules,o=e("./text_highlight_rules").TextHighlightRules,s="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",a=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[r.getStartRule("doc-start"),c("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+s+")(\\.)(prototype)(\\.)("+s+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function)(\\s+)("+s+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+s+")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:["support.constant"],regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:s},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+s+")(\\.)("+s+")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:s},{regex:"",token:"empty",next:"no_regex"}],start:[r.getStartRule("doc-start"),c("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],function_arguments:[{token:"variable.parameter",regex:s},{token:"punctuation.operator",regex:"[, ]+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:n},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]}),e&&0==e.jsx||l.call(this)),this.embedRules(r,"doc-",[r.getEndRule("no_regex")]),this.normalizeRules()};function l(){var e=s.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var i="/"==e.charAt(1)?2:1;return 1==i?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==i&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==i?"":"end-")+"tag-open.xml",value:e.slice(0,i)},{type:"meta.tag.tag-name.xml",value:e.substr(i)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,c("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function c(e){return[{token:"comment",regex:/\/\*/,next:[r.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[r.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}i.inherits(a,o),t.JavaScriptHighlightRules=a})),ace.define("ace/mode/pgsql_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules","ace/mode/perl_highlight_rules","ace/mode/python_highlight_rules","ace/mode/json_highlight_rules","ace/mode/javascript_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),r=(e("../lib/lang"),e("./doc_comment_highlight_rules").DocCommentHighlightRules),o=e("./text_highlight_rules").TextHighlightRules,s=e("./perl_highlight_rules").PerlHighlightRules,a=e("./python_highlight_rules").PythonHighlightRules,l=e("./json_highlight_rules").JsonHighlightRules,c=e("./javascript_highlight_rules").JavaScriptHighlightRules,u=function(){var e=[{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"variable.language",regex:'".*?"'},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:this.createKeywordMapper({"support.function":"RI_FKey_cascade_del|RI_FKey_cascade_upd|RI_FKey_check_ins|RI_FKey_check_upd|RI_FKey_noaction_del|RI_FKey_noaction_upd|RI_FKey_restrict_del|RI_FKey_restrict_upd|RI_FKey_setdefault_del|RI_FKey_setdefault_upd|RI_FKey_setnull_del|RI_FKey_setnull_upd|abbrev|abs|abstime|abstimeeq|abstimege|abstimegt|abstimein|abstimele|abstimelt|abstimene|abstimeout|abstimerecv|abstimesend|aclcontains|acldefault|aclexplode|aclinsert|aclitemeq|aclitemin|aclitemout|aclremove|acos|age|any_in|any_out|anyarray_in|anyarray_out|anyarray_recv|anyarray_send|anyelement_in|anyelement_out|anyenum_in|anyenum_out|anynonarray_in|anynonarray_out|anyrange_in|anyrange_out|anytextcat|area|areajoinsel|areasel|array_agg|array_agg_finalfn|array_agg_transfn|array_append|array_cat|array_dims|array_eq|array_fill|array_ge|array_gt|array_in|array_larger|array_le|array_length|array_lower|array_lt|array_ndims|array_ne|array_out|array_prepend|array_recv|array_remove|array_replace|array_send|array_smaller|array_to_json|array_to_string|array_typanalyze|array_upper|arraycontained|arraycontains|arraycontjoinsel|arraycontsel|arrayoverlap|ascii|ascii_to_mic|ascii_to_utf8|asin|atan|atan2|avg|big5_to_euc_tw|big5_to_mic|big5_to_utf8|bit_and|bit_in|bit_length|bit_or|bit_out|bit_recv|bit_send|bitand|bitcat|bitcmp|biteq|bitge|bitgt|bitle|bitlt|bitne|bitnot|bitor|bitshiftleft|bitshiftright|bittypmodin|bittypmodout|bitxor|bool|bool_and|bool_or|booland_statefunc|booleq|boolge|boolgt|boolin|boolle|boollt|boolne|boolor_statefunc|boolout|boolrecv|boolsend|box|box_above|box_above_eq|box_add|box_below|box_below_eq|box_center|box_contain|box_contain_pt|box_contained|box_distance|box_div|box_eq|box_ge|box_gt|box_in|box_intersect|box_le|box_left|box_lt|box_mul|box_out|box_overabove|box_overbelow|box_overlap|box_overleft|box_overright|box_recv|box_right|box_same|box_send|box_sub|bpchar_larger|bpchar_pattern_ge|bpchar_pattern_gt|bpchar_pattern_le|bpchar_pattern_lt|bpchar_smaller|bpcharcmp|bpchareq|bpcharge|bpchargt|bpchariclike|bpcharicnlike|bpcharicregexeq|bpcharicregexne|bpcharin|bpcharle|bpcharlike|bpcharlt|bpcharne|bpcharnlike|bpcharout|bpcharrecv|bpcharregexeq|bpcharregexne|bpcharsend|bpchartypmodin|bpchartypmodout|broadcast|btabstimecmp|btarraycmp|btbeginscan|btboolcmp|btbpchar_pattern_cmp|btbuild|btbuildempty|btbulkdelete|btcanreturn|btcharcmp|btcostestimate|btendscan|btfloat48cmp|btfloat4cmp|btfloat4sortsupport|btfloat84cmp|btfloat8cmp|btfloat8sortsupport|btgetbitmap|btgettuple|btinsert|btint24cmp|btint28cmp|btint2cmp|btint2sortsupport|btint42cmp|btint48cmp|btint4cmp|btint4sortsupport|btint82cmp|btint84cmp|btint8cmp|btint8sortsupport|btmarkpos|btnamecmp|btnamesortsupport|btoidcmp|btoidsortsupport|btoidvectorcmp|btoptions|btrecordcmp|btreltimecmp|btrescan|btrestrpos|btrim|bttext_pattern_cmp|bttextcmp|bttidcmp|bttintervalcmp|btvacuumcleanup|bytea_string_agg_finalfn|bytea_string_agg_transfn|byteacat|byteacmp|byteaeq|byteage|byteagt|byteain|byteale|bytealike|bytealt|byteane|byteanlike|byteaout|bytearecv|byteasend|cash_cmp|cash_div_cash|cash_div_flt4|cash_div_flt8|cash_div_int2|cash_div_int4|cash_eq|cash_ge|cash_gt|cash_in|cash_le|cash_lt|cash_mi|cash_mul_flt4|cash_mul_flt8|cash_mul_int2|cash_mul_int4|cash_ne|cash_out|cash_pl|cash_recv|cash_send|cash_words|cashlarger|cashsmaller|cbrt|ceil|ceiling|center|char|char_length|character_length|chareq|charge|chargt|charin|charle|charlt|charne|charout|charrecv|charsend|chr|cideq|cidin|cidout|cidr|cidr_in|cidr_out|cidr_recv|cidr_send|cidrecv|cidsend|circle|circle_above|circle_add_pt|circle_below|circle_center|circle_contain|circle_contain_pt|circle_contained|circle_distance|circle_div_pt|circle_eq|circle_ge|circle_gt|circle_in|circle_le|circle_left|circle_lt|circle_mul_pt|circle_ne|circle_out|circle_overabove|circle_overbelow|circle_overlap|circle_overleft|circle_overright|circle_recv|circle_right|circle_same|circle_send|circle_sub_pt|clock_timestamp|close_lb|close_ls|close_lseg|close_pb|close_pl|close_ps|close_sb|close_sl|col_description|concat|concat_ws|contjoinsel|contsel|convert|convert_from|convert_to|corr|cos|cot|count|covar_pop|covar_samp|cstring_in|cstring_out|cstring_recv|cstring_send|cume_dist|current_database|current_query|current_schema|current_schemas|current_setting|current_user|currtid|currtid2|currval|cursor_to_xml|cursor_to_xmlschema|database_to_xml|database_to_xml_and_xmlschema|database_to_xmlschema|date|date_cmp|date_cmp_timestamp|date_cmp_timestamptz|date_eq|date_eq_timestamp|date_eq_timestamptz|date_ge|date_ge_timestamp|date_ge_timestamptz|date_gt|date_gt_timestamp|date_gt_timestamptz|date_in|date_larger|date_le|date_le_timestamp|date_le_timestamptz|date_lt|date_lt_timestamp|date_lt_timestamptz|date_mi|date_mi_interval|date_mii|date_ne|date_ne_timestamp|date_ne_timestamptz|date_out|date_part|date_pl_interval|date_pli|date_recv|date_send|date_smaller|date_sortsupport|date_trunc|daterange|daterange_canonical|daterange_subdiff|datetime_pl|datetimetz_pl|dcbrt|decode|degrees|dense_rank|dexp|diagonal|diameter|dispell_init|dispell_lexize|dist_cpoly|dist_lb|dist_pb|dist_pc|dist_pl|dist_ppath|dist_ps|dist_sb|dist_sl|div|dlog1|dlog10|domain_in|domain_recv|dpow|dround|dsimple_init|dsimple_lexize|dsnowball_init|dsnowball_lexize|dsqrt|dsynonym_init|dsynonym_lexize|dtrunc|elem_contained_by_range|encode|enum_cmp|enum_eq|enum_first|enum_ge|enum_gt|enum_in|enum_larger|enum_last|enum_le|enum_lt|enum_ne|enum_out|enum_range|enum_recv|enum_send|enum_smaller|eqjoinsel|eqsel|euc_cn_to_mic|euc_cn_to_utf8|euc_jis_2004_to_shift_jis_2004|euc_jis_2004_to_utf8|euc_jp_to_mic|euc_jp_to_sjis|euc_jp_to_utf8|euc_kr_to_mic|euc_kr_to_utf8|euc_tw_to_big5|euc_tw_to_mic|euc_tw_to_utf8|event_trigger_in|event_trigger_out|every|exp|factorial|family|fdw_handler_in|fdw_handler_out|first_value|float4|float48div|float48eq|float48ge|float48gt|float48le|float48lt|float48mi|float48mul|float48ne|float48pl|float4_accum|float4abs|float4div|float4eq|float4ge|float4gt|float4in|float4larger|float4le|float4lt|float4mi|float4mul|float4ne|float4out|float4pl|float4recv|float4send|float4smaller|float4um|float4up|float8|float84div|float84eq|float84ge|float84gt|float84le|float84lt|float84mi|float84mul|float84ne|float84pl|float8_accum|float8_avg|float8_corr|float8_covar_pop|float8_covar_samp|float8_regr_accum|float8_regr_avgx|float8_regr_avgy|float8_regr_intercept|float8_regr_r2|float8_regr_slope|float8_regr_sxx|float8_regr_sxy|float8_regr_syy|float8_stddev_pop|float8_stddev_samp|float8_var_pop|float8_var_samp|float8abs|float8div|float8eq|float8ge|float8gt|float8in|float8larger|float8le|float8lt|float8mi|float8mul|float8ne|float8out|float8pl|float8recv|float8send|float8smaller|float8um|float8up|floor|flt4_mul_cash|flt8_mul_cash|fmgr_c_validator|fmgr_internal_validator|fmgr_sql_validator|format|format_type|gb18030_to_utf8|gbk_to_utf8|generate_series|generate_subscripts|get_bit|get_byte|get_current_ts_config|getdatabaseencoding|getpgusername|gin_cmp_prefix|gin_cmp_tslexeme|gin_extract_tsquery|gin_extract_tsvector|gin_tsquery_consistent|ginarrayconsistent|ginarrayextract|ginbeginscan|ginbuild|ginbuildempty|ginbulkdelete|gincostestimate|ginendscan|gingetbitmap|gininsert|ginmarkpos|ginoptions|ginqueryarrayextract|ginrescan|ginrestrpos|ginvacuumcleanup|gist_box_compress|gist_box_consistent|gist_box_decompress|gist_box_penalty|gist_box_picksplit|gist_box_same|gist_box_union|gist_circle_compress|gist_circle_consistent|gist_point_compress|gist_point_consistent|gist_point_distance|gist_poly_compress|gist_poly_consistent|gistbeginscan|gistbuild|gistbuildempty|gistbulkdelete|gistcostestimate|gistendscan|gistgetbitmap|gistgettuple|gistinsert|gistmarkpos|gistoptions|gistrescan|gistrestrpos|gistvacuumcleanup|gtsquery_compress|gtsquery_consistent|gtsquery_decompress|gtsquery_penalty|gtsquery_picksplit|gtsquery_same|gtsquery_union|gtsvector_compress|gtsvector_consistent|gtsvector_decompress|gtsvector_penalty|gtsvector_picksplit|gtsvector_same|gtsvector_union|gtsvectorin|gtsvectorout|has_any_column_privilege|has_column_privilege|has_database_privilege|has_foreign_data_wrapper_privilege|has_function_privilege|has_language_privilege|has_schema_privilege|has_sequence_privilege|has_server_privilege|has_table_privilege|has_tablespace_privilege|has_type_privilege|hash_aclitem|hash_array|hash_numeric|hash_range|hashbeginscan|hashbpchar|hashbuild|hashbuildempty|hashbulkdelete|hashchar|hashcostestimate|hashendscan|hashenum|hashfloat4|hashfloat8|hashgetbitmap|hashgettuple|hashinet|hashinsert|hashint2|hashint2vector|hashint4|hashint8|hashmacaddr|hashmarkpos|hashname|hashoid|hashoidvector|hashoptions|hashrescan|hashrestrpos|hashtext|hashvacuumcleanup|hashvarlena|height|host|hostmask|iclikejoinsel|iclikesel|icnlikejoinsel|icnlikesel|icregexeqjoinsel|icregexeqsel|icregexnejoinsel|icregexnesel|inet_client_addr|inet_client_port|inet_in|inet_out|inet_recv|inet_send|inet_server_addr|inet_server_port|inetand|inetmi|inetmi_int8|inetnot|inetor|inetpl|initcap|int2|int24div|int24eq|int24ge|int24gt|int24le|int24lt|int24mi|int24mul|int24ne|int24pl|int28div|int28eq|int28ge|int28gt|int28le|int28lt|int28mi|int28mul|int28ne|int28pl|int2_accum|int2_avg_accum|int2_mul_cash|int2_sum|int2abs|int2and|int2div|int2eq|int2ge|int2gt|int2in|int2larger|int2le|int2lt|int2mi|int2mod|int2mul|int2ne|int2not|int2or|int2out|int2pl|int2recv|int2send|int2shl|int2shr|int2smaller|int2um|int2up|int2vectoreq|int2vectorin|int2vectorout|int2vectorrecv|int2vectorsend|int2xor|int4|int42div|int42eq|int42ge|int42gt|int42le|int42lt|int42mi|int42mul|int42ne|int42pl|int48div|int48eq|int48ge|int48gt|int48le|int48lt|int48mi|int48mul|int48ne|int48pl|int4_accum|int4_avg_accum|int4_mul_cash|int4_sum|int4abs|int4and|int4div|int4eq|int4ge|int4gt|int4in|int4inc|int4larger|int4le|int4lt|int4mi|int4mod|int4mul|int4ne|int4not|int4or|int4out|int4pl|int4range|int4range_canonical|int4range_subdiff|int4recv|int4send|int4shl|int4shr|int4smaller|int4um|int4up|int4xor|int8|int82div|int82eq|int82ge|int82gt|int82le|int82lt|int82mi|int82mul|int82ne|int82pl|int84div|int84eq|int84ge|int84gt|int84le|int84lt|int84mi|int84mul|int84ne|int84pl|int8_accum|int8_avg|int8_avg_accum|int8_sum|int8abs|int8and|int8div|int8eq|int8ge|int8gt|int8in|int8inc|int8inc_any|int8inc_float8_float8|int8larger|int8le|int8lt|int8mi|int8mod|int8mul|int8ne|int8not|int8or|int8out|int8pl|int8pl_inet|int8range|int8range_canonical|int8range_subdiff|int8recv|int8send|int8shl|int8shr|int8smaller|int8um|int8up|int8xor|integer_pl_date|inter_lb|inter_sb|inter_sl|internal_in|internal_out|interval_accum|interval_avg|interval_cmp|interval_div|interval_eq|interval_ge|interval_gt|interval_hash|interval_in|interval_larger|interval_le|interval_lt|interval_mi|interval_mul|interval_ne|interval_out|interval_pl|interval_pl_date|interval_pl_time|interval_pl_timestamp|interval_pl_timestamptz|interval_pl_timetz|interval_recv|interval_send|interval_smaller|interval_transform|interval_um|intervaltypmodin|intervaltypmodout|intinterval|isclosed|isempty|isfinite|ishorizontal|iso8859_1_to_utf8|iso8859_to_utf8|iso_to_koi8r|iso_to_mic|iso_to_win1251|iso_to_win866|isopen|isparallel|isperp|isvertical|johab_to_utf8|json_agg|json_agg_finalfn|json_agg_transfn|json_array_element|json_array_element_text|json_array_elements|json_array_length|json_each|json_each_text|json_extract_path|json_extract_path_op|json_extract_path_text|json_extract_path_text_op|json_in|json_object_field|json_object_field_text|json_object_keys|json_out|json_populate_record|json_populate_recordset|json_recv|json_send|justify_days|justify_hours|justify_interval|koi8r_to_iso|koi8r_to_mic|koi8r_to_utf8|koi8r_to_win1251|koi8r_to_win866|koi8u_to_utf8|lag|language_handler_in|language_handler_out|last_value|lastval|latin1_to_mic|latin2_to_mic|latin2_to_win1250|latin3_to_mic|latin4_to_mic|lead|left|length|like|like_escape|likejoinsel|likesel|line|line_distance|line_eq|line_horizontal|line_in|line_interpt|line_intersect|line_out|line_parallel|line_perp|line_recv|line_send|line_vertical|ln|lo_close|lo_creat|lo_create|lo_export|lo_import|lo_lseek|lo_lseek64|lo_open|lo_tell|lo_tell64|lo_truncate|lo_truncate64|lo_unlink|log|loread|lower|lower_inc|lower_inf|lowrite|lpad|lseg|lseg_center|lseg_distance|lseg_eq|lseg_ge|lseg_gt|lseg_horizontal|lseg_in|lseg_interpt|lseg_intersect|lseg_le|lseg_length|lseg_lt|lseg_ne|lseg_out|lseg_parallel|lseg_perp|lseg_recv|lseg_send|lseg_vertical|ltrim|macaddr_and|macaddr_cmp|macaddr_eq|macaddr_ge|macaddr_gt|macaddr_in|macaddr_le|macaddr_lt|macaddr_ne|macaddr_not|macaddr_or|macaddr_out|macaddr_recv|macaddr_send|makeaclitem|masklen|max|md5|mic_to_ascii|mic_to_big5|mic_to_euc_cn|mic_to_euc_jp|mic_to_euc_kr|mic_to_euc_tw|mic_to_iso|mic_to_koi8r|mic_to_latin1|mic_to_latin2|mic_to_latin3|mic_to_latin4|mic_to_sjis|mic_to_win1250|mic_to_win1251|mic_to_win866|min|mktinterval|mod|money|mul_d_interval|name|nameeq|namege|namegt|nameiclike|nameicnlike|nameicregexeq|nameicregexne|namein|namele|namelike|namelt|namene|namenlike|nameout|namerecv|nameregexeq|nameregexne|namesend|neqjoinsel|neqsel|netmask|network|network_cmp|network_eq|network_ge|network_gt|network_le|network_lt|network_ne|network_sub|network_subeq|network_sup|network_supeq|nextval|nlikejoinsel|nlikesel|notlike|now|npoints|nth_value|ntile|numeric_abs|numeric_accum|numeric_add|numeric_avg|numeric_avg_accum|numeric_cmp|numeric_div|numeric_div_trunc|numeric_eq|numeric_exp|numeric_fac|numeric_ge|numeric_gt|numeric_in|numeric_inc|numeric_larger|numeric_le|numeric_ln|numeric_log|numeric_lt|numeric_mod|numeric_mul|numeric_ne|numeric_out|numeric_power|numeric_recv|numeric_send|numeric_smaller|numeric_sqrt|numeric_stddev_pop|numeric_stddev_samp|numeric_sub|numeric_transform|numeric_uminus|numeric_uplus|numeric_var_pop|numeric_var_samp|numerictypmodin|numerictypmodout|numnode|numrange|numrange_subdiff|obj_description|octet_length|oid|oideq|oidge|oidgt|oidin|oidlarger|oidle|oidlt|oidne|oidout|oidrecv|oidsend|oidsmaller|oidvectoreq|oidvectorge|oidvectorgt|oidvectorin|oidvectorle|oidvectorlt|oidvectorne|oidvectorout|oidvectorrecv|oidvectorsend|oidvectortypes|on_pb|on_pl|on_ppath|on_ps|on_sb|on_sl|opaque_in|opaque_out|overlaps|overlay|path|path_add|path_add_pt|path_center|path_contain_pt|path_distance|path_div_pt|path_in|path_inter|path_length|path_mul_pt|path_n_eq|path_n_ge|path_n_gt|path_n_le|path_n_lt|path_npoints|path_out|path_recv|path_send|path_sub_pt|pclose|percent_rank|pg_advisory_lock|pg_advisory_lock_shared|pg_advisory_unlock|pg_advisory_unlock_all|pg_advisory_unlock_shared|pg_advisory_xact_lock|pg_advisory_xact_lock_shared|pg_available_extension_versions|pg_available_extensions|pg_backend_pid|pg_backup_start_time|pg_cancel_backend|pg_char_to_encoding|pg_client_encoding|pg_collation_for|pg_collation_is_visible|pg_column_is_updatable|pg_column_size|pg_conf_load_time|pg_conversion_is_visible|pg_create_restore_point|pg_current_xlog_insert_location|pg_current_xlog_location|pg_cursor|pg_database_size|pg_describe_object|pg_encoding_max_length|pg_encoding_to_char|pg_event_trigger_dropped_objects|pg_export_snapshot|pg_extension_config_dump|pg_extension_update_paths|pg_function_is_visible|pg_get_constraintdef|pg_get_expr|pg_get_function_arguments|pg_get_function_identity_arguments|pg_get_function_result|pg_get_functiondef|pg_get_indexdef|pg_get_keywords|pg_get_multixact_members|pg_get_ruledef|pg_get_serial_sequence|pg_get_triggerdef|pg_get_userbyid|pg_get_viewdef|pg_has_role|pg_identify_object|pg_indexes_size|pg_is_in_backup|pg_is_in_recovery|pg_is_other_temp_schema|pg_is_xlog_replay_paused|pg_last_xact_replay_timestamp|pg_last_xlog_receive_location|pg_last_xlog_replay_location|pg_listening_channels|pg_lock_status|pg_ls_dir|pg_my_temp_schema|pg_node_tree_in|pg_node_tree_out|pg_node_tree_recv|pg_node_tree_send|pg_notify|pg_opclass_is_visible|pg_operator_is_visible|pg_opfamily_is_visible|pg_options_to_table|pg_postmaster_start_time|pg_prepared_statement|pg_prepared_xact|pg_read_binary_file|pg_read_file|pg_relation_filenode|pg_relation_filepath|pg_relation_is_updatable|pg_relation_size|pg_reload_conf|pg_rotate_logfile|pg_sequence_parameters|pg_show_all_settings|pg_size_pretty|pg_sleep|pg_start_backup|pg_stat_clear_snapshot|pg_stat_file|pg_stat_get_activity|pg_stat_get_analyze_count|pg_stat_get_autoanalyze_count|pg_stat_get_autovacuum_count|pg_stat_get_backend_activity|pg_stat_get_backend_activity_start|pg_stat_get_backend_client_addr|pg_stat_get_backend_client_port|pg_stat_get_backend_dbid|pg_stat_get_backend_idset|pg_stat_get_backend_pid|pg_stat_get_backend_start|pg_stat_get_backend_userid|pg_stat_get_backend_waiting|pg_stat_get_backend_xact_start|pg_stat_get_bgwriter_buf_written_checkpoints|pg_stat_get_bgwriter_buf_written_clean|pg_stat_get_bgwriter_maxwritten_clean|pg_stat_get_bgwriter_requested_checkpoints|pg_stat_get_bgwriter_stat_reset_time|pg_stat_get_bgwriter_timed_checkpoints|pg_stat_get_blocks_fetched|pg_stat_get_blocks_hit|pg_stat_get_buf_alloc|pg_stat_get_buf_fsync_backend|pg_stat_get_buf_written_backend|pg_stat_get_checkpoint_sync_time|pg_stat_get_checkpoint_write_time|pg_stat_get_db_blk_read_time|pg_stat_get_db_blk_write_time|pg_stat_get_db_blocks_fetched|pg_stat_get_db_blocks_hit|pg_stat_get_db_conflict_all|pg_stat_get_db_conflict_bufferpin|pg_stat_get_db_conflict_lock|pg_stat_get_db_conflict_snapshot|pg_stat_get_db_conflict_startup_deadlock|pg_stat_get_db_conflict_tablespace|pg_stat_get_db_deadlocks|pg_stat_get_db_numbackends|pg_stat_get_db_stat_reset_time|pg_stat_get_db_temp_bytes|pg_stat_get_db_temp_files|pg_stat_get_db_tuples_deleted|pg_stat_get_db_tuples_fetched|pg_stat_get_db_tuples_inserted|pg_stat_get_db_tuples_returned|pg_stat_get_db_tuples_updated|pg_stat_get_db_xact_commit|pg_stat_get_db_xact_rollback|pg_stat_get_dead_tuples|pg_stat_get_function_calls|pg_stat_get_function_self_time|pg_stat_get_function_total_time|pg_stat_get_last_analyze_time|pg_stat_get_last_autoanalyze_time|pg_stat_get_last_autovacuum_time|pg_stat_get_last_vacuum_time|pg_stat_get_live_tuples|pg_stat_get_numscans|pg_stat_get_tuples_deleted|pg_stat_get_tuples_fetched|pg_stat_get_tuples_hot_updated|pg_stat_get_tuples_inserted|pg_stat_get_tuples_returned|pg_stat_get_tuples_updated|pg_stat_get_vacuum_count|pg_stat_get_wal_senders|pg_stat_get_xact_blocks_fetched|pg_stat_get_xact_blocks_hit|pg_stat_get_xact_function_calls|pg_stat_get_xact_function_self_time|pg_stat_get_xact_function_total_time|pg_stat_get_xact_numscans|pg_stat_get_xact_tuples_deleted|pg_stat_get_xact_tuples_fetched|pg_stat_get_xact_tuples_hot_updated|pg_stat_get_xact_tuples_inserted|pg_stat_get_xact_tuples_returned|pg_stat_get_xact_tuples_updated|pg_stat_reset|pg_stat_reset_shared|pg_stat_reset_single_function_counters|pg_stat_reset_single_table_counters|pg_stop_backup|pg_switch_xlog|pg_table_is_visible|pg_table_size|pg_tablespace_databases|pg_tablespace_location|pg_tablespace_size|pg_terminate_backend|pg_timezone_abbrevs|pg_timezone_names|pg_total_relation_size|pg_trigger_depth|pg_try_advisory_lock|pg_try_advisory_lock_shared|pg_try_advisory_xact_lock|pg_try_advisory_xact_lock_shared|pg_ts_config_is_visible|pg_ts_dict_is_visible|pg_ts_parser_is_visible|pg_ts_template_is_visible|pg_type_is_visible|pg_typeof|pg_xlog_location_diff|pg_xlog_replay_pause|pg_xlog_replay_resume|pg_xlogfile_name|pg_xlogfile_name_offset|pi|plainto_tsquery|plpgsql_call_handler|plpgsql_inline_handler|plpgsql_validator|point|point_above|point_add|point_below|point_distance|point_div|point_eq|point_horiz|point_in|point_left|point_mul|point_ne|point_out|point_recv|point_right|point_send|point_sub|point_vert|poly_above|poly_below|poly_center|poly_contain|poly_contain_pt|poly_contained|poly_distance|poly_in|poly_left|poly_npoints|poly_out|poly_overabove|poly_overbelow|poly_overlap|poly_overleft|poly_overright|poly_recv|poly_right|poly_same|poly_send|polygon|popen|position|positionjoinsel|positionsel|postgresql_fdw_validator|pow|power|prsd_end|prsd_headline|prsd_lextype|prsd_nexttoken|prsd_start|pt_contained_circle|pt_contained_poly|query_to_xml|query_to_xml_and_xmlschema|query_to_xmlschema|querytree|quote_ident|quote_literal|quote_nullable|radians|radius|random|range_adjacent|range_after|range_before|range_cmp|range_contained_by|range_contains|range_contains_elem|range_eq|range_ge|range_gist_compress|range_gist_consistent|range_gist_decompress|range_gist_penalty|range_gist_picksplit|range_gist_same|range_gist_union|range_gt|range_in|range_intersect|range_le|range_lt|range_minus|range_ne|range_out|range_overlaps|range_overleft|range_overright|range_recv|range_send|range_typanalyze|range_union|rangesel|rank|record_eq|record_ge|record_gt|record_in|record_le|record_lt|record_ne|record_out|record_recv|record_send|regclass|regclassin|regclassout|regclassrecv|regclasssend|regconfigin|regconfigout|regconfigrecv|regconfigsend|regdictionaryin|regdictionaryout|regdictionaryrecv|regdictionarysend|regexeqjoinsel|regexeqsel|regexnejoinsel|regexnesel|regexp_matches|regexp_replace|regexp_split_to_array|regexp_split_to_table|regoperatorin|regoperatorout|regoperatorrecv|regoperatorsend|regoperin|regoperout|regoperrecv|regopersend|regprocedurein|regprocedureout|regprocedurerecv|regproceduresend|regprocin|regprocout|regprocrecv|regprocsend|regr_avgx|regr_avgy|regr_count|regr_intercept|regr_r2|regr_slope|regr_sxx|regr_sxy|regr_syy|regtypein|regtypeout|regtyperecv|regtypesend|reltime|reltimeeq|reltimege|reltimegt|reltimein|reltimele|reltimelt|reltimene|reltimeout|reltimerecv|reltimesend|repeat|replace|reverse|right|round|row_number|row_to_json|rpad|rtrim|scalargtjoinsel|scalargtsel|scalarltjoinsel|scalarltsel|schema_to_xml|schema_to_xml_and_xmlschema|schema_to_xmlschema|session_user|set_bit|set_byte|set_config|set_masklen|setseed|setval|setweight|shell_in|shell_out|shift_jis_2004_to_euc_jis_2004|shift_jis_2004_to_utf8|shobj_description|sign|similar_escape|sin|sjis_to_euc_jp|sjis_to_mic|sjis_to_utf8|slope|smgreq|smgrin|smgrne|smgrout|spg_kd_choose|spg_kd_config|spg_kd_inner_consistent|spg_kd_picksplit|spg_quad_choose|spg_quad_config|spg_quad_inner_consistent|spg_quad_leaf_consistent|spg_quad_picksplit|spg_range_quad_choose|spg_range_quad_config|spg_range_quad_inner_consistent|spg_range_quad_leaf_consistent|spg_range_quad_picksplit|spg_text_choose|spg_text_config|spg_text_inner_consistent|spg_text_leaf_consistent|spg_text_picksplit|spgbeginscan|spgbuild|spgbuildempty|spgbulkdelete|spgcanreturn|spgcostestimate|spgendscan|spggetbitmap|spggettuple|spginsert|spgmarkpos|spgoptions|spgrescan|spgrestrpos|spgvacuumcleanup|split_part|sqrt|statement_timestamp|stddev|stddev_pop|stddev_samp|string_agg|string_agg_finalfn|string_agg_transfn|string_to_array|strip|strpos|substr|substring|sum|suppress_redundant_updates_trigger|table_to_xml|table_to_xml_and_xmlschema|table_to_xmlschema|tan|text|text_ge|text_gt|text_larger|text_le|text_lt|text_pattern_ge|text_pattern_gt|text_pattern_le|text_pattern_lt|text_smaller|textanycat|textcat|texteq|texticlike|texticnlike|texticregexeq|texticregexne|textin|textlen|textlike|textne|textnlike|textout|textrecv|textregexeq|textregexne|textsend|thesaurus_init|thesaurus_lexize|tideq|tidge|tidgt|tidin|tidlarger|tidle|tidlt|tidne|tidout|tidrecv|tidsend|tidsmaller|time_cmp|time_eq|time_ge|time_gt|time_hash|time_in|time_larger|time_le|time_lt|time_mi_interval|time_mi_time|time_ne|time_out|time_pl_interval|time_recv|time_send|time_smaller|time_transform|timedate_pl|timemi|timenow|timeofday|timepl|timestamp_cmp|timestamp_cmp_date|timestamp_cmp_timestamptz|timestamp_eq|timestamp_eq_date|timestamp_eq_timestamptz|timestamp_ge|timestamp_ge_date|timestamp_ge_timestamptz|timestamp_gt|timestamp_gt_date|timestamp_gt_timestamptz|timestamp_hash|timestamp_in|timestamp_larger|timestamp_le|timestamp_le_date|timestamp_le_timestamptz|timestamp_lt|timestamp_lt_date|timestamp_lt_timestamptz|timestamp_mi|timestamp_mi_interval|timestamp_ne|timestamp_ne_date|timestamp_ne_timestamptz|timestamp_out|timestamp_pl_interval|timestamp_recv|timestamp_send|timestamp_smaller|timestamp_sortsupport|timestamp_transform|timestamptypmodin|timestamptypmodout|timestamptz_cmp|timestamptz_cmp_date|timestamptz_cmp_timestamp|timestamptz_eq|timestamptz_eq_date|timestamptz_eq_timestamp|timestamptz_ge|timestamptz_ge_date|timestamptz_ge_timestamp|timestamptz_gt|timestamptz_gt_date|timestamptz_gt_timestamp|timestamptz_in|timestamptz_larger|timestamptz_le|timestamptz_le_date|timestamptz_le_timestamp|timestamptz_lt|timestamptz_lt_date|timestamptz_lt_timestamp|timestamptz_mi|timestamptz_mi_interval|timestamptz_ne|timestamptz_ne_date|timestamptz_ne_timestamp|timestamptz_out|timestamptz_pl_interval|timestamptz_recv|timestamptz_send|timestamptz_smaller|timestamptztypmodin|timestamptztypmodout|timetypmodin|timetypmodout|timetz_cmp|timetz_eq|timetz_ge|timetz_gt|timetz_hash|timetz_in|timetz_larger|timetz_le|timetz_lt|timetz_mi_interval|timetz_ne|timetz_out|timetz_pl_interval|timetz_recv|timetz_send|timetz_smaller|timetzdate_pl|timetztypmodin|timetztypmodout|timezone|tinterval|tintervalct|tintervalend|tintervaleq|tintervalge|tintervalgt|tintervalin|tintervalle|tintervalleneq|tintervallenge|tintervallengt|tintervallenle|tintervallenlt|tintervallenne|tintervallt|tintervalne|tintervalout|tintervalov|tintervalrecv|tintervalrel|tintervalsame|tintervalsend|tintervalstart|to_ascii|to_char|to_date|to_hex|to_json|to_number|to_timestamp|to_tsquery|to_tsvector|transaction_timestamp|translate|trigger_in|trigger_out|trunc|ts_debug|ts_headline|ts_lexize|ts_match_qv|ts_match_tq|ts_match_tt|ts_match_vq|ts_parse|ts_rank|ts_rank_cd|ts_rewrite|ts_stat|ts_token_type|ts_typanalyze|tsmatchjoinsel|tsmatchsel|tsq_mcontained|tsq_mcontains|tsquery_and|tsquery_cmp|tsquery_eq|tsquery_ge|tsquery_gt|tsquery_le|tsquery_lt|tsquery_ne|tsquery_not|tsquery_or|tsqueryin|tsqueryout|tsqueryrecv|tsquerysend|tsrange|tsrange_subdiff|tstzrange|tstzrange_subdiff|tsvector_cmp|tsvector_concat|tsvector_eq|tsvector_ge|tsvector_gt|tsvector_le|tsvector_lt|tsvector_ne|tsvector_update_trigger|tsvector_update_trigger_column|tsvectorin|tsvectorout|tsvectorrecv|tsvectorsend|txid_current|txid_current_snapshot|txid_snapshot_in|txid_snapshot_out|txid_snapshot_recv|txid_snapshot_send|txid_snapshot_xip|txid_snapshot_xmax|txid_snapshot_xmin|txid_visible_in_snapshot|uhc_to_utf8|unique_key_recheck|unknownin|unknownout|unknownrecv|unknownsend|unnest|upper|upper_inc|upper_inf|utf8_to_ascii|utf8_to_big5|utf8_to_euc_cn|utf8_to_euc_jis_2004|utf8_to_euc_jp|utf8_to_euc_kr|utf8_to_euc_tw|utf8_to_gb18030|utf8_to_gbk|utf8_to_iso8859|utf8_to_iso8859_1|utf8_to_johab|utf8_to_koi8r|utf8_to_koi8u|utf8_to_shift_jis_2004|utf8_to_sjis|utf8_to_uhc|utf8_to_win|uuid_cmp|uuid_eq|uuid_ge|uuid_gt|uuid_hash|uuid_in|uuid_le|uuid_lt|uuid_ne|uuid_out|uuid_recv|uuid_send|var_pop|var_samp|varbit_in|varbit_out|varbit_recv|varbit_send|varbit_transform|varbitcmp|varbiteq|varbitge|varbitgt|varbitle|varbitlt|varbitne|varbittypmodin|varbittypmodout|varchar_transform|varcharin|varcharout|varcharrecv|varcharsend|varchartypmodin|varchartypmodout|variance|version|void_in|void_out|void_recv|void_send|width|width_bucket|win1250_to_latin2|win1250_to_mic|win1251_to_iso|win1251_to_koi8r|win1251_to_mic|win1251_to_win866|win866_to_iso|win866_to_koi8r|win866_to_mic|win866_to_win1251|win_to_utf8|xideq|xideqint4|xidin|xidout|xidrecv|xidsend|xml|xml_in|xml_is_well_formed|xml_is_well_formed_content|xml_is_well_formed_document|xml_out|xml_recv|xml_send|xmlagg|xmlcomment|xmlconcat2|xmlexists|xmlvalidate|xpath|xpath_exists",keyword:"abort|absolute|abstime|access|aclitem|action|add|admin|after|aggregate|all|also|alter|always|analyse|analyze|and|any|anyarray|anyelement|anyenum|anynonarray|anyrange|array|as|asc|assertion|assignment|asymmetric|at|attribute|authorization|backward|before|begin|between|bigint|binary|bit|bool|boolean|both|box|bpchar|by|bytea|cache|called|cascade|cascaded|case|cast|catalog|chain|char|character|characteristics|check|checkpoint|cid|cidr|circle|class|close|cluster|coalesce|collate|collation|column|comment|comments|commit|committed|concurrently|configuration|connection|constraint|constraints|content|continue|conversion|copy|cost|create|cross|cstring|csv|current|current_catalog|current_date|current_role|current_schema|current_time|current_timestamp|current_user|cursor|cycle|data|database|date|daterange|day|deallocate|dec|decimal|declare|default|defaults|deferrable|deferred|definer|delete|delimiter|delimiters|desc|dictionary|disable|discard|distinct|do|document|domain|double|drop|each|else|enable|encoding|encrypted|end|enum|escape|event|event_trigger|except|exclude|excluding|exclusive|execute|exists|explain|extension|external|extract|false|family|fdw_handler|fetch|first|float|float4|float8|following|for|force|foreign|forward|freeze|from|full|function|functions|global|grant|granted|greatest|group|gtsvector|handler|having|header|hold|hour|identity|if|ilike|immediate|immutable|implicit|in|including|increment|index|indexes|inet|inherit|inherits|initially|inline|inner|inout|input|insensitive|insert|instead|int|int2|int2vector|int4|int4range|int8|int8range|integer|internal|intersect|interval|into|invoker|is|isnull|isolation|join|json|key|label|language|language_handler|large|last|lateral|lc_collate|lc_ctype|leading|leakproof|least|left|level|like|limit|line|listen|load|local|localtime|localtimestamp|location|lock|lseg|macaddr|mapping|match|materialized|maxvalue|minute|minvalue|mode|money|month|move|name|names|national|natural|nchar|next|no|none|not|nothing|notify|notnull|nowait|null|nullif|nulls|numeric|numrange|object|of|off|offset|oid|oids|oidvector|on|only|opaque|operator|option|options|or|order|out|outer|over|overlaps|overlay|owned|owner|parser|partial|partition|passing|password|path|pg_attribute|pg_auth_members|pg_authid|pg_class|pg_database|pg_node_tree|pg_proc|pg_type|placing|plans|point|polygon|position|preceding|precision|prepare|prepared|preserve|primary|prior|privileges|procedural|procedure|program|quote|range|read|real|reassign|recheck|record|recursive|ref|refcursor|references|refresh|regclass|regconfig|regdictionary|regoper|regoperator|regproc|regprocedure|regtype|reindex|relative|release|reltime|rename|repeatable|replace|replica|reset|restart|restrict|returning|returns|revoke|right|role|rollback|row|rows|rule|savepoint|schema|scroll|search|second|security|select|sequence|sequences|serializable|server|session|session_user|set|setof|share|show|similar|simple|smallint|smgr|snapshot|some|stable|standalone|start|statement|statistics|stdin|stdout|storage|strict|strip|substring|symmetric|sysid|system|table|tables|tablespace|temp|template|temporary|text|then|tid|time|timestamp|timestamptz|timetz|tinterval|to|trailing|transaction|treat|trigger|trim|true|truncate|trusted|tsquery|tsrange|tstzrange|tsvector|txid_snapshot|type|types|unbounded|uncommitted|unencrypted|union|unique|unknown|unlisten|unlogged|until|update|user|using|uuid|vacuum|valid|validate|validator|value|values|varbit|varchar|variadic|varying|verbose|version|view|void|volatile|when|where|whitespace|window|with|without|work|wrapper|write|xid|xml|xmlattributes|xmlconcat|xmlelement|xmlexists|xmlforest|xmlparse|xmlpi|xmlroot|xmlserialize|year|yes|zone"},"identifier",!0),regex:"[a-zA-Z_][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"!|!!|!~|!~\\*|!~~|!~~\\*|#|##|#<|#<=|#<>|#=|#>|#>=|%|\\&|\\&\\&|\\&<|\\&<\\||\\&>|\\*|\\+|\\-|/|<|<#>|<\\->|<<|<<=|<<\\||<=|<>|<\\?>|<@|<\\^|=|>|>=|>>|>>=|>\\^|\\?#|\\?\\-|\\?\\-\\||\\?\\||\\?\\|\\||@|@\\-@|@>|@@|@@@|\\^|\\||\\|\\&>|\\|/|\\|>>|\\|\\||\\|\\|/|~|~\\*|~<=~|~<~|~=|~>=~|~>~|~~|~~\\*"},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}];this.$rules={start:[{token:"comment",regex:"--.*$"},r.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment"},{token:"keyword.statementBegin",regex:"[a-zA-Z]+",next:"statement"},{token:"support.buildin",regex:"^\\\\[\\S]+.*$"}],statement:[{token:"comment",regex:"--.*$"},{token:"comment",regex:"\\/\\*",next:"commentStatement"},{token:"statementEnd",regex:";",next:"start"},{token:"string",regex:"\\$perl\\$",next:"perl-start"},{token:"string",regex:"\\$python\\$",next:"python-start"},{token:"string",regex:"\\$json\\$",next:"json-start"},{token:"string",regex:"\\$(js|javascript)\\$",next:"javascript-start"},{token:"string",regex:"\\$[\\w_0-9]*\\$$",next:"dollarSql"},{token:"string",regex:"\\$[\\w_0-9]*\\$",next:"dollarStatementString"}].concat(e),dollarSql:[{token:"comment",regex:"--.*$"},{token:"comment",regex:"\\/\\*",next:"commentDollarSql"},{token:"string",regex:"^\\$[\\w_0-9]*\\$",next:"statement"},{token:"string",regex:"\\$[\\w_0-9]*\\$",next:"dollarSqlString"}].concat(e),comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}],commentStatement:[{token:"comment",regex:"\\*\\/",next:"statement"},{defaultToken:"comment"}],commentDollarSql:[{token:"comment",regex:"\\*\\/",next:"dollarSql"},{defaultToken:"comment"}],dollarStatementString:[{token:"string",regex:".*?\\$[\\w_0-9]*\\$",next:"statement"},{token:"string",regex:".+"}],dollarSqlString:[{token:"string",regex:".*?\\$[\\w_0-9]*\\$",next:"dollarSql"},{token:"string",regex:".+"}]},this.embedRules(r,"doc-",[r.getEndRule("start")]),this.embedRules(s,"perl-",[{token:"string",regex:"\\$perl\\$",next:"statement"}]),this.embedRules(a,"python-",[{token:"string",regex:"\\$python\\$",next:"statement"}]),this.embedRules(l,"json-",[{token:"string",regex:"\\$json\\$",next:"statement"}]),this.embedRules(c,"javascript-",[{token:"string",regex:"\\$(js|javascript)\\$",next:"statement"}])};i.inherits(u,o),t.PgsqlHighlightRules=u})),ace.define("ace/mode/pgsql",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/pgsql_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),r=e("../mode/text").Mode,o=e("./pgsql_highlight_rules").PgsqlHighlightRules,s=function(){this.HighlightRules=o,this.$behaviour=this.$defaultBehaviour};i.inherits(s,r),function(){this.lineCommentStart="--",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){return"start"==e||"keyword.statementEnd"==e?"":this.$getIndent(t)},this.$id="ace/mode/pgsql"}.call(s.prototype),t.Mode=s})),ace.require(["ace/mode/pgsql"],(function(t){e&&(e.exports=t)}))},9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var i=n(4867),r=n(6026),o=n(4372),s=n(5327),a=n(4097),l=n(4109),c=n(7985),u=n(7874),h=n(2648),d=n(644),p=n(205);e.exports=function(e){return new Promise((function(t,n){var f,m=e.data,g=e.headers,v=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}i.isFormData(m)&&i.isStandardBrowserEnv()&&delete g["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+_)}var x=a(e.baseURL,e.url);function k(){if(b){var i="getAllResponseHeaders"in b?l(b.getAllResponseHeaders()):null,o={data:v&&"text"!==v&&"json"!==v?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:i,config:e,request:b};r((function(e){t(e),y()}),(function(e){n(e),y()}),o),b=null}}if(b.open(e.method.toUpperCase(),s(x,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=k:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(k)},b.onabort=function(){b&&(n(new h("Request aborted",h.ECONNABORTED,e,b)),b=null)},b.onerror=function(){n(new h("Network Error",h.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new h(t,i.clarifyTimeoutError?h.ETIMEDOUT:h.ECONNABORTED,e,b)),b=null},i.isStandardBrowserEnv()){var C=(e.withCredentials||c(x))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;C&&(g[e.xsrfHeaderName]=C)}"setRequestHeader"in b&&i.forEach(g,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete g[t]:b.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),v&&"json"!==v&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){b&&(n(!e||e&&e.type?new d:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),m||(m=null);var S=p(x);S&&-1===["http","https","file"].indexOf(S)?n(new h("Unsupported protocol "+S+":",h.ERR_BAD_REQUEST,e)):b.send(m)}))}},1609:(e,t,n)=>{"use strict";var i=n(4867),r=n(1849),o=n(321),s=n(7185),a=function e(t){var n=new o(t),a=r(o.prototype.request,n);return i.extend(a,o.prototype,n),i.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(5546));a.Axios=o,a.CanceledError=n(644),a.CancelToken=n(4972),a.isCancel=n(6502),a.VERSION=n(7288).version,a.toFormData=n(7675),a.AxiosError=n(2648),a.Cancel=a.CanceledError,a.all=function(e){return Promise.all(e)},a.spread=n(8713),a.isAxiosError=n(6268),e.exports=a,e.exports.default=a},4972:(e,t,n)=>{"use strict";var i=n(644);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,i=n._listeners.length;for(t=0;t<i;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},r.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},644:(e,t,n)=>{"use strict";var i=n(2648);function r(e){i.call(this,null==e?"canceled":e,i.ERR_CANCELED),this.name="CanceledError"}n(4867).inherits(r,i,{__CANCEL__:!0}),e.exports=r},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var i=n(4867),r=n(5327),o=n(782),s=n(3572),a=n(7185),l=n(4097),c=n(4875),u=c.validators;function h(e){this.defaults=e,this.interceptors={request:new o,response:new o}}h.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var i=[],r=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!r){var h=[s,void 0];for(Array.prototype.unshift.apply(h,i),h=h.concat(l),o=Promise.resolve(t);h.length;)o=o.then(h.shift(),h.shift());return o}for(var d=t;i.length;){var p=i.shift(),f=i.shift();try{d=p(d)}catch(e){f(e);break}}try{o=s(d)}catch(e){return Promise.reject(e)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},h.prototype.getUri=function(e){e=a(this.defaults,e);var t=l(e.baseURL,e.url);return r(t,e.params,e.paramsSerializer)},i.forEach(["delete","get","head","options"],(function(e){h.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(a(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}h.prototype[e]=t(),h.prototype[e+"Form"]=t(!0)})),e.exports=h},2648:(e,t,n)=>{"use strict";var i=n(4867);function r(e,t,n,i,r){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}i.inherits(r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=r.prototype,s={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){s[e]={value:e}})),Object.defineProperties(r,s),Object.defineProperty(o,"isAxiosError",{value:!0}),r.from=function(e,t,n,s,a,l){var c=Object.create(o);return i.toFlatObject(e,c,(function(e){return e!==Error.prototype})),r.call(c,e.message,t,n,s,a),c.name=e.name,l&&Object.assign(c,l),c},e.exports=r},782:(e,t,n)=>{"use strict";var i=n(4867);function r(){this.handlers=[]}r.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},4097:(e,t,n)=>{"use strict";var i=n(1793),r=n(7303);e.exports=function(e,t){return e&&!i(t)?r(e,t):t}},3572:(e,t,n)=>{"use strict";var i=n(4867),r=n(8527),o=n(6502),s=n(5546),a=n(644);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=r.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return l(e),t.data=r.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=r.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7185:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e,t){t=t||{};var n={};function r(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function o(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function s(e){if(!i.isUndefined(t[e]))return r(void 0,t[e])}function a(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function l(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return i.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,r=t(e);i.isUndefined(r)&&t!==l||(n[e]=r)})),n}},6026:(e,t,n)=>{"use strict";var i=n(2648);e.exports=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new i("Request failed with status code "+n.status,[i.ERR_BAD_REQUEST,i.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var i=n(4867),r=n(5546);e.exports=function(e,t,n){var o=this||r;return i.forEach(n,(function(n){e=n.call(o,e,t)})),e}},5546:(e,t,n)=>{"use strict";var i=n(4867),r=n(6016),o=n(2648),s=n(7874),a=n(7675),l={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u,h={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(u=n(5448)),u),transformRequest:[function(e,t){if(r(t,"Accept"),r(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e))return e;if(i.isArrayBufferView(e))return e.buffer;if(i.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,o=i.isObject(e),s=t&&t["Content-Type"];if((n=i.isFileList(e))||o&&"multipart/form-data"===s){var l=this.env&&this.env.FormData;return a(n?{"files[]":e}:e,l&&new l)}return o||"application/json"===s?(c(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(0,JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||h.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw o.from(e,o.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(1623)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){h.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){h.headers[e]=i.merge(l)})),e.exports=h},7874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7288:e=>{e.exports={version:"0.27.2"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var i=n(4867);function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(i.isURLSearchParams(t))o=t.toString();else{var s=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(r(t)+"="+r(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var i=n(4867);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,r,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(r)&&a.push("path="+r),i.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e){return i.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var i=n(4867);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=i.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},1623:e=>{e.exports=null},4109:(e,t,n)=>{"use strict";var i=n(4867),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(i.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=i.trim(e.substr(0,o)).toLowerCase(),n=i.trim(e.substr(o+1)),t){if(s[t]&&r.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},205:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7675:(e,t,n)=>{"use strict";var i=n(4867);e.exports=function(e,t){t=t||new FormData;var n=[];function r(e){return null===e?"":i.isDate(e)?e.toISOString():i.isArrayBuffer(e)||i.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(o,s){if(i.isPlainObject(o)||i.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+s);n.push(o),i.forEach(o,(function(n,o){if(!i.isUndefined(n)){var a,l=s?s+"."+o:o;if(n&&!s&&"object"==typeof n)if(i.endsWith(o,"{}"))n=JSON.stringify(n);else if(i.endsWith(o,"[]")&&(a=i.toArray(n)))return void a.forEach((function(e){!i.isUndefined(e)&&t.append(l,r(e))}));e(n,l)}})),n.pop()}else t.append(s,r(o))}(e),t}},4875:(e,t,n)=>{"use strict";var i=n(7288).version,r=n(2648),o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var s={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+i+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new r(o(i," has been removed"+(t?" in "+t:"")),r.ERR_DEPRECATED);return t&&!s[i]&&(s[i]=!0,console.warn(o(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new r("options must be an object",r.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),o=i.length;o-- >0;){var s=i[o],a=t[s];if(a){var l=e[s],c=void 0===l||a(l,s,e);if(!0!==c)throw new r("option "+s+" must be "+c,r.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new r("Unknown option "+s,r.ERR_BAD_OPTION)}},validators:o}},4867:(e,t,n)=>{"use strict";var i,r=n(1849),o=Object.prototype.toString,s=(i=Object.create(null),function(e){var t=o.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return s(t)===e}}function l(e){return Array.isArray(e)}function c(e){return void 0===e}var u=a("ArrayBuffer");function h(e){return null!==e&&"object"==typeof e}function d(e){if("object"!==s(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=a("Date"),f=a("File"),m=a("Blob"),g=a("FileList");function v(e){return"[object Function]"===o.call(e)}var y=a("URLSearchParams");function b(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),l(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var w,_=(w="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return w&&e instanceof w});e.exports={isArray:l,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||o.call(e)===t||v(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:h,isPlainObject:d,isUndefined:c,isDate:p,isFile:f,isBlob:m,isFunction:v,isStream:function(e){return h(e)&&v(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:b,merge:function e(){var t={};function n(n,i){d(t[i])&&d(n)?t[i]=e(t[i],n):d(n)?t[i]=e({},n):l(n)?t[i]=n.slice():t[i]=n}for(var i=0,r=arguments.length;i<r;i++)b(arguments[i],n);return t},extend:function(e,t,n){return b(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var i,r,o,s={};t=t||{};do{for(r=(i=Object.getOwnPropertyNames(e)).length;r-- >0;)s[o=i[r]]||(t[o]=e[o],s[o]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:a,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return-1!==i&&i===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:_,isFileList:g}},7248:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(9669),r=n.n(i),o=n(129),s=n.n(o),a=n(649);const l=r().create({baseURL:a.sb+"api",paramsSerializer:function(e){return s().stringify(e,{arrayFormat:"brackets"})}})},2345:(e,t,n)=>{"use strict";n.d(t,{j:()=>c,r:()=>s}),n(2707),n(561),n(2222),n(1539),n(8674),n(7727),n(9753),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(8309),n(4916);var i=n(2262),r=n(7248);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s=(0,i.qj)([]);function a(e){var t;s.splice.apply(s,[0,s.length].concat((t=function(e){return e.sort((function(e,t){return e.updated_at>t.updated_at?-1:1}))}(e),function(e){if(Array.isArray(e))return o(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())))}var l=null;function c(){return l||(l=r.Z.get("forms",{params:{include:"tags",fields:{form:"id,name,tags,updated_at",tags:"id,name"}}}).then((function(e){a(e.data.data)})).finally((function(){l=null}))),l}var u=document.getElementById("app");a(JSON.parse(u.getAttribute("data-forms")))},1896:(e,t,n)=>{"use strict";n.d(t,{J:()=>r,Q:()=>o}),n(6699),n(2023),n(5827),n(1539),n(8309);var i={eq:function(e,t){return e==t},neq:function(e,t){return e!=t},empty:function(e,t){return!e&&0!==e},nempty:function(e,t){return!(!e&&""===e)},contains:function(e,t){return e.includes(t)},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},lt:function(e,t){return e<t},lte:function(e,t){return e<=t}};function r(e){return e.reduce((function(e,t){if(t.default_value)e[t.name]=t.default_value||(t.is_array?[]:"");else if(t.items){var n=r(t.items);e[t.name]=t.is_array?[n]:n}return e}),{})}function o(e,t){return null==e||!e.length||e.reduce((function(e,n){var r,o=i[n.action](null!==(r=t[n.field])&&void 0!==r?r:"",n.value);return e&&o}),!0)}},2871:(e,t,n)=>{"use strict";n.d(t,{i:()=>c}),n(4916),n(4723),n(3710),n(1539),n(9714),n(9070),n(7941),n(2526),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321);var i=n(1483),r=n.n(i);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l={};function c(e){var t=l[e];if(!t){var n={};e&&e.toString().match(/^not[_\s]/i)&&(n={hue:{min:0,max:60}}),t=[new(r())(s(s({},n),{},{lightness:.9})).hex(e.toString()),new(r())(s(s({},n),{},{lightness:.4})).hex(e.toString())],l[e]=t}return t}},9476:(e,t,n)=>{"use strict";function i(){var e=this;this.$nextTick((function(){var t,n=e.$refs.form.$el.querySelector(".ivu-form-item-error");n?n.scrollIntoView():null===(t=e.$refs.form.$el.querySelector(".ivu-alert-error"))||void 0===t||t.scrollIntoView()}))}n.d(t,{o:()=>i})},645:(e,t,n)=>{"use strict";n.d(t,{JG:()=>a,j$:()=>s,om:()=>o}),n(8309),n(6699),n(4944),n(3792),n(7327),n(1539),n(1249),n(4916),n(5306),n(4603),n(9714),n(2023),n(5827);var i=n(8369),r=n(649);function o(e,t){return("json"===e.column_type||t[e.name]instanceof Object&&t[e.name].constructor===Object)&&!["file","image","reference"].includes(e.column_type)}function s(e,t){if(e.is_array)return[];var n=(e.validators||[]).map((function(t){return t.required?{required:!0,message:r.cR.field_is_required.replace("%{field}",e.display_name)}:t.format?{pattern:t.format.source?new RegExp(t.format.source,t.format.options):new RegExp(t.format),message:t.message||r.cR.field_value_does_not_match_pattern.replace("%{field}",e.display_name).replace("%{pattern}",t.format.source),trigger:"blur"}:t.includes?{required:!0,message:r.cR.field_is_required.replace("%{field}",e.display_name)}:t.length?{validator:i.Z.length,fullField:e.display_name,options:t.length}:t.numeric?[{validator:i.Z.number,fullField:e.display_name},{required:!t.numeric.allow_nil&&!t.numeric.allow_blank,message:r.cR.field_is_required.replace("%{field}",e.display_name)},{required:!t.numeric.allow_nil&&!t.numeric.allow_blank,validator:i.Z.numeric,fullField:e.display_name,options:t.numeric}]:null})).filter(Boolean).flat();return"email"===e.name&&n.push({type:"email",trigger:"blur"}),o(e,t)&&n.push({validator:i.Z.json,fullField:e.display_name,trigger:"blur"}),!e.reference&&["integer","float"].includes(e.column_type)&&n.push({validator:i.Z.number,fullField:e.display_name}),n}function a(e){return e.columns.reduce((function(e,t){return"association"===t.column_type?e[t.name]=t.default_value||[]:null!==t.default_value&&(e[t.name]=t.default_value),e}),{})}},2734:(e,t,n)=>{"use strict";n.d(t,{n:()=>a,p:()=>s}),n(9600),n(7327),n(1539),n(1249),n(6699),n(2023),n(8309),n(7852),n(9554),n(4747),n(9826),n(9070);var i=n(48);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["read_only","read_write"];return e.columns.map((function(n){return"association"!==n.column_type&&(t.includes(n.access_type)||e.primary_key===n.name||n.name.endsWith("currency")||n.name.endsWith("_type"))?n.name:null})).filter(Boolean).join(",")}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["read_only","read_write"];return e.columns.map((function(e){var n,i,r;return t.includes(e.access_type)&&(null!==(n=e.reference)&&void 0!==n&&n.name||"association"===e.column_type)?(null===(i=e.reference)||void 0===i?void 0:i.name)||(null===(r=e.format)||void 0===r?void 0:r.association_name):null})).filter(Boolean).join(",")}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["read_only","read_write"],n=r({},e.name,o(e,t));return e.columns.forEach((function(r){var s;if(null!==(s=r.reference)&&void 0!==s&&s.name&&!r.reference.polymorphic&&t.includes(r.access_type)){var a,l=i.r3[r.reference.model_name];l&&(n[a=r.reference.name]||(n[a]=o(l,t)))}if("association"===r.column_type&&t.includes(r.access_type)){var c,u,h=i.r3[null===(c=e.associations.find((function(e){return e.name===r.format.association_name})))||void 0===c?void 0:c.model_name];h&&(n[u=r.format.association_name]||(n[u]=o(h,t)))}})),n}},48:(e,t,n)=>{"use strict";n.d(t,{OU:()=>l,fK:()=>o,ik:()=>s,r3:()=>a}),n(6992),n(8559),n(1249),n(8309);var i=n(2262),r=document.getElementById("app"),o=(0,i.qj)(JSON.parse(r.getAttribute("data-schema"))),s=Object.fromEntries(o.map((function(e){return[e.slug,e]}))),a=Object.fromEntries(o.map((function(e){return[e.name,e]}))),l=Object.fromEntries(o.map((function(e){return[e.class_name,e]})))},8104:(e,t,n)=>{"use strict";n.d(t,{F:()=>i,y:()=>r});var i=(0,n(2262).qj)({});function r(e,t,n){i[e]||(i[e]={}),i[e][t]=n}},9813:(e,t,n)=>{"use strict";n.d(t,{L:()=>d}),n(1249),n(8309),n(7941),n(9826),n(1539),n(9753),n(3710),n(4916),n(4723),n(2479),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(1038),n(9070),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321);var i=n(9669),r=n.n(i),o=n(7248),s=n(5763),a=n(1006);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function d(e,t){var n,i,l=(n=(0,s.gK)(e.preferences.api_path,t),i=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(n,i)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=l[0],d=l[1];for(var m in d)d[m]||delete d[m];return("origin"!==e.preferences.api_config_name?o.Z.get("run_api_request",{params:{data:{params:d,api_config_name:e.preferences.api_config_name,path:u}}}):(0,a.w)().then((function(e){return r().get(u,{params:d,headers:c({},e.headers)})}))).then((function(e){if("object"==typeof e.data){var t,n,i,r,o,a=function(e){var t=f(e);return t?Array.isArray(t[0])?t:t.map((function(e){return Object.values(e)})):[]}((null===(t=e.data)||void 0===t?void 0:t.data)||e.data),l=function(e,t){if(t)return t.map((function(e){return{name:e.name||e.title||e.label,display_name:(0,s.MI)(e.display_name||e.label||e.title||e.name),column_type:e.column_type||e.type,is_array:e.is_array}}));var n=f(e);return n[0]?Object.keys(n[0]).map((function(e){var t=n.find((function(t,n){return null!==n[e]||{}}))[e];return{name:e,display_name:(0,s.MI)(e),column_type:p(t),is_array:Array.isArray(t)}})):[]}((null===(n=e.data)||void 0===n?void 0:n.data)||e.data,(null===(i=e.data.meta)||void 0===i?void 0:i.columns)||(null===(r=e.data.data)||void 0===r?void 0:r.columns)||(null===(o=e.data)||void 0===o?void 0:o.columns));return{data:a,columns:l}}return{dataHTML:e.data}}))}function p(e){return Array.isArray(e)?p(e[0]):e instanceof Date?"datetime":"number"==typeof e?"float":!0===e||!1===e?"boolean":"string"==typeof e?e.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)?"datetime":e.match(/^\d{4}-\d{2}-\d{2}$/)?"date":"string":void 0}function f(e){if(Array.isArray(e))return e;var t=Object.keys(e);return 1===t.length&&Array.isArray(e[t[0]])?e[Object.keys(e)[0]]:[e]}},8424:(e,t,n)=>{"use strict";n.d(t,{Kp:()=>S,XD:()=>C,ay:()=>d,db:()=>p,jc:()=>A,n3:()=>f,vS:()=>m}),n(1249),n(2707),n(1539),n(8674),n(7727),n(561),n(2222),n(6992),n(8783),n(3948),n(9070),n(7941),n(2526),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321),n(9753),n(1817),n(2165),n(1038),n(7042),n(8309),n(4916);var i=n(2262),r=n(7248),o=n(4800);function s(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=(0,i.qj)([]),p=(0,i.qj)([]),f=(0,i.qj)([]),m=(0,i.qj)([]);function g(e,t){return e.map((function(e){return u(u({},e),{},{type:t})}))}function v(e){return e.sort((function(e,t){return e.updated_at>t.updated_at?-1:1}))}var y=null;function b(){return y||(y=r.Z.get("queries",{params:{include:"tags",fields:{query:"id,name,tags,updated_at",tags:"id,name"}}}).finally((function(){y=null}))),y}var w=null;function _(){return w||(w=r.Z.get("dashboards",{params:{include:"tags",fields:{dashboard:"id,title,tags,updated_at",tags:"id,name"}}}).finally((function(){w=null}))),w}var x=null;function k(e,t,n){var i=g(e,"dashboard"),r=g(t,"query"),o=g(n,"alert");p.splice.apply(p,[0,p.length].concat(s(v(r)))),f.splice.apply(f,[0,f.length].concat(s(v(i)))),m.splice.apply(m,[0,m.length].concat(s(v(o)))),d.splice.apply(d,[0,d.length].concat(s(v(f.concat(p).concat(m)))))}function C(){return Promise.all([o.Z.$can("read","Motor::Dashboard")?_():Promise.resolve({data:{data:[]}}),o.Z.$can("read","Motor::Query")?b():Promise.resolve({data:{data:[]}}),o.Z.$can("read","Motor::Alert")?(x||(x=r.Z.get("alerts",{params:{include:"tags",fields:{alert:"id,name,tags,is_enabled,updated_at",tags:"id,name"}}}).finally((function(){x=null}))),x):Promise.resolve({data:{data:[]}})]).then((function(e){var t,n,i=(n=3,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(t,n)||a(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=i[0],o=i[1],s=i[2];k(r.data.data,o.data.data,s.data.data)})).catch((function(e){console.error(e)}))}function S(){return b().then((function(e){var t=g(e.data.data,"query");p.splice.apply(p,[0,p.length].concat(s(v(t)))),d.splice.apply(d,[0,d.length].concat(s(v(f.concat(p).concat(m)))))})).catch((function(e){console.error(e)}))}function A(){return _().then((function(e){var t=g(e.data.data,"dashboard");f.splice.apply(f,[0,f.length].concat(s(v(t)))),d.splice.apply(d,[0,d.length].concat(s(v(p.concat(f).concat(m)))))})).catch((function(e){console.error(e)}))}var T=document.getElementById("app");k(JSON.parse(T.getAttribute("data-dashboards")),JSON.parse(T.getAttribute("data-queries")),JSON.parse(T.getAttribute("data-alerts")))},1995:(e,t,n)=>{"use strict";n.d(t,{r:()=>xn}),n(4916),n(5306),n(9070),n(7941),n(2526),n(7327),n(1539),n(5003),n(9554),n(4747),n(9337),n(3321);var i=n(6252),r={key:1,class:"pt-3"};n(1249),n(8309);var o=n(3577),s=n(9963),a={class:"ivu-card-body d-flex align-items-center justify-content-between"},l={class:"d-flex align-items-center"},c={class:"d-flex align-items-center"},u=n(7248),h=n(3912);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(9753),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(1038);var p={style:{"min-height":"350px"}},f={style:{"min-height":"260px","max-height":"260px",overflowY:"auto"}},m=["onClick","innerHTML"];function g(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(6699),n(2023),n(8674),n(7727),n(561),n(2222);var y=(0,n(2262).qj)([]);const b={name:"IconSelect",emits:["select","close"],data:function(){return{isLoading:!1,searchQuery:""}},computed:{icons:function(){var e=this;return y.filter((function(t){var n,i,r=(i=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(n,i)||g(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0];return r[1],o.includes(e.searchQuery.toLowerCase())}))}},mounted:function(){this.loadIcons()},methods:{loadIcons:function(){var e=this;y.length||(this.isLoading=!0,u.Z.get("icons").then((function(e){var t;y.splice.apply(y,[0,0].concat(function(e){if(Array.isArray(e))return v(e)}(t=e.data.data)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))})).catch((function(e){console.error(e)})).finally((function(){e.isLoading=!1})))}}};var w=n(3744);const _=(0,w.Z)(b,[["render",function(e,t,n,r,s,a){var l=(0,i.up)("Spin"),c=(0,i.up)("VInput"),u=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",p,[s.isLoading?((0,i.wg)(),(0,i.j4)(l,{key:0,fix:""})):(0,i.kq)("",!0),(0,i.Wm)(c,{modelValue:s.searchQuery,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.searchQuery=e}),search:"",placeholder:e.i18n.search_placeholder,size:"large",class:"mb-2"},null,8,["modelValue","placeholder"]),(0,i._)("div",f,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.icons,(function(t){var n,r,o=(r=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[0],a=o[1];return(0,i.wg)(),(0,i.iD)("span",{key:s,onClick:function(t){return e.$emit("select",s.replace(".svg",""))},innerHTML:a},null,8,m)})),128))]),s.isLoading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(u,{key:1,long:"",icon:"md-close",class:"mt-2",onClick:t[1]||(t[1]=function(t){return e.$emit("close")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.close),1)]})),_:1}))])}],["__scopeId","data-v-b265b63e"]]),x={name:"ResourceSettingsItem",components:{CustomIcon:h.Z},props:{resource:{type:Object,required:!0}},methods:{openIconEditor:function(){var e=this;this.$Modal.open(_,{onSelect:function(t){e.resource.icon=t,e.persistChanges(),e.$Modal.remove()},onClose:function(){e.$Modal.remove()}})},persistChanges:function(){return u.Z.post("resources",{data:{name:this.resource.name,preferences:{display_name:this.resource.display_name,icon:this.resource.icon,visible:this.resource.visible}}}).then((function(e){})).catch((function(e){console.error(e)}))}}},k=(0,w.Z)(x,[["render",function(e,t,n,r,u,h){var d=(0,i.up)("Icon"),p=(0,i.up)("Checkbox"),f=(0,i.up)("CustomIcon"),m=(0,i.up)("Contenteditable");return(0,i.wg)(),(0,i.iD)("div",{class:"ivu-card ivu-card-bordered",style:(0,o.j5)({opacity:n.resource.visible?1:.5})},[(0,i._)("div",a,[(0,i._)("div",l,[(0,i.Wm)(d,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,i.Wm)(p,{modelValue:n.resource.visible,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.resource.visible=e}),class:"m-0",onClick:t[1]||(t[1]=(0,s.iM)((function(){}),["stop"])),onChange:h.persistChanges},null,8,["modelValue","onChange"]),(0,i.Wm)(f,{type:n.resource.icon,size:36,class:"p-2 mx-1",onClick:(0,s.iM)(h.openIconEditor,["stop"])},null,8,["type","onClick"]),(0,i.Wm)(m,{modelValue:n.resource.display_name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.resource.display_name=e}),class:"fs-4 fw-bold",onClick:t[3]||(t[3]=(0,s.iM)((function(){}),["stop"])),onChange:h.persistChanges},null,8,["modelValue","onChange"])]),(0,i._)("div",c,[(0,i.Wm)(d,{type:"ios-arrow-forward"})])])],4)}],["__scopeId","data-v-7f3597aa"]]);var C={class:"resource-settings"},S={class:"sticky-footer"},A={key:1,class:"py-2 border-top"},T={class:"ivu-card ivu-card-bordered"},O={class:"ivu-card-body py-0"},L={class:"d-flex align-items-center"},E={class:"d-flex align-items-center"};n(4553),n(9601);var D={class:"row"},P={key:0,class:"col-sm-6 ps-sm-1"},M={key:0,class:"row"},$={class:"col-sm-6 pe-sm-1"},R={class:"col-sm-6 ps-sm-1"},I={class:"text-center"},F={class:"d-flex justify-content-between"};n(9254),n(9826),n(3123),n(4944),n(3792),n(4723),n(9600),n(4603),n(9714);var j=n(1699),N=n(8369),z=n(9215),q=n(733),V={class:"row"},B={class:"col-sm-12"},W={class:"col-sm-6 pe-sm-1"},U={class:"col-sm-6 ps-sm-1"},H={class:"col-sm-6 pe-sm-1"},Z={class:"col-sm-6 ps-sm-1"},K={key:1,class:"col-sm-12"},G=n(48);const Y={name:"ResourceReferenceForm",props:{resourceName:{type:String,required:!0},reference:{type:Object,required:!0}},computed:{model:function(){return G.r3[this.resourceName]},resourceColumns:function(){return this.model.columns.filter((function(e){return"table"===e.column_source}))},resourceReferences:function(){return this.resourceColumns.map((function(e){return e.reference})).filter(Boolean)},throughReferences:function(){var e=this,t=this.resourceReferences.find((function(t){return t.name===e.reference.options.through}));return t?G.r3[t.model_name].columns.map((function(e){return e.reference})).filter(Boolean):[]},referenceColumns:function(){return this.reference.model_name?G.r3[this.reference.model_name].columns.filter((function(e){return"table"===e.column_source})):[]},referenceModels:function(){return G.fK},modelNameMap:function(){return G.r3}},methods:{setReferenceKeys:function(e){e?(this.reference.primary_key=e.primary_key,this.reference.foreign_key=e.foreign_key,this.reference.model_name=e.model_name):(this.reference.primary_key=null,this.reference.foreign_key=null,this.reference.model_name=null)},onPolymorphicChange:function(e){e&&(this.reference.model_name=null,this.reference.primary_key="id")}}},Q=(0,w.Z)(Y,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("MSelect"),l=(0,i.up)("FormItem"),c=(0,i.up)("Checkbox");return(0,i.wg)(),(0,i.iD)("div",V,[(0,i._)("div",B,[(0,i.Wm)(l,{label:e.i18n.reference_resource,prop:"reference.model_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.reference.model_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.reference.model_name=e}),"value-key":"name","label-key":"display_name","with-deselect":!1,options:s.referenceModels,disabled:n.reference.polymorphic||!!n.reference.options.through,placeholder:e.i18n.select_resource_placeholder,filterable:""},null,8,["modelValue","options","disabled","placeholder"])]})),_:1},8,["label"])]),"active_storage/attachment"!==n.reference.model_name?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",W,[(0,i.Wm)(l,{label:e.i18n.foreign_key,prop:"reference.foreign_key"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.reference.foreign_key,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.reference.foreign_key=e}),"value-key":"name","label-key":"name","with-deselect":!1,disabled:!!n.reference.options.through,options:"has_one"===n.reference.reference_type?s.referenceColumns:s.resourceColumns,filterable:""},null,8,["modelValue","disabled","options"])]})),_:1},8,["label"])]),(0,i._)("div",U,[(0,i.Wm)(l,{label:e.i18n.primary_key,prop:"reference.primary_key"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.reference.primary_key,"onUpdate:modelValue":t[2]||(t[2]=function(e){return n.reference.primary_key=e}),"value-key":"name","label-key":"name","with-deselect":!1,disabled:n.reference.polymorphic||!!n.reference.options.through,options:"has_one"===n.reference.reference_type?s.resourceColumns:s.referenceColumns,filterable:""},null,8,["modelValue","disabled","options"])]})),_:1},8,["label"])]),"has_one"===n.reference.reference_type?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",H,[(0,i.Wm)(l,{label:e.i18n.through,prop:"reference.options.through"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.reference.options.through,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.reference.options.through=e}),"value-key":"name","label-key":"display_name",options:s.resourceReferences,filterable:""},null,8,["modelValue","options"])]})),_:1},8,["label"])]),(0,i._)("div",Z,[(0,i.Wm)(l,{label:e.i18n.source,prop:"reference.options.source"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.reference.options.source,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.reference.options.source=e}),"value-key":"name","label-key":"display_name",options:s.throughReferences,filterable:"",onSelect:s.setReferenceKeys},null,8,["modelValue","options","onSelect"])]})),_:1},8,["label"])])],64)):((0,i.wg)(),(0,i.iD)("div",K,[(0,i.Wm)(l,{label:e.i18n.polymorphic,prop:"reference.polymorphic"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:n.reference.polymorphic,"onUpdate:modelValue":[t[5]||(t[5]=function(e){return n.reference.polymorphic=e}),s.onPolymorphicChange]},null,8,["modelValue","onUpdate:modelValue"])]})),_:1},8,["label"])]))],64)):(0,i.kq)("",!0)])}]]);var J=n(6383),X=n(5487),ee=n(5763);function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const ne={name:"ResourceColumnForm",components:{FormInput:j.Z,CurrencySelect:z.Z,OptionsInput:q.Z,ReferenceForm:Q,QuerySelect:J.Z},props:{column:{type:Object,required:!0},resourceName:{type:String,required:!0},withRemove:{type:Boolean,required:!1,default:!1}},emits:["cancel","submit","remove"],data:function(){return{isLoading:!1,dataColumn:{},selectedOptionsText:""}},computed:{model:function(){return G.r3[this.resourceName]},rules:function(){var e,t={display_name:[{required:!0,message:(0,X.w)("name")}]};return"json"===this.dataColumn.column_type&&(t.default_value=[{validator:N.Z.json,fullField:this.i18n.default_value}]),"reference"===this.dataColumn.column_type&&(null!==(e=this.dataColumn.reference)&&void 0!==e&&e.polymorphic||(t["reference.model_name"]=[{required:!0,message:(0,X.w)("reference_resource")}]),t["reference.foreign_key"]=[{required:!0,message:(0,X.w)("foreign_key")}],t["reference.primary_key"]=[{required:!0,message:(0,X.w)("primary_key")}]),"association"===this.dataColumn.column_type&&(t["format.association_name"]=[{required:!0,message:(0,X.w)("association")}]),t},validatorRegexpRule:function(){return[{required:!0,message:(0,X.w)("regexp")},{validator:N.Z.regexp,fullField:this.i18n.regexp}]},validatorMessageRule:function(){return[{required:!0,message:(0,X.w)("message")}]},currencyBaseOptions:function(){return[{label:this.i18n.unit,value:"unit"},{label:this.i18n.cents,value:"cents"}]},columnTypes:function(){return[{label:this.i18n.text,value:"string"},{label:this.i18n.integer,value:"integer"},{label:this.i18n.decimal,value:"float"},{label:this.i18n.reference,value:"reference"},{label:this.i18n.association,value:"association"},{label:this.i18n.date_and_time,value:"datetime"},{label:this.i18n.date,value:"date"},{label:this.i18n.boolean,value:"boolean"},{label:this.i18n.long_text,value:"textarea"},{label:this.i18n.richtext,value:"richtext"},{label:this.i18n.currency,value:"currency"},{label:this.i18n.percentage,value:"percentage"},{label:this.i18n.rating,value:"rating"},{label:this.i18n.change,value:"change"},{label:this.i18n.chart,value:"chart"},{label:this.i18n.tag,value:"tag"},{label:this.i18n.select,value:"select"},{label:this.i18n.link,value:"link"},{label:this.i18n.color,value:"color"},{label:this.i18n.image,value:"image"},{label:this.i18n.audio,value:"audio"},{label:this.i18n.video,value:"video"},{label:this.i18n.file,value:"file"},{label:this.i18n.json,value:"json"}]},customValidator:function(){return this.dataColumn.validators.find((function(e){return"message"in e}))},accessTypes:function(){return[{label:this.i18n.read_write,value:"read_write"},{label:this.i18n.read_only,value:"read_only"},{label:this.i18n.write_only,value:"write_only"},{label:this.i18n.hidden,value:"hidden"}]},splitTagOptions:function(){return[{label:this.i18n.semicolon,value:";"},{label:this.i18n.comma,value:","},{label:this.i18n.hyphen,value:"-"},{label:this.i18n.slash,value:"/"}]}},watch:{"dataColumn.column_type":function(e){e!==this.column.column_type?this.dataColumn.default_value=null:this.column.default_value&&"object"==typeof this.column.default_value?this.dataColumn.default_value=JSON.stringify(this.column.default_value,null,"  "):this.dataColumn.default_value=JSON.parse(JSON.stringify(this.column.default_value)||"null")}},created:function(){this.dataColumn=this.normalizeDataColumn()},methods:{toggleCustomValidator:function(){var e;this.customValidator?this.dataColumn.validators=function(e){if(Array.isArray(e))return te(e)}(e=this.column.validators.filter((function(e){return!("message"in e)})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():this.dataColumn.validators.push({format:"",message:""})},assignDefaultData:function(){var e,t;if(this.column.reference&&(this.column.reference.virtual?this.dataColumn.reference=null:this.dataColumn.reference=JSON.parse(JSON.stringify(this.column.reference))),"currency"===this.dataColumn.column_type)(e=this.dataColumn.format).currency||(e.currency="USD"),(t=this.dataColumn.format).currency_base||(t.currency_base="unit");else if("reference"===this.dataColumn.column_type){var n;this.dataColumn.reference={name:"",display_name:"",model_name:null===(n=G.r3[this.column.name]||G.r3[this.column.name.replace(/_id$/,"")])||void 0===n?void 0:n.name,reference_type:this.column.virtual?"has_one":"belongs_to",foreign_key:this.column.virtual?"":this.column.name,primary_key:"id",options:{},polymorphic:!1,virtual:!0}}},normalizeDataColumn:function(e){var t=this,n=JSON.parse(JSON.stringify(this.column));return n.default_value&&"object"==typeof n.default_value&&(n.default_value=JSON.stringify(n.default_value,null,"  ")),this.columnTypes.find((function(e){return e.value===t.column.column_type}))||(n.column_type="string"),n},loadSelectOptions:function(){var e=this,t="SELECT DISTINCT(".concat(this.dataColumn.name,") FROM ").concat(this.model.table_name);u.Z.post("run_queries",{sql_body:t,preferences:{database:this.model.name.includes("/")?this.model.name.split("/")[0]:"default"}}).then((function(t){e.dataColumn.format.select_options=t.data.data.flat().map((function(e){return null!=e&&e.match&&e.match(/^{.*}$/)?e.split(/[{},]/):e})).flat().filter(Boolean),e.selectedOptionsText=Array(e.dataColumn.format.select_options).flat().join("\n")}))},submit:function(){var e=this;this.$refs.form.validate((function(t){if(t){if(e.dataColumn.reference){var n,i,r,o=new RegExp("_".concat(e.dataColumn.reference.primary_key,"$"));"active_storage/attachment"===e.dataColumn.reference.model_name?(i=e.dataColumn.reference).name||(i.name=(0,ee.It)(e.dataColumn.display_name)+"_attachment"):(r=e.dataColumn.reference).name||(r.name=(0,ee.It)(e.dataColumn.display_name).replace(o,"")),(n=e.dataColumn.reference).display_name||(n.display_name=e.dataColumn.display_name)}e.$emit("submit",e.dataColumn)}}))}}},ie=(0,w.Z)(ne,[["render",function(e,t,n,r,s,a){var l=(0,i.up)("VInput"),c=(0,i.up)("FormItem"),u=(0,i.up)("MSelect"),h=(0,i.up)("CurrencySelect"),d=(0,i.up)("ReferenceForm"),p=(0,i.up)("OptionsInput"),f=(0,i.up)("VButton"),m=(0,i.up)("QuerySelect"),g=(0,i.up)("FormInput"),v=(0,i.up)("Checkbox"),y=(0,i.up)("VForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(y,{ref:"form",rules:a.rules,"label-position":"top",model:s.dataColumn},{default:(0,i.w5)((function(){var r;return[(0,i.Wm)(c,{label:e.i18n.name,prop:"display_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{modelValue:s.dataColumn.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.dataColumn.display_name=e})},null,8,["modelValue"])]})),_:1},8,["label"]),(0,i._)("div",D,[(0,i._)("div",{class:(0,o.C_)("hidden"!==s.dataColumn.access_type?"col-sm-6 pe-sm-1":"col-12")},[(0,i.Wm)(c,{label:e.i18n.visibility,prop:"access_type"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataColumn.access_type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.dataColumn.access_type=e}),"with-deselect":!1,options:a.accessTypes},null,8,["modelValue","options"])]})),_:1},8,["label"])],2),"hidden"!==s.dataColumn.access_type?((0,i.wg)(),(0,i.iD)("div",P,[(0,i.Wm)(c,{label:e.i18n.type,prop:"column_type"},{default:(0,i.w5)((function(){var e;return[(0,i.Wm)(u,{modelValue:s.dataColumn.column_type,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return s.dataColumn.column_type=e}),a.assignDefaultData],options:a.columnTypes,filterable:"","with-deselect":!1,disabled:!1===(null===(e=s.dataColumn.reference)||void 0===e?void 0:e.virtual)},null,8,["modelValue","options","disabled","onUpdate:modelValue"])]})),_:1},8,["label"])])):(0,i.kq)("",!0)]),"hidden"!==s.dataColumn.access_type&&["currency"].includes(s.dataColumn.column_type)?((0,i.wg)(),(0,i.iD)("div",M,[(0,i._)("div",$,[(0,i.Wm)(c,{label:e.i18n.label,prop:"format.currency"},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{modelValue:s.dataColumn.format.currency,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.dataColumn.format.currency=e})},null,8,["modelValue"])]})),_:1},8,["label"])]),(0,i._)("div",R,[(0,i.Wm)(c,{label:e.i18n.base,prop:"format.currency_base"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataColumn.format.currency_base,"onUpdate:modelValue":t[4]||(t[4]=function(e){return s.dataColumn.format.currency_base=e}),"with-deselect":!1,options:a.currencyBaseOptions},null,8,["modelValue","options"])]})),_:1},8,["label"])])])):(0,i.kq)("",!0),["association"].includes(s.dataColumn.column_type)?((0,i.wg)(),(0,i.j4)(c,{key:1,label:e.i18n.association,prop:"format.association"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataColumn.format.association_name,"onUpdate:modelValue":t[5]||(t[5]=function(e){return s.dataColumn.format.association_name=e}),"with-deselect":!1,"label-key":"display_name","value-key":"name",options:a.model.associations},null,8,["modelValue","options"])]})),_:1},8,["label"])):(0,i.kq)("",!0),"hidden"!==s.dataColumn.access_type&&["reference"].includes(s.dataColumn.column_type)&&s.dataColumn.reference?((0,i.wg)(),(0,i.j4)(d,{key:2,"resource-name":n.resourceName,reference:s.dataColumn.reference},null,8,["resource-name","reference"])):(0,i.kq)("",!0),"tag"===s.dataColumn.column_type?((0,i.wg)(),(0,i.j4)(c,{key:3,label:e.i18n.select_options,prop:"format.select_options"},{default:(0,i.w5)((function(){return[(0,i.Wm)(p,{modelValue:s.dataColumn.format.select_options,"onUpdate:modelValue":t[6]||(t[6]=function(e){return s.dataColumn.format.select_options=e}),"options-text":s.selectedOptionsText},null,8,["modelValue","options-text"]),(0,i._)("div",I,[(0,i.Wm)(f,{type:"text",onClick:a.loadSelectOptions},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.load_existing_options_from_database),1)]})),_:1},8,["onClick"])])]})),_:1},8,["label"])):(0,i.kq)("",!0),"select"===s.dataColumn.column_type?((0,i.wg)(),(0,i.j4)(c,{key:4,label:e.i18n.select_query,prop:"format.select_query_id"},{default:(0,i.w5)((function(){return[(0,i.Wm)(m,{modelValue:s.dataColumn.format.select_query_id,"onUpdate:modelValue":t[7]||(t[7]=function(e){return s.dataColumn.format.select_query_id=e})},null,8,["modelValue"])]})),_:1},8,["label"])):(0,i.kq)("",!0),"link"===s.dataColumn.column_type?((0,i.wg)(),(0,i.j4)(c,{key:5,label:e.i18n.link_text,prop:"format.link_text"},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{modelValue:s.dataColumn.format.link_text,"onUpdate:modelValue":t[8]||(t[8]=function(e){return s.dataColumn.format.link_text=e})},null,8,["modelValue"])]})),_:1},8,["label"])):(0,i.kq)("",!0),["tag"].includes(s.dataColumn.column_type)?((0,i.wg)(),(0,i.j4)(c,{key:6,label:e.i18n.split_tags_by,prop:"format.split_tags_by"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataColumn.format.split_tags_by,"onUpdate:modelValue":t[9]||(t[9]=function(e){return s.dataColumn.format.split_tags_by=e}),options:a.splitTagOptions},null,8,["modelValue","options"])]})),_:1},8,["label"])):(0,i.kq)("",!0),(0,i.Wm)(c,{label:e.i18n.description,prop:"description"},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{modelValue:s.dataColumn.description,"onUpdate:modelValue":t[10]||(t[10]=function(e){return s.dataColumn.description=e}),type:"textarea",autosize:{minRows:1,maxRows:5}},null,8,["modelValue"])]})),_:1},8,["label"]),["read_write","write_only"].includes(s.dataColumn.access_type)&&!["image","file","audio","video"].includes(s.dataColumn.column_type)&&"active_storage/attachment"!==(null===(r=s.dataColumn.reference)||void 0===r?void 0:r.model_name)?((0,i.wg)(),(0,i.j4)(c,{key:7,label:e.i18n.default_value,prop:"default_value"},{default:(0,i.w5)((function(){return[(0,i.Wm)(g,{modelValue:s.dataColumn.default_value,"onUpdate:modelValue":t[11]||(t[11]=function(e){return s.dataColumn.default_value=e}),column:s.dataColumn},null,8,["modelValue","column"])]})),_:1},8,["label"])):(0,i.kq)("",!0),!["read_write","write_only"].includes(s.dataColumn.access_type)||s.dataColumn.reference||["association"].includes(s.dataColumn.column_type)?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(v,{key:8,"model-value":!!a.customValidator,class:"mb-3","onUpdate:modelValue":a.toggleCustomValidator},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(" ")+" "+(0,o.zw)(e.i18n.validate),1)]})),_:1},8,["model-value","onUpdate:modelValue"])),a.customValidator?((0,i.wg)(),(0,i.j4)(c,{key:9,label:e.i18n.validation_regexp,prop:"validators.".concat(s.dataColumn.validators.length-1,".format"),rules:a.validatorRegexpRule},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{modelValue:a.customValidator.format,"onUpdate:modelValue":t[12]||(t[12]=function(e){return a.customValidator.format=e})},null,8,["modelValue"])]})),_:1},8,["label","prop","rules"])):(0,i.kq)("",!0),a.customValidator?((0,i.wg)(),(0,i.j4)(c,{key:10,label:e.i18n.error_message,prop:"validators.".concat(s.dataColumn.validators.length-1,".message"),rules:a.validatorMessageRule},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{modelValue:a.customValidator.message,"onUpdate:modelValue":t[13]||(t[13]=function(e){return a.customValidator.message=e})},null,8,["modelValue"])]})),_:1},8,["label","prop","rules"])):(0,i.kq)("",!0)]})),_:1},8,["rules","model"]),(0,i._)("div",F,[(0,i._)("div",null,[n.withRemove?((0,i.wg)(),(0,i.j4)(f,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[14]||(t[14]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(f,{onClick:t[15]||(t[15]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(f,{type:"primary",loading:s.isLoading,onClick:a.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])])])}]]);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ae={name:"ResourceColumn",components:{ColumnForm:ie},props:{resourceName:{type:String,required:!0},column:{type:Object,required:!0}},emits:["reorder"],data:function(){return{isForm:!1}},computed:{resource:function(){return G.r3[this.resourceName]}},methods:{removeColumn:function(){var e=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){var t=e.resource.columns.findIndex((function(t){return t.name===e.column.name}));e.resource.columns.splice(t,1),u.Z.post("resources",{data:{name:e.resourceName,preferences:{columns:[{name:e.column.name,_remove:!0}]}}}).then((function(e){})).catch((function(e){console.error(e)}))}})},persistChanges:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=oe({},t||this.column);return n.name&&(n._update=n.name),n.virtual&&"association"!==n.column_type&&(n.name=(0,ee.It)(n.display_name)),u.Z.post("resources",{data:{name:this.resourceName,preferences:{columns:[n]}}}).then((function(t){e.column.name!==n.name&&(e.column.name=n.name,e.$emit("reorder"))})).catch((function(e){console.error(e)}))},toggleAccessType:function(e){this.column.access_type=e?"read_write":"hidden",this.persistChanges()},toggleForm:function(){var e=this;this.isForm=!this.isForm,this.isForm&&this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},updateName:function(e){this.column.display_name=e.target.innerText},updateColumn:function(e){var t=this;this.persistChanges(e).then((function(){Object.assign(t.column,e)})),this.isForm=!1}}};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var he={display_name:"",name:"",column_type:"string",access_type:"read_write",format:{},validators:[]};const de={name:"ResourceColumnsList",components:{ResourceColumn:(0,w.Z)(ae,[["render",function(e,t,n,r,a,l){var c=(0,i.up)("Icon"),u=(0,i.up)("Checkbox"),h=(0,i.up)("Contenteditable"),d=(0,i.up)("ColumnForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",T,[(0,i._)("div",O,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",style:(0,o.j5)({opacity:a.isForm||"hidden"!==n.column.access_type?1:.5}),onClick:t[4]||(t[4]=function(){return l.toggleForm&&l.toggleForm.apply(l,arguments)})},[(0,i._)("div",L,[(0,i.Wm)(c,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,i.Wm)(u,{"model-value":["read_only","read_write"].includes(n.column.access_type),indeterminate:["write_only","read_only"].includes(n.column.access_type),onClick:t[0]||(t[0]=(0,s.iM)((function(){}),["stop"])),onOnChange:l.toggleAccessType},null,8,["model-value","indeterminate","onOnChange"]),(0,i.Wm)(h,{modelValue:n.column.display_name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.column.display_name=e}),class:"fs-5 fw-bold",onClick:t[2]||(t[2]=(0,s.iM)((function(){}),["stop"])),onChange:t[3]||(t[3]=function(e){return l.persistChanges()})},null,8,["modelValue"])]),(0,i._)("div",E,[(0,i.Wm)(c,{type:a.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])],4),a.isForm?((0,i.wg)(),(0,i.j4)(d,{key:0,column:n.column,"resource-name":n.resourceName,class:"py-3","with-remove":n.column.virtual,onCancel:l.toggleForm,onRemove:l.removeColumn,onSubmit:l.updateColumn},null,8,["column","resource-name","with-remove","onCancel","onRemove","onSubmit"])):(0,i.kq)("",!0)])])])}]]),ResourceColumnForm:ie},props:{resource:{type:Object,required:!0}},data:function(){return{newColumn:null}},methods:{addColumn:function(){var e=this;this.newColumn=ce(ce({},he),{},{virtual:!0}),this.$nextTick((function(){e.$refs.newForm.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onColumnSubmit:function(e){var t,n=this;return"association"===e.column_type?e.name=e.format.association_name:e.name=(0,ee.It)(e.display_name),"active_storage/attachment"===(null===(t=e.reference)||void 0===t?void 0:t.model_name)&&(e.name+="_attachment"),this.newColumn=null,u.Z.post("resources",{data:{name:this.resource.name,preferences:{columns:[e]}}}).then((function(t){n.resource.columns.push(e)})).catch((function(e){console.error(e)}))},onColumnMove:function(){return u.Z.post("configs",{data:{key:"resources.".concat(this.resource.name,".columns.order"),value:this.resource.columns.map((function(e){return e.name}))}}).then((function(e){})).catch((function(e){console.error(e)}))}}},pe=(0,w.Z)(de,[["render",function(e,t,n,r,s,a){var l=(0,i.up)("ResourceColumn"),c=(0,i.up)("VueDraggableNext"),u=(0,i.up)("ResourceColumnForm"),h=(0,i.up)("Card"),d=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{list:n.resource.columns,handle:".handle",onChange:a.onColumnMove},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.resource.columns,(function(e){return(0,i.wg)(),(0,i.j4)(l,{key:e.name,"resource-name":n.resource.name,column:e,class:"pb-2",onReorder:a.onColumnMove},null,8,["resource-name","column","onReorder"])})),128))]})),_:1},8,["list","onChange"]),s.newColumn?((0,i.wg)(),(0,i.j4)(h,{key:0},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{ref:"newForm",column:s.newColumn,"resource-name":n.resource.name,onCancel:t[0]||(t[0]=function(e){return s.newColumn=null}),onSubmit:a.onColumnSubmit},null,8,["column","resource-name","onSubmit"])]})),_:1})):((0,i.wg)(),(0,i.iD)("div",A,[(0,i.Wm)(d,{long:"",icon:"md-add",onClick:a.addColumn},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.add_column),1)]})),_:1},8,["onClick"])]))],64)}]]);var fe={key:1,class:"py-2 border-top"},me={class:"ivu-card ivu-card-bordered"},ge={class:"ivu-card-body"},ve={class:"d-flex align-items-center"},ye={key:0,class:"d-flex align-items-center"},be={class:"row"},we={class:"col-sm-12"},_e={class:"col-sm-12"},xe={class:"col-sm-6 pe-sm-1"},ke={class:"col-sm-6 ps-sm-1"},Ce={class:"col-sm-6 pe-sm-1"},Se={class:"col-sm-6 ps-sm-1"},Ae={class:"col-sm-12 mb-2"},Te=(0,i._)("br",null,null,-1),Oe={class:"d-flex justify-content-between"},Le=n(1511);function Ee(e){return function(e){if(Array.isArray(e))return De(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?De(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const Pe={name:"ResourceAssociationForm",components:{Filters:Le.Z},props:{association:{type:Object,required:!0},resourceName:{type:String,required:!0},withRemove:{type:Boolean,required:!1,default:!1}},emits:["cancel","submit","remove"],data:function(){return{isLoading:!1,dataAssoc:{}}},computed:{rules:function(){var e={display_name:[{required:!0,message:(0,X.w)("name")}],model_name:[{required:!0,message:(0,X.w)("resource")}],primary_key:[{required:!0,message:(0,X.w)("primary_key")}],foreign_key:[{required:!0,message:(0,X.w)("foreign_key")}]};return this.dataAssoc.options.through&&(e["options.source"]=[{required:!0,message:(0,X.w)("source")}]),e},model:function(){return G.r3[this.resourceName]},resourceColumns:function(){return this.model.columns.filter((function(e){return!e.virtual}))},resourceReferences:function(){var e=this;return[].concat(Ee(this.resourceColumns.map((function(e){return e.reference})).filter(Boolean)),Ee(this.model.associations.filter((function(t){return t.display_name!==e.dataAssoc.display_name}))))},associationModel:function(){return G.r3[this.dataAssoc.model_name]},throughModel:function(){var e=this,t=this.resourceReferences.find((function(t){return t.name===e.dataAssoc.options.through}));return G.r3[null==t?void 0:t.model_name]},throughReferences:function(){return this.throughModel?[].concat(Ee(this.throughModel.associations),Ee(this.throughModel.columns.map((function(e){return e.reference})).filter(Boolean))):[]},associationColumns:function(){return this.dataAssoc.model_name?G.r3[this.dataAssoc.model_name].columns.filter((function(e){return"table"===e.column_source})):[]},associationModels:function(){return G.fK},modelNameMap:function(){return G.r3}},created:function(){this.dataAssoc=JSON.parse(JSON.stringify(this.association))},methods:{setAssociationKeys:function(e){e?(this.dataAssoc.primary_key=e.primary_key,this.dataAssoc.foreign_key=e.foreign_key,this.dataAssoc.model_name=e.model_name):(this.dataAssoc.primary_key=null,this.dataAssoc.foreign_key=null,this.dataAssoc.model_name=null)},onFiltersToggle:function(e){e?this.dataAssoc.options.filters=[]:delete this.dataAssoc.options.filters},onPolymorphicChange:function(e){e&&(this.dataAssoc.model_name=null,this.dataAssoc.primary_key="id")},submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$emit("submit",e.dataAssoc)}))}}},Me=(0,w.Z)(Pe,[["render",function(e,t,n,r,s,a){var l=(0,i.up)("VInput"),c=(0,i.up)("FormItem"),u=(0,i.up)("MSelect"),h=(0,i.up)("Checkbox"),d=(0,i.up)("Filters"),p=(0,i.up)("VForm"),f=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(p,{ref:"form",rules:a.rules,"label-position":"top",model:s.dataAssoc},{default:(0,i.w5)((function(){return[(0,i._)("div",be,[(0,i._)("div",we,[(0,i.Wm)(c,{label:e.i18n.name,prop:"display_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{modelValue:s.dataAssoc.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.dataAssoc.display_name=e})},null,8,["modelValue"])]})),_:1},8,["label"])]),(0,i._)("div",_e,[(0,i.Wm)(c,{label:e.i18n.resource,prop:"model_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataAssoc.model_name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.dataAssoc.model_name=e}),"value-key":"name","label-key":"display_name","with-deselect":!1,disabled:!!s.dataAssoc.options.through,options:a.associationModels,placeholder:e.i18n.select_resource_placeholder,filterable:""},null,8,["modelValue","disabled","options","placeholder"])]})),_:1},8,["label"])]),"active_storage/attachment"!==s.dataAssoc.model_name?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("div",xe,[(0,i.Wm)(c,{label:e.i18n.foreign_key,prop:"foreign_key"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataAssoc.foreign_key,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.dataAssoc.foreign_key=e}),"value-key":"name",disabled:!!s.dataAssoc.options.through,"label-key":"name","with-deselect":!1,options:a.associationColumns,filterable:""},null,8,["modelValue","disabled","options"])]})),_:1},8,["label"])]),(0,i._)("div",ke,[(0,i.Wm)(c,{label:e.i18n.primary_key,prop:"primary_key"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataAssoc.primary_key,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.dataAssoc.primary_key=e}),disabled:!!s.dataAssoc.options.through,"value-key":"name","label-key":"name","with-deselect":!1,options:a.resourceColumns,filterable:""},null,8,["modelValue","disabled","options"])]})),_:1},8,["label"])]),(0,i._)("div",Ce,[(0,i.Wm)(c,{label:e.i18n.through,prop:"options.through"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataAssoc.options.through,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return s.dataAssoc.options.through=e}),t[5]||(t[5]=function(e){return e?"":s.dataAssoc.options.source=null})],"value-key":"name","label-key":"display_name",options:a.resourceReferences,filterable:""},null,8,["modelValue","options"])]})),_:1},8,["label"])]),(0,i._)("div",Se,[(0,i.Wm)(c,{label:e.i18n.source,prop:"options.source"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{modelValue:s.dataAssoc.options.source,"onUpdate:modelValue":t[6]||(t[6]=function(e){return s.dataAssoc.options.source=e}),"value-key":"name","label-key":"display_name",options:a.throughReferences,filterable:"",onSelect:a.setAssociationKeys},null,8,["modelValue","options","onSelect"])]})),_:1},8,["label"])]),(0,i._)("div",Ae,[(0,i.Wm)(h,{modelValue:s.dataAssoc.polymorphic,"onUpdate:modelValue":[t[7]||(t[7]=function(e){return s.dataAssoc.polymorphic=e}),a.onPolymorphicChange]},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(" ")+(0,o.zw)(e.i18n.polymorphic),1)]})),_:1},8,["modelValue","onUpdate:modelValue"]),Te,(0,i.Wm)(h,{"model-value":!!s.dataAssoc.options.filters,"onUpdate:modelValue":a.onFiltersToggle},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(" ")+(0,o.zw)(e.i18n.filter),1)]})),_:1},8,["model-value","onUpdate:modelValue"])])],64)):(0,i.kq)("",!0)]),s.dataAssoc.options.filters&&"active_storage/attachment"!==s.dataAssoc.model_name?((0,i.wg)(),(0,i.j4)(d,{key:0,filters:s.dataAssoc.options.filters,"onUpdate:filters":t[8]||(t[8]=function(e){return s.dataAssoc.options.filters=e}),model:a.associationModel||a.throughModel},null,8,["filters","model"])):(0,i.kq)("",!0)]})),_:1},8,["rules","model"]),(0,i._)("div",Oe,[(0,i._)("div",null,[n.withRemove?((0,i.wg)(),(0,i.j4)(f,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[9]||(t[9]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(f,{onClick:t[10]||(t[10]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(f,{type:"primary",loading:s.isLoading,onClick:a.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])])])}]]),$e={name:"AssociationItem",components:{CustomIcon:h.Z,AssociationForm:Me},props:{resourceName:{type:String,required:!0},association:{type:Object,required:!0}},data:function(){return{isForm:!1}},computed:{model:function(){return G.r3[this.resourceName]}},methods:{removeAssociation:function(){var e=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){var t=e.model.associations.findIndex((function(t){return t.name===e.association.name}));e.model.associations.splice(t,1),u.Z.post("resources",{data:{name:e.resourceName,preferences:{associations:[{name:e.association.name,_remove:!0}]}}}).then((function(e){})).catch((function(e){console.error(e)}))}})},openIconEditor:function(){var e=this;this.$Modal.open(_,{onSelect:function(t){e.association.icon=t,e.persistChanges(),e.$Modal.remove()},onClose:function(){e.$Modal.remove()}})},toggleForm:function(){var e=this;this.association.virtual&&(this.isForm=!this.isForm,this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})})))},updateAssociation:function(e){var t=this;this.persistChanges(e).then((function(){Object.assign(t.association,e)})),this.isForm=!1},persistChanges:function(e){return u.Z.post("resources",{data:{name:this.resourceName,preferences:{associations:[e||this.association]}}}).then((function(e){})).catch((function(e){console.error(e)}))}}};var Re={display_name:"",name:"",slug:"",model_name:"",foreign_key:"",primary_key:"",polymorphic:!1,options:{},icon:"database",virtual:!0,visible:!0};const Ie={name:"ResourceAssociationsList",components:{Association:(0,w.Z)($e,[["render",function(e,t,n,r,a,l){var c=(0,i.up)("Icon"),u=(0,i.up)("Checkbox"),h=(0,i.up)("CustomIcon"),d=(0,i.up)("Contenteditable"),p=(0,i.up)("AssociationForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",me,[(0,i._)("div",ge,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between",style:(0,o.j5)({opacity:!a.isForm&&n.association.visible?1:.5}),onClick:t[6]||(t[6]=function(){return l.toggleForm&&l.toggleForm.apply(l,arguments)})},[(0,i._)("div",ve,[(0,i.Wm)(c,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,i.Wm)(u,{modelValue:n.association.visible,"onUpdate:modelValue":t[0]||(t[0]=function(e){return n.association.visible=e}),class:"m-0",onClick:t[1]||(t[1]=(0,s.iM)((function(){}),["stop"])),onChange:t[2]||(t[2]=function(e){return l.persistChanges()})},null,8,["modelValue"]),(0,i.Wm)(h,{type:n.association.icon,size:26,class:"p-1 mx-1 cursor-pointer",onClick:(0,s.iM)(l.openIconEditor,["stop"])},null,8,["type","onClick"]),(0,i.Wm)(d,{modelValue:n.association.display_name,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.association.display_name=e}),class:"fs-5 fw-bold",onClick:t[4]||(t[4]=(0,s.iM)((function(){}),["stop"])),onChange:t[5]||(t[5]=function(e){return l.persistChanges()})},null,8,["modelValue"])]),n.association.virtual?((0,i.wg)(),(0,i.iD)("div",ye,[(0,i.Wm)(c,{type:a.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])):(0,i.kq)("",!0)],4),a.isForm?((0,i.wg)(),(0,i.j4)(p,{key:0,association:n.association,"resource-name":n.resourceName,class:"py-3","with-remove":!0,onCancel:l.toggleForm,onRemove:l.removeAssociation,onSubmit:l.updateAssociation},null,8,["association","resource-name","onCancel","onRemove","onSubmit"])):(0,i.kq)("",!0)])])])}],["__scopeId","data-v-562fb018"]]),AssociationForm:Me},props:{resource:{type:Object,required:!0}},data:function(){return{newAssociation:null}},methods:{addAssociation:function(){this.newAssociation=JSON.parse(JSON.stringify(Re))},onAssociationSubmit:function(e){var t=this;return e.name=(0,ee.It)(e.display_name),e.slug=(0,ee.It)(e.display_name),"active_storage/attachment"===e.model_name&&(e.name+="_attachments",e.slug+="_attachments"),this.newAssociation=null,u.Z.post("resources",{data:{name:this.resource.name,preferences:{associations:[e]}}}).then((function(n){t.resource.associations.push(e)})).catch((function(e){console.error(e)}))},onAssociationMove:function(){return u.Z.post("configs",{data:{key:"resources.".concat(this.resource.name,".associations.order"),value:this.resource.associations.map((function(e){return e.name}))}}).then((function(e){})).catch((function(e){console.error(e)}))}}},Fe=(0,w.Z)(Ie,[["render",function(e,t,n,r,s,a){var l=(0,i.up)("Association"),c=(0,i.up)("VueDraggableNext"),u=(0,i.up)("AssociationForm"),h=(0,i.up)("Card"),d=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{list:n.resource.associations,handle:".handle",onChange:a.onAssociationMove},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.resource.associations,(function(e){return(0,i.wg)(),(0,i.j4)(l,{key:e.slug,"resource-name":n.resource.name,association:e,class:"pb-2"},null,8,["resource-name","association"])})),128))]})),_:1},8,["list","onChange"]),s.newAssociation?((0,i.wg)(),(0,i.j4)(h,{key:0},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{ref:"newForm",association:s.newAssociation,"resource-name":n.resource.name,onCancel:t[0]||(t[0]=function(e){return s.newAssociation=null}),onSubmit:a.onAssociationSubmit},null,8,["association","resource-name","onSubmit"])]})),_:1})):((0,i.wg)(),(0,i.iD)("div",fe,[(0,i.Wm)(d,{long:"",icon:"md-add",onClick:a.addAssociation},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.add_association),1)]})),_:1},8,["onClick"])]))],64)}]]);var je={key:1,class:"py-2 border-top"},Ne={class:"ivu-card ivu-card-bordered"},ze={class:"ivu-card-body py-0"},qe={class:"d-flex align-items-center"},Ve={key:1,class:"fs-5 fw-bold"},Be={class:"d-flex align-items-center"},We={class:"row"},Ue={class:"d-flex justify-content-between"};const He={name:"ResourceMethodSelect",props:{modelValue:{type:String,required:!1,default:""},resourceSlug:{type:String,required:!0}},emits:["update:modelValue"],data:function(){return{options:[]}},mounted:function(){this.loadMethods()},methods:{loadMethods:function(e){var t=this;return u.Z.get("resource_methods/".concat(this.resourceSlug),{}).then((function(e){t.options=e.data.data})).catch((function(e){console.error(e)}))}}},Ze=(0,w.Z)(He,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("MSelect");return(0,i.wg)(),(0,i.j4)(a,{modelValue:n.modelValue,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return n.modelValue=e}),t[1]||(t[1]=function(t){return e.$emit("update:modelValue",t)})],filterable:"",options:o.options,"with-deselect":!1},null,8,["modelValue","options"])}]]);n(9653);var Ke=n(2345);function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Je={name:"FormSelect",props:{modelValue:{type:[String,Number],required:!1,default:""},size:{type:String,required:!1,default:"default"},withCreateButton:{type:Boolean,default:!1},createParams:{type:Object,required:!1,default:function(){return{}}}},emits:["update:modelValue"],computed:{forms:function(){return Ke.r}},mounted:function(){(0,Ke.j)()},methods:{goToNewFormPage:function(){this.$router.push({name:"new_form",query:Ye({},this.createParams)})}}},Xe=(0,w.Z)(Je,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("MSelect");return(0,i.wg)(),(0,i.j4)(a,{"model-value":n.modelValue,filterable:"",size:n.size,options:s.forms,"label-key":"name","value-key":"id",placeholder:e.i18n.select_form,"with-create-button":n.withCreateButton,onClickCreate:s.goToNewFormPage,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value","size","options","placeholder","with-create-button","onClickCreate"])}]]);var et=n(649);const tt={name:"ResourceActionForm",components:{MethodSelect:Ze,FormSelect:Xe},props:{action:{type:Object,required:!0},resource:{type:Object,required:!0},withRemove:{type:Boolean,required:!1,default:!1},withName:{type:Boolean,required:!1,default:!0}},emits:["cancel","submit","remove"],data:function(){return{isLoading:!1,dataAction:{}}},computed:{isStandalone:function(){return et.$W},rules:function(){var e={action_type:[{required:!0,message:(0,X.w)("action_type")}]},t=this.actionTypeKeys[this.dataAction.action_type];return t&&(e["preferences.".concat(t)]=[{required:!0,message:(0,X.w)(this.dataAction.action_type)}]),this.withName&&(e.display_name=[{required:!0,message:(0,X.w)("name")}]),e},actionTypeKeys:function(){return{api:"api_path",method:"method_name",form:"form_id"}},isCrudAction:function(){return["create","edit","remove"].includes(this.dataAction.name)},actionTypes:function(){var e=[{label:this.i18n.form,value:"form"}];return["create","edit"].includes(this.dataAction.name)||et.$W||e.unshift({label:this.i18n.method_call,value:"method"}),this.isCrudAction&&e.unshift({label:this.i18n.default,value:"default"}),e}},created:function(){this.dataAction=JSON.parse(JSON.stringify(this.action))},methods:{toggleApplyOn:function(e){this.dataAction.apply_on=e?"collection":"member"},submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$emit("submit",e.dataAction)}))}}},nt=(0,w.Z)(tt,[["render",function(e,t,n,r,a,l){var c=(0,i.up)("VInput"),u=(0,i.up)("FormItem"),h=(0,i.up)("MSelect"),d=(0,i.up)("FormSelect"),p=(0,i.up)("MethodSelect"),f=(0,i.up)("Checkbox"),m=(0,i.up)("VForm"),g=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(m,{ref:"form",rules:l.rules,"label-position":"top",model:a.dataAction,onSubmit:t[6]||(t[6]=(0,s.iM)((function(){}),["prevent"]))},{default:(0,i.w5)((function(){return[n.withName?((0,i.wg)(),(0,i.j4)(u,{key:0,label:e.i18n.name,prop:"display_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:a.dataAction.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.dataAction.display_name=e})},null,8,["modelValue"])]})),_:1},8,["label"])):(0,i.kq)("",!0),(0,i._)("div",We,[l.actionTypes.length>1?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,o.C_)(a.dataAction.action_type&&"default"!==a.dataAction.action_type?"col-sm-4 pe-sm-1":"col-12")},[(0,i.Wm)(u,{label:e.i18n.action_type,prop:"action_type"},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{modelValue:a.dataAction.action_type,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return a.dataAction.action_type=e}),t[2]||(t[2]=function(e){return a.dataAction.preferences={}})],options:l.actionTypes,placeholder:e.i18n.select},null,8,["modelValue","options","placeholder"])]})),_:1},8,["label"])],2)):(0,i.kq)("",!0),a.dataAction.action_type&&"default"!==a.dataAction.action_type?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,o.C_)(1===l.actionTypes.length?"col-12":"col-sm-8 ps-sm-1")},["form"===a.dataAction.action_type?((0,i.wg)(),(0,i.j4)(u,{key:0,label:e.i18n.form,prop:"preferences.form_id"},{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{modelValue:a.dataAction.preferences.form_id,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.dataAction.preferences.form_id=e}),"with-create-button":!0,"create-params":{resource:n.resource.name,action:a.dataAction.display_name}},null,8,["modelValue","create-params"])]})),_:1},8,["label"])):(0,i.kq)("",!0),"method"===a.dataAction.action_type?((0,i.wg)(),(0,i.j4)(u,{key:1,label:e.i18n.method,prop:"preferences.method_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(p,{modelValue:a.dataAction.preferences.method_name,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.dataAction.preferences.method_name=e}),"resource-slug":n.resource.slug},null,8,["modelValue","resource-slug"])]})),_:1},8,["label"])):(0,i.kq)("",!0)],2)):(0,i.kq)("",!0),"form"===a.dataAction.action_type?((0,i.wg)(),(0,i.j4)(f,{key:2,"model-value":"collection"===a.dataAction.apply_on,class:"d-block mb-4","onUpdate:modelValue":l.toggleApplyOn},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(" ")+" "+(0,o.zw)(e.i18n.on_collection),1)]})),_:1},8,["model-value","onUpdate:modelValue"])):(0,i.kq)("",!0),"collection"!==a.dataAction.apply_on?((0,i.wg)(),(0,i.j4)(f,{key:3,modelValue:a.dataAction.preferences.show_on_table,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.dataAction.preferences.show_on_table=e}),class:"d-block mb-4"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(" ")+" "+(0,o.zw)(e.i18n.show_on_table),1)]})),_:1},8,["modelValue"])):(0,i.kq)("",!0)])]})),_:1},8,["rules","model"]),(0,i._)("div",Ue,[(0,i._)("div",null,[n.withRemove&&!l.isCrudAction?((0,i.wg)(),(0,i.j4)(g,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[7]||(t[7]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(g,{onClick:t[8]||(t[8]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(g,{type:"primary",loading:a.isLoading,onClick:l.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])])])}]]);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ot={name:"ResourceAction",components:{ActionForm:nt},props:{resource:{type:Object,required:!0},movable:{type:Boolean,required:!1,default:!0},action:{type:Object,required:!0}},emits:["reorder"],data:function(){return{isForm:!1}},computed:{isCrudAction:function(){return["edit","create","remove"].includes(this.action.name)}},methods:{removeAction:function(){var e=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){var t=e.resource.actions.findIndex((function(t){return t.name===e.action.name}));e.removeRequest(),e.resource.actions.splice(t,1)}})},removeRequest:function(){return u.Z.post("resources",{data:{name:this.resource.name,preferences:{actions:[{name:this.action.name,_remove:!0}]}}}).then((function(e){})).catch((function(e){console.error(e)}))},persistChanges:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.action);return t.name&&(t._update=t.name),this.isCrudAction||(t.name=(0,ee.It)(t.display_name)),u.Z.post("resources",{data:{name:this.resource.name,preferences:{actions:[t]}}}).then((function(n){e.action.name!==t.name&&(e.action.name=t.name,e.$emit("reorder"))})).catch((function(e){console.error(e)}))},toggleVisible:function(e){this.action.visible=e,this.persistChanges()},toggleForm:function(){var e=this;this.isForm=!this.isForm,this.isForm&&this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onTextClick:function(e){this.isCrudAction||e.stopPropagation()},updateAction:function(e){this.isForm=!1,Object.assign(this.action,e),this.persistChanges()}}};function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt={display_name:"",name:"",action_type:"form",preferences:{},visible:!0};const ct={name:"ActionsList",components:{Action:(0,w.Z)(ot,[["render",function(e,t,n,r,a,l){var c=(0,i.up)("Icon"),u=(0,i.up)("Checkbox"),h=(0,i.up)("Contenteditable"),d=(0,i.up)("ActionForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",Ne,[(0,i._)("div",ze,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",style:(0,o.j5)({opacity:a.isForm||n.action.visible?1:.5}),onClick:t[3]||(t[3]=function(){return l.toggleForm&&l.toggleForm.apply(l,arguments)})},[(0,i._)("div",qe,[n.movable?((0,i.wg)(),(0,i.j4)(c,{key:0,type:"ios-menu",class:"me-3 cursor-grab handle"})):(0,i.kq)("",!0),(0,i.Wm)(u,{"model-value":n.action.visible,onClick:t[0]||(t[0]=(0,s.iM)((function(){}),["stop"])),onOnChange:l.toggleVisible},null,8,["model-value","onOnChange"]),l.isCrudAction?((0,i.wg)(),(0,i.iD)("p",Ve,(0,o.zw)(n.action.display_name),1)):((0,i.wg)(),(0,i.j4)(h,{key:2,modelValue:n.action.display_name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.action.display_name=e}),class:"fs-5 fw-bold",onClick:t[2]||(t[2]=(0,s.iM)((function(){}),["stop"])),onChange:l.persistChanges},null,8,["modelValue","onChange"]))]),(0,i._)("div",Be,[(0,i.Wm)(c,{type:a.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])],4),a.isForm?((0,i.wg)(),(0,i.j4)(d,{key:0,action:n.action,class:"py-3","with-remove":!l.isCrudAction,"with-name":!l.isCrudAction,resource:n.resource,onCancel:l.toggleForm,onRemove:l.removeAction,onSubmit:l.updateAction},null,8,["action","with-remove","with-name","resource","onCancel","onRemove","onSubmit"])):(0,i.kq)("",!0)])])])}]]),ActionForm:nt},props:{resource:{type:Object,required:!0}},data:function(){return{newAction:null}},methods:{addAction:function(){var e=this;this.newAction=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){at(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},lt),this.$nextTick((function(){e.$refs.newForm.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onActionSubmit:function(e){return e.name=(0,ee.It)(e.display_name),this.resource.actions.push(e),this.newAction=null,u.Z.post("resources",{data:{name:this.resource.name,preferences:{actions:[e]}}}).then((function(e){})).catch((function(e){console.error(e)}))},onActionMove:function(){return u.Z.post("configs",{data:{key:"resources.".concat(this.resource.name,".actions.order"),value:this.resource.actions.map((function(e){return e.name}))}}).then((function(e){})).catch((function(e){console.error(e)}))}}},ut=(0,w.Z)(ct,[["render",function(e,t,n,r,s,a){var l=(0,i.up)("Action"),c=(0,i.up)("VueDraggableNext"),u=(0,i.up)("ActionForm"),h=(0,i.up)("Card"),d=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{list:n.resource.actions,handle:".handle",onChange:a.onActionMove},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.resource.actions,(function(e){return(0,i.wg)(),(0,i.j4)(l,{key:e.name,resource:n.resource,action:e,class:"pb-2",onReorder:a.onActionMove},null,8,["resource","action","onReorder"])})),128))]})),_:1},8,["list","onChange"]),s.newAction?((0,i.wg)(),(0,i.j4)(h,{key:0},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{ref:"newForm",action:s.newAction,resource:n.resource,"with-name":!0,onCancel:t[0]||(t[0]=function(e){return s.newAction=null}),onSubmit:a.onActionSubmit},null,8,["action","resource","onSubmit"])]})),_:1})):((0,i.wg)(),(0,i.iD)("div",je,[(0,i.Wm)(d,{long:"",icon:"md-add",onClick:a.addAction},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.add_action),1)]})),_:1},8,["onClick"])]))],64)}]]);var ht={key:1,class:"py-2 border-top"},dt={class:"ivu-card ivu-card-bordered"},pt={class:"ivu-card-body py-0"},ft={class:"d-flex align-items-center"},mt={key:2,class:"fs-5 fw-bold"},gt={class:"d-flex align-items-center"},vt={class:"row"},yt={key:0,class:"col-sm-8 ps-sm-1"},bt={class:"d-flex justify-content-between"},wt=n(9347);function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const kt={name:"ResourceTabForm",components:{FormSelect:Xe,QuerySelect:J.Z,DashboardSelect:wt.Z},props:{tab:{type:Object,required:!0},resource:{type:Object,required:!0},withRemove:{type:Boolean,required:!1,default:!1},withName:{type:Boolean,required:!1,default:!0}},emits:["cancel","submit","remove"],data:function(){return{isLoading:!1,dataTab:{}}},computed:{rules:function(){var e={tab_type:[{required:!0,message:(0,X.w)(this.i18n.tab_type)}]},t=this.tabTypeKeys[this.dataTab.tab_type];return t&&(e["preferences.".concat(t)]=[{required:!0,message:(0,X.w)(this.dataTab.tab_type)}]),this.withName&&(e.display_name=[{required:!0,message:(0,X.w)("name")}]),e},tabTypeKeys:function(){return{form:"form_id",dashboard:"dashboard_id",query:"query_id"}},tabTypes:function(){var e=[{label:this.i18n.dashboard,value:"dashboard"},{label:this.i18n.query,value:"query"},{label:this.i18n.form,value:"form"}];return["details","audits"].includes(this.dataTab.name)&&e.unshift({label:this.i18n.default,value:"default"}),e}},created:function(){this.dataTab=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.tab)},methods:{titleize:ee.MI,submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$emit("submit",e.dataTab)}))}}},Ct=(0,w.Z)(kt,[["render",function(e,t,n,r,a,l){var c=(0,i.up)("VInput"),u=(0,i.up)("FormItem"),h=(0,i.up)("MSelect"),d=(0,i.up)("FormSelect"),p=(0,i.up)("QuerySelect"),f=(0,i.up)("DashboardSelect"),m=(0,i.up)("VForm"),g=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(m,{ref:"form",rules:l.rules,"label-position":"top",model:a.dataTab,onSubmit:t[6]||(t[6]=(0,s.iM)((function(){}),["prevent"]))},{default:(0,i.w5)((function(){return[n.withName?((0,i.wg)(),(0,i.j4)(u,{key:0,label:e.i18n.name,prop:"display_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:a.dataTab.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.dataTab.display_name=e})},null,8,["modelValue"])]})),_:1},8,["label"])):(0,i.kq)("",!0),(0,i._)("div",vt,[(0,i._)("div",{class:(0,o.C_)(a.dataTab.tab_type&&"default"!==a.dataTab.tab_type?"col-sm-4 pe-sm-1":"col-12")},[(0,i.Wm)(u,{label:e.i18n.tab_type,prop:"tab_type"},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{modelValue:a.dataTab.tab_type,"onUpdate:modelValue":[t[1]||(t[1]=function(e){return a.dataTab.tab_type=e}),t[2]||(t[2]=function(e){return a.dataTab.preferences={}})],options:l.tabTypes,"with-deselect":!1},null,8,["modelValue","options"])]})),_:1},8,["label"])],2),a.dataTab.tab_type&&"default"!==a.dataTab.tab_type?((0,i.wg)(),(0,i.iD)("div",yt,[a.dataTab.tab_type&&"default"!==a.dataTab.tab_type?((0,i.wg)(),(0,i.j4)(u,{key:0,label:l.titleize(a.dataTab.tab_type),prop:"preferences.".concat(a.dataTab.tab_type,"_id")},{default:(0,i.w5)((function(){return["form"===a.dataTab.tab_type?((0,i.wg)(),(0,i.j4)(d,{key:0,modelValue:a.dataTab.preferences.form_id,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.dataTab.preferences.form_id=e})},null,8,["modelValue"])):(0,i.kq)("",!0),"query"===a.dataTab.tab_type?((0,i.wg)(),(0,i.j4)(p,{key:1,modelValue:a.dataTab.preferences.query_id,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.dataTab.preferences.query_id=e})},null,8,["modelValue"])):(0,i.kq)("",!0),"dashboard"===a.dataTab.tab_type?((0,i.wg)(),(0,i.j4)(f,{key:2,modelValue:a.dataTab.preferences.dashboard_id,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.dataTab.preferences.dashboard_id=e})},null,8,["modelValue"])):(0,i.kq)("",!0)]})),_:1},8,["label","prop"])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])]})),_:1},8,["rules","model"]),(0,i._)("div",bt,[(0,i._)("div",null,[n.withRemove&&"details"!==a.dataTab.name?((0,i.wg)(),(0,i.j4)(g,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[7]||(t[7]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(g,{onClick:t[8]||(t[8]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(g,{type:"primary",loading:a.isLoading,onClick:l.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])])])}]]);function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function At(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Tt={name:"ResourceTab",components:{TabForm:Ct},props:{resource:{type:Object,required:!0},movable:{type:Boolean,required:!1,default:!0},tab:{type:Object,required:!0}},emits:["reorder"],data:function(){return{isForm:!1}},methods:{removeTab:function(){var e=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){var t=e.resource.tabs.findIndex((function(t){return t.name===e.tab.name}));e.removeRequest(),e.resource.tabs.splice(t,1)}})},removeRequest:function(){return u.Z.post("resources",{data:{name:this.resource.name,preferences:{tabs:[{name:this.tab.name,_remove:!0}]}}}).then((function(e){})).catch((function(e){console.error(e)}))},persistChanges:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){At(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.tab);return t.name&&(t._update=t.name),["details","audits","notes"].includes(t.name)||(t.name=(0,ee.It)(t.display_name)),u.Z.post("resources",{data:{name:this.resource.name,preferences:{tabs:[t]}}}).then((function(n){e.tab.name!==t.name&&(e.tab.name=t.name,e.$emit("reorder"))})).catch((function(e){console.error(e)}))},toggleVisible:function(e){this.tab.visible=e,this.persistChanges()},toggleForm:function(){var e=this;this.isForm=!this.isForm,this.isForm&&this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onTextClick:function(e){"details"===this.tab.name&&e.stopPropagation()},updateTab:function(e){this.isForm=!1,Object.assign(this.tab,e),this.persistChanges()}}};function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Et={display_name:"",name:"",tab_type:"",preferences:{},visible:!0};const Dt={name:"TabsList",components:{TabItem:(0,w.Z)(Tt,[["render",function(e,t,n,r,a,l){var c=(0,i.up)("Icon"),u=(0,i.up)("Checkbox"),h=(0,i.up)("Contenteditable"),d=(0,i.up)("TabForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",dt,[(0,i._)("div",pt,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",style:(0,o.j5)({opacity:a.isForm||n.tab.visible?1:.5}),onClick:t[3]||(t[3]=function(){return l.toggleForm&&l.toggleForm.apply(l,arguments)})},[(0,i._)("div",ft,[n.movable?((0,i.wg)(),(0,i.j4)(c,{key:0,type:"ios-menu",class:"me-3 cursor-grab handle"})):(0,i.kq)("",!0),"details"!==n.tab.name?((0,i.wg)(),(0,i.j4)(u,{key:1,"model-value":n.tab.visible,onClick:t[0]||(t[0]=(0,s.iM)((function(){}),["stop"])),onOnChange:l.toggleVisible},null,8,["model-value","onOnChange"])):(0,i.kq)("",!0),["details","audits","notes"].includes(n.tab.name)?((0,i.wg)(),(0,i.iD)("p",mt,(0,o.zw)(n.tab.display_name),1)):((0,i.wg)(),(0,i.j4)(h,{key:3,modelValue:n.tab.display_name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.tab.display_name=e}),class:"fs-5 fw-bold",onClick:t[2]||(t[2]=(0,s.iM)((function(){}),["stop"])),onChange:l.persistChanges},null,8,["modelValue","onChange"]))]),(0,i._)("div",gt,[(0,i.Wm)(c,{type:a.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])],4),a.isForm?((0,i.wg)(),(0,i.j4)(d,{key:0,tab:n.tab,class:"py-3","with-remove":!["details","audits","notes"].includes(n.tab.name),"with-name":!["details","audits","notes"].includes(n.tab.name),resource:n.resource,onCancel:l.toggleForm,onRemove:l.removeTab,onSubmit:l.updateTab},null,8,["tab","with-remove","with-name","resource","onCancel","onRemove","onSubmit"])):(0,i.kq)("",!0)])])])}]]),TabForm:Ct},props:{resource:{type:Object,required:!0}},data:function(){return{newTab:null}},methods:{addTab:function(){var e=this;this.newTab=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach((function(t){Lt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Et),this.$nextTick((function(){e.$refs.newForm.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onTabSubmit:function(e){return e.name=(0,ee.It)(e.display_name),this.resource.tabs.push(e),this.newTab=null,u.Z.post("resources",{data:{name:this.resource.name,preferences:{tabs:[e]}}}).then((function(e){})).catch((function(e){console.error(e)}))},onTabMove:function(){return u.Z.post("configs",{data:{key:"resources.".concat(this.resource.name,".tabs.order"),value:this.resource.tabs.map((function(e){return e.name}))}}).then((function(e){})).catch((function(e){console.error(e)}))}}},Pt=(0,w.Z)(Dt,[["render",function(e,t,n,r,s,a){var l=(0,i.up)("TabItem"),c=(0,i.up)("VueDraggableNext"),u=(0,i.up)("TabForm"),h=(0,i.up)("Card"),d=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{list:n.resource.tabs,handle:".handle",onChange:a.onTabMove},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.resource.tabs,(function(e){return(0,i.wg)(),(0,i.j4)(l,{key:e.name,resource:n.resource,tab:e,class:"pb-2",onReorder:a.onTabMove},null,8,["resource","tab","onReorder"])})),128))]})),_:1},8,["list","onChange"]),s.newTab?((0,i.wg)(),(0,i.j4)(h,{key:0},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{ref:"newForm",tab:s.newTab,resource:n.resource,"with-name":!0,onCancel:t[0]||(t[0]=function(e){return s.newTab=null}),onSubmit:a.onTabSubmit},null,8,["tab","resource","onSubmit"])]})),_:1})):((0,i.wg)(),(0,i.iD)("div",ht,[(0,i.Wm)(d,{long:"",icon:"md-add",onClick:a.addTab},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.add_tab),1)]})),_:1},8,["onClick"])]))],64)}]]);var Mt={key:1,class:"py-2 border-top"},$t={class:"ivu-card ivu-card-bordered"},Rt={class:"ivu-card-body py-0"},It={class:"d-flex align-items-center"},Ft={key:0,class:"d-flex align-items-center"};n(2707);var jt={class:"d-flex"},Nt={class:"d-flex justify-content-between"};function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vt={name:"ResourceScopeForm",components:{Filters:Le.Z},props:{scope:{type:Object,required:!0},resource:{type:Object,required:!0},withRemove:{type:Boolean,required:!1,default:!1}},emits:["cancel","submit","remove"],data:function(){return{isLoading:!1,dataScope:{}}},computed:{sortDirectionOptions:function(){return[{label:this.i18n.ascending,value:"asc"},{label:this.i18n.descending,value:"desc"}]},sortColumns:function(){return this.resource.columns.filter((function(e){var t;return["read_only","read_write"].includes(e.access_type)&&"has_one"!==(null===(t=e.reference)||void 0===t?void 0:t.reference_type)}))},rules:function(){return{display_name:[{required:!0,message:(0,X.w)("name")}]}}},created:function(){this.dataScope=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.scope)},methods:{setSortKey:function(e){var t,n;e?((t=this.dataScope.preferences).sort||(t.sort={}),this.dataScope.preferences.sort.key=e,(n=this.dataScope.preferences.sort).order||(n.order="asc")):delete this.dataScope.preferences.sort},submit:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.dataScope.preferences.filter&&(e.dataScope.preferences.filter=e.dataScope.preferences.filter.filter((function(e){return"OR"===e||!!Object.keys(e)[0]}))),e.$emit("submit",e.dataScope))}))}}},Bt=(0,w.Z)(Vt,[["render",function(e,t,n,r,s,a){var l=(0,i.up)("VInput"),c=(0,i.up)("FormItem"),u=(0,i.up)("MSelect"),h=(0,i.up)("Filters"),d=(0,i.up)("VForm"),p=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(d,{ref:"form",rules:a.rules,"label-position":"top",model:s.dataScope},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{label:e.i18n.name,prop:"display_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{modelValue:s.dataScope.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.dataScope.display_name=e})},null,8,["modelValue"])]})),_:1},8,["label"]),(0,i.Wm)(c,{label:e.i18n.order_by,prop:"preferences.sort"},{default:(0,i.w5)((function(){var e,n;return[(0,i._)("div",jt,[(0,i.Wm)(u,{"model-value":null===(e=s.dataScope.preferences.sort)||void 0===e?void 0:e.key,options:a.sortColumns,"label-key":"display_name","value-key":"name",class:"me-1","onUpdate:modelValue":a.setSortKey},null,8,["model-value","options","onUpdate:modelValue"]),(0,i.Wm)(u,{"model-value":null===(n=s.dataScope.preferences.sort)||void 0===n?void 0:n.order,options:a.sortDirectionOptions,"with-deselect":!1,class:"ms-1","onUpdate:modelValue":t[1]||(t[1]=function(e){return s.dataScope.preferences.sort?s.dataScope.preferences.sort.order=e:""})},null,8,["model-value","options"])])]})),_:1},8,["label"]),(0,i.Wm)(c,{label:e.i18n.filters,prop:"preferences.filter"},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{filters:s.dataScope.preferences.filter,"onUpdate:filters":t[2]||(t[2]=function(e){return s.dataScope.preferences.filter=e}),model:n.resource},null,8,["filters","model"])]})),_:1},8,["label"])]})),_:1},8,["rules","model"]),(0,i._)("div",Nt,[(0,i._)("div",null,[n.withRemove?((0,i.wg)(),(0,i.j4)(p,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[3]||(t[3]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(p,{onClick:t[4]||(t[4]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(p,{type:"primary",loading:s.isLoading,onClick:a.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])])])}]]);function Wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ht={name:"ResourceScope",components:{ScopeForm:Bt},props:{resource:{type:Object,required:!0},scope:{type:Object,required:!0}},emits:["reorder"],data:function(){return{isForm:!1}},methods:{removeScope:function(){var e=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){var t=e.resource.scopes.findIndex((function(t){return t.name===e.scope.name}));e.resource.scopes.splice(t,1),u.Z.post("resources",{data:{name:e.resource.name,preferences:{scopes:[{name:e.scope.name,_remove:!0}]}}}).then((function(e){})).catch((function(e){console.error(e)}))}})},persistChanges:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wt(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.scope);return t.name&&(t._update=t.name),"filter"===t.scope_type&&(t.name=(0,ee.It)(t.display_name)),u.Z.post("resources",{data:{name:this.resource.name,preferences:{scopes:[t]}}}).then((function(n){e.scope.name!==t.name&&(e.scope.name=t.name,e.$emit("reorder"))})).catch((function(e){console.error(e)}))},toggleVisible:function(e){this.scope.visible=e,this.persistChanges()},toggleForm:function(){var e=this;"filter"===this.scope.scope_type&&(this.isForm=!this.isForm,this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})})))},updateScope:function(e){Object.assign(this.scope,e),this.persistChanges(),this.isForm=!1}}};function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){Gt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yt={display_name:"",name:"",visible:!0,scope_type:"filter",preferences:{}};const Qt={name:"ResourceScopesList",components:{ResourceScope:(0,w.Z)(Ht,[["render",function(e,t,n,r,a,l){var c=(0,i.up)("Icon"),u=(0,i.up)("Checkbox"),h=(0,i.up)("Contenteditable"),d=(0,i.up)("ScopeForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",$t,[(0,i._)("div",Rt,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",style:(0,o.j5)({opacity:a.isForm||"hidden"!==n.scope.access_type?1:.5}),onClick:t[3]||(t[3]=function(){return l.toggleForm&&l.toggleForm.apply(l,arguments)})},[(0,i._)("div",It,[(0,i.Wm)(c,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,i.Wm)(u,{"model-value":n.scope.visible,onClick:t[0]||(t[0]=(0,s.iM)((function(){}),["stop"])),onOnChange:l.toggleVisible},null,8,["model-value","onOnChange"]),(0,i.Wm)(h,{modelValue:n.scope.display_name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.scope.display_name=e}),class:"fs-5 fw-bold cursor-text",onClick:t[2]||(t[2]=(0,s.iM)((function(){}),["stop"])),onChange:l.persistChanges},null,8,["modelValue","onChange"])]),"filter"===n.scope.scope_type?((0,i.wg)(),(0,i.iD)("div",Ft,[(0,i.Wm)(c,{type:a.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])):(0,i.kq)("",!0)],4),a.isForm?((0,i.wg)(),(0,i.j4)(d,{key:0,scope:n.scope,resource:n.resource,class:"py-3","with-remove":!0,onCancel:l.toggleForm,onRemove:l.removeScope,onSubmit:l.updateScope},null,8,["scope","resource","onCancel","onRemove","onSubmit"])):(0,i.kq)("",!0)])])])}]]),ResourceScopeForm:Bt},props:{resource:{type:Object,required:!0}},data:function(){return{newScope:null}},methods:{addScope:function(){var e=this;this.newScope=Kt(Kt({},Yt),{},{virtual:!0}),this.$nextTick((function(){e.$refs.newForm.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onScopeSubmit:function(e){return e.name=(0,ee.It)(e.display_name),this.resource.scopes.push(e),this.newScope=null,u.Z.post("resources",{data:{name:this.resource.name,preferences:{scopes:[e]}}}).then((function(e){})).catch((function(e){console.error(e)}))},onScopeMove:function(){return u.Z.post("configs",{data:{key:"resources.".concat(this.resource.name,".scopes.order"),value:this.resource.scopes.map((function(e){return e.name}))}}).then((function(e){})).catch((function(e){console.error(e)}))}}},Jt=(0,w.Z)(Qt,[["render",function(e,t,n,r,s,a){var l=(0,i.up)("ResourceScope"),c=(0,i.up)("VueDraggableNext"),u=(0,i.up)("ResourceScopeForm"),h=(0,i.up)("Card"),d=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(c,{list:n.resource.scopes,handle:".handle",onChange:a.onScopeMove},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.resource.scopes,(function(e){return(0,i.wg)(),(0,i.j4)(l,{key:e.name,resource:n.resource,scope:e,class:"pb-2",onReorder:a.onScopeMove},null,8,["resource","scope","onReorder"])})),128))]})),_:1},8,["list","onChange"]),s.newScope?((0,i.wg)(),(0,i.j4)(h,{key:0},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{ref:"newForm",scope:s.newScope,resource:n.resource,onCancel:t[0]||(t[0]=function(e){return s.newScope=null}),onSubmit:a.onScopeSubmit},null,8,["scope","resource","onSubmit"])]})),_:1})):((0,i.wg)(),(0,i.iD)("div",Mt,[(0,i.Wm)(d,{long:"",icon:"md-add",onClick:a.addScope},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.add_scope),1)]})),_:1},8,["onClick"])]))],64)}]]);var Xt={style:{height:"190px"},class:"pb-2 position-relative"},en={key:1,class:"d-flex justify-content-center align-items-center",style:{height:"100%"}},tn={class:"d-flex justify-content-between"};n(2443),n(3680),n(3706),n(2703),n(8011),n(489),n(8304),n(5069);var nn=n(403),rn=n(7716);function on(){on=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),s=new k(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===u)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function h(){}function d(){}function p(){}var f={};a(f,r,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==t&&n.call(g,r)&&(f=g);var v=p.prototype=h.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,s,a){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,a)}))}a(l.arg)}var r;this._invoke=function(e,n){function o(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,a(v,"constructor",p),a(p,"constructor",d),d.displayName=a(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),a(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new b(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(v),a(v,s,"Generator"),a(v,r,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function sn(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function an(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){sn(o,i,r,s,a,"next",e)}function a(e){sn(o,i,r,s,a,"throw",e)}s(void 0)}))}}const ln={name:"ResourceQueryForm",components:{CodeEditor:nn.Z,QueryResult:rn.Z},props:{resource:{type:Object,required:!0}},emits:["close"],data:function(){return{sqlBody:"",collapseValue:"",isLoading:!1,isLoadingSave:!1,data:[],errors:[],columns:[]}},mounted:function(){var e=this;return an(on().mark((function t(){return on().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isLoading=!0,!e.resource.custom_sql){t.next=5;break}e.sqlBody=e.resource.custom_sql,t.next=7;break;case 5:return t.next=7,e.loadDefaultQuery();case 7:e.runQuery();case 8:case"end":return t.stop()}}),t)})))()},methods:{resetDefault:function(){var e,t=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:(e=an(on().mark((function e(){return on().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadDefaultQuery();case 2:t.submit(),t.runQuery();case 4:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})},submit:function(){var e=this;return this.isLoadingSave=!0,u.Z.post("resources",{data:{name:this.resource.name,preferences:{custom_sql:this.sqlBody}}}).then((function(t){e.reloadSchema().then((function(){e.$Message.info(e.i18n.query_has_been_saved)}))})).catch((function(e){console.error(e)})).finally((function(){e.isLoadingSave=!1}))},reloadSchema:function(){var e=this;return u.Z.get("schema/".concat(this.resource.slug)).then((function(t){Object.assign(e.resource,t.data.data)}))},loadDefaultQuery:function(){var e=this;return u.Z.get("resource_default_queries/".concat(this.resource.slug)).then((function(t){e.sqlBody=t.data.data.sql}))},runQuery:function(){var e=this;this.isLoading=!0;var t=this.resource.name.includes("/")?this.resource.name.split("/")[0]:"default";return u.Z.post("run_queries",{limit:20,data:{sql_body:this.sqlBody,preferences:{database:et.MP.includes(t)?t:"default"}}}).then((function(t){e.errors=[],e.data=t.data.data,e.columns=t.data.meta.columns})).catch((function(t){var n;t.response?e.errors=null===(n=t.response.data)||void 0===n?void 0:n.errors:e.$Message.error(t.message)})).finally((function(){e.isLoading=!1}))}}},cn=(0,w.Z)(ln,[["render",function(e,t,n,r,s,a){var l=(0,i.up)("CodeEditor"),c=(0,i.up)("Spin"),u=(0,i.up)("QueryResult"),h=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(l,{modelValue:s.sqlBody,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.sqlBody=e}),style:{height:"140px"},autofocus:!0,language:"pgsql",placeholder:"SELECT * FROM ...",onRun:a.runQuery},null,8,["modelValue","onRun"]),(0,i._)("div",Xt,[s.isLoading?((0,i.wg)(),(0,i.j4)(c,{key:0,fix:""})):s.data.length||s.errors.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",en,(0,o.zw)(e.i18n.no_data),1)),s.data.length||s.errors.length?((0,i.wg)(),(0,i.j4)(u,{key:2,data:s.data,errors:s.errors,columns:s.columns,"with-footer":!1},null,8,["data","errors","columns"])):(0,i.kq)("",!0)]),(0,i._)("div",tn,[(0,i._)("div",null,[(0,i.Wm)(h,{class:"me-2",onClick:t[1]||(t[1]=function(t){return e.$emit("close")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.cancel),1)]})),_:1}),(0,i.Wm)(h,{type:"error",ghost:"",class:"me-2",onClick:a.resetDefault},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.use_default),1)]})),_:1},8,["onClick"])]),(0,i._)("div",null,[(0,i.Wm)(h,{class:"me-2",loading:s.isLoading,icon:"md-play",onClick:a.runQuery},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.run),1)]})),_:1},8,["loading","onClick"]),(0,i.Wm)(h,{type:"primary",loading:s.isLoadingSave,onClick:a.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])])])])}]]);function un(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(9720),n(5827);const hn={name:"ResourceGeneral",props:{resource:{type:Object,required:!0}},computed:{displayOptions:function(){return[{label:"Table",value:"table"},{label:"Kanban",value:"kanban"}]},kanbanColumns:function(){return this.readableColumns.filter((function(e){return"tag"===e.column_type}))},kanbanCardColumns:function(){return this.resource.columns.filter((function(e){return["read_only","read_write"].includes(e.access_type)}))},kanbanColumn:function(){var e=this;return this.kanbanColumns.find((function(t){return t.name===e.resource.preferences.kanban_column}))},kanbanStatusValueOptions:function(){return Array.isArray(this.kanbanColumn.format.select_options)?(this.kanbanColumn.format.select_options||[]).map((function(e){return{value:e,label:(0,ee.MI)(e)}})):Object.entries(this.kanbanColumn.format.select_options||{}).map((function(e){var t,n,i=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return un(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return{value:i[0],label:i[1]}}))},readableColumns:function(){return this.resource.columns.filter((function(e){var t;return["read_only","read_write"].includes(e.access_type)&&"has_one"!==(null===(t=e.reference)||void 0===t?void 0:t.reference_type)}))},searchableColumnOptions:function(){return this.resource.columns.reduce((function(e,t){return["read_only","read_write"].includes(t.access_type)&&!t.virtual&&e.push({label:t.display_name,value:t.name}),e}),[])},rules:function(){return{}}},methods:{maybeSetKanbanColumn:function(e){var t,n,i;"kanban"===e&&((t=this.resource.preferences).kanban_column||(t.kanban_column=null===(n=this.kanbanColumns[0])||void 0===n?void 0:n.name),this.resource.preferences.kanban_columns=(null===(i=this.kanbanColumn.preferences)||void 0===i?void 0:i.select_options)||[])},persistChanges:function(){return u.Z.post("resources",{data:{name:this.resource.name,preferences:{display_column:this.resource.display_column,display_primary_key:this.resource.display_primary_key,searchable_columns:this.resource.searchable_columns,preferences:this.resource.preferences}}}).then((function(e){})).catch((function(e){console.error(e)}))}}},dn=(0,w.Z)(hn,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("MSelect"),l=(0,i.up)("FormItem"),c=(0,i.up)("Checkbox"),u=(0,i.up)("VForm");return(0,i.wg)(),(0,i.j4)(u,{"label-position":"top",model:n.resource,rules:s.rules},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{label:e.i18n.display_as,prop:"preferences.display_as"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.resource.preferences.display_as,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return n.resource.preferences.display_as=e}),t[1]||(t[1]=function(e){return[s.maybeSetKanbanColumn,s.persistChanges]})],"with-deselect":!1,options:s.displayOptions},null,8,["modelValue","options"])]})),_:1},8,["label"]),"kanban"===n.resource.preferences.display_as?((0,i.wg)(),(0,i.j4)(l,{key:0,label:e.i18n.kanban_columns,prop:"preferences.kanban_column"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.resource.preferences.kanban_column,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return n.resource.preferences.kanban_column=e}),s.persistChanges],"with-deselect":!1,"label-key":"display_name","value-key":"name",options:s.kanbanColumns},null,8,["modelValue","options","onUpdate:modelValue"]),s.kanbanColumn?((0,i.wg)(),(0,i.j4)(a,{key:0,modelValue:n.resource.preferences.kanban_columns,"onUpdate:modelValue":[t[3]||(t[3]=function(e){return n.resource.preferences.kanban_columns=e}),s.persistChanges],"with-deselect":!1,class:"mt-2",multiple:"",options:s.kanbanStatusValueOptions},null,8,["modelValue","options","onUpdate:modelValue"])):(0,i.kq)("",!0)]})),_:1},8,["label"])):(0,i.kq)("",!0),"kanban"===n.resource.preferences.display_as?((0,i.wg)(),(0,i.j4)(l,{key:1,label:e.i18n.kanban_card_columns,prop:"preferences.kanban_card_columns"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.resource.preferences.kanban_card_columns,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return n.resource.preferences.kanban_card_columns=e}),s.persistChanges],"with-deselect":!1,"label-key":"display_name","value-key":"name",multiple:"",options:s.kanbanCardColumns},null,8,["modelValue","options","onUpdate:modelValue"])]})),_:1},8,["label"])):(0,i.kq)("",!0),(0,i.Wm)(l,{label:e.i18n.display_column,prop:"display_column"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.resource.display_column,"onUpdate:modelValue":[t[5]||(t[5]=function(e){return n.resource.display_column=e}),s.persistChanges],"with-deselect":!1,"label-key":"display_name","value-key":"name",options:s.readableColumns},null,8,["modelValue","options","onUpdate:modelValue"])]})),_:1},8,["label"]),(0,i.Wm)(l,{label:e.i18n.display_id,class:"mb-1",prop:"display_column"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:n.resource.display_primary_key,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return n.resource.display_primary_key=e}),s.persistChanges]},null,8,["modelValue","onUpdate:modelValue"])]})),_:1},8,["label"]),(0,i.Wm)(l,{label:e.i18n.searchable_columns,class:"mb-1",prop:"searchable_columns"},{default:(0,i.w5)((function(){return[(0,i.Wm)(a,{modelValue:n.resource.searchable_columns,"onUpdate:modelValue":[t[7]||(t[7]=function(e){return n.resource.searchable_columns=e}),s.persistChanges],multiple:"",options:s.searchableColumnOptions},null,8,["modelValue","options","onUpdate:modelValue"])]})),_:1},8,["label"])]})),_:1},8,["model","rules"])}]]),pn={name:"ResourceSettings",components:{AssociationsList:Fe,ResourceColumnsList:pe,ActionsList:ut,ScopesList:Jt,TabsList:Pt,Tabs:n(4524).Z,ResourceGeneralForm:dn,ResourceQueryForm:cn},props:{resource:{type:Object,required:!0},activeTab:{type:String,required:!1,default:""}},emits:["back"],data:function(){return{collapseValue:[],selectedTab:this.activeTab||"columns"}}},fn={name:"ResourcesSettings",components:{ResourceSettings:(0,w.Z)(pn,[["render",function(e,t,n,r,s,a){var l=(0,i.up)("Tabs"),c=(0,i.up)("ResourceQueryForm"),u=(0,i.up)("Panel"),h=(0,i.up)("Collapse"),d=(0,i.up)("ResourceGeneralForm"),p=(0,i.up)("ResourceColumnsList"),f=(0,i.up)("AssociationsList"),m=(0,i.up)("ScopesList"),g=(0,i.up)("ActionsList"),v=(0,i.up)("TabsList"),y=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",C,[(0,i.Wm)(l,{modelValue:s.selectedTab,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.selectedTab=e}),position:"center",tabs:[{label:e.i18n.columns,value:"columns"},{label:e.i18n.actions,value:"actions"},{label:e.i18n.tabs,value:"tabs"},{label:e.i18n.scopes,value:"scopes"},{label:e.i18n.associations,value:"associations"}]},null,8,["modelValue","tabs"]),"columns"===s.selectedTab?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(h,{modelValue:s.collapseValue,"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.collapseValue=e}),simple:"",class:"mb-3",style:{margin:"0 -16px"}},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{name:"1"},{content:(0,i.w5)((function(){return[s.collapseValue.includes("1")?((0,i.wg)(),(0,i.j4)(c,{key:0,resource:n.resource,onClose:t[1]||(t[1]=function(e){return s.collapseValue=[]})},null,8,["resource"])):(0,i.kq)("",!0)]})),default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.query_editor)+" ",1)]})),_:1})]})),_:1},8,["modelValue"]),(0,i.Wm)(h,{modelValue:s.collapseValue,"onUpdate:modelValue":t[3]||(t[3]=function(e){return s.collapseValue=e}),simple:"",class:"mb-3",style:{margin:"0 -16px"}},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{name:"2"},{content:(0,i.w5)((function(){return[(0,i.Wm)(d,{resource:n.resource},null,8,["resource"])]})),default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.display_settings)+" ",1)]})),_:1})]})),_:1},8,["modelValue"]),(0,i.Wm)(p,{resource:n.resource},null,8,["resource"])],64)):"associations"===s.selectedTab?((0,i.wg)(),(0,i.j4)(f,{key:1,resource:n.resource},null,8,["resource"])):"scopes"===s.selectedTab?((0,i.wg)(),(0,i.j4)(m,{key:2,resource:n.resource},null,8,["resource"])):"actions"===s.selectedTab?((0,i.wg)(),(0,i.j4)(g,{key:3,resource:n.resource},null,8,["resource"])):"tabs"===s.selectedTab?((0,i.wg)(),(0,i.j4)(v,{key:4,resource:n.resource},null,8,["resource"])):(0,i.kq)("",!0)]),(0,i._)("div",S,[(0,i.Wm)(y,{long:"",size:"large",icon:"ios-arrow-back",onClick:t[4]||(t[4]=function(t){return e.$emit("back")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,o.zw)(e.i18n.all_resources),1)]})),_:1})])],64)}],["__scopeId","data-v-0725d696"]]),ResourceItem:k},props:{selectedResource:{type:Object,required:!1,default:null},settingsType:{type:String,required:!1,default:""}},emits:["change-resource"],data:function(){return{dataSelectedResource:this.selectedResource}},computed:{schema:function(){return G.fK}},watch:{dataSelectedResource:function(){this.$emit("change-resource",this.dataSelectedResource)}},methods:{updateOrder:function(){return u.Z.post("configs",{data:{key:"resources.order",value:this.schema.map((function(e){return e.name}))}}).then((function(e){})).catch((function(e){console.error(e)}))}}},mn=(0,w.Z)(fn,[["render",function(e,t,n,o,s,a){var l=(0,i.up)("ResourceSettings"),c=(0,i.up)("ResourceItem"),u=(0,i.up)("VueDraggableNext");return s.dataSelectedResource?((0,i.wg)(),(0,i.j4)(l,{key:0,resource:s.dataSelectedResource,"active-tab":n.settingsType,onBack:t[0]||(t[0]=function(e){return s.dataSelectedResource=null})},null,8,["resource","active-tab"])):((0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(u,{list:a.schema,"ghost-class":"ghost",handle:".handle",onChange:a.updateOrder},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.schema,(function(e){return(0,i.wg)(),(0,i.j4)(c,{key:e.slug,resource:e,class:"cursor-pointer mb-2",onClick:function(t){return s.dataSelectedResource=e}},null,8,["resource","onClick"])})),128))]})),_:1},8,["list","onChange"])]))}],["__scopeId","data-v-17415677"]]);var gn=n(675);function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){bn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wn(e){gn.Z.component.setTitle(_n(e))}function _n(e){return e?et.cR.resource_settings.replace("%{resource}",e.display_name):et.cR.settings}function xn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gn.Z.open(mn,yn({onChangeResource:wn},e),{title:_n(e.selectedResource),className:"drawer-no-bottom-padding drawer-no-top-padding",closable:!0})}},8564:(e,t,n)=>{"use strict";n.d(t,{E3:()=>o,Qy:()=>s,js:()=>r});var i=(0,n(2262).iH)(!1);function r(){i.value=!i.value}function o(){i.value=!1}function s(){return i.value}},1006:(e,t,n)=>{"use strict";n.d(t,{w:()=>c}),n(4916),n(5306),n(3710),n(1539),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(2443),n(3680),n(3706),n(2703),n(9070),n(8011),n(489),n(9554),n(4747),n(8309),n(8304),n(5069),n(7042);var i=n(7248);function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var r=t&&t.prototype instanceof d?t:d,o=Object.create(r.prototype),s=new C(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=_(s,n);if(a){if(a===h)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=u(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function d(){}function p(){}function f(){}var m={};l(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(S([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,s,a){var l=u(e[r],e,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,a)}))}a(l.arg)}var r;this._invoke=function(e,n){function o(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(o,o):o()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var i=u(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=f,l(y,"constructor",f),l(f,"constructor",p),p.displayName=l(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,l(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),l(w.prototype,s,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new w(c(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(y),l(y,a,"Generator"),l(y,o,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function o(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var s=e.apply(t,n);function a(e){o(s,i,r,a,l,"next",e)}function l(e){o(s,i,r,a,l,"throw",e)}a(void 0)}))}}var a=null,l=null;function c(){return u.apply(this,arguments)}function u(){return(u=s(r().mark((function e(){var t,n,o,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||d()){e.next=2;break}return e.abrupt("return",a);case 2:return e.prev=2,e.next=5,i.Z.post("auth_tokens");case 5:t=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",{headers:{}});case 12:return"string"==typeof t.data?a={headers:{Authorization:h(t.data)}}:((n=t.data.token||t.data.jwt)&&((o=t.data).headers||(o.headers={}),(s=t.data.headers).Authorization||(s.Authorization=h(n))),a=t.data),l=new Date,e.abrupt("return",a);case 15:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function h(e){return e?"Bearer ".concat(e.replace(/^bearer\s+/i,"")):""}function d(){return!l||36e5<(new Date).getTime()-l.getTime()}},4800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c}),n(5069),n(5827),n(1539),n(9720),n(9753),n(5212),n(6699),n(2023),n(3710),n(9714),n(7327),n(9826),n(7941),n(9554),n(4747),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(8309),n(1038),n(4916);var i=n(649);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o={};function s(e,t){var n=e+t,r=o[n];if(r)return r;var s=function(e){var t=-1;return e.forEach((function(n,i){n.base_behavior?-1!==t?1===n.subjects.lenght&&"all"===n.subjects[0]&&(e[i]=e[t],e[t]=n,t+=1):t=i:t=-1})),e}(function(e,t,n){return e.filter((function(e){return e.subjects.find((function(e){return"all"===(t=e)||t===n;var t}))&&e.actions.find((function(n){return i=n,r=t,o=!e.base_behavior,"manage"===i||i===r||o&&"manage"===r;var i,r,o}))&&(e.base_behavior||!e.attributes.length||Object.keys(e.conditions).length)}))}(i.HF,e,t).reverse());return o[n]=s,s}function a(e,t){return Object.entries(e).reduce((function(e,n){var i,o,s=(o=2,function(e){if(Array.isArray(e))return e}(i=n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(i,o)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(i,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=s[0],u=s[1];return Array.isArray(u)?e&&u.some((function(e){return l(t,c,e)})):u instanceof Object?e&&a(u,t[c]||{}):e&&l(t,c,u)}),!0)}function l(e,t,n){var i;return Array.isArray(e)?e.some((function(e){var i;return null==n?void 0:n.toString().includes(null===(i=e[t])||void 0===i?void 0:i.toString())})):(null==n?void 0:n.toString())===(null===(i=e[t])||void 0===i?void 0:i.toString())}const c={$can:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=s(e,t).find((function(e){return!n||a(e.conditions,n)}));return"manage"===e&&"all"===t?!!r&&r.base_behavior&&!i.HF.some((function(e){return!e.base_behavior})):!!r&&r.base_behavior},install:function(e,t){var n=this;e.config.globalProperties.$can=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n.$can(e,t,i)}}}},649:(e,t,n)=>{"use strict";n.d(t,{$W:()=>d,HF:()=>c,MP:()=>u,Xp:()=>l,cR:()=>h,i8:()=>a,oD:()=>o,sb:()=>r,sc:()=>s});var i=document.getElementById("app"),r=i.getAttribute("data-base-path"),o=i.getAttribute("data-cable-path"),s=i.getAttribute("data-admin-settings-path"),a=i.getAttribute("data-version"),l=JSON.parse(i.getAttribute("data-active-storage-direct-uploads-enabled")),c=JSON.parse(i.getAttribute("data-current-rules")),u=JSON.parse(i.getAttribute("data-databases")),h=JSON.parse(i.getAttribute("data-i18n")),d=!!s},1308:(e,t,n)=>{"use strict";function i(e,t,n,i){var r=new Date(e);return t||(t={year:"numeric",month:"short",day:"numeric"}),i&&(r=new Date(r.getTime()+6e4*r.getTimezoneOffset())),n&&(t.hour="numeric",t.minute="numeric",t.hour12=!0),r.toLocaleString?r.toLocaleString("en-US",t):r.toString()}function r(e,t){var n=new Date(e),i=(new Date(t).getTime()-n.getTime())/1e3;if(i<60){var r=parseInt(i)||1;return"".concat(r," second").concat(r>1?"s":"")}if(i<3600){var o=parseInt(i/60)||1;return"".concat(o," minute").concat(o>1?"s":"")}var s=parseInt(i/3600)||1;return"".concat(s," hour").concat(s>1?"s":"")}n.d(t,{p:()=>i,q:()=>r}),n(3710),n(1539),n(9714),n(1058),n(2222)},7605:(e,t,n)=>{"use strict";n.d(t,{aJ:()=>l,uK:()=>a});var i=n(2262),r=n(7209),o={xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400},s=(0,i.iH)(window.innerWidth),a=(0,i.iH)(window.innerHeight);function l(e){return s.value<o[e]}window.addEventListener("resize",(0,r.Z)((function(e){s.value=window.innerWidth,a.value=window.innerHeight}),80))},5487:(e,t,n)=>{"use strict";n.d(t,{c:()=>i.cR,w:()=>r}),n(4916),n(5306);var i=n(649);function r(e){return i.cR.field_is_required.replace("%{field}",i.cR[e])}},5763:(e,t,n)=>{"use strict";function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return e&&e.length>t?e.slice(0,t)+"...":e}function s(e){return e.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}function a(e){return e?e.replace(/_+/g," ").replace(/(?:^|\s|-)\S/g,(function(e){return e.toUpperCase()})):""}function l(e,t){return e.replace(/{{?(\w+)}}?/g,(function(e,n){return t[n]||e}))}function c(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t);return[e.replace(/{{?(\w+)}}?/g,(function(e,t){var i=n[t];return t in n&&delete n[t],i||e})),n]}n.d(t,{$G:()=>o,It:()=>s,MI:()=>a,gK:()=>c,sX:()=>l}),n(7042),n(4916),n(5306),n(9070),n(7941),n(2526),n(7327),n(1539),n(5003),n(9554),n(4747),n(9337),n(3321)},8369:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c}),n(4678),n(6699),n(9826),n(1539),n(9720),n(4916),n(5306),n(4723),n(3710),n(9714),n(5827),n(4603),n(9753),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(8309),n(1038),n(9070),n(7941),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321);var i=n(649);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l={greater_than:function(e,t){return t>e},greater_than_or_equal_to:function(e,t){return t>=e},equal_to:function(e,t){return parseFloat(t)===parseFloat(e)},less_than:function(e,t){return t<e},less_than_or_equal_to:function(e,t){return t<=e},other_than:function(e,t){return parseFloat(t)!==parseFloat(e)}};const c={numeric:function(e,t,n){if([null,void 0,""].includes(t))return!0;var r=Object.entries(e.options).find((function(e){var n=s(e,2),i=n[0],r=n[1];return!!l[i]&&!l[i](r,t)}))||[],o=s(r,2),a=o[0],c=o[1];return!a||new Error(i.cR.should_be_error_constraint.replace("%{field}",e.fullField).replace("%{error}",i.cR[a].toLowerCase()).replace("%{constraint}",c))},number:function(e,t,n,r,o){var s=typeof t;return"number"===s||!("string"!==s||!t.match(/^\d+(?:\.\d+)?$/))||!t||new Error(i.cR.field_is_not_a_number.replace("%{field}",e.fullField))},length:function(e,t,n,a,l){var c=t.toString(),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.options);return u.in&&(u.minimum=u.in[0],u.maximum=u.in[1],delete u.in),!(t||!e.options.allow_blank&&!e.options.allow_nil)||Object.entries(u).reduce((function(t,n){var r=s(n,2),o=r[0],a=r[1];return"is"===o&&c.length!==a?new Error(i.cR.field_must_be_exactly_in_length.replace("%{field}",e.fullField).replace("%{length}",a)):"minimum"===o&&c.length<a?new Error(i.cR.field_must_be_more_in_length.replace("%{field}",e.fullField).replace("%{length}",a)):"maximum"===o&&c.length>a?new Error(i.cR.field_must_be_less_in_length.replace("%{field}",e.fullField).replace("%{length}",a)):t}),!0)},json:function(e,t,n){try{return t&&JSON.parse(t),!0}catch(t){return new Error(i.cR.should_be_a_valid_json.replace("%{field}",e.fullField))}},regexp:function(e,t,n){try{return t&&new RegExp(t),!0}catch(t){return new Error(i.cR.should_be_a_valid_regexp.replace("%{field}",e.fullField))}}}},1924:(e,t,n)=>{"use strict";var i=n(210),r=n(5559),o=r(i("String.prototype.indexOf"));e.exports=function(e,t){var n=i(e,!!t);return"function"==typeof n&&o(e,".prototype.")>-1?r(n):n}},5559:(e,t,n)=>{"use strict";var i=n(8612),r=n(210),o=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||i.call(s,o),l=r("%Object.getOwnPropertyDescriptor%",!0),c=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=a(i,s,arguments);if(l&&c){var n=l(t,"length");n.configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))})}return t};var h=function(){return a(i,o,arguments)};c?c(e.exports,"apply",{value:h}):e.exports.apply=h},1483:function(e,t){"use strict";var n,i,r,o,s,a,l,c,u,h,d,p,f,m,g,v,y,b,w,_,x,k,C,S=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),A=this&&this.__classPrivateFieldSet||function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},T=this&&this.__classPrivateFieldGet||function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)};t.__esModule=!0,t.default=void 0;var O=function(e){var t=0;e+="x";for(var n=Math.floor(65745979961613.07),i=0;i<e.length;i++)t>n&&(t=Math.floor(t/137)),t=131*t+e.charCodeAt(i);return t},L="0123456789abcdef".split(""),E=[-2147483648,8388608,32768,128],D=[24,16,8,0],P=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],M=[],$=function(){function e(e,t){void 0===e&&(e=!1),void 0===t&&(t=!1),i.set(this,void 0),r.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,void 0),l.set(this,void 0),c.set(this,void 0),u.set(this,void 0),h.set(this,void 0),d.set(this,void 0),p.set(this,void 0),f.set(this,void 0),m.set(this,void 0),g.set(this,void 0),v.set(this,void 0),y.set(this,void 0),b.set(this,0),w.set(this,void 0),this.init(e,t)}return e.prototype.init=function(e,t){t?(M[0]=M[16]=M[1]=M[2]=M[3]=M[4]=M[5]=M[6]=M[7]=M[8]=M[9]=M[10]=M[11]=M[12]=M[13]=M[14]=M[15]=0,A(this,r,M)):A(this,r,[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),e?(A(this,l,3238371032),A(this,c,914150663),A(this,u,812702999),A(this,h,4144912697),A(this,d,4290775857),A(this,p,1750603025),A(this,f,1694076839),A(this,m,3204075428)):(A(this,l,1779033703),A(this,c,3144134277),A(this,u,1013904242),A(this,h,2773480762),A(this,d,1359893119),A(this,p,2600822924),A(this,f,528734635),A(this,m,1541459225)),A(this,i,A(this,w,A(this,o,A(this,v,0)))),A(this,s,A(this,g,!1)),A(this,a,!0),A(this,y,e)},e.prototype.update=function(e){if(T(this,s))return this;for(var t,n=0,a=(t=e instanceof ArrayBuffer?new Uint8Array(e):e).length,l=T(this,r);n<a;){var c=void 0;if(T(this,g)&&(A(this,g,!1),l[0]=T(this,i),l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0),"string"!=typeof t)for(c=T(this,w);n<a&&c<64;++n)l[c>>2]|=t[n]<<D[3&c++];else for(c=T(this,w);n<a&&c<64;++n){var u=t.charCodeAt(n);u<128?l[c>>2]|=u<<D[3&c++]:u<2048?(l[c>>2]|=(192|u>>6)<<D[3&c++],l[c>>2]|=(128|63&u)<<D[3&c++]):u<55296||u>=57344?(l[c>>2]|=(224|u>>12)<<D[3&c++],l[c>>2]|=(128|u>>6&63)<<D[3&c++],l[c>>2]|=(128|63&u)<<D[3&c++]):(u=65536+((1023&u)<<10|1023&t.charCodeAt(++n)),l[c>>2]|=(240|u>>18)<<D[3&c++],l[c>>2]|=(128|u>>12&63)<<D[3&c++],l[c>>2]|=(128|u>>6&63)<<D[3&c++],l[c>>2]|=(128|63&u)<<D[3&c++])}A(this,b,c),A(this,o,T(this,o)+(c-T(this,w))),c>=64?(A(this,i,l[16]),A(this,w,c-64),this.hash(),A(this,g,!0)):A(this,w,c)}return T(this,o)>4294967295&&(A(this,v,T(this,v)+(T(this,o)/4294967296<<0)),A(this,o,T(this,o)%4294967296)),this},e.prototype.finalize=function(){if(!T(this,s)){A(this,s,!0);var e=T(this,r),t=T(this,b);e[16]=T(this,i),e[t>>2]|=E[3&t],A(this,i,e[16]),t>=56&&(T(this,g)||this.hash(),e[0]=T(this,i),e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=T(this,v)<<3|T(this,o)>>>29,e[15]=T(this,o)<<3,this.hash()}},e.prototype.hash=function(){for(var e,t,n,i,o,s,g,v,b=T(this,l),w=T(this,c),_=T(this,u),x=T(this,h),k=T(this,d),C=T(this,p),S=T(this,f),O=T(this,m),L=T(this,r),E=16;E<64;++E)e=((i=L[E-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t=((i=L[E-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,L[E]=L[E-16]+e+L[E-7]+t<<0;v=w&_;for(var D=0;D<64;D+=4)T(this,a)?(T(this,y)?(o=300032,O=(i=L[0]-1413257819)-150054599<<0,x=i+24177077<<0):(o=704751109,O=(i=L[0]-210244248)-1521486534<<0,x=i+143694565<<0),A(this,a,!1)):(e=(b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10),n=(o=b&w)^b&_^v,O=x+(i=O+(t=(k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7))+(k&C^~k&S)+P[D]+L[D])<<0,x=i+(e+n)<<0),e=(x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10),n=(s=x&b)^x&w^o,S=_+(i=S+(t=(O>>>6|O<<26)^(O>>>11|O<<21)^(O>>>25|O<<7))+(O&k^~O&C)+P[D+1]+L[D+1])<<0,e=((_=i+(e+n)<<0)>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10),n=(g=_&x)^_&b^s,C=w+(i=C+(t=(S>>>6|S<<26)^(S>>>11|S<<21)^(S>>>25|S<<7))+(S&O^~S&k)+P[D+2]+L[D+2])<<0,e=((w=i+(e+n)<<0)>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10),n=(v=w&_)^w&x^g,k=b+(i=k+(t=(C>>>6|C<<26)^(C>>>11|C<<21)^(C>>>25|C<<7))+(C&S^~C&O)+P[D+3]+L[D+3])<<0,b=i+(e+n)<<0;A(this,l,T(this,l)+b<<0),A(this,c,T(this,c)+w<<0),A(this,u,T(this,u)+_<<0),A(this,h,T(this,h)+x<<0),A(this,d,T(this,d)+k<<0),A(this,p,T(this,p)+C<<0),A(this,f,T(this,f)+S<<0),A(this,m,T(this,m)+O<<0)},e.prototype.hex=function(){this.finalize();var e=T(this,l),t=T(this,c),n=T(this,u),i=T(this,h),r=T(this,d),o=T(this,p),s=T(this,f),a=T(this,m),g=L[e>>28&15]+L[e>>24&15]+L[e>>20&15]+L[e>>16&15]+L[e>>12&15]+L[e>>8&15]+L[e>>4&15]+L[15&e]+L[t>>28&15]+L[t>>24&15]+L[t>>20&15]+L[t>>16&15]+L[t>>12&15]+L[t>>8&15]+L[t>>4&15]+L[15&t]+L[n>>28&15]+L[n>>24&15]+L[n>>20&15]+L[n>>16&15]+L[n>>12&15]+L[n>>8&15]+L[n>>4&15]+L[15&n]+L[i>>28&15]+L[i>>24&15]+L[i>>20&15]+L[i>>16&15]+L[i>>12&15]+L[i>>8&15]+L[i>>4&15]+L[15&i]+L[r>>28&15]+L[r>>24&15]+L[r>>20&15]+L[r>>16&15]+L[r>>12&15]+L[r>>8&15]+L[r>>4&15]+L[15&r]+L[o>>28&15]+L[o>>24&15]+L[o>>20&15]+L[o>>16&15]+L[o>>12&15]+L[o>>8&15]+L[o>>4&15]+L[15&o]+L[s>>28&15]+L[s>>24&15]+L[s>>20&15]+L[s>>16&15]+L[s>>12&15]+L[s>>8&15]+L[s>>4&15]+L[15&s];return T(this,y)||(g+=L[a>>28&15]+L[a>>24&15]+L[a>>20&15]+L[a>>16&15]+L[a>>12&15]+L[a>>8&15]+L[a>>4&15]+L[15&a]),g},e.prototype.toString=function(){return this.hex()},e.prototype.digest=function(){this.finalize();var e=T(this,l),t=T(this,c),n=T(this,u),i=T(this,h),r=T(this,d),o=T(this,p),s=T(this,f),a=T(this,m),g=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return T(this,y)||g.push(a>>24&255,a>>16&255,a>>8&255,255&a),g},e.prototype.array=function(){return this.digest()},e.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(T(this,y)?28:32),t=new DataView(e);return t.setUint32(0,T(this,l)),t.setUint32(4,T(this,c)),t.setUint32(8,T(this,u)),t.setUint32(12,T(this,h)),t.setUint32(16,T(this,d)),t.setUint32(20,T(this,p)),t.setUint32(24,T(this,f)),T(this,y)||t.setUint32(28,T(this,m)),e},e}();function R(e){var t=new $;return t.update(e),parseInt(t.hex().substring(0,8),16)}i=new WeakMap,r=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap,y=new WeakMap,b=new WeakMap,w=new WeakMap,function(e){function t(t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var r,o=e.call(this,n,i)||this;if(_.set(o,void 0),x.set(o,void 0),k.set(o,void 0),C.set(o,void 0),"string"==typeof t){for(var s=[],a=t.length,l=0,c=0;c<a;++c){var u=t.charCodeAt(c);u<128?s[l++]=u:u<2048?(s[l++]=192|u>>6,s[l++]=128|63&u):u<55296||u>=57344?(s[l++]=224|u>>12,s[l++]=128|u>>6&63,s[l++]=128|63&u):(u=65536+((1023&u)<<10|1023&t.charCodeAt(++c)),s[l++]=240|u>>18,s[l++]=128|u>>12&63,s[l++]=128|u>>6&63,s[l++]=128|63&u)}r=s}else r=t instanceof ArrayBuffer?new Uint8Array(t):t;r.length>64&&(r=new $(n,!0).update(r).array());var h=[],d=[];for(c=0;c<64;++c){var p=r[c]||0;h[c]=92^p,d[c]=54^p}return o.update(d),A(o,k,h),A(o,_,!0),A(o,x,n),A(o,C,i),o}S(t,e),t.prototype.finalize=function(){if(e.prototype.finalize.call(this),T(this,_)){A(this,_,!1);var t=this.array();e.prototype.init.call(this,T(this,x),T(this,C)),this.update(T(this,k)),this.update(t),e.prototype.finalize.call(this)}}}($),_=new WeakMap,x=new WeakMap,k=new WeakMap,C=new WeakMap;var I=function(e,t,n){var i=n<.5?n*(1+t):n+t-n*t,r=2*n-i;return[(e/=360)+1/3,e,e-1/3].map((function(e){return e<0&&e++,e>1&&e--,e=e<1/6?r+6*(i-r)*e:e<.5?i:e<2/3?r+6*(i-r)*(2/3-e):r,Math.round(255*e)}))},F=function(){function e(e){void 0===e&&(e={});var t=[e.lightness,e.saturation].map((function(e){return e=void 0!==e?e:[.35,.5,.65],Array.isArray(e)?e.concat():[e]})),n=t[0],i=t[1];this.L=n,this.S=i,"number"==typeof e.hue&&(e.hue={min:e.hue,max:e.hue}),"object"!=typeof e.hue||Array.isArray(e.hue)||(e.hue=[e.hue]),void 0===e.hue&&(e.hue=[]),this.hueRanges=e.hue.map((function(e){return{min:void 0===e.min?0:e.min,max:void 0===e.max?360:e.max}})),this.hash=R,"function"==typeof e.hash&&(this.hash=e.hash),"bkdr"===e.hash&&(this.hash=O)}return e.prototype.hsl=function(e){var t,n,i=this.hash(e);if(this.hueRanges.length){var r=this.hueRanges[i%this.hueRanges.length];t=i/this.hueRanges.length%727*(r.max-r.min)/727+r.min}else t=i%359;return i=Math.ceil(i/360),n=this.S[i%this.S.length],i=Math.ceil(i/this.S.length),[t,n,this.L[i%this.L.length]]},e.prototype.rgb=function(e){var t=this.hsl(e);return I.apply(this,t)},e.prototype.hex=function(e){var t,n=this.rgb(e);return t="#",n.forEach((function(e){e<16&&(t+=0),t+=e.toString(16)})),t},e}();t.default=F},9662:(e,t,n)=>{var i=n(7854),r=n(614),o=n(6330),s=i.TypeError;e.exports=function(e){if(r(e))return e;throw s(o(e)+" is not a function")}},9483:(e,t,n)=>{var i=n(7854),r=n(4411),o=n(6330),s=i.TypeError;e.exports=function(e){if(r(e))return e;throw s(o(e)+" is not a constructor")}},6077:(e,t,n)=>{var i=n(7854),r=n(614),o=i.String,s=i.TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw s("Can't set "+o(e)+" as a prototype")}},1223:(e,t,n)=>{var i=n(5112),r=n(30),o=n(3070).f,s=i("unscopables"),a=Array.prototype;null==a[s]&&o(a,s,{configurable:!0,value:r(null)}),e.exports=function(e){a[s][e]=!0}},1530:(e,t,n)=>{"use strict";var i=n(8710).charAt;e.exports=function(e,t,n){return t+(n?i(e,t).length:1)}},5787:(e,t,n)=>{var i=n(7854),r=n(7976),o=i.TypeError;e.exports=function(e,t){if(r(t,e))return e;throw o("Incorrect invocation")}},9670:(e,t,n)=>{var i=n(7854),r=n(111),o=i.String,s=i.TypeError;e.exports=function(e){if(r(e))return e;throw s(o(e)+" is not an object")}},7556:(e,t,n)=>{var i=n(7293);e.exports=i((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}))},8533:(e,t,n)=>{"use strict";var i=n(2092).forEach,r=n(9341)("forEach");e.exports=r?[].forEach:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}},8457:(e,t,n)=>{"use strict";var i=n(7854),r=n(9974),o=n(6916),s=n(7908),a=n(3411),l=n(7659),c=n(4411),u=n(6244),h=n(6135),d=n(8554),p=n(1246),f=i.Array;e.exports=function(e){var t=s(e),n=c(this),i=arguments.length,m=i>1?arguments[1]:void 0,g=void 0!==m;g&&(m=r(m,i>2?arguments[2]:void 0));var v,y,b,w,_,x,k=p(t),C=0;if(!k||this==f&&l(k))for(v=u(t),y=n?new this(v):f(v);v>C;C++)x=g?m(t[C],C):t[C],h(y,C,x);else for(_=(w=d(t,k)).next,y=n?new this:[];!(b=o(_,w)).done;C++)x=g?a(w,m,[b.value,C],!0):b.value,h(y,C,x);return y.length=C,y}},1318:(e,t,n)=>{var i=n(5656),r=n(1400),o=n(6244),s=function(e){return function(t,n,s){var a,l=i(t),c=o(l),u=r(s,c);if(e&&n!=n){for(;c>u;)if((a=l[u++])!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},2092:(e,t,n)=>{var i=n(9974),r=n(1702),o=n(8361),s=n(7908),a=n(6244),l=n(5417),c=r([].push),u=function(e){var t=1==e,n=2==e,r=3==e,u=4==e,h=6==e,d=7==e,p=5==e||h;return function(f,m,g,v){for(var y,b,w=s(f),_=o(w),x=i(m,g),k=a(_),C=0,S=v||l,A=t?S(f,k):n||d?S(f,0):void 0;k>C;C++)if((p||C in _)&&(b=x(y=_[C],C,w),e))if(t)A[C]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return C;case 2:c(A,y)}else switch(e){case 4:return!1;case 7:c(A,y)}return h?-1:r||u?u:A}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},1194:(e,t,n)=>{var i=n(7293),r=n(5112),o=n(7392),s=r("species");e.exports=function(e){return o>=51||!i((function(){var t=[];return(t.constructor={})[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:(e,t,n)=>{"use strict";var i=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&i((function(){n.call(null,t||function(){return 1},1)}))}},3671:(e,t,n)=>{var i=n(7854),r=n(9662),o=n(7908),s=n(8361),a=n(6244),l=i.TypeError,c=function(e){return function(t,n,i,c){r(n);var u=o(t),h=s(u),d=a(u),p=e?d-1:0,f=e?-1:1;if(i<2)for(;;){if(p in h){c=h[p],p+=f;break}if(p+=f,e?p<0:d<=p)throw l("Reduce of empty array with no initial value")}for(;e?p>=0:d>p;p+=f)p in h&&(c=n(c,h[p],p,u));return c}};e.exports={left:c(!1),right:c(!0)}},1589:(e,t,n)=>{var i=n(7854),r=n(1400),o=n(6244),s=n(6135),a=i.Array,l=Math.max;e.exports=function(e,t,n){for(var i=o(e),c=r(t,i),u=r(void 0===n?i:n,i),h=a(l(u-c,0)),d=0;c<u;c++,d++)s(h,d,e[c]);return h.length=d,h}},206:(e,t,n)=>{var i=n(1702);e.exports=i([].slice)},4362:(e,t,n)=>{var i=n(1589),r=Math.floor,o=function(e,t){var n=e.length,l=r(n/2);return n<8?s(e,t):a(e,o(i(e,0,l),t),o(i(e,l),t),t)},s=function(e,t){for(var n,i,r=e.length,o=1;o<r;){for(i=o,n=e[o];i&&t(e[i-1],n)>0;)e[i]=e[--i];i!==o++&&(e[i]=n)}return e},a=function(e,t,n,i){for(var r=t.length,o=n.length,s=0,a=0;s<r||a<o;)e[s+a]=s<r&&a<o?i(t[s],n[a])<=0?t[s++]:n[a++]:s<r?t[s++]:n[a++];return e};e.exports=o},7475:(e,t,n)=>{var i=n(7854),r=n(3157),o=n(4411),s=n(111),a=n(5112)("species"),l=i.Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,(o(t)&&(t===l||r(t.prototype))||s(t)&&null===(t=t[a]))&&(t=void 0)),void 0===t?l:t}},5417:(e,t,n)=>{var i=n(7475);e.exports=function(e,t){return new(i(e))(0===t?0:t)}},3411:(e,t,n)=>{var i=n(9670),r=n(9212);e.exports=function(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(t){r(e,"throw",t)}}},7072:(e,t,n)=>{var i=n(5112)("iterator"),r=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){r=!0}};s[i]=function(){return this},Array.from(s,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},4326:(e,t,n)=>{var i=n(1702),r=i({}.toString),o=i("".slice);e.exports=function(e){return o(r(e),8,-1)}},648:(e,t,n)=>{var i=n(7854),r=n(1694),o=n(614),s=n(4326),a=n(5112)("toStringTag"),l=i.Object,c="Arguments"==s(function(){return arguments}());e.exports=r?s:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=l(e),a))?n:c?s(t):"Object"==(i=s(t))&&o(t.callee)?"Arguments":i}},5631:(e,t,n)=>{"use strict";var i=n(3070).f,r=n(30),o=n(9190),s=n(9974),a=n(5787),l=n(408),c=n(654),u=n(6340),h=n(9781),d=n(2423).fastKey,p=n(9909),f=p.set,m=p.getterFor;e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,i){a(e,p),f(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),h||(e.size=0),null!=i&&l(i,e[c],{that:e,AS_ENTRIES:n})})),p=u.prototype,g=m(t),v=function(e,t,n){var i,r,o=g(e),s=y(e,t);return s?s.value=n:(o.last=s={index:r=d(t,!0),key:t,value:n,previous:i=o.last,next:void 0,removed:!1},o.first||(o.first=s),i&&(i.next=s),h?o.size++:e.size++,"F"!==r&&(o.index[r]=s)),e},y=function(e,t){var n,i=g(e),r=d(t);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==t)return n};return o(p,{clear:function(){for(var e=g(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t=this,n=g(t),i=y(t,e);if(i){var r=i.next,o=i.previous;delete n.index[i.index],i.removed=!0,o&&(o.next=r),r&&(r.previous=o),n.first==i&&(n.first=r),n.last==i&&(n.last=o),h?n.size--:t.size--}return!!i},forEach:function(e){for(var t,n=g(this),i=s(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(i(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),o(p,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),h&&i(p,"size",{get:function(){return g(this).size}}),u},setStrong:function(e,t,n){var i=t+" Iterator",r=m(t),o=m(i);c(e,t,(function(e,t){f(this,{type:i,target:e,state:r(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(t)}}},7710:(e,t,n)=>{"use strict";var i=n(2109),r=n(7854),o=n(1702),s=n(4705),a=n(8052),l=n(2423),c=n(408),u=n(5787),h=n(614),d=n(111),p=n(7293),f=n(7072),m=n(8003),g=n(9587);e.exports=function(e,t,n){var v=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),b=v?"set":"add",w=r[e],_=w&&w.prototype,x=w,k={},C=function(e){var t=o(_[e]);a(_,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!d(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return y&&!d(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!d(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(s(e,!h(w)||!(y||_.forEach&&!p((function(){(new w).entries().next()})))))x=n.getConstructor(t,e,v,b),l.enable();else if(s(e,!0)){var S=new x,A=S[b](y?{}:-0,1)!=S,T=p((function(){S.has(1)})),O=f((function(e){new w(e)})),L=!y&&p((function(){for(var e=new w,t=5;t--;)e[b](t,t);return!e.has(-0)}));O||((x=t((function(e,t){u(e,_);var n=g(new w,e,x);return null!=t&&c(t,n[b],{that:n,AS_ENTRIES:v}),n}))).prototype=_,_.constructor=x),(T||L)&&(C("delete"),C("has"),v&&C("get")),(L||A)&&C(b),y&&_.clear&&delete _.clear}return k[e]=x,i({global:!0,constructor:!0,forced:x!=w},k),m(x,e),y||n.setStrong(x,e,v),x}},9920:(e,t,n)=>{var i=n(2597),r=n(3887),o=n(1236),s=n(3070);e.exports=function(e,t,n){for(var a=r(t),l=s.f,c=o.f,u=0;u<a.length;u++){var h=a[u];i(e,h)||n&&i(n,h)||l(e,h,c(t,h))}}},4964:(e,t,n)=>{var i=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(e){}}return!1}},8544:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4230:(e,t,n)=>{var i=n(1702),r=n(4488),o=n(1340),s=/"/g,a=i("".replace);e.exports=function(e,t,n,i){var l=o(r(e)),c="<"+t;return""!==n&&(c+=" "+n+'="'+a(o(i),s,"&quot;")+'"'),c+">"+l+"</"+t+">"}},4994:(e,t,n)=>{"use strict";var i=n(3383).IteratorPrototype,r=n(30),o=n(9114),s=n(8003),a=n(7497),l=function(){return this};e.exports=function(e,t,n,c){var u=t+" Iterator";return e.prototype=r(i,{next:o(+!c,n)}),s(e,u,!1,!0),a[u]=l,e}},8880:(e,t,n)=>{var i=n(9781),r=n(3070),o=n(9114);e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:(e,t,n)=>{"use strict";var i=n(4948),r=n(3070),o=n(9114);e.exports=function(e,t,n){var s=i(t);s in e?r.f(e,s,o(0,n)):e[s]=n}},5573:(e,t,n)=>{"use strict";var i=n(7854),r=n(1702),o=n(7293),s=n(6650).start,a=i.RangeError,l=Math.abs,c=Date.prototype,u=c.toISOString,h=r(c.getTime),d=r(c.getUTCDate),p=r(c.getUTCFullYear),f=r(c.getUTCHours),m=r(c.getUTCMilliseconds),g=r(c.getUTCMinutes),v=r(c.getUTCMonth),y=r(c.getUTCSeconds);e.exports=o((function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-50000000000001))}))||!o((function(){u.call(new Date(NaN))}))?function(){if(!isFinite(h(this)))throw a("Invalid time value");var e=this,t=p(e),n=m(e),i=t<0?"-":t>9999?"+":"";return i+s(l(t),i?6:4,0)+"-"+s(v(e)+1,2,0)+"-"+s(d(e),2,0)+"T"+s(f(e),2,0)+":"+s(g(e),2,0)+":"+s(y(e),2,0)+"."+s(n,3,0)+"Z"}:u},7045:(e,t,n)=>{var i=n(6339),r=n(3070);e.exports=function(e,t,n){return n.get&&i(n.get,t,{getter:!0}),n.set&&i(n.set,t,{setter:!0}),r.f(e,t,n)}},8052:(e,t,n)=>{var i=n(614),r=n(8880),o=n(6339),s=n(3072);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;return i(n)&&o(n,c,a),a.global?l?e[t]=n:s(t,n):(a.unsafe?e[t]&&(l=!0):delete e[t],l?e[t]=n:r(e,t,n)),e}},9190:(e,t,n)=>{var i=n(8052);e.exports=function(e,t,n){for(var r in t)i(e,r,t[r],n);return e}},3072:(e,t,n)=>{var i=n(7854),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},654:(e,t,n)=>{"use strict";var i=n(2109),r=n(6916),o=n(1913),s=n(6530),a=n(614),l=n(4994),c=n(9518),u=n(7674),h=n(8003),d=n(8880),p=n(8052),f=n(5112),m=n(7497),g=n(3383),v=s.PROPER,y=s.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,_=f("iterator"),x="keys",k="values",C="entries",S=function(){return this};e.exports=function(e,t,n,s,f,g,A){l(n,t,s);var T,O,L,E=function(e){if(e===f&&R)return R;if(!w&&e in M)return M[e];switch(e){case x:case k:case C:return function(){return new n(this,e)}}return function(){return new n(this)}},D=t+" Iterator",P=!1,M=e.prototype,$=M[_]||M["@@iterator"]||f&&M[f],R=!w&&$||E(f),I="Array"==t&&M.entries||$;if(I&&(T=c(I.call(new e)))!==Object.prototype&&T.next&&(o||c(T)===b||(u?u(T,b):a(T[_])||p(T,_,S)),h(T,D,!0,!0),o&&(m[D]=S)),v&&f==k&&$&&$.name!==k&&(!o&&y?d(M,"name",k):(P=!0,R=function(){return r($,this)})),f)if(O={values:E(k),keys:g?R:E(x),entries:E(C)},A)for(L in O)(w||P||!(L in M))&&p(M,L,O[L]);else i({target:t,proto:!0,forced:w||P},O);return o&&!A||M[_]===R||p(M,_,R,{name:f}),m[t]=R,O}},7235:(e,t,n)=>{var i=n(857),r=n(2597),o=n(6061),s=n(3070).f;e.exports=function(e){var t=i.Symbol||(i.Symbol={});r(t,e)||s(t,e,{value:o.f(e)})}},9781:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:(e,t,n)=>{var i=n(7854),r=n(111),o=i.document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,n)=>{var i=n(317)("span").classList,r=i&&i.constructor&&i.constructor.prototype;e.exports=r===Object.prototype?void 0:r},8886:(e,t,n)=>{var i=n(8113).match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},7871:e=>{e.exports="object"==typeof window&&"object"!=typeof Deno},256:(e,t,n)=>{var i=n(8113);e.exports=/MSIE|Trident/.test(i)},1528:(e,t,n)=>{var i=n(8113),r=n(7854);e.exports=/ipad|iphone|ipod/i.test(i)&&void 0!==r.Pebble},6833:(e,t,n)=>{var i=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},5268:(e,t,n)=>{var i=n(4326),r=n(7854);e.exports="process"==i(r.process)},1036:(e,t,n)=>{var i=n(8113);e.exports=/web0s(?!.*chrome)/i.test(i)},8113:(e,t,n)=>{var i=n(5005);e.exports=i("navigator","userAgent")||""},7392:(e,t,n)=>{var i,r,o=n(7854),s=n(8113),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(r=(i=u.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},8008:(e,t,n)=>{var i=n(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:(e,t,n)=>{var i=n(7854),r=n(1236).f,o=n(8880),s=n(8052),a=n(3072),l=n(9920),c=n(4705);e.exports=function(e,t){var n,u,h,d,p,f=e.target,m=e.global,g=e.stat;if(n=m?i:g?i[f]||a(f,{}):(i[f]||{}).prototype)for(u in t){if(d=t[u],h=e.dontCallGetSet?(p=r(n,u))&&p.value:n[u],!c(m?u:f+(g?".":"#")+u,e.forced)&&void 0!==h){if(typeof d==typeof h)continue;l(d,h)}(e.sham||h&&h.sham)&&o(d,"sham",!0),s(n,u,d,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:(e,t,n)=>{"use strict";n(4916);var i=n(1702),r=n(8052),o=n(2261),s=n(7293),a=n(5112),l=n(8880),c=a("species"),u=RegExp.prototype;e.exports=function(e,t,n,h){var d=a(e),p=!s((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),f=p&&!s((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!p||!f||n){var m=i(/./[d]),g=t(d,""[e],(function(e,t,n,r,s){var a=i(e),l=t.exec;return l===o||l===u.exec?p&&!s?{done:!0,value:m(t,n,r)}:{done:!0,value:a(n,t,r)}:{done:!1}}));r(String.prototype,e,g[0]),r(u,d,g[1])}h&&l(u[d],"sham",!0)}},6790:(e,t,n)=>{"use strict";var i=n(7854),r=n(3157),o=n(6244),s=n(9974),a=i.TypeError,l=function(e,t,n,i,c,u,h,d){for(var p,f,m=c,g=0,v=!!h&&s(h,d);g<i;){if(g in n){if(p=v?v(n[g],g,t):n[g],u>0&&r(p))f=o(p),m=l(e,t,p,f,m,u-1)-1;else{if(m>=9007199254740991)throw a("Exceed the acceptable array length");e[m]=p}m++}g++}return m};e.exports=l},6677:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2104:(e,t,n)=>{var i=n(4374),r=Function.prototype,o=r.apply,s=r.call;e.exports="object"==typeof Reflect&&Reflect.apply||(i?s.bind(o):function(){return s.apply(o,arguments)})},9974:(e,t,n)=>{var i=n(1702),r=n(9662),o=n(4374),s=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},4374:(e,t,n)=>{var i=n(7293);e.exports=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:(e,t,n)=>{var i=n(4374),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},6530:(e,t,n)=>{var i=n(9781),r=n(2597),o=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=r(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!i||i&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},1702:(e,t,n)=>{var i=n(4374),r=Function.prototype,o=r.bind,s=r.call,a=i&&o.bind(s,s);e.exports=i?function(e){return e&&a(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},5005:(e,t,n)=>{var i=n(7854),r=n(614),o=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(i[e]):i[e]&&i[e][t]}},1246:(e,t,n)=>{var i=n(648),r=n(8173),o=n(7497),s=n(5112)("iterator");e.exports=function(e){if(null!=e)return r(e,s)||r(e,"@@iterator")||o[i(e)]}},8554:(e,t,n)=>{var i=n(7854),r=n(6916),o=n(9662),s=n(9670),a=n(6330),l=n(1246),c=i.TypeError;e.exports=function(e,t){var n=arguments.length<2?l(e):t;if(o(n))return s(r(n,e));throw c(a(e)+" is not iterable")}},8173:(e,t,n)=>{var i=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:i(n)}},647:(e,t,n)=>{var i=n(1702),r=n(7908),o=Math.floor,s=i("".charAt),a=i("".replace),l=i("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,i,h,d){var p=n+e.length,f=i.length,m=u;return void 0!==h&&(h=r(h),m=c),a(d,m,(function(r,a){var c;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,p);case"<":c=h[l(a,1,-1)];break;default:var u=+a;if(0===u)return r;if(u>f){var d=o(u/10);return 0===d?r:d<=f?void 0===i[d-1]?s(a,1):i[d-1]+s(a,1):r}c=i[u-1]}return void 0===c?"":c}))}},7854:(e,t,n)=>{var i=function(e){return e&&e.Math==Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:(e,t,n)=>{var i=n(1702),r=n(7908),o=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(r(e),t)}},3501:e=>{e.exports={}},842:(e,t,n)=>{var i=n(7854);e.exports=function(e,t){var n=i.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},490:(e,t,n)=>{var i=n(5005);e.exports=i("document","documentElement")},4664:(e,t,n)=>{var i=n(9781),r=n(7293),o=n(317);e.exports=!i&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,n)=>{var i=n(7854),r=n(1702),o=n(7293),s=n(4326),a=i.Object,l=r("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?l(e,""):a(e)}:a},9587:(e,t,n)=>{var i=n(614),r=n(111),o=n(7674);e.exports=function(e,t,n){var s,a;return o&&i(s=t.constructor)&&s!==n&&r(a=s.prototype)&&a!==n.prototype&&o(e,a),e}},2788:(e,t,n)=>{var i=n(1702),r=n(614),o=n(5465),s=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},2423:(e,t,n)=>{var i=n(2109),r=n(1702),o=n(3501),s=n(111),a=n(2597),l=n(3070).f,c=n(8006),u=n(1156),h=n(2050),d=n(9711),p=n(6677),f=!1,m=d("meta"),g=0,v=function(e){l(e,m,{value:{objectID:"O"+g++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},f=!0;var e=c.f,t=r([].splice),n={};n[m]=1,e(n).length&&(c.f=function(n){for(var i=e(n),r=0,o=i.length;r<o;r++)if(i[r]===m){t(i,r,1);break}return i},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:u.f}))},fastKey:function(e,t){if(!s(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,m)){if(!h(e))return"F";if(!t)return"E";v(e)}return e[m].objectID},getWeakData:function(e,t){if(!a(e,m)){if(!h(e))return!0;if(!t)return!1;v(e)}return e[m].weakData},onFreeze:function(e){return p&&f&&h(e)&&!a(e,m)&&v(e),e}};o[m]=!0},9909:(e,t,n)=>{var i,r,o,s=n(8536),a=n(7854),l=n(1702),c=n(111),u=n(8880),h=n(2597),d=n(5465),p=n(6200),f=n(3501),m="Object already initialized",g=a.TypeError,v=a.WeakMap;if(s||d.state){var y=d.state||(d.state=new v),b=l(y.get),w=l(y.has),_=l(y.set);i=function(e,t){if(w(y,e))throw new g(m);return t.facade=e,_(y,e,t),t},r=function(e){return b(y,e)||{}},o=function(e){return w(y,e)}}else{var x=p("state");f[x]=!0,i=function(e,t){if(h(e,x))throw new g(m);return t.facade=e,u(e,x,t),t},r=function(e){return h(e,x)?e[x]:{}},o=function(e){return h(e,x)}}e.exports={set:i,get:r,has:o,enforce:function(e){return o(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=r(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}}}},7659:(e,t,n)=>{var i=n(5112),r=n(7497),o=i("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[o]===e)}},3157:(e,t,n)=>{var i=n(4326);e.exports=Array.isArray||function(e){return"Array"==i(e)}},614:e=>{e.exports=function(e){return"function"==typeof e}},4411:(e,t,n)=>{var i=n(1702),r=n(7293),o=n(614),s=n(648),a=n(5005),l=n(2788),c=function(){},u=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,p=i(d.exec),f=!d.exec(c),m=function(e){if(!o(e))return!1;try{return h(c,u,e),!0}catch(e){return!1}},g=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(d,l(e))}catch(e){return!0}};g.sham=!0,e.exports=!h||r((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},4705:(e,t,n)=>{var i=n(7293),r=n(614),o=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n==u||n!=c&&(r(t)?i(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},111:(e,t,n)=>{var i=n(614);e.exports=function(e){return"object"==typeof e?null!==e:i(e)}},1913:e=>{e.exports=!1},7850:(e,t,n)=>{var i=n(111),r=n(4326),o=n(5112)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==r(e))}},2190:(e,t,n)=>{var i=n(7854),r=n(5005),o=n(614),s=n(7976),a=n(3307),l=i.Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&s(t.prototype,l(e))}},408:(e,t,n)=>{var i=n(7854),r=n(9974),o=n(6916),s=n(9670),a=n(6330),l=n(7659),c=n(6244),u=n(7976),h=n(8554),d=n(1246),p=n(9212),f=i.TypeError,m=function(e,t){this.stopped=e,this.result=t},g=m.prototype;e.exports=function(e,t,n){var i,v,y,b,w,_,x,k=n&&n.that,C=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_ITERATOR),A=!(!n||!n.INTERRUPTED),T=r(t,k),O=function(e){return i&&p(i,"normal",e),new m(!0,e)},L=function(e){return C?(s(e),A?T(e[0],e[1],O):T(e[0],e[1])):A?T(e,O):T(e)};if(S)i=e;else{if(!(v=d(e)))throw f(a(e)+" is not iterable");if(l(v)){for(y=0,b=c(e);b>y;y++)if((w=L(e[y]))&&u(g,w))return w;return new m(!1)}i=h(e,v)}for(_=i.next;!(x=o(_,i)).done;){try{w=L(x.value)}catch(e){p(i,"throw",e)}if("object"==typeof w&&w&&u(g,w))return w}return new m(!1)}},9212:(e,t,n)=>{var i=n(6916),r=n(9670),o=n(8173);e.exports=function(e,t,n){var s,a;r(e);try{if(!(s=o(e,"return"))){if("throw"===t)throw n;return n}s=i(s,e)}catch(e){a=!0,s=e}if("throw"===t)throw n;if(a)throw s;return r(s),n}},3383:(e,t,n)=>{"use strict";var i,r,o,s=n(7293),a=n(614),l=n(30),c=n(9518),u=n(8052),h=n(5112),d=n(1913),p=h("iterator"),f=!1;[].keys&&("next"in(o=[].keys())?(r=c(c(o)))!==Object.prototype&&(i=r):f=!0),null==i||s((function(){var e={};return i[p].call(e)!==e}))?i={}:d&&(i=l(i)),a(i[p])||u(i,p,(function(){return this})),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},7497:e=>{e.exports={}},6244:(e,t,n)=>{var i=n(7466);e.exports=function(e){return i(e.length)}},6339:(e,t,n)=>{var i=n(7293),r=n(614),o=n(2597),s=n(9781),a=n(6530).CONFIGURABLE,l=n(2788),c=n(9909),u=c.enforce,h=c.get,d=Object.defineProperty,p=s&&!i((function(){return 8!==d((function(){}),"length",{value:8}).length})),f=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||a&&e.name!==t)&&d(e,"name",{value:t,configurable:!0}),p&&n&&o(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?s&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var i=u(e);return o(i,"source")||(i.source=f.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return r(this)&&h(this).source||l(this)}),"toString")},4758:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},5948:(e,t,n)=>{var i,r,o,s,a,l,c,u,h=n(7854),d=n(9974),p=n(1236).f,f=n(261).set,m=n(6833),g=n(1528),v=n(1036),y=n(5268),b=h.MutationObserver||h.WebKitMutationObserver,w=h.document,_=h.process,x=h.Promise,k=p(h,"queueMicrotask"),C=k&&k.value;C||(i=function(){var e,t;for(y&&(e=_.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(e){throw r?s():o=void 0,e}}o=void 0,e&&e.enter()},m||y||v||!b||!w?!g&&x&&x.resolve?((c=x.resolve(void 0)).constructor=x,u=d(c.then,c),s=function(){u(i)}):y?s=function(){_.nextTick(i)}:(f=d(f,h),s=function(){f(i)}):(a=!0,l=w.createTextNode(""),new b(i).observe(l,{characterData:!0}),s=function(){l.data=a=!a})),e.exports=C||function(e){var t={fn:e,next:void 0};o&&(o.next=t),r||(r=t,s()),o=t}},735:(e,t,n)=>{var i=n(133);e.exports=i&&!!Symbol.for&&!!Symbol.keyFor},133:(e,t,n)=>{var i=n(7392),r=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},590:(e,t,n)=>{var i=n(7293),r=n(5112),o=n(1913),s=r("iterator");e.exports=!i((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,i){t.delete("b"),n+=i+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:(e,t,n)=>{var i=n(7854),r=n(614),o=n(2788),s=i.WeakMap;e.exports=r(s)&&/native code/.test(o(s))},8523:(e,t,n)=>{"use strict";var i=n(9662),r=function(e){var t,n;this.promise=new e((function(e,i){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=i})),this.resolve=i(t),this.reject=i(n)};e.exports.f=function(e){return new r(e)}},3929:(e,t,n)=>{var i=n(7854),r=n(7850),o=i.TypeError;e.exports=function(e){if(r(e))throw o("The method doesn't accept regular expressions");return e}},2814:(e,t,n)=>{var i=n(7854),r=n(7293),o=n(1702),s=n(1340),a=n(3111).trim,l=n(1361),c=o("".charAt),u=i.parseFloat,h=i.Symbol,d=h&&h.iterator,p=1/u(l+"-0")!=-1/0||d&&!r((function(){u(Object(d))}));e.exports=p?function(e){var t=a(s(e)),n=u(t);return 0===n&&"-"==c(t,0)?-0:n}:u},3009:(e,t,n)=>{var i=n(7854),r=n(7293),o=n(1702),s=n(1340),a=n(3111).trim,l=n(1361),c=i.parseInt,u=i.Symbol,h=u&&u.iterator,d=/^[+-]?0x/i,p=o(d.exec),f=8!==c(l+"08")||22!==c(l+"0x16")||h&&!r((function(){c(Object(h))}));e.exports=f?function(e,t){var n=a(s(e));return c(n,t>>>0||(p(d,n)?16:10))}:c},1574:(e,t,n)=>{"use strict";var i=n(9781),r=n(1702),o=n(6916),s=n(7293),a=n(1956),l=n(5181),c=n(5296),u=n(7908),h=n(8361),d=Object.assign,p=Object.defineProperty,f=r([].concat);e.exports=!d||s((function(){if(i&&1!==d({b:1},d(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||a(d({},t)).join("")!=r}))?function(e,t){for(var n=u(e),r=arguments.length,s=1,d=l.f,p=c.f;r>s;)for(var m,g=h(arguments[s++]),v=d?f(a(g),d(g)):a(g),y=v.length,b=0;y>b;)m=v[b++],i&&!o(p,g,m)||(n[m]=g[m]);return n}:d},30:(e,t,n)=>{var i,r=n(9670),o=n(6048),s=n(748),a=n(3501),l=n(490),c=n(317),u=n(6200)("IE_PROTO"),h=function(){},d=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},f=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}var e,t;f="undefined"!=typeof document?document.domain&&i?p(i):((t=c("iframe")).style.display="none",l.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):p(i);for(var n=s.length;n--;)delete f.prototype[s[n]];return f()};a[u]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(h.prototype=r(e),n=new h,h.prototype=null,n[u]=e):n=f(),void 0===t?n:o.f(n,t)}},6048:(e,t,n)=>{var i=n(9781),r=n(3353),o=n(3070),s=n(9670),a=n(5656),l=n(1956);t.f=i&&!r?Object.defineProperties:function(e,t){s(e);for(var n,i=a(t),r=l(t),c=r.length,u=0;c>u;)o.f(e,n=r[u++],i[n]);return e}},3070:(e,t,n)=>{var i=n(7854),r=n(9781),o=n(4664),s=n(3353),a=n(9670),l=n(4948),c=i.TypeError,u=Object.defineProperty,h=Object.getOwnPropertyDescriptor;t.f=r?s?function(e,t,n){if(a(e),t=l(t),a(n),"function"==typeof e&&"prototype"===t&&"value"in n&&"writable"in n&&!n.writable){var i=h(e,t);i&&i.writable&&(e[t]=n.value,n={configurable:"configurable"in n?n.configurable:i.configurable,enumerable:"enumerable"in n?n.enumerable:i.enumerable,writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(a(e),t=l(t),a(n),o)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:(e,t,n)=>{var i=n(9781),r=n(6916),o=n(5296),s=n(9114),a=n(5656),l=n(4948),c=n(2597),u=n(4664),h=Object.getOwnPropertyDescriptor;t.f=i?h:function(e,t){if(e=a(e),t=l(t),u)try{return h(e,t)}catch(e){}if(c(e,t))return s(!r(o.f,e,t),e[t])}},1156:(e,t,n)=>{var i=n(4326),r=n(5656),o=n(8006).f,s=n(1589),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"Window"==i(e)?function(e){try{return o(e)}catch(e){return s(a)}}(e):o(r(e))}},8006:(e,t,n)=>{var i=n(6324),r=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,n)=>{var i=n(7854),r=n(2597),o=n(614),s=n(7908),a=n(6200),l=n(8544),c=a("IE_PROTO"),u=i.Object,h=u.prototype;e.exports=l?u.getPrototypeOf:function(e){var t=s(e);if(r(t,c))return t[c];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof u?h:null}},2050:(e,t,n)=>{var i=n(7293),r=n(111),o=n(4326),s=n(7556),a=Object.isExtensible,l=i((function(){a(1)}));e.exports=l||s?function(e){return!!r(e)&&(!s||"ArrayBuffer"!=o(e))&&(!a||a(e))}:a},7976:(e,t,n)=>{var i=n(1702);e.exports=i({}.isPrototypeOf)},6324:(e,t,n)=>{var i=n(1702),r=n(2597),o=n(5656),s=n(1318).indexOf,a=n(3501),l=i([].push);e.exports=function(e,t){var n,i=o(e),c=0,u=[];for(n in i)!r(a,n)&&r(i,n)&&l(u,n);for(;t.length>c;)r(i,n=t[c++])&&(~s(u,n)||l(u,n));return u}},1956:(e,t,n)=>{var i=n(6324),r=n(748);e.exports=Object.keys||function(e){return i(e,r)}},5296:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},7674:(e,t,n)=>{var i=n(1702),r=n(9670),o=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n),o(i),t?e(n,i):n.__proto__=i,n}}():void 0)},4699:(e,t,n)=>{var i=n(9781),r=n(1702),o=n(1956),s=n(5656),a=r(n(5296).f),l=r([].push),c=function(e){return function(t){for(var n,r=s(t),c=o(r),u=c.length,h=0,d=[];u>h;)n=c[h++],i&&!a(r,n)||l(d,e?[n,r[n]]:r[n]);return d}};e.exports={entries:c(!0),values:c(!1)}},288:(e,t,n)=>{"use strict";var i=n(1694),r=n(648);e.exports=i?{}.toString:function(){return"[object "+r(this)+"]"}},2140:(e,t,n)=>{var i=n(7854),r=n(6916),o=n(614),s=n(111),a=i.TypeError;e.exports=function(e,t){var n,i;if("string"===t&&o(n=e.toString)&&!s(i=r(n,e)))return i;if(o(n=e.valueOf)&&!s(i=r(n,e)))return i;if("string"!==t&&o(n=e.toString)&&!s(i=r(n,e)))return i;throw a("Can't convert object to primitive value")}},3887:(e,t,n)=>{var i=n(5005),r=n(1702),o=n(8006),s=n(5181),a=n(9670),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?l(t,n(e)):t}},857:(e,t,n)=>{var i=n(7854);e.exports=i},2534:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},3702:(e,t,n)=>{var i=n(7854),r=n(2492),o=n(614),s=n(4705),a=n(2788),l=n(5112),c=n(7871),u=n(1913),h=n(7392),d=r&&r.prototype,p=l("species"),f=!1,m=o(i.PromiseRejectionEvent),g=s("Promise",(function(){var e=a(r),t=e!==String(r);if(!t&&66===h)return!0;if(u&&(!d.catch||!d.finally))return!0;if(h>=51&&/native code/.test(e))return!1;var n=new r((function(e){e(1)})),i=function(e){e((function(){}),(function(){}))};return(n.constructor={})[p]=i,!(f=n.then((function(){}))instanceof i)||!t&&c&&!m}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:m,SUBCLASSING:f}},2492:(e,t,n)=>{var i=n(7854);e.exports=i.Promise},9478:(e,t,n)=>{var i=n(9670),r=n(111),o=n(8523);e.exports=function(e,t){if(i(e),r(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},612:(e,t,n)=>{var i=n(2492),r=n(7072),o=n(3702).CONSTRUCTOR;e.exports=o||!r((function(e){i.all(e).then(void 0,(function(){}))}))},2626:(e,t,n)=>{var i=n(3070).f;e.exports=function(e,t,n){n in e||i(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},8572:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},7651:(e,t,n)=>{var i=n(7854),r=n(6916),o=n(9670),s=n(614),a=n(4326),l=n(2261),c=i.TypeError;e.exports=function(e,t){var n=e.exec;if(s(n)){var i=r(n,e,t);return null!==i&&o(i),i}if("RegExp"===a(e))return r(l,e,t);throw c("RegExp#exec called on incompatible receiver")}},2261:(e,t,n)=>{"use strict";var i,r,o=n(6916),s=n(1702),a=n(1340),l=n(7066),c=n(2999),u=n(2309),h=n(30),d=n(9909).get,p=n(9441),f=n(7168),m=u("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,v=g,y=s("".charAt),b=s("".indexOf),w=s("".replace),_=s("".slice),x=(r=/b*/g,o(g,i=/a/,"a"),o(g,r,"a"),0!==i.lastIndex||0!==r.lastIndex),k=c.BROKEN_CARET,C=void 0!==/()??/.exec("")[1];(x||C||k||p||f)&&(v=function(e){var t,n,i,r,s,c,u,p=this,f=d(p),S=a(e),A=f.raw;if(A)return A.lastIndex=p.lastIndex,t=o(v,A,S),p.lastIndex=A.lastIndex,t;var T=f.groups,O=k&&p.sticky,L=o(l,p),E=p.source,D=0,P=S;if(O&&(L=w(L,"y",""),-1===b(L,"g")&&(L+="g"),P=_(S,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==y(S,p.lastIndex-1))&&(E="(?: "+E+")",P=" "+P,D++),n=new RegExp("^(?:"+E+")",L)),C&&(n=new RegExp("^"+E+"$(?!\\s)",L)),x&&(i=p.lastIndex),r=o(g,O?n:p,P),O?r?(r.input=_(r.input,D),r[0]=_(r[0],D),r.index=p.lastIndex,p.lastIndex+=r[0].length):p.lastIndex=0:x&&r&&(p.lastIndex=p.global?r.index+r[0].length:i),C&&r&&r.length>1&&o(m,r[0],n,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(r[s]=void 0)})),r&&T)for(r.groups=c=h(null),s=0;s<T.length;s++)c[(u=T[s])[0]]=r[u[1]];return r}),e.exports=v},7066:(e,t,n)=>{"use strict";var i=n(9670);e.exports=function(){var e=i(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},4706:(e,t,n)=>{var i=n(6916),r=n(2597),o=n(7976),s=n(7066),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||r(e,"flags")||!o(a,e)?t:i(s,e)}},2999:(e,t,n)=>{var i=n(7293),r=n(7854).RegExp,o=i((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),s=o||i((function(){return!r("a","y").sticky})),a=o||i((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:o}},9441:(e,t,n)=>{var i=n(7293),r=n(7854).RegExp;e.exports=i((function(){var e=r(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:(e,t,n)=>{var i=n(7293),r=n(7854).RegExp;e.exports=i((function(){var e=r("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:(e,t,n)=>{var i=n(7854).TypeError;e.exports=function(e){if(null==e)throw i("Can't call method on "+e);return e}},1150:e=>{e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},7152:(e,t,n)=>{var i=n(7854),r=n(2104),o=n(614),s=n(8113),a=n(206),l=n(8053),c=/MSIE .\./.test(s),u=i.Function,h=function(e){return c?function(t,n){var i=l(arguments.length,1)>2,s=o(t)?t:u(t),c=i?a(arguments,2):void 0;return e(i?function(){r(s,this,c)}:s,n)}:e};e.exports={setTimeout:h(i.setTimeout),setInterval:h(i.setInterval)}},6340:(e,t,n)=>{"use strict";var i=n(5005),r=n(3070),o=n(5112),s=n(9781),a=o("species");e.exports=function(e){var t=i(e),n=r.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},8003:(e,t,n)=>{var i=n(3070).f,r=n(2597),o=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,o)&&i(e,o,{configurable:!0,value:t})}},6200:(e,t,n)=>{var i=n(2309),r=n(9711),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},5465:(e,t,n)=>{var i=n(7854),r=n(3072),o="__core-js_shared__",s=i[o]||r(o,{});e.exports=s},2309:(e,t,n)=>{var i=n(1913),r=n(5465);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.7",mode:i?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.7/LICENSE",source:"https://github.com/zloirock/core-js"})},6707:(e,t,n)=>{var i=n(9670),r=n(9483),o=n(5112)("species");e.exports=function(e,t){var n,s=i(e).constructor;return void 0===s||null==(n=i(s)[o])?t:r(n)}},3429:(e,t,n)=>{var i=n(7293);e.exports=function(e){return i((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},8710:(e,t,n)=>{var i=n(1702),r=n(9303),o=n(1340),s=n(4488),a=i("".charAt),l=i("".charCodeAt),c=i("".slice),u=function(e){return function(t,n){var i,u,h=o(s(t)),d=r(n),p=h.length;return d<0||d>=p?e?"":void 0:(i=l(h,d))<55296||i>56319||d+1===p||(u=l(h,d+1))<56320||u>57343?e?a(h,d):i:e?c(h,d,d+2):u-56320+(i-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},6650:(e,t,n)=>{var i=n(1702),r=n(7466),o=n(1340),s=n(8415),a=n(4488),l=i(s),c=i("".slice),u=Math.ceil,h=function(e){return function(t,n,i){var s,h,d=o(a(t)),p=r(n),f=d.length,m=void 0===i?" ":o(i);return p<=f||""==m?d:((h=l(m,u((s=p-f)/m.length))).length>s&&(h=c(h,0,s)),e?d+h:h+d)}};e.exports={start:h(!1),end:h(!0)}},3197:(e,t,n)=>{"use strict";var i=n(7854),r=n(1702),o=2147483647,s=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,l="Overflow: input needs wider integers to process",c=i.RangeError,u=r(a.exec),h=Math.floor,d=String.fromCharCode,p=r("".charCodeAt),f=r([].join),m=r([].push),g=r("".replace),v=r("".split),y=r("".toLowerCase),b=function(e){return e+22+75*(e<26)},w=function(e,t,n){var i=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;)e=h(e/35),i+=36;return h(i+36*e/(e+38))},_=function(e){var t=[];e=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=p(e,n++);if(r>=55296&&r<=56319&&n<i){var o=p(e,n++);56320==(64512&o)?m(t,((1023&r)<<10)+(1023&o)+65536):(m(t,r),n--)}else m(t,r)}return t}(e);var n,i,r=e.length,s=128,a=0,u=72;for(n=0;n<e.length;n++)(i=e[n])<128&&m(t,d(i));var g=t.length,v=g;for(g&&m(t,"-");v<r;){var y=o;for(n=0;n<e.length;n++)(i=e[n])>=s&&i<y&&(y=i);var _=v+1;if(y-s>h((o-a)/_))throw c(l);for(a+=(y-s)*_,s=y,n=0;n<e.length;n++){if((i=e[n])<s&&++a>o)throw c(l);if(i==s){for(var x=a,k=36;;){var C=k<=u?1:k>=u+26?26:k-u;if(x<C)break;var S=x-C,A=36-C;m(t,d(b(C+S%A))),x=h(S/A),k+=36}m(t,d(b(x))),u=w(a,_,v==g),a=0,v++}}a++,s++}return f(t,"")};e.exports=function(e){var t,n,i=[],r=v(g(y(e),a,"."),".");for(t=0;t<r.length;t++)n=r[t],m(i,u(s,n)?"xn--"+_(n):n);return f(i,".")}},8415:(e,t,n)=>{"use strict";var i=n(7854),r=n(9303),o=n(1340),s=n(4488),a=i.RangeError;e.exports=function(e){var t=o(s(this)),n="",i=r(e);if(i<0||i==1/0)throw a("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},6091:(e,t,n)=>{var i=n(6530).PROPER,r=n(7293),o=n(1361);e.exports=function(e){return r((function(){return!!o[e]()||""!==""[e]()||i&&o[e].name!==e}))}},3111:(e,t,n)=>{var i=n(1702),r=n(4488),o=n(1340),s=n(1361),a=i("".replace),l="["+s+"]",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),h=function(e){return function(t){var n=o(r(t));return 1&e&&(n=a(n,c,"")),2&e&&(n=a(n,u,"")),n}};e.exports={start:h(1),end:h(2),trim:h(3)}},6532:(e,t,n)=>{var i=n(6916),r=n(5005),o=n(5112),s=n(8052);e.exports=function(){var e=r("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,a=o("toPrimitive");t&&!t[a]&&s(t,a,(function(e){return i(n,this)}),{arity:1})}},261:(e,t,n)=>{var i,r,o,s,a=n(7854),l=n(2104),c=n(9974),u=n(614),h=n(2597),d=n(7293),p=n(490),f=n(206),m=n(317),g=n(8053),v=n(6833),y=n(5268),b=a.setImmediate,w=a.clearImmediate,_=a.process,x=a.Dispatch,k=a.Function,C=a.MessageChannel,S=a.String,A=0,T={};try{i=a.location}catch(e){}var O=function(e){if(h(T,e)){var t=T[e];delete T[e],t()}},L=function(e){return function(){O(e)}},E=function(e){O(e.data)},D=function(e){a.postMessage(S(e),i.protocol+"//"+i.host)};b&&w||(b=function(e){g(arguments.length,1);var t=u(e)?e:k(e),n=f(arguments,1);return T[++A]=function(){l(t,void 0,n)},r(A),A},w=function(e){delete T[e]},y?r=function(e){_.nextTick(L(e))}:x&&x.now?r=function(e){x.now(L(e))}:C&&!v?(s=(o=new C).port2,o.port1.onmessage=E,r=c(s.postMessage,s)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&i&&"file:"!==i.protocol&&!d(D)?(r=D,a.addEventListener("message",E,!1)):r="onreadystatechange"in m("script")?function(e){p.appendChild(m("script")).onreadystatechange=function(){p.removeChild(this),O(e)}}:function(e){setTimeout(L(e),0)}),e.exports={set:b,clear:w}},863:(e,t,n)=>{var i=n(1702);e.exports=i(1..valueOf)},1400:(e,t,n)=>{var i=n(9303),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},5656:(e,t,n)=>{var i=n(8361),r=n(4488);e.exports=function(e){return i(r(e))}},9303:(e,t,n)=>{var i=n(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:i(t)}},7466:(e,t,n)=>{var i=n(9303),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},7908:(e,t,n)=>{var i=n(7854),r=n(4488),o=i.Object;e.exports=function(e){return o(r(e))}},7593:(e,t,n)=>{var i=n(7854),r=n(6916),o=n(111),s=n(2190),a=n(8173),l=n(2140),c=n(5112),u=i.TypeError,h=c("toPrimitive");e.exports=function(e,t){if(!o(e)||s(e))return e;var n,i=a(e,h);if(i){if(void 0===t&&(t="default"),n=r(i,e,t),!o(n)||s(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},4948:(e,t,n)=>{var i=n(7593),r=n(2190);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},1694:(e,t,n)=>{var i={};i[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(i)},1340:(e,t,n)=>{var i=n(7854),r=n(648),o=i.String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},6330:(e,t,n)=>{var i=n(7854).String;e.exports=function(e){try{return i(e)}catch(e){return"Object"}}},9711:(e,t,n)=>{var i=n(1702),r=0,o=Math.random(),s=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++r+o,36)}},3307:(e,t,n)=>{var i=n(133);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,n)=>{var i=n(9781),r=n(7293);e.exports=i&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:(e,t,n)=>{var i=n(7854).TypeError;e.exports=function(e,t){if(e<t)throw i("Not enough arguments");return e}},6061:(e,t,n)=>{var i=n(5112);t.f=i},5112:(e,t,n)=>{var i=n(7854),r=n(2309),o=n(2597),s=n(9711),a=n(133),l=n(3307),c=r("wks"),u=i.Symbol,h=u&&u.for,d=l?u:u&&u.withoutSetter||s;e.exports=function(e){if(!o(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&o(u,e)?c[e]=u[e]:c[e]=l&&h?h(t):d(t)}return c[e]}},1361:e=>{e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},2222:(e,t,n)=>{"use strict";var i=n(2109),r=n(7854),o=n(7293),s=n(3157),a=n(111),l=n(7908),c=n(6244),u=n(6135),h=n(5417),d=n(1194),p=n(5112),f=n(7392),m=p("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",y=r.TypeError,b=f>=51||!o((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),w=d("concat"),_=function(e){if(!a(e))return!1;var t=e[m];return void 0!==t?!!t:s(e)};i({target:"Array",proto:!0,arity:1,forced:!b||!w},{concat:function(e){var t,n,i,r,o,s=l(this),a=h(s,0),d=0;for(t=-1,i=arguments.length;t<i;t++)if(_(o=-1===t?s:arguments[t])){if(d+(r=c(o))>g)throw y(v);for(n=0;n<r;n++,d++)n in o&&u(a,d,o[n])}else{if(d>=g)throw y(v);u(a,d++,o)}return a.length=d,a}})},6541:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).every;i({target:"Array",proto:!0,forced:!n(9341)("every")},{every:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},7327:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).filter;i({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},4553:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).findIndex,o=n(1223),s="findIndex",a=!0;s in[]&&Array(1).findIndex((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},9826:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).find,o=n(1223),s="find",a=!0;s in[]&&Array(1).find((function(){a=!1})),i({target:"Array",proto:!0,forced:a},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},4944:(e,t,n)=>{"use strict";var i=n(2109),r=n(6790),o=n(7908),s=n(6244),a=n(9303),l=n(5417);i({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=s(t),i=l(t,0);return i.length=r(i,t,t,n,0,void 0===e?1:a(e)),i}})},9554:(e,t,n)=>{"use strict";var i=n(2109),r=n(8533);i({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},1038:(e,t,n)=>{var i=n(2109),r=n(8457);i({target:"Array",stat:!0,forced:!n(7072)((function(e){Array.from(e)}))},{from:r})},6699:(e,t,n)=>{"use strict";var i=n(2109),r=n(1318).includes,o=n(7293),s=n(1223);i({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},2772:(e,t,n)=>{"use strict";var i=n(2109),r=n(1702),o=n(1318).indexOf,s=n(9341),a=r([].indexOf),l=!!a&&1/a([1],1,-0)<0,c=s("indexOf");i({target:"Array",proto:!0,forced:l||!c},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return l?a(this,e,t)||0:o(this,e,t)}})},9753:(e,t,n)=>{n(2109)({target:"Array",stat:!0},{isArray:n(3157)})},6992:(e,t,n)=>{"use strict";var i=n(5656),r=n(1223),o=n(7497),s=n(9909),a=n(3070).f,l=n(654),c=n(1913),u=n(9781),h="Array Iterator",d=s.set,p=s.getterFor(h);e.exports=l(Array,"Array",(function(e,t){d(this,{type:h,target:i(e),index:0,kind:t})}),(function(){var e=p(this),t=e.target,n=e.kind,i=e.index++;return!t||i>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:t[i],done:!1}:{value:[i,t[i]],done:!1}}),"values");var f=o.Arguments=o.Array;if(r("keys"),r("values"),r("entries"),!c&&u&&"values"!==f.name)try{a(f,"name",{value:"values"})}catch(e){}},9600:(e,t,n)=>{"use strict";var i=n(2109),r=n(1702),o=n(8361),s=n(5656),a=n(9341),l=r([].join),c=o!=Object,u=a("join",",");i({target:"Array",proto:!0,forced:c||!u},{join:function(e){return l(s(this),void 0===e?",":e)}})},1249:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).map;i({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},5827:(e,t,n)=>{"use strict";var i=n(2109),r=n(3671).left,o=n(9341),s=n(7392),a=n(5268);i({target:"Array",proto:!0,forced:!o("reduce")||!a&&s>79&&s<83},{reduce:function(e){var t=arguments.length;return r(this,e,t,t>1?arguments[1]:void 0)}})},5069:(e,t,n)=>{"use strict";var i=n(2109),r=n(1702),o=n(3157),s=r([].reverse),a=[1,2];i({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),s(this)}})},7042:(e,t,n)=>{"use strict";var i=n(2109),r=n(7854),o=n(3157),s=n(4411),a=n(111),l=n(1400),c=n(6244),u=n(5656),h=n(6135),d=n(5112),p=n(1194),f=n(206),m=p("slice"),g=d("species"),v=r.Array,y=Math.max;i({target:"Array",proto:!0,forced:!m},{slice:function(e,t){var n,i,r,d=u(this),p=c(d),m=l(e,p),b=l(void 0===t?p:t,p);if(o(d)&&(n=d.constructor,(s(n)&&(n===v||o(n.prototype))||a(n)&&null===(n=n[g]))&&(n=void 0),n===v||void 0===n))return f(d,m,b);for(i=new(void 0===n?v:n)(y(b-m,0)),r=0;m<b;m++,r++)m in d&&h(i,r,d[m]);return i.length=r,i}})},5212:(e,t,n)=>{"use strict";var i=n(2109),r=n(2092).some;i({target:"Array",proto:!0,forced:!n(9341)("some")},{some:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},2707:(e,t,n)=>{"use strict";var i=n(2109),r=n(1702),o=n(9662),s=n(7908),a=n(6244),l=n(1340),c=n(7293),u=n(4362),h=n(9341),d=n(8886),p=n(256),f=n(7392),m=n(8008),g=[],v=r(g.sort),y=r(g.push),b=c((function(){g.sort(void 0)})),w=c((function(){g.sort(null)})),_=h("sort"),x=!c((function(){if(f)return f<70;if(!(d&&d>3)){if(p)return!0;if(m)return m<603;var e,t,n,i,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)g.push({k:t+i,v:n})}for(g.sort((function(e,t){return t.v-e.v})),i=0;i<g.length;i++)t=g[i].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));i({target:"Array",proto:!0,forced:b||!w||!_||!x},{sort:function(e){void 0!==e&&o(e);var t=s(this);if(x)return void 0===e?v(t):v(t,e);var n,i,r=[],c=a(t);for(i=0;i<c;i++)i in t&&y(r,t[i]);for(u(r,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:l(t)>l(n)?1:-1}}(e)),n=r.length,i=0;i<n;)t[i]=r[i++];for(;i<c;)delete t[i++];return t}})},561:(e,t,n)=>{"use strict";var i=n(2109),r=n(7854),o=n(1400),s=n(9303),a=n(6244),l=n(7908),c=n(5417),u=n(6135),h=n(1194)("splice"),d=r.TypeError,p=Math.max,f=Math.min,m=9007199254740991,g="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,i,r,h,v,y,b=l(this),w=a(b),_=o(e,w),x=arguments.length;if(0===x?n=i=0:1===x?(n=0,i=w-_):(n=x-2,i=f(p(s(t),0),w-_)),w+n-i>m)throw d(g);for(r=c(b,i),h=0;h<i;h++)(v=_+h)in b&&u(r,h,b[v]);if(r.length=i,n<i){for(h=_;h<w-i;h++)y=h+n,(v=h+i)in b?b[y]=b[v]:delete b[y];for(h=w;h>w-i+n;h--)delete b[h-1]}else if(n>i)for(h=w-i;h>_;h--)y=h+n-1,(v=h+i-1)in b?b[y]=b[v]:delete b[y];for(h=0;h<n;h++)b[h+_]=arguments[h+2];return b.length=w-i+n,r}})},3792:(e,t,n)=>{n(1223)("flat")},8733:(e,t,n)=>{var i=n(2109),r=n(5573);i({target:"Date",proto:!0,forced:Date.prototype.toISOString!==r},{toISOString:r})},3710:(e,t,n)=>{var i=n(1702),r=n(8052),o=Date.prototype,s="Invalid Date",a=i(o.toString),l=i(o.getTime);String(new Date(NaN))!=s&&r(o,"toString",(function(){var e=l(this);return e==e?a(this):s}))},8309:(e,t,n)=>{var i=n(9781),r=n(6530).EXISTS,o=n(1702),s=n(3070).f,a=Function.prototype,l=o(a.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=o(c.exec);i&&!r&&s(a,"name",{configurable:!0,get:function(){try{return u(c,l(this))[1]}catch(e){return""}}})},8862:(e,t,n)=>{var i=n(2109),r=n(5005),o=n(2104),s=n(6916),a=n(1702),l=n(7293),c=n(3157),u=n(614),h=n(111),d=n(2190),p=n(206),f=n(133),m=r("JSON","stringify"),g=a(/./.exec),v=a("".charAt),y=a("".charCodeAt),b=a("".replace),w=a(1..toString),_=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,k=/^[\uDC00-\uDFFF]$/,C=!f||l((function(){var e=r("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),S=l((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),A=function(e,t){var n=p(arguments),i=t;if((h(t)||void 0!==e)&&!d(e))return c(t)||(t=function(e,t){if(u(i)&&(t=s(i,this,e,t)),!d(t))return t}),n[1]=t,o(m,null,n)},T=function(e,t,n){var i=v(n,t-1),r=v(n,t+1);return g(x,e)&&!g(k,r)||g(k,e)&&!g(x,i)?"\\u"+w(y(e,0),16):e};m&&i({target:"JSON",stat:!0,arity:3,forced:C||S},{stringify:function(e,t,n){var i=p(arguments),r=o(C?A:m,null,i);return S&&"string"==typeof r?b(r,_,T):r}})},3706:(e,t,n)=>{var i=n(7854);n(8003)(i.JSON,"JSON",!0)},9098:(e,t,n)=>{"use strict";n(7710)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(5631))},1532:(e,t,n)=>{n(9098)},2703:(e,t,n)=>{n(8003)(Math,"Math",!0)},9653:(e,t,n)=>{"use strict";var i=n(9781),r=n(7854),o=n(1702),s=n(4705),a=n(8052),l=n(2597),c=n(9587),u=n(7976),h=n(2190),d=n(7593),p=n(7293),f=n(8006).f,m=n(1236).f,g=n(3070).f,v=n(863),y=n(3111).trim,b="Number",w=r.Number,_=w.prototype,x=r.TypeError,k=o("".slice),C=o("".charCodeAt),S=function(e){var t=d(e,"number");return"bigint"==typeof t?t:A(t)},A=function(e){var t,n,i,r,o,s,a,l,c=d(e,"number");if(h(c))throw x("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=y(c),43===(t=C(c,0))||45===t){if(88===(n=C(c,2))||120===n)return NaN}else if(48===t){switch(C(c,1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+c}for(s=(o=k(c,2)).length,a=0;a<s;a++)if((l=C(o,a))<48||l>r)return NaN;return parseInt(o,i)}return+c};if(s(b,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var T,O=function(e){var t=arguments.length<1?0:w(S(e)),n=this;return u(_,n)&&p((function(){v(n)}))?c(Object(t),n,O):t},L=i?f(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),E=0;L.length>E;E++)l(w,T=L[E])&&!l(O,T)&&g(O,T,m(w,T));O.prototype=_,_.constructor=O,a(r,b,O,{constructor:!0})}},9601:(e,t,n)=>{var i=n(2109),r=n(1574);i({target:"Object",stat:!0,arity:2,forced:Object.assign!==r},{assign:r})},8011:(e,t,n)=>{n(2109)({target:"Object",stat:!0,sham:!n(9781)},{create:n(30)})},3321:(e,t,n)=>{var i=n(2109),r=n(9781),o=n(6048).f;i({target:"Object",stat:!0,forced:Object.defineProperties!==o,sham:!r},{defineProperties:o})},9070:(e,t,n)=>{var i=n(2109),r=n(9781),o=n(3070).f;i({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!r},{defineProperty:o})},9720:(e,t,n)=>{var i=n(2109),r=n(4699).entries;i({target:"Object",stat:!0},{entries:function(e){return r(e)}})},8559:(e,t,n)=>{var i=n(2109),r=n(408),o=n(6135);i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},5003:(e,t,n)=>{var i=n(2109),r=n(7293),o=n(5656),s=n(1236).f,a=n(9781),l=r((function(){s(1)}));i({target:"Object",stat:!0,forced:!a||l,sham:!a},{getOwnPropertyDescriptor:function(e,t){return s(o(e),t)}})},9337:(e,t,n)=>{var i=n(2109),r=n(9781),o=n(3887),s=n(5656),a=n(1236),l=n(6135);i({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var t,n,i=s(e),r=a.f,c=o(i),u={},h=0;c.length>h;)void 0!==(n=r(i,t=c[h++]))&&l(u,t,n);return u}})},9660:(e,t,n)=>{var i=n(2109),r=n(133),o=n(7293),s=n(5181),a=n(7908);i({target:"Object",stat:!0,forced:!r||o((function(){s.f(1)}))},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(a(e)):[]}})},489:(e,t,n)=>{var i=n(2109),r=n(7293),o=n(7908),s=n(9518),a=n(8544);i({target:"Object",stat:!0,forced:r((function(){s(1)})),sham:!a},{getPrototypeOf:function(e){return s(o(e))}})},7941:(e,t,n)=>{var i=n(2109),r=n(7908),o=n(1956);i({target:"Object",stat:!0,forced:n(7293)((function(){o(1)}))},{keys:function(e){return o(r(e))}})},8304:(e,t,n)=>{n(2109)({target:"Object",stat:!0},{setPrototypeOf:n(7674)})},1539:(e,t,n)=>{var i=n(1694),r=n(8052),o=n(288);i||r(Object.prototype,"toString",o,{unsafe:!0})},2479:(e,t,n)=>{var i=n(2109),r=n(4699).values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},4678:(e,t,n)=>{var i=n(2109),r=n(2814);i({global:!0,forced:parseFloat!=r},{parseFloat:r})},1058:(e,t,n)=>{var i=n(2109),r=n(3009);i({global:!0,forced:parseInt!=r},{parseInt:r})},821:(e,t,n)=>{"use strict";var i=n(2109),r=n(6916),o=n(9662),s=n(8523),a=n(2534),l=n(408);i({target:"Promise",stat:!0,forced:n(612)},{all:function(e){var t=this,n=s.f(t),i=n.resolve,c=n.reject,u=a((function(){var n=o(t.resolve),s=[],a=0,u=1;l(e,(function(e){var o=a++,l=!1;u++,r(n,t,e).then((function(e){l||(l=!0,s[o]=e,--u||i(s))}),c)})),--u||i(s)}));return u.error&&c(u.value),n.promise}})},4164:(e,t,n)=>{"use strict";var i=n(2109),r=n(1913),o=n(3702).CONSTRUCTOR,s=n(2492),a=n(5005),l=n(614),c=n(8052),u=s&&s.prototype;if(i({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!r&&l(s)){var h=a("Promise").prototype.catch;u.catch!==h&&c(u,"catch",h,{unsafe:!0})}},3401:(e,t,n)=>{"use strict";var i,r,o,s=n(2109),a=n(1913),l=n(5268),c=n(7854),u=n(6916),h=n(8052),d=n(7674),p=n(8003),f=n(6340),m=n(9662),g=n(614),v=n(111),y=n(5787),b=n(6707),w=n(261).set,_=n(5948),x=n(842),k=n(2534),C=n(8572),S=n(9909),A=n(2492),T=n(3702),O=n(8523),L="Promise",E=T.CONSTRUCTOR,D=T.REJECTION_EVENT,P=T.SUBCLASSING,M=S.getterFor(L),$=S.set,R=A&&A.prototype,I=A,F=R,j=c.TypeError,N=c.document,z=c.process,q=O.f,V=q,B=!!(N&&N.createEvent&&c.dispatchEvent),W="unhandledrejection",U=function(e){var t;return!(!v(e)||!g(t=e.then))&&t},H=function(e,t){var n,i,r,o=t.value,s=1==t.state,a=s?e.ok:e.fail,l=e.resolve,c=e.reject,h=e.domain;try{a?(s||(2===t.rejection&&Q(t),t.rejection=1),!0===a?n=o:(h&&h.enter(),n=a(o),h&&(h.exit(),r=!0)),n===e.promise?c(j("Promise-chain cycle")):(i=U(n))?u(i,n,l,c):l(n)):c(o)}catch(e){h&&!r&&h.exit(),c(e)}},Z=function(e,t){e.notified||(e.notified=!0,_((function(){for(var n,i=e.reactions;n=i.get();)H(n,e);e.notified=!1,t&&!e.rejection&&G(e)})))},K=function(e,t,n){var i,r;B?((i=N.createEvent("Event")).promise=t,i.reason=n,i.initEvent(e,!1,!0),c.dispatchEvent(i)):i={promise:t,reason:n},!D&&(r=c["on"+e])?r(i):e===W&&x("Unhandled promise rejection",n)},G=function(e){u(w,c,(function(){var t,n=e.facade,i=e.value;if(Y(e)&&(t=k((function(){l?z.emit("unhandledRejection",i,n):K(W,n,i)})),e.rejection=l||Y(e)?2:1,t.error))throw t.value}))},Y=function(e){return 1!==e.rejection&&!e.parent},Q=function(e){u(w,c,(function(){var t=e.facade;l?z.emit("rejectionHandled",t):K("rejectionhandled",t,e.value)}))},J=function(e,t,n){return function(i){e(t,i,n)}},X=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Z(e,!0))},ee=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw j("Promise can't be resolved itself");var i=U(t);i?_((function(){var n={done:!1};try{u(i,t,J(ee,n,e),J(X,n,e))}catch(t){X(n,t,e)}})):(e.value=t,e.state=1,Z(e,!1))}catch(t){X({done:!1},t,e)}}};if(E&&(F=(I=function(e){y(this,F),m(e),u(i,this);var t=M(this);try{e(J(ee,t),J(X,t))}catch(e){X(t,e)}}).prototype,(i=function(e){$(this,{type:L,done:!1,notified:!1,parent:!1,reactions:new C,rejection:!1,state:0,value:void 0})}).prototype=h(F,"then",(function(e,t){var n=M(this),i=q(b(this,I));return n.parent=!0,i.ok=!g(e)||e,i.fail=g(t)&&t,i.domain=l?z.domain:void 0,0==n.state?n.reactions.add(i):_((function(){H(i,n)})),i.promise})),r=function(){var e=new i,t=M(e);this.promise=e,this.resolve=J(ee,t),this.reject=J(X,t)},O.f=q=function(e){return e===I||void 0===e?new r(e):V(e)},!a&&g(A)&&R!==Object.prototype)){o=R.then,P||h(R,"then",(function(e,t){var n=this;return new I((function(e,t){u(o,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete R.constructor}catch(e){}d&&d(R,F)}s({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:I}),p(I,L,!1,!0),f(L)},7727:(e,t,n)=>{"use strict";var i=n(2109),r=n(1913),o=n(2492),s=n(7293),a=n(5005),l=n(614),c=n(6707),u=n(9478),h=n(8052),d=o&&o.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!o&&s((function(){d.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,a("Promise")),n=l(e);return this.then(n?function(n){return u(t,e()).then((function(){return n}))}:e,n?function(n){return u(t,e()).then((function(){throw n}))}:e)}}),!r&&l(o)){var p=a("Promise").prototype.finally;d.finally!==p&&h(d,"finally",p,{unsafe:!0})}},8674:(e,t,n)=>{n(3401),n(821),n(4164),n(6027),n(683),n(6294)},6027:(e,t,n)=>{"use strict";var i=n(2109),r=n(6916),o=n(9662),s=n(8523),a=n(2534),l=n(408);i({target:"Promise",stat:!0,forced:n(612)},{race:function(e){var t=this,n=s.f(t),i=n.reject,c=a((function(){var s=o(t.resolve);l(e,(function(e){r(s,t,e).then(n.resolve,i)}))}));return c.error&&i(c.value),n.promise}})},683:(e,t,n)=>{"use strict";var i=n(2109),r=n(6916),o=n(8523);i({target:"Promise",stat:!0,forced:n(3702).CONSTRUCTOR},{reject:function(e){var t=o.f(this);return r(t.reject,void 0,e),t.promise}})},6294:(e,t,n)=>{"use strict";var i=n(2109),r=n(5005),o=n(1913),s=n(2492),a=n(3702).CONSTRUCTOR,l=n(9478),c=r("Promise"),u=o&&!a;i({target:"Promise",stat:!0,forced:o||a},{resolve:function(e){return l(u&&this===c?s:this,e)}})},4603:(e,t,n)=>{var i=n(9781),r=n(7854),o=n(1702),s=n(4705),a=n(9587),l=n(8880),c=n(8006).f,u=n(7976),h=n(7850),d=n(1340),p=n(4706),f=n(2999),m=n(2626),g=n(8052),v=n(7293),y=n(2597),b=n(9909).enforce,w=n(6340),_=n(5112),x=n(9441),k=n(7168),C=_("match"),S=r.RegExp,A=S.prototype,T=r.SyntaxError,O=o(A.exec),L=o("".charAt),E=o("".replace),D=o("".indexOf),P=o("".slice),M=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,$=/a/g,R=/a/g,I=new S($)!==$,F=f.MISSED_STICKY,j=f.UNSUPPORTED_Y;if(s("RegExp",i&&(!I||F||x||k||v((function(){return R[C]=!1,S($)!=$||S(R)==R||"/a/i"!=S($,"i")}))))){for(var N=function(e,t){var n,i,r,o,s,c,f=u(A,this),m=h(e),g=void 0===t,v=[],w=e;if(!f&&m&&g&&e.constructor===N)return e;if((m||u(A,e))&&(e=e.source,g&&(t=p(w))),e=void 0===e?"":d(e),t=void 0===t?"":d(t),w=e,x&&"dotAll"in $&&(i=!!t&&D(t,"s")>-1)&&(t=E(t,/s/g,"")),n=t,F&&"sticky"in $&&(r=!!t&&D(t,"y")>-1)&&j&&(t=E(t,/y/g,"")),k&&(o=function(e){for(var t,n=e.length,i=0,r="",o=[],s={},a=!1,l=!1,c=0,u="";i<=n;i++){if("\\"===(t=L(e,i)))t+=L(e,++i);else if("]"===t)a=!1;else if(!a)switch(!0){case"["===t:a=!0;break;case"("===t:O(M,P(e,i+1))&&(i+=2,l=!0),r+=t,c++;continue;case">"===t&&l:if(""===u||y(s,u))throw new T("Invalid capture group name");s[u]=!0,o[o.length]=[u,c],l=!1,u="";continue}l?u+=t:r+=t}return[r,o]}(e),e=o[0],v=o[1]),s=a(S(e,t),f?this:A,N),(i||r||v.length)&&(c=b(s),i&&(c.dotAll=!0,c.raw=N(function(e){for(var t,n=e.length,i=0,r="",o=!1;i<=n;i++)"\\"!==(t=L(e,i))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),r+=t):r+="[\\s\\S]":r+=t+L(e,++i);return r}(e),n)),r&&(c.sticky=!0),v.length&&(c.groups=v)),e!==w)try{l(s,"source",""===w?"(?:)":w)}catch(e){}return s},z=c(S),q=0;z.length>q;)m(N,S,z[q++]);A.constructor=N,N.prototype=A,g(r,"RegExp",N,{constructor:!0})}w("RegExp")},4916:(e,t,n)=>{"use strict";var i=n(2109),r=n(2261);i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},9714:(e,t,n)=>{"use strict";var i=n(6530).PROPER,r=n(8052),o=n(9670),s=n(1340),a=n(7293),l=n(4706),c="toString",u=RegExp.prototype.toString,h=a((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=i&&u.name!=c;(h||d)&&r(RegExp.prototype,c,(function(){var e=o(this);return"/"+s(e.source)+"/"+s(l(e))}),{unsafe:!0})},7227:(e,t,n)=>{"use strict";n(7710)("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(5631))},189:(e,t,n)=>{n(7227)},7852:(e,t,n)=>{"use strict";var i,r=n(2109),o=n(1702),s=n(1236).f,a=n(7466),l=n(1340),c=n(3929),u=n(4488),h=n(4964),d=n(1913),p=o("".endsWith),f=o("".slice),m=Math.min,g=h("endsWith");r({target:"String",proto:!0,forced:!(!d&&!g&&(i=s(String.prototype,"endsWith"),i&&!i.writable)||g)},{endsWith:function(e){var t=l(u(this));c(e);var n=arguments.length>1?arguments[1]:void 0,i=t.length,r=void 0===n?i:m(a(n),i),o=l(e);return p?p(t,o,r):f(t,r-o.length,r)===o}})},2023:(e,t,n)=>{"use strict";var i=n(2109),r=n(1702),o=n(3929),s=n(4488),a=n(1340),l=n(4964),c=r("".indexOf);i({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~c(a(s(this)),a(o(e)),arguments.length>1?arguments[1]:void 0)}})},8783:(e,t,n)=>{"use strict";var i=n(8710).charAt,r=n(1340),o=n(9909),s=n(654),a="String Iterator",l=o.set,c=o.getterFor(a);s(String,"String",(function(e){l(this,{type:a,string:r(e),index:0})}),(function(){var e,t=c(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=i(n,r),t.index+=e.length,{value:e,done:!1})}))},9254:(e,t,n)=>{"use strict";var i=n(2109),r=n(4230);i({target:"String",proto:!0,forced:n(3429)("link")},{link:function(e){return r(this,"a","href",e)}})},4723:(e,t,n)=>{"use strict";var i=n(6916),r=n(7007),o=n(9670),s=n(7466),a=n(1340),l=n(4488),c=n(8173),u=n(1530),h=n(7651);r("match",(function(e,t,n){return[function(t){var n=l(this),r=null==t?void 0:c(t,e);return r?i(r,t,n):new RegExp(t)[e](a(n))},function(e){var i=o(this),r=a(e),l=n(t,i,r);if(l.done)return l.value;if(!i.global)return h(i,r);var c=i.unicode;i.lastIndex=0;for(var d,p=[],f=0;null!==(d=h(i,r));){var m=a(d[0]);p[f]=m,""===m&&(i.lastIndex=u(r,s(i.lastIndex),c)),f++}return 0===f?null:p}]}))},5306:(e,t,n)=>{"use strict";var i=n(2104),r=n(6916),o=n(1702),s=n(7007),a=n(7293),l=n(9670),c=n(614),u=n(9303),h=n(7466),d=n(1340),p=n(4488),f=n(1530),m=n(8173),g=n(647),v=n(7651),y=n(5112)("replace"),b=Math.max,w=Math.min,_=o([].concat),x=o([].push),k=o("".indexOf),C=o("".slice),S="$0"==="a".replace(/./,"$0"),A=!!/./[y]&&""===/./[y]("a","$0");s("replace",(function(e,t,n){var o=A?"$":"$0";return[function(e,n){var i=p(this),o=null==e?void 0:m(e,y);return o?r(o,e,i,n):r(t,d(i),e,n)},function(e,r){var s=l(this),a=d(e);if("string"==typeof r&&-1===k(r,o)&&-1===k(r,"$<")){var p=n(t,s,a,r);if(p.done)return p.value}var m=c(r);m||(r=d(r));var y=s.global;if(y){var S=s.unicode;s.lastIndex=0}for(var A=[];;){var T=v(s,a);if(null===T)break;if(x(A,T),!y)break;""===d(T[0])&&(s.lastIndex=f(a,h(s.lastIndex),S))}for(var O,L="",E=0,D=0;D<A.length;D++){for(var P=d((T=A[D])[0]),M=b(w(u(T.index),a.length),0),$=[],R=1;R<T.length;R++)x($,void 0===(O=T[R])?O:String(O));var I=T.groups;if(m){var F=_([P],$,M,a);void 0!==I&&x(F,I);var j=d(i(r,void 0,F))}else j=g(P,a,M,$,I,r);M>=E&&(L+=C(a,E,M)+j,E=M+P.length)}return L+C(a,E)}]}),!!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!S||A)},4765:(e,t,n)=>{"use strict";var i=n(6916),r=n(7007),o=n(9670),s=n(4488),a=n(1150),l=n(1340),c=n(8173),u=n(7651);r("search",(function(e,t,n){return[function(t){var n=s(this),r=null==t?void 0:c(t,e);return r?i(r,t,n):new RegExp(t)[e](l(n))},function(e){var i=o(this),r=l(e),s=n(t,i,r);if(s.done)return s.value;var c=i.lastIndex;a(c,0)||(i.lastIndex=0);var h=u(i,r);return a(i.lastIndex,c)||(i.lastIndex=c),null===h?-1:h.index}]}))},3123:(e,t,n)=>{"use strict";var i=n(2104),r=n(6916),o=n(1702),s=n(7007),a=n(7850),l=n(9670),c=n(4488),u=n(6707),h=n(1530),d=n(7466),p=n(1340),f=n(8173),m=n(1589),g=n(7651),v=n(2261),y=n(2999),b=n(7293),w=y.UNSUPPORTED_Y,_=4294967295,x=Math.min,k=[].push,C=o(/./.exec),S=o(k),A=o("".slice);s("split",(function(e,t,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=p(c(this)),s=void 0===n?_:n>>>0;if(0===s)return[];if(void 0===e)return[o];if(!a(e))return r(t,o,e,s);for(var l,u,h,d=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,y=new RegExp(e.source,f+"g");(l=r(v,y,o))&&!((u=y.lastIndex)>g&&(S(d,A(o,g,l.index)),l.length>1&&l.index<o.length&&i(k,d,m(l,1)),h=l[0].length,g=u,d.length>=s));)y.lastIndex===l.index&&y.lastIndex++;return g===o.length?!h&&C(y,"")||S(d,""):S(d,A(o,g)),d.length>s?m(d,0,s):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:r(t,this,e,n)}:t,[function(t,n){var i=c(this),s=null==t?void 0:f(t,e);return s?r(s,t,i,n):r(o,p(i),t,n)},function(e,i){var r=l(this),s=p(e),a=n(o,r,s,i,o!==t);if(a.done)return a.value;var c=u(r,RegExp),f=r.unicode,m=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(w?"g":"y"),v=new c(w?"^(?:"+r.source+")":r,m),y=void 0===i?_:i>>>0;if(0===y)return[];if(0===s.length)return null===g(v,s)?[s]:[];for(var b=0,k=0,C=[];k<s.length;){v.lastIndex=w?0:k;var T,O=g(v,w?A(s,k):s);if(null===O||(T=x(d(v.lastIndex+(w?k:0)),s.length))===b)k=h(s,k,f);else{if(S(C,A(s,b,k)),C.length===y)return C;for(var L=1;L<=O.length-1;L++)if(S(C,O[L]),C.length===y)return C;k=b=T}}return S(C,A(s,b)),C}]}),!!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]})),w)},6755:(e,t,n)=>{"use strict";var i,r=n(2109),o=n(1702),s=n(1236).f,a=n(7466),l=n(1340),c=n(3929),u=n(4488),h=n(4964),d=n(1913),p=o("".startsWith),f=o("".slice),m=Math.min,g=h("startsWith");r({target:"String",proto:!0,forced:!(!d&&!g&&(i=s(String.prototype,"startsWith"),i&&!i.writable)||g)},{startsWith:function(e){var t=l(u(this));c(e);var n=a(m(arguments.length>1?arguments[1]:void 0,t.length)),i=l(e);return p?p(t,i,n):f(t,n,n+i.length)===i}})},3210:(e,t,n)=>{"use strict";var i=n(2109),r=n(3111).trim;i({target:"String",proto:!0,forced:n(6091)("trim")},{trim:function(){return r(this)}})},2443:(e,t,n)=>{n(7235)("asyncIterator")},4032:(e,t,n)=>{"use strict";var i=n(2109),r=n(7854),o=n(6916),s=n(1702),a=n(1913),l=n(9781),c=n(133),u=n(7293),h=n(2597),d=n(7976),p=n(9670),f=n(5656),m=n(4948),g=n(1340),v=n(9114),y=n(30),b=n(1956),w=n(8006),_=n(1156),x=n(5181),k=n(1236),C=n(3070),S=n(6048),A=n(5296),T=n(8052),O=n(2309),L=n(6200),E=n(3501),D=n(9711),P=n(5112),M=n(6061),$=n(7235),R=n(6532),I=n(8003),F=n(9909),j=n(2092).forEach,N=L("hidden"),z="Symbol",q=F.set,V=F.getterFor(z),B=Object.prototype,W=r.Symbol,U=W&&W.prototype,H=r.TypeError,Z=r.QObject,K=k.f,G=C.f,Y=_.f,Q=A.f,J=s([].push),X=O("symbols"),ee=O("op-symbols"),te=O("wks"),ne=!Z||!Z.prototype||!Z.prototype.findChild,ie=l&&u((function(){return 7!=y(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a}))?function(e,t,n){var i=K(B,t);i&&delete B[t],G(e,t,n),i&&e!==B&&G(B,t,i)}:G,re=function(e,t){var n=X[e]=y(U);return q(n,{type:z,tag:e,description:t}),l||(n.description=t),n},oe=function(e,t,n){e===B&&oe(ee,t,n),p(e);var i=m(t);return p(n),h(X,i)?(n.enumerable?(h(e,N)&&e[N][i]&&(e[N][i]=!1),n=y(n,{enumerable:v(0,!1)})):(h(e,N)||G(e,N,v(1,{})),e[N][i]=!0),ie(e,i,n)):G(e,i,n)},se=function(e,t){p(e);var n=f(t),i=b(n).concat(ue(n));return j(i,(function(t){l&&!o(ae,n,t)||oe(e,t,n[t])})),e},ae=function(e){var t=m(e),n=o(Q,this,t);return!(this===B&&h(X,t)&&!h(ee,t))&&(!(n||!h(this,t)||!h(X,t)||h(this,N)&&this[N][t])||n)},le=function(e,t){var n=f(e),i=m(t);if(n!==B||!h(X,i)||h(ee,i)){var r=K(n,i);return!r||!h(X,i)||h(n,N)&&n[N][i]||(r.enumerable=!0),r}},ce=function(e){var t=Y(f(e)),n=[];return j(t,(function(e){h(X,e)||h(E,e)||J(n,e)})),n},ue=function(e){var t=e===B,n=Y(t?ee:f(e)),i=[];return j(n,(function(e){!h(X,e)||t&&!h(B,e)||J(i,X[e])})),i};c||(T(U=(W=function(){if(d(U,this))throw H("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=D(e),n=function(e){this===B&&o(n,ee,e),h(this,N)&&h(this[N],t)&&(this[N][t]=!1),ie(this,t,v(1,e))};return l&&ne&&ie(B,t,{configurable:!0,set:n}),re(t,e)}).prototype,"toString",(function(){return V(this).tag})),T(W,"withoutSetter",(function(e){return re(D(e),e)})),A.f=ae,C.f=oe,S.f=se,k.f=le,w.f=_.f=ce,x.f=ue,M.f=function(e){return re(P(e),e)},l&&(G(U,"description",{configurable:!0,get:function(){return V(this).description}}),a||T(B,"propertyIsEnumerable",ae,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!c,sham:!c},{Symbol:W}),j(b(te),(function(e){$(e)})),i({target:z,stat:!0,forced:!c},{useSetter:function(){ne=!0},useSimple:function(){ne=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!l},{create:function(e,t){return void 0===t?y(e):se(y(e),t)},defineProperty:oe,defineProperties:se,getOwnPropertyDescriptor:le}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ce}),R(),I(W,z),E[N]=!0},1817:(e,t,n)=>{"use strict";var i=n(2109),r=n(9781),o=n(7854),s=n(1702),a=n(2597),l=n(614),c=n(7976),u=n(1340),h=n(3070).f,d=n(9920),p=o.Symbol,f=p&&p.prototype;if(r&&l(p)&&(!("description"in f)||void 0!==p().description)){var m={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=c(f,this)?new p(e):void 0===e?p():p(e);return""===e&&(m[t]=!0),t};d(g,p),g.prototype=f,f.constructor=g;var v="Symbol(test)"==String(p("test")),y=s(f.toString),b=s(f.valueOf),w=/^Symbol\((.*)\)[^)]+$/,_=s("".replace),x=s("".slice);h(f,"description",{configurable:!0,get:function(){var e=b(this),t=y(e);if(a(m,e))return"";var n=v?x(t,7,-1):_(t,w,"$1");return""===n?void 0:n}}),i({global:!0,constructor:!0,forced:!0},{Symbol:g})}},763:(e,t,n)=>{var i=n(2109),r=n(5005),o=n(2597),s=n(1340),a=n(2309),l=n(735),c=a("string-to-symbol-registry"),u=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{for:function(e){var t=s(e);if(o(c,t))return c[t];var n=r("Symbol")(t);return c[t]=n,u[n]=t,n}})},2165:(e,t,n)=>{n(7235)("iterator")},2526:(e,t,n)=>{n(4032),n(763),n(6620),n(8862),n(9660)},6620:(e,t,n)=>{var i=n(2109),r=n(2597),o=n(2190),s=n(6330),a=n(2309),l=n(735),c=a("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!l},{keyFor:function(e){if(!o(e))throw TypeError(s(e)+" is not a symbol");if(r(c,e))return c[e]}})},3680:(e,t,n)=>{var i=n(5005),r=n(7235),o=n(8003);r("toStringTag"),o(i("Symbol"),"Symbol")},4747:(e,t,n)=>{var i=n(7854),r=n(8324),o=n(8509),s=n(8533),a=n(8880),l=function(e){if(e&&e.forEach!==s)try{a(e,"forEach",s)}catch(t){e.forEach=s}};for(var c in r)r[c]&&l(i[c]&&i[c].prototype);l(o)},3948:(e,t,n)=>{var i=n(7854),r=n(8324),o=n(8509),s=n(6992),a=n(8880),l=n(5112),c=l("iterator"),u=l("toStringTag"),h=s.values,d=function(e,t){if(e){if(e[c]!==h)try{a(e,c,h)}catch(t){e[c]=h}if(e[u]||a(e,u,t),r[t])for(var n in s)if(e[n]!==s[n])try{a(e,n,s[n])}catch(t){e[n]=s[n]}}};for(var p in r)d(i[p]&&i[p].prototype,p);d(o,"DOMTokenList")},6815:(e,t,n)=>{var i=n(2109),r=n(7854),o=n(7152).setInterval;i({global:!0,bind:!0,forced:r.setInterval!==o},{setInterval:o})},8417:(e,t,n)=>{var i=n(2109),r=n(7854),o=n(7152).setTimeout;i({global:!0,bind:!0,forced:r.setTimeout!==o},{setTimeout:o})},2564:(e,t,n)=>{n(6815),n(8417)},5556:(e,t,n)=>{"use strict";n(6992);var i=n(2109),r=n(7854),o=n(6916),s=n(1702),a=n(9781),l=n(590),c=n(8052),u=n(9190),h=n(8003),d=n(4994),p=n(9909),f=n(5787),m=n(614),g=n(2597),v=n(9974),y=n(648),b=n(9670),w=n(111),_=n(1340),x=n(30),k=n(9114),C=n(8554),S=n(1246),A=n(8053),T=n(5112),O=n(4362),L=T("iterator"),E="URLSearchParams",D="URLSearchParamsIterator",P=p.set,M=p.getterFor(E),$=p.getterFor(D),R=Object.getOwnPropertyDescriptor,I=function(e){if(!a)return r[e];var t=R(r,e);return t&&t.value},F=I("fetch"),j=I("Request"),N=I("Headers"),z=j&&j.prototype,q=N&&N.prototype,V=r.RegExp,B=r.TypeError,W=r.decodeURIComponent,U=r.encodeURIComponent,H=s("".charAt),Z=s([].join),K=s([].push),G=s("".replace),Y=s([].shift),Q=s([].splice),J=s("".split),X=s("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=V("((?:%[\\da-f]{2}){"+e+"})","gi"))},ie=function(e){try{return W(e)}catch(t){return e}},re=function(e){var t=G(e,ee," "),n=4;try{return W(t)}catch(e){for(;n;)t=G(t,ne(n--),ie);return t}},oe=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ae=function(e){return se[e]},le=function(e){return G(U(e),oe,ae)},ce=d((function(e,t){P(this,{type:D,iterator:C(M(e).entries),kind:t})}),"Iterator",(function(){var e=$(this),t=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value="keys"===t?i.key:"values"===t?i.value:[i.key,i.value]),n}),!0),ue=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===H(e,0)?X(e,1):e:_(e)))};ue.prototype={type:E,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,i,r,s,a,l,c=S(e);if(c)for(n=(t=C(e,c)).next;!(i=o(n,t)).done;){if(s=(r=C(b(i.value))).next,(a=o(s,r)).done||(l=o(s,r)).done||!o(s,r).done)throw B("Expected sequence with length 2");K(this.entries,{key:_(a.value),value:_(l.value)})}else for(var u in e)g(e,u)&&K(this.entries,{key:u,value:_(e[u])})},parseQuery:function(e){if(e)for(var t,n,i=J(e,"&"),r=0;r<i.length;)(t=i[r++]).length&&(n=J(t,"="),K(this.entries,{key:re(Y(n)),value:re(Z(n,"="))}))},serialize:function(){for(var e,t=this.entries,n=[],i=0;i<t.length;)e=t[i++],K(n,le(e.key)+"="+le(e.value));return Z(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){f(this,de);var e=arguments.length>0?arguments[0]:void 0;P(this,new ue(e))},de=he.prototype;if(u(de,{append:function(e,t){A(arguments.length,2);var n=M(this);K(n.entries,{key:_(e),value:_(t)}),n.updateURL()},delete:function(e){A(arguments.length,1);for(var t=M(this),n=t.entries,i=_(e),r=0;r<n.length;)n[r].key===i?Q(n,r,1):r++;t.updateURL()},get:function(e){A(arguments.length,1);for(var t=M(this).entries,n=_(e),i=0;i<t.length;i++)if(t[i].key===n)return t[i].value;return null},getAll:function(e){A(arguments.length,1);for(var t=M(this).entries,n=_(e),i=[],r=0;r<t.length;r++)t[r].key===n&&K(i,t[r].value);return i},has:function(e){A(arguments.length,1);for(var t=M(this).entries,n=_(e),i=0;i<t.length;)if(t[i++].key===n)return!0;return!1},set:function(e,t){A(arguments.length,1);for(var n,i=M(this),r=i.entries,o=!1,s=_(e),a=_(t),l=0;l<r.length;l++)(n=r[l]).key===s&&(o?Q(r,l--,1):(o=!0,n.value=a));o||K(r,{key:s,value:a}),i.updateURL()},sort:function(){var e=M(this);O(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=M(this).entries,i=v(e,arguments.length>1?arguments[1]:void 0),r=0;r<n.length;)i((t=n[r++]).value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(de,L,de.entries,{name:"entries"}),c(de,"toString",(function(){return M(this).serialize()}),{enumerable:!0}),h(he,E),i({global:!0,constructor:!0,forced:!l},{URLSearchParams:he}),!l&&m(N)){var pe=s(q.has),fe=s(q.set),me=function(e){if(w(e)){var t,n=e.body;if(y(n)===E)return t=e.headers?new N(e.headers):new N,pe(t,"content-type")||fe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),x(e,{body:k(0,_(n)),headers:k(0,t)})}return e};if(m(F)&&i({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return F(e,arguments.length>1?me(arguments[1]):{})}}),m(j)){var ge=function(e){return f(this,z),new j(e,arguments.length>1?me(arguments[1]):{})};z.constructor=ge,ge.prototype=z,i({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ge})}}e.exports={URLSearchParams:he,getState:M}},1637:(e,t,n)=>{n(5556)},8789:(e,t,n)=>{"use strict";n(8783);var i,r=n(2109),o=n(9781),s=n(590),a=n(7854),l=n(9974),c=n(1702),u=n(8052),h=n(7045),d=n(5787),p=n(2597),f=n(1574),m=n(8457),g=n(1589),v=n(8710).codeAt,y=n(3197),b=n(1340),w=n(8003),_=n(8053),x=n(5556),k=n(9909),C=k.set,S=k.getterFor("URL"),A=x.URLSearchParams,T=x.getState,O=a.URL,L=a.TypeError,E=a.parseInt,D=Math.floor,P=Math.pow,M=c("".charAt),$=c(/./.exec),R=c([].join),I=c(1..toString),F=c([].pop),j=c([].push),N=c("".replace),z=c([].shift),q=c("".split),V=c("".slice),B=c("".toLowerCase),W=c([].unshift),U="Invalid scheme",H="Invalid host",Z="Invalid port",K=/[a-z]/i,G=/[\d+-.a-z]/i,Y=/\d/,Q=/^0x/i,J=/^[0-7]+$/,X=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,ie=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,re=/[\t\n\r]/g,oe=function(e){var t,n,i,r;if("number"==typeof e){for(t=[],n=0;n<4;n++)W(t,e%256),e=D(e/256);return R(t,".")}if("object"==typeof e){for(t="",i=function(e){for(var t=null,n=1,i=null,r=0,o=0;o<8;o++)0!==e[o]?(r>n&&(t=i,n=r),i=null,r=0):(null===i&&(i=o),++r);return r>n&&(t=i,n=r),t}(e),n=0;n<8;n++)r&&0===e[n]||(r&&(r=!1),i===n?(t+=n?":":"::",r=!0):(t+=I(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},se={},ae=f({},se,{" ":1,'"':1,"<":1,">":1,"`":1}),le=f({},ae,{"#":1,"?":1,"{":1,"}":1}),ce=f({},le,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ue=function(e,t){var n=v(e,0);return n>32&&n<127&&!p(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},de=function(e,t){var n;return 2==e.length&&$(K,M(e,0))&&(":"==(n=M(e,1))||!t&&"|"==n)},pe=function(e){var t;return e.length>1&&de(V(e,0,2))&&(2==e.length||"/"===(t=M(e,2))||"\\"===t||"?"===t||"#"===t)},fe=function(e){return"."===e||"%2e"===B(e)},me={},ge={},ve={},ye={},be={},we={},_e={},xe={},ke={},Ce={},Se={},Ae={},Te={},Oe={},Le={},Ee={},De={},Pe={},Me={},$e={},Re={},Ie=function(e,t,n){var i,r,o,s=b(e);if(t){if(r=this.parse(s))throw L(r);this.searchParams=null}else{if(void 0!==n&&(i=new Ie(n,!0)),r=this.parse(s,null,i))throw L(r);(o=T(new A)).bindURL(this),this.searchParams=o}};Ie.prototype={type:"URL",parse:function(e,t,n){var r,o,s,a,l,c=this,u=t||me,h=0,d="",f=!1,v=!1,y=!1;for(e=b(e),t||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=N(e,ie,"")),e=N(e,re,""),r=m(e);h<=r.length;){switch(o=r[h],u){case me:if(!o||!$(K,o)){if(t)return U;u=ve;continue}d+=B(o),u=ge;break;case ge:if(o&&($(G,o)||"+"==o||"-"==o||"."==o))d+=B(o);else{if(":"!=o){if(t)return U;d="",u=ve,h=0;continue}if(t&&(c.isSpecial()!=p(he,d)||"file"==d&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=d,t)return void(c.isSpecial()&&he[c.scheme]==c.port&&(c.port=null));d="","file"==c.scheme?u=Oe:c.isSpecial()&&n&&n.scheme==c.scheme?u=ye:c.isSpecial()?u=xe:"/"==r[h+1]?(u=be,h++):(c.cannotBeABaseURL=!0,j(c.path,""),u=Me)}break;case ve:if(!n||n.cannotBeABaseURL&&"#"!=o)return U;if(n.cannotBeABaseURL&&"#"==o){c.scheme=n.scheme,c.path=g(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,u=Re;break}u="file"==n.scheme?Oe:we;continue;case ye:if("/"!=o||"/"!=r[h+1]){u=we;continue}u=ke,h++;break;case be:if("/"==o){u=Ce;break}u=Pe;continue;case we:if(c.scheme=n.scheme,o==i)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query=n.query;else if("/"==o||"\\"==o&&c.isSpecial())u=_e;else if("?"==o)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query="",u=$e;else{if("#"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.path.length--,u=Pe;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=g(n.path),c.query=n.query,c.fragment="",u=Re}break;case _e:if(!c.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,u=Pe;continue}u=Ce}else u=ke;break;case xe:if(u=ke,"/"!=o||"/"!=M(d,h+1))continue;h++;break;case ke:if("/"!=o&&"\\"!=o){u=Ce;continue}break;case Ce:if("@"==o){f&&(d="%40"+d),f=!0,s=m(d);for(var w=0;w<s.length;w++){var _=s[w];if(":"!=_||y){var x=ue(_,ce);y?c.password+=x:c.username+=x}else y=!0}d=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(f&&""==d)return"Invalid authority";h-=m(d).length+1,d="",u=Se}else d+=o;break;case Se:case Ae:if(t&&"file"==c.scheme){u=Ee;continue}if(":"!=o||v){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(c.isSpecial()&&""==d)return H;if(t&&""==d&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(d))return a;if(d="",u=De,t)return;continue}"["==o?v=!0:"]"==o&&(v=!1),d+=o}else{if(""==d)return H;if(a=c.parseHost(d))return a;if(d="",u=Te,t==Ae)return}break;case Te:if(!$(Y,o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()||t){if(""!=d){var k=E(d,10);if(k>65535)return Z;c.port=c.isSpecial()&&k===he[c.scheme]?null:k,d=""}if(t)return;u=De;continue}return Z}d+=o;break;case Oe:if(c.scheme="file","/"==o||"\\"==o)u=Le;else{if(!n||"file"!=n.scheme){u=Pe;continue}if(o==i)c.host=n.host,c.path=g(n.path),c.query=n.query;else if("?"==o)c.host=n.host,c.path=g(n.path),c.query="",u=$e;else{if("#"!=o){pe(R(g(r,h),""))||(c.host=n.host,c.path=g(n.path),c.shortenPath()),u=Pe;continue}c.host=n.host,c.path=g(n.path),c.query=n.query,c.fragment="",u=Re}}break;case Le:if("/"==o||"\\"==o){u=Ee;break}n&&"file"==n.scheme&&!pe(R(g(r,h),""))&&(de(n.path[0],!0)?j(c.path,n.path[0]):c.host=n.host),u=Pe;continue;case Ee:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&de(d))u=Pe;else if(""==d){if(c.host="",t)return;u=De}else{if(a=c.parseHost(d))return a;if("localhost"==c.host&&(c.host=""),t)return;d="",u=De}continue}d+=o;break;case De:if(c.isSpecial()){if(u=Pe,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=i&&(u=Pe,"/"!=o))continue}else c.fragment="",u=Re;else c.query="",u=$e;break;case Pe:if(o==i||"/"==o||"\\"==o&&c.isSpecial()||!t&&("?"==o||"#"==o)){if(".."===(l=B(l=d))||"%2e."===l||".%2e"===l||"%2e%2e"===l?(c.shortenPath(),"/"==o||"\\"==o&&c.isSpecial()||j(c.path,"")):fe(d)?"/"==o||"\\"==o&&c.isSpecial()||j(c.path,""):("file"==c.scheme&&!c.path.length&&de(d)&&(c.host&&(c.host=""),d=M(d,0)+":"),j(c.path,d)),d="","file"==c.scheme&&(o==i||"?"==o||"#"==o))for(;c.path.length>1&&""===c.path[0];)z(c.path);"?"==o?(c.query="",u=$e):"#"==o&&(c.fragment="",u=Re)}else d+=ue(o,le);break;case Me:"?"==o?(c.query="",u=$e):"#"==o?(c.fragment="",u=Re):o!=i&&(c.path[0]+=ue(o,se));break;case $e:t||"#"!=o?o!=i&&("'"==o&&c.isSpecial()?c.query+="%27":c.query+="#"==o?"%23":ue(o,se)):(c.fragment="",u=Re);break;case Re:o!=i&&(c.fragment+=ue(o,ae))}h++}},parseHost:function(e){var t,n,i;if("["==M(e,0)){if("]"!=M(e,e.length-1))return H;if(t=function(e){var t,n,i,r,o,s,a,l=[0,0,0,0,0,0,0,0],c=0,u=null,h=0,d=function(){return M(e,h)};if(":"==d()){if(":"!=M(e,1))return;h+=2,u=++c}for(;d();){if(8==c)return;if(":"!=d()){for(t=n=0;n<4&&$(ee,d());)t=16*t+E(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,c>6)return;for(i=0;d();){if(r=null,i>0){if(!("."==d()&&i<4))return;h++}if(!$(Y,d()))return;for(;$(Y,d());){if(o=E(d(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;h++}l[c]=256*l[c]+r,2!=++i&&4!=i||c++}if(4!=i)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[c++]=t}else{if(null!==u)return;h++,u=++c}}if(null!==u)for(s=c-u,c=7;0!=c&&s>0;)a=l[c],l[c--]=l[u+s-1],l[u+--s]=a;else if(8!=c)return;return l}(V(e,1,-1)),!t)return H;this.host=t}else if(this.isSpecial()){if(e=y(e),$(te,e))return H;if(t=function(e){var t,n,i,r,o,s,a,l=q(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=[],i=0;i<t;i++){if(""==(r=l[i]))return e;if(o=10,r.length>1&&"0"==M(r,0)&&(o=$(Q,r)?16:8,r=V(r,8==o?1:2)),""===r)s=0;else{if(!$(10==o?X:8==o?J:ee,r))return e;s=E(r,o)}j(n,s)}for(i=0;i<t;i++)if(s=n[i],i==t-1){if(s>=P(256,5-t))return null}else if(s>255)return null;for(a=F(n),i=0;i<n.length;i++)a+=n[i]*P(256,3-i);return a}(e),null===t)return H;this.host=t}else{if($(ne,e))return H;for(t="",n=m(e),i=0;i<n.length;i++)t+=ue(n[i],se);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(he,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&de(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,i=e.password,r=e.host,o=e.port,s=e.path,a=e.query,l=e.fragment,c=t+":";return null!==r?(c+="//",e.includesCredentials()&&(c+=n+(i?":"+i:"")+"@"),c+=oe(r),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+R(s,"/"):"",null!==a&&(c+="?"+a),null!==l&&(c+="#"+l),c},setHref:function(e){var t=this.parse(e);if(t)throw L(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new Fe(e.path[0]).origin}catch(e){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",me)},getUsername:function(){return this.username},setUsername:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=ue(t[n],ce)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=ue(t[n],ce)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Se)},getHostname:function(){var e=this.host;return null===e?"":oe(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Ae)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,Te))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+R(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,De))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==M(e,0)&&(e=V(e,1)),this.query="",this.parse(e,$e)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){""!=(e=b(e))?("#"==M(e,0)&&(e=V(e,1)),this.fragment="",this.parse(e,Re)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Fe=function(e){var t=d(this,je),n=_(arguments.length,1)>1?arguments[1]:void 0,i=C(t,new Ie(e,!1,n));o||(t.href=i.serialize(),t.origin=i.getOrigin(),t.protocol=i.getProtocol(),t.username=i.getUsername(),t.password=i.getPassword(),t.host=i.getHost(),t.hostname=i.getHostname(),t.port=i.getPort(),t.pathname=i.getPathname(),t.search=i.getSearch(),t.searchParams=i.getSearchParams(),t.hash=i.getHash())},je=Fe.prototype,Ne=function(e,t){return{get:function(){return S(this)[e]()},set:t&&function(e){return S(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(h(je,"href",Ne("serialize","setHref")),h(je,"origin",Ne("getOrigin")),h(je,"protocol",Ne("getProtocol","setProtocol")),h(je,"username",Ne("getUsername","setUsername")),h(je,"password",Ne("getPassword","setPassword")),h(je,"host",Ne("getHost","setHost")),h(je,"hostname",Ne("getHostname","setHostname")),h(je,"port",Ne("getPort","setPort")),h(je,"pathname",Ne("getPathname","setPathname")),h(je,"search",Ne("getSearch","setSearch")),h(je,"searchParams",Ne("getSearchParams")),h(je,"hash",Ne("getHash","setHash"))),u(je,"toJSON",(function(){return S(this).serialize()}),{enumerable:!0}),u(je,"toString",(function(){return S(this).serialize()}),{enumerable:!0}),O){var ze=O.createObjectURL,qe=O.revokeObjectURL;ze&&u(Fe,"createObjectURL",l(ze,O)),qe&&u(Fe,"revokeObjectURL",l(qe,O))}w(Fe,"URL"),r({global:!0,constructor:!0,forced:!s,sham:!o},{URL:Fe})},285:(e,t,n)=>{n(8789)},9996:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function r(e,t,n){return e.concat(t).map((function(e){return i(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,n,l){(l=l||{}).arrayMerge=l.arrayMerge||r,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=i;var c=Array.isArray(n);return c===Array.isArray(e)?c?l.arrayMerge(e,n,l):function(e,t,n){var r={};return n.isMergeableObject(e)&&o(e).forEach((function(t){r[t]=i(e[t],n)})),o(t).forEach((function(o){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(s(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(o,n)(e[o],t[o],n):r[o]=i(t[o],n))})),r}(e,n,l):i(n,l)}a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})};var l=a;e.exports=l},7856:function(e){e.exports=function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,n){return t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(e,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function i(e,r,o){return i=n()?Reflect.construct:function(e,n,i){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(e,r));return i&&t(o,i.prototype),o},i.apply(null,arguments)}function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s=Object.hasOwnProperty,a=Object.setPrototypeOf,l=Object.isFrozen,c=Object.getPrototypeOf,u=Object.getOwnPropertyDescriptor,h=Object.freeze,d=Object.seal,p=Object.create,f="undefined"!=typeof Reflect&&Reflect,m=f.apply,g=f.construct;m||(m=function(e,t,n){return e.apply(t,n)}),h||(h=function(e){return e}),d||(d=function(e){return e}),g||(g=function(e,t){return i(e,r(t))});var v,y=O(Array.prototype.forEach),b=O(Array.prototype.pop),w=O(Array.prototype.push),_=O(String.prototype.toLowerCase),x=O(String.prototype.match),k=O(String.prototype.replace),C=O(String.prototype.indexOf),S=O(String.prototype.trim),A=O(RegExp.prototype.test),T=(v=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g(v,t)});function O(e){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return m(e,t,i)}}function L(e,t){a&&a(e,null);for(var n=t.length;n--;){var i=t[n];if("string"==typeof i){var r=_(i);r!==i&&(l(t)||(t[n]=r),i=r)}e[i]=!0}return e}function E(e){var t,n=p(null);for(t in e)m(s,e,[t])&&(n[t]=e[t]);return n}function D(e,t){for(;null!==e;){var n=u(e,t);if(n){if(n.get)return O(n.get);if("function"==typeof n.value)return O(n.value)}e=c(e)}return function(e){return console.warn("fallback value for",e),null}}var P=h(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),M=h(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$=h(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),R=h(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),I=h(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),F=h(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),j=h(["#text"]),N=h(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),z=h(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),q=h(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),V=h(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),B=d(/\{\{[\w\W]*|[\w\W]*\}\}/gm),W=d(/<%[\w\W]*|[\w\W]*%>/gm),U=d(/^data-[\-\w.\u00B7-\uFFFF]/),H=d(/^aria-[\-\w]+$/),Z=d(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),K=d(/^(?:\w+script|data):/i),G=d(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Y=d(/^html$/i),Q=function(){return"undefined"==typeof window?null:window},J=function(t,n){if("object"!==e(t)||"function"!=typeof t.createPolicy)return null;var i=null,r="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(r)&&(i=n.currentScript.getAttribute(r));var o="dompurify"+(i?"#"+i:"");try{return t.createPolicy(o,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};return function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q(),i=function(e){return t(e)};if(i.version="2.3.8",i.removed=[],!n||!n.document||9!==n.document.nodeType)return i.isSupported=!1,i;var o=n.document,s=n.document,a=n.DocumentFragment,l=n.HTMLTemplateElement,c=n.Node,u=n.Element,d=n.NodeFilter,p=n.NamedNodeMap,f=void 0===p?n.NamedNodeMap||n.MozNamedAttrMap:p,m=n.HTMLFormElement,g=n.DOMParser,v=n.trustedTypes,O=u.prototype,X=D(O,"cloneNode"),ee=D(O,"nextSibling"),te=D(O,"childNodes"),ne=D(O,"parentNode");if("function"==typeof l){var ie=s.createElement("template");ie.content&&ie.content.ownerDocument&&(s=ie.content.ownerDocument)}var re=J(v,o),oe=re?re.createHTML(""):"",se=s,ae=se.implementation,le=se.createNodeIterator,ce=se.createDocumentFragment,ue=se.getElementsByTagName,he=o.importNode,de={};try{de=E(s).documentMode?s.documentMode:{}}catch(e){}var pe={};i.isSupported="function"==typeof ne&&ae&&void 0!==ae.createHTMLDocument&&9!==de;var fe,me,ge=B,ve=W,ye=U,be=H,we=K,_e=G,xe=Z,ke=null,Ce=L({},[].concat(r(P),r(M),r($),r(I),r(j))),Se=null,Ae=L({},[].concat(r(N),r(z),r(q),r(V))),Te=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Oe=null,Le=null,Ee=!0,De=!0,Pe=!1,Me=!1,$e=!1,Re=!1,Ie=!1,Fe=!1,je=!1,Ne=!1,ze=!0,qe=!0,Ve=!1,Be={},We=null,Ue=L({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),He=null,Ze=L({},["audio","video","img","source","image","track"]),Ke=null,Ge=L({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ye="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",Je="http://www.w3.org/1999/xhtml",Xe=Je,et=!1,tt=["application/xhtml+xml","text/html"],nt="text/html",it=null,rt=s.createElement("form"),ot=function(e){return e instanceof RegExp||e instanceof Function},st=function(t){it&&it===t||(t&&"object"===e(t)||(t={}),t=E(t),ke="ALLOWED_TAGS"in t?L({},t.ALLOWED_TAGS):Ce,Se="ALLOWED_ATTR"in t?L({},t.ALLOWED_ATTR):Ae,Ke="ADD_URI_SAFE_ATTR"in t?L(E(Ge),t.ADD_URI_SAFE_ATTR):Ge,He="ADD_DATA_URI_TAGS"in t?L(E(Ze),t.ADD_DATA_URI_TAGS):Ze,We="FORBID_CONTENTS"in t?L({},t.FORBID_CONTENTS):Ue,Oe="FORBID_TAGS"in t?L({},t.FORBID_TAGS):{},Le="FORBID_ATTR"in t?L({},t.FORBID_ATTR):{},Be="USE_PROFILES"in t&&t.USE_PROFILES,Ee=!1!==t.ALLOW_ARIA_ATTR,De=!1!==t.ALLOW_DATA_ATTR,Pe=t.ALLOW_UNKNOWN_PROTOCOLS||!1,Me=t.SAFE_FOR_TEMPLATES||!1,$e=t.WHOLE_DOCUMENT||!1,Fe=t.RETURN_DOM||!1,je=t.RETURN_DOM_FRAGMENT||!1,Ne=t.RETURN_TRUSTED_TYPE||!1,Ie=t.FORCE_BODY||!1,ze=!1!==t.SANITIZE_DOM,qe=!1!==t.KEEP_CONTENT,Ve=t.IN_PLACE||!1,xe=t.ALLOWED_URI_REGEXP||xe,Xe=t.NAMESPACE||Je,t.CUSTOM_ELEMENT_HANDLING&&ot(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Te.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&ot(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Te.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Te.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fe=fe=-1===tt.indexOf(t.PARSER_MEDIA_TYPE)?nt:t.PARSER_MEDIA_TYPE,me="application/xhtml+xml"===fe?function(e){return e}:_,Me&&(De=!1),je&&(Fe=!0),Be&&(ke=L({},r(j)),Se=[],!0===Be.html&&(L(ke,P),L(Se,N)),!0===Be.svg&&(L(ke,M),L(Se,z),L(Se,V)),!0===Be.svgFilters&&(L(ke,$),L(Se,z),L(Se,V)),!0===Be.mathMl&&(L(ke,I),L(Se,q),L(Se,V))),t.ADD_TAGS&&(ke===Ce&&(ke=E(ke)),L(ke,t.ADD_TAGS)),t.ADD_ATTR&&(Se===Ae&&(Se=E(Se)),L(Se,t.ADD_ATTR)),t.ADD_URI_SAFE_ATTR&&L(Ke,t.ADD_URI_SAFE_ATTR),t.FORBID_CONTENTS&&(We===Ue&&(We=E(We)),L(We,t.FORBID_CONTENTS)),qe&&(ke["#text"]=!0),$e&&L(ke,["html","head","body"]),ke.table&&(L(ke,["tbody"]),delete Oe.tbody),h&&h(t),it=t)},at=L({},["mi","mo","mn","ms","mtext"]),lt=L({},["foreignobject","desc","title","annotation-xml"]),ct=L({},["title","style","font","a","script"]),ut=L({},M);L(ut,$),L(ut,R);var ht=L({},I);L(ht,F);var dt=function(e){var t=ne(e);t&&t.tagName||(t={namespaceURI:Je,tagName:"template"});var n=_(e.tagName),i=_(t.tagName);return e.namespaceURI===Qe?t.namespaceURI===Je?"svg"===n:t.namespaceURI===Ye?"svg"===n&&("annotation-xml"===i||at[i]):Boolean(ut[n]):e.namespaceURI===Ye?t.namespaceURI===Je?"math"===n:t.namespaceURI===Qe?"math"===n&&lt[i]:Boolean(ht[n]):e.namespaceURI===Je&&!(t.namespaceURI===Qe&&!lt[i])&&!(t.namespaceURI===Ye&&!at[i])&&!ht[n]&&(ct[n]||!ut[n])},pt=function(e){w(i.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=oe}catch(t){e.remove()}}},ft=function(e,t){try{w(i.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){w(i.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Se[e])if(Fe||je)try{pt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},mt=function(e){var t,n;if(Ie)e="<remove></remove>"+e;else{var i=x(e,/^[\r\n\t ]+/);n=i&&i[0]}"application/xhtml+xml"===fe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var r=re?re.createHTML(e):e;if(Xe===Je)try{t=(new g).parseFromString(r,fe)}catch(e){}if(!t||!t.documentElement){t=ae.createDocument(Xe,"template",null);try{t.documentElement.innerHTML=et?"":r}catch(e){}}var o=t.body||t.documentElement;return e&&n&&o.insertBefore(s.createTextNode(n),o.childNodes[0]||null),Xe===Je?ue.call(t,$e?"html":"body")[0]:$e?t.documentElement:o},gt=function(e){return le.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},vt=function(e){return e instanceof m&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof f)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},yt=function(t){return"object"===e(c)?t instanceof c:t&&"object"===e(t)&&"number"==typeof t.nodeType&&"string"==typeof t.nodeName},bt=function(e,t,n){pe[e]&&y(pe[e],(function(e){e.call(i,t,n,it)}))},wt=function(e){var t;if(bt("beforeSanitizeElements",e,null),vt(e))return pt(e),!0;if(A(/[\u0080-\uFFFF]/,e.nodeName))return pt(e),!0;var n=me(e.nodeName);if(bt("uponSanitizeElement",e,{tagName:n,allowedTags:ke}),e.hasChildNodes()&&!yt(e.firstElementChild)&&(!yt(e.content)||!yt(e.content.firstElementChild))&&A(/<[/\w]/g,e.innerHTML)&&A(/<[/\w]/g,e.textContent))return pt(e),!0;if("select"===n&&A(/<template/i,e.innerHTML))return pt(e),!0;if(!ke[n]||Oe[n]){if(!Oe[n]&&xt(n)){if(Te.tagNameCheck instanceof RegExp&&A(Te.tagNameCheck,n))return!1;if(Te.tagNameCheck instanceof Function&&Te.tagNameCheck(n))return!1}if(qe&&!We[n]){var r=ne(e)||e.parentNode,o=te(e)||e.childNodes;if(o&&r)for(var s=o.length-1;s>=0;--s)r.insertBefore(X(o[s],!0),ee(e))}return pt(e),!0}return e instanceof u&&!dt(e)?(pt(e),!0):"noscript"!==n&&"noembed"!==n||!A(/<\/no(script|embed)/i,e.innerHTML)?(Me&&3===e.nodeType&&(t=e.textContent,t=k(t,ge," "),t=k(t,ve," "),e.textContent!==t&&(w(i.removed,{element:e.cloneNode()}),e.textContent=t)),bt("afterSanitizeElements",e,null),!1):(pt(e),!0)},_t=function(e,t,n){if(ze&&("id"===t||"name"===t)&&(n in s||n in rt))return!1;if(De&&!Le[t]&&A(ye,t));else if(Ee&&A(be,t));else if(!Se[t]||Le[t]){if(!(xt(e)&&(Te.tagNameCheck instanceof RegExp&&A(Te.tagNameCheck,e)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(e))&&(Te.attributeNameCheck instanceof RegExp&&A(Te.attributeNameCheck,t)||Te.attributeNameCheck instanceof Function&&Te.attributeNameCheck(t))||"is"===t&&Te.allowCustomizedBuiltInElements&&(Te.tagNameCheck instanceof RegExp&&A(Te.tagNameCheck,n)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(n))))return!1}else if(Ke[t]);else if(A(xe,k(n,_e,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==C(n,"data:")||!He[e])if(Pe&&!A(we,k(n,_e,"")));else if(n)return!1;return!0},xt=function(e){return e.indexOf("-")>0},kt=function(e){var t,n,r,o;bt("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Se};for(o=s.length;o--;){var l=t=s[o],c=l.name,u=l.namespaceURI;if(n="value"===c?t.value:S(t.value),r=me(c),a.attrName=r,a.attrValue=n,a.keepAttr=!0,a.forceKeepAttr=void 0,bt("uponSanitizeAttribute",e,a),n=a.attrValue,!a.forceKeepAttr&&(ft(c,e),a.keepAttr))if(A(/\/>/i,n))ft(c,e);else{Me&&(n=k(n,ge," "),n=k(n,ve," "));var h=me(e.nodeName);if(_t(h,r,n))try{u?e.setAttributeNS(u,c,n):e.setAttribute(c,n),b(i.removed)}catch(e){}}}bt("afterSanitizeAttributes",e,null)}},Ct=function e(t){var n,i=gt(t);for(bt("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)bt("uponSanitizeShadowNode",n,null),wt(n)||(n.content instanceof a&&e(n.content),kt(n));bt("afterSanitizeShadowDOM",t,null)};return i.sanitize=function(t,r){var s,l,u,h,d;if((et=!t)&&(t="\x3c!--\x3e"),"string"!=typeof t&&!yt(t)){if("function"!=typeof t.toString)throw T("toString is not a function");if("string"!=typeof(t=t.toString()))throw T("dirty is not a string, aborting")}if(!i.isSupported){if("object"===e(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof t)return n.toStaticHTML(t);if(yt(t))return n.toStaticHTML(t.outerHTML)}return t}if(Re||st(r),i.removed=[],"string"==typeof t&&(Ve=!1),Ve){if(t.nodeName){var p=me(t.nodeName);if(!ke[p]||Oe[p])throw T("root node is forbidden and cannot be sanitized in-place")}}else if(t instanceof c)1===(l=(s=mt("\x3c!----\x3e")).ownerDocument.importNode(t,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?s=l:s.appendChild(l);else{if(!Fe&&!Me&&!$e&&-1===t.indexOf("<"))return re&&Ne?re.createHTML(t):t;if(!(s=mt(t)))return Fe?null:Ne?oe:""}s&&Ie&&pt(s.firstChild);for(var f=gt(Ve?t:s);u=f.nextNode();)3===u.nodeType&&u===h||wt(u)||(u.content instanceof a&&Ct(u.content),kt(u),h=u);if(h=null,Ve)return t;if(Fe){if(je)for(d=ce.call(s.ownerDocument);s.firstChild;)d.appendChild(s.firstChild);else d=s;return Se.shadowroot&&(d=he.call(o,d,!0)),d}var m=$e?s.outerHTML:s.innerHTML;return $e&&ke["!doctype"]&&s.ownerDocument&&s.ownerDocument.doctype&&s.ownerDocument.doctype.name&&A(Y,s.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+s.ownerDocument.doctype.name+">\n"+m),Me&&(m=k(m,ge," "),m=k(m,ve," ")),re&&Ne?re.createHTML(m):m},i.setConfig=function(e){st(e),Re=!0},i.clearConfig=function(){it=null,Re=!1},i.isValidAttribute=function(e,t,n){it||st({});var i=me(e),r=me(t);return _t(i,r,n)},i.addHook=function(e,t){"function"==typeof t&&(pe[e]=pe[e]||[],w(pe[e],t))},i.removeHook=function(e){if(pe[e])return b(pe[e])},i.removeHooks=function(e){pe[e]&&(pe[e]=[])},i.removeAllHooks=function(){pe={}},i}()}()},7648:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,i=Object.prototype.toString,r="[object Function]";e.exports=function(e){var o=this;if("function"!=typeof o||i.call(o)!==r)throw new TypeError(t+o);for(var s,a=n.call(arguments,1),l=function(){if(this instanceof s){var t=o.apply(this,a.concat(n.call(arguments)));return Object(t)===t?t:this}return o.apply(e,a.concat(n.call(arguments)))},c=Math.max(0,o.length-a.length),u=[],h=0;h<c;h++)u.push("$"+h);if(s=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(l),o.prototype){var d=function(){};d.prototype=o.prototype,s.prototype=new d,d.prototype=null}return s}},8612:(e,t,n)=>{"use strict";var i=n(7648);e.exports=Function.prototype.bind||i},210:(e,t,n)=>{"use strict";var i,r=SyntaxError,o=Function,s=TypeError,a=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new s},u=l?function(){try{return c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,h=n(1405)(),d=Object.getPrototypeOf||function(e){return e.__proto__},p={},f="undefined"==typeof Uint8Array?i:d(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":h?d([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?d(d([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?d((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?d((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?d(""[Symbol.iterator]()):i,"%Symbol%":h?Symbol:i,"%SyntaxError%":r,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},g=function e(t){var n;if("%AsyncFunction%"===t)n=a("async function () {}");else if("%GeneratorFunction%"===t)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=a("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var r=e("%AsyncGenerator%");r&&(n=d(r.prototype))}return m[t]=n,n},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=n(8612),b=n(7642),w=y.call(Function.call,Array.prototype.concat),_=y.call(Function.apply,Array.prototype.splice),x=y.call(Function.call,String.prototype.replace),k=y.call(Function.call,String.prototype.slice),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,A=function(e){var t=k(e,0,1),n=k(e,-1);if("%"===t&&"%"!==n)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new r("invalid intrinsic syntax, expected opening `%`");var i=[];return x(e,C,(function(e,t,n,r){i[i.length]=n?x(r,S,"$1"):t||e})),i},T=function(e,t){var n,i=e;if(b(v,i)&&(i="%"+(n=v[i])[0]+"%"),b(m,i)){var o=m[i];if(o===p&&(o=g(i)),void 0===o&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:o}}throw new r("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');var n=A(e),i=n.length>0?n[0]:"",o=T("%"+i+"%",t),a=o.name,c=o.value,u=!1,h=o.alias;h&&(i=h[0],_(n,w([0,1],h)));for(var d=1,p=!0;d<n.length;d+=1){var f=n[d],g=k(f,0,1),v=k(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new r("property names with quotes must have matching quotes");if("constructor"!==f&&p||(u=!0),b(m,a="%"+(i+="."+f)+"%"))c=m[a];else if(null!=c){if(!(f in c)){if(!t)throw new s("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&d+1>=n.length){var y=l(c,f);c=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:c[f]}else p=b(c,f),c=c[f];p&&!u&&(m[a]=c)}}return c}},1405:(e,t,n)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,r=n(5419);e.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&r()}},5419:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},7642:(e,t,n)=>{"use strict";var i=n(8612);e.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},8688:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(5423);function r(e){return e.split("").map((e=>`(?:${e.toUpperCase()}|${e.toLowerCase()})`)).join("")}function o(e,t){for(let n=e.length-1;n>=0;n--)e[n]===t&&Array.prototype.splice.call(e,n,1)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const a={};class l{static getInstance(e){return a[e]=a[e]||new l,a[e]}constructor(){this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[],this.acronyms={},this.acronymRegex=/(?=a)b/}acronym(e){this.acronyms[e.toLowerCase()]=e;const t=[];for(const e in this.acronyms)s(this.acronyms,e)&&t.push(this.acronyms[e]);this.acronymRegex=new RegExp(t.join("|"))}plural(e,t){"string"==typeof e&&o(this.uncountables,e),o(this.uncountables,t),this.plurals.unshift([e,t])}singular(e,t){"string"==typeof e&&o(this.uncountables,e),o(this.uncountables,t),this.singulars.unshift([e,t])}irregular(e,t){o(this.uncountables,e),o(this.uncountables,t);const n=e[0],i=e.substr(1),s=t[0],a=t.substr(1);if(n.toUpperCase()===s.toUpperCase())this.plural(new RegExp("("+n+")"+i+"$","i"),"$1"+a),this.plural(new RegExp("("+s+")"+a+"$","i"),"$1"+a),this.singular(new RegExp("("+n+")"+i+"$","i"),"$1"+i),this.singular(new RegExp("("+s+")"+a+"$","i"),"$1"+i);else{const e=r(i),t=r(a);this.plural(new RegExp(n.toUpperCase()+e+"$"),s.toUpperCase()+a),this.plural(new RegExp(n.toLowerCase()+e+"$"),s.toLowerCase()+a),this.plural(new RegExp(s.toUpperCase()+t+"$"),s.toUpperCase()+a),this.plural(new RegExp(s.toLowerCase()+t+"$"),s.toLowerCase()+a),this.singular(new RegExp(n.toUpperCase()+e+"$"),n.toUpperCase()+i),this.singular(new RegExp(n.toLowerCase()+e+"$"),n.toLowerCase()+i),this.singular(new RegExp(s.toUpperCase()+t+"$"),n.toUpperCase()+i),this.singular(new RegExp(s.toLowerCase()+t+"$"),n.toLowerCase()+i)}}uncountable(...e){this.uncountables=this.uncountables.concat(e)}human(e,t){this.humans.unshift([e,t])}clear(e="all"){"all"===e?(this.plurals=[],this.singulars=[],this.uncountables=[],this.humans=[]):this[e]=[]}}const c={en:function(e){e.plural(/$/,"s"),e.plural(/s$/i,"s"),e.plural(/^(ax|test)is$/i,"$1es"),e.plural(/(octop|vir)us$/i,"$1i"),e.plural(/(octop|vir)i$/i,"$1i"),e.plural(/(alias|status)$/i,"$1es"),e.plural(/(bu)s$/i,"$1ses"),e.plural(/(buffal|tomat)o$/i,"$1oes"),e.plural(/([ti])um$/i,"$1a"),e.plural(/([ti])a$/i,"$1a"),e.plural(/sis$/i,"ses"),e.plural(/(?:([^f])fe|([lr])f)$/i,"$1$2ves"),e.plural(/(hive)$/i,"$1s"),e.plural(/([^aeiouy]|qu)y$/i,"$1ies"),e.plural(/(x|ch|ss|sh)$/i,"$1es"),e.plural(/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"),e.plural(/^(m|l)ouse$/i,"$1ice"),e.plural(/^(m|l)ice$/i,"$1ice"),e.plural(/^(ox)$/i,"$1en"),e.plural(/^(oxen)$/i,"$1"),e.plural(/(quiz)$/i,"$1zes"),e.singular(/s$/i,""),e.singular(/(ss)$/i,"$1"),e.singular(/(n)ews$/i,"$1ews"),e.singular(/([ti])a$/i,"$1um"),e.singular(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"),e.singular(/(^analy)(sis|ses)$/i,"$1sis"),e.singular(/([^f])ves$/i,"$1fe"),e.singular(/(hive)s$/i,"$1"),e.singular(/(tive)s$/i,"$1"),e.singular(/([lr])ves$/i,"$1f"),e.singular(/([^aeiouy]|qu)ies$/i,"$1y"),e.singular(/(s)eries$/i,"$1eries"),e.singular(/(m)ovies$/i,"$1ovie"),e.singular(/(x|ch|ss|sh)es$/i,"$1"),e.singular(/^(m|l)ice$/i,"$1ouse"),e.singular(/(bus)(es)?$/i,"$1"),e.singular(/(o)es$/i,"$1"),e.singular(/(shoe)s$/i,"$1"),e.singular(/(cris|test)(is|es)$/i,"$1is"),e.singular(/^(a)x[ie]s$/i,"$1xis"),e.singular(/(octop|vir)(us|i)$/i,"$1us"),e.singular(/(alias|status)(es)?$/i,"$1"),e.singular(/^(ox)en/i,"$1"),e.singular(/(vert|ind)ices$/i,"$1ex"),e.singular(/(matr)ices$/i,"$1ix"),e.singular(/(quiz)zes$/i,"$1"),e.singular(/(database)s$/i,"$1"),e.irregular("person","people"),e.irregular("man","men"),e.irregular("child","children"),e.irregular("sex","sexes"),e.irregular("move","moves"),e.irregular("zombie","zombies"),e.uncountable("equipment","information","rice","money","species","series","fish","sheep","jeans","police")}};function u(e,t){if((0,i.Z)(e)&&(t=e,e=null),e=e||"en",!t)return l.getInstance(e);t(l.getInstance(e))}for(let e in c)u(e,c[e]);function h(e,t="en"){return function(e,t){var n,i,r,o=""+e;if(0===o.length)return o;var s=o.toLowerCase().match(/\b\w+$/);if(s&&u().uncountables.indexOf(s[0])>-1)return o;for(var a=0,l=t.length;a<l;a++)if(i=(n=t[a])[0],r=n[1],o.match(i)){o=o.replace(i,r);break}return o}(e,u(t).singulars)}},5423:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const i=Object.prototype.toString;function r(e){return"[object Function]"===i.call(e)}},7514:(e,t,n)=>{e.exports={Generator:n(5229),addLabels:n(4141)}},4141:(e,t,n)=>{var i=n(3683);function r(e,t){for(var n in e)t[n]?null==(i=e[n])||i.constructor!==Array&&i.constructor!==Object||r(e[n],t[n]):t[n]=e[n];var i}function o(e,t){var n=[i.classes[e.type]];return e.class?e.class=("string"==typeof e.class?[e.class]:e.class).concat(n):e.class=n,e.type.indexOf("Label")>0&&(0==e.index&&i.weekPlaceholder?e.desc=i.weekPlaceholder:e.index<8?e.desc=i.columnNames[t][e.index]:e.index%8==0&&(e.desc=e.week)),e.date&&(e.monthName=i.monthNames[t][e.date.getMonth()]),this.monthName||(this.monthName=i.monthNames[t][this.month]),this.labels||(this.labels={monthNames:i.monthNames[t],columnNames:i.columnNames[t],classes:i.classes}),e}o.setLabels=function(e){r(e,i)},e.exports=o},5229:e=>{var t=864e5;function n(e,t){return new Date(e,t+1,0).getDate()}function i(e,t,n){return 0===t&&n>50?e-1:11===t&&n<10?e+1:e}function r(e,n,i,r){n>11&&(n=0,e++);var o=new Date(e,n,i);r&&o.setDate(o.getDate()+4-(o.getDay()||7));var s=r?o.getFullYear():e,a=new Date(s,0,1),l=1+Math.round((o-a)/t);r||(l+=a.getDay());var c=Math.ceil(l/7);if(!r){var u=new Date(e,n,i),h=new Date(e+1,0,1),d=h.getDay();u.getTime()>=h.getTime()-t*d&&(c=1)}return c}function o(e,t,o){for(var s,a,l,c=this.lang||"en",u=this.onlyDays,h=void 0===this.weekStart?1:this.weekStart,d=1===h,p=[],f=h-(new Date(e,t,1).getDay()||(d?7:0)),m=r(e,t,1,d),g=n(e,t),v=n(e,t-1),y=i(e,t,m),b={month:t,year:e,daysInMonth:g},w=0;w<7;w++){l=f;for(var _=0;_<8;_++){w>0&&_>0&&f++,f>g||f<1?(a=f>g?f-g:v+f,s=f>g?t+1:t-1):(a=f,s=t);var x=l!==f&&w>0,k={desc:x?a:m,week:m,type:0===_?"weekLabel":0===w?"dayLabel":f<1?"prevMonth":f>g?"nextMonth":"monthDay",format:d?"ISO 8601":"US",date:!!x&&new Date(Date.UTC(e,s,a)),year:y,index:p.length};o&&("function"==typeof o?k=o.call(b,k,c):o.forEach((function(e){k=e.call(b,k,c)}))),u&&x?p.push(k):u||p.push(k)}w>0&&(m=r(e,s,a+1,d)),y=i(e,t,m)}return b.cells=p,b}e.exports=function(e){return o.bind(e)}},3683:e=>{e.exports={weekPlaceholder:"",columnNames:{en:{0:"w",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday",7:"sunday"},sv:{0:"v",1:"mndag",2:"tisdag",3:"onsdag",4:"torsdag",5:"fredag",6:"lrdag",7:"sndag"},pt:{0:"s",1:"segunda",2:"tera",3:"quarta",4:"quinta",5:"sexta",6:"sbado",7:"domingo"}},monthNames:{en:["January","February","March","April","May","June","July","August","September","October","November","December"],sv:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"],pt:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]},classes:{dayLabel:"day-of-week",weekLabel:"week-number",prevMonth:"inactive",nextMonth:"inactive",monthDay:"day-in-month"}}},5243:function(e,t){!function(e){"use strict";function t(e){var t,n,i,r;for(n=1,i=arguments.length;n<i;n++)for(t in r=arguments[n])e[t]=r[t];return e}var n=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var i=n.call(arguments,2);return function(){return e.apply(t,i.length?i.concat(n.call(arguments)):arguments)}}var r=0;function o(e){return"_leaflet_id"in e||(e._leaflet_id=++r),e._leaflet_id}function s(e,t,n){var i,r,o,s;return s=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(e.apply(n,arguments),setTimeout(s,t),i=!0)},o}function a(e,t,n){var i=t[1],r=t[0],o=i-r;return e===i&&n?e:((e-r)%o+o)%o+r}function l(){return!1}function c(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function u(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return u(e).split(/\s+/)}function d(e,t){for(var i in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?n(e.options):{}),t)e.options[i]=t[i];return e.options}function p(e,t,n){var i=[];for(var r in e)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(e[r]));return(t&&-1!==t.indexOf("?")?"&":"?")+i.join("&")}var f=/\{ *([\w_ -]+) *\}/g;function m(e,t){return e.replace(f,(function(e,n){var i=t[n];if(void 0===i)throw new Error("No value provided for variable "+e);return"function"==typeof i&&(i=i(t)),i}))}var g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function v(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var y="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function b(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function _(e){var t=+new Date,n=Math.max(0,16-(t-w));return w=t+n,window.setTimeout(e,n)}var x=window.requestAnimationFrame||b("RequestAnimationFrame")||_,k=window.cancelAnimationFrame||b("CancelAnimationFrame")||b("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function C(e,t,n){if(!n||x!==_)return x.call(window,i(e,t));e.call(t)}function S(e){e&&k.call(window,e)}var A={__proto__:null,extend:t,create:n,bind:i,get lastId(){return r},stamp:o,throttle:s,wrapNum:a,falseFn:l,formatNum:c,trim:u,splitWords:h,setOptions:d,getParamString:p,template:m,isArray:g,indexOf:v,emptyImageUrl:y,requestFn:x,cancelFn:k,requestAnimFrame:C,cancelAnimFrame:S};function T(){}T.extend=function(e){var i=function(){d(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},r=i.__super__=this.prototype,o=n(r);for(var s in o.constructor=i,i.prototype=o,this)Object.prototype.hasOwnProperty.call(this,s)&&"prototype"!==s&&"__super__"!==s&&(i[s]=this[s]);return e.statics&&t(i,e.statics),e.includes&&(function(e){if("undefined"!=typeof L&&L&&L.Mixin){e=g(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),t.apply(null,[o].concat(e.includes))),t(o,e),delete o.statics,delete o.includes,o.options&&(o.options=r.options?n(r.options):{},t(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){r.callInitHooks&&r.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},i},T.include=function(e){var n=this.prototype.options;return t(this.prototype,e),e.options&&(this.prototype.options=n,this.mergeOptions(e.options)),this},T.mergeOptions=function(e){return t(this.prototype.options,e),this},T.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var O={on:function(e,t,n){if("object"==typeof e)for(var i in e)this._on(i,e[i],t);else for(var r=0,o=(e=h(e)).length;r<o;r++)this._on(e[r],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"==typeof e)for(var i in e)this._off(i,e[i],t);else{e=h(e);for(var r=1===arguments.length,o=0,s=e.length;o<s;o++)r?this._off(e[o]):this._off(e[o],t,n)}else delete this._events;return this},_on:function(e,t,n){if("function"==typeof t){this._events=this._events||{};var i=this._events[e];i||(i=[],this._events[e]=i),n===this&&(n=void 0);for(var r={fn:t,ctx:n},o=i,s=0,a=o.length;s<a;s++)if(o[s].fn===t&&o[s].ctx===n)return;o.push(r)}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var i,r,o;if(this._events&&(i=this._events[e]))if(1!==arguments.length)if(n===this&&(n=void 0),"function"==typeof t){for(r=0,o=i.length;r<o;r++){var s=i[r];if(s.ctx===n&&s.fn===t)return this._firingCount&&(s.fn=l,this._events[e]=i=i.slice()),void i.splice(r,1)}console.warn("listener not found")}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(r=0,o=i.length;r<o;r++)i[r].fn=l;delete this._events[e]}},fire:function(e,n,i){if(!this.listens(e,i))return this;var r=t({},n,{type:e,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var l=o[s];l.fn.call(l.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(e,t){"string"!=typeof e&&console.warn('"string" type argument expected');var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var i in this._eventParents)if(this._eventParents[i].listens(e,t))return!0;return!1},once:function(e,t,n){if("object"==typeof e){for(var r in e)this.once(r,e[r],t);return this}var o=i((function(){this.off(e,t,n).off(e,o,n)}),this);return this.on(e,t,n).on(e,o,n)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[o(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[o(e)],this},_propagateEvent:function(e){for(var n in this._eventParents)this._eventParents[n].fire(e.type,t({layer:e.target,propagatedFrom:e.target},e),!0)}};O.addEventListener=O.on,O.removeEventListener=O.clearAllEventListeners=O.off,O.addOneTimeEventListener=O.once,O.fireEvent=O.fire,O.hasEventListeners=O.listens;var E=T.extend(O);function D(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var P=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function M(e,t,n){return e instanceof D?e:g(e)?new D(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new D(e.x,e.y):new D(e,t,n)}function $(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function R(e,t){return!e||e instanceof $?e:new $(e,t)}function I(e,t){if(e)for(var n=t?[e,t]:e,i=0,r=n.length;i<r;i++)this.extend(n[i])}function F(e,t){return e instanceof I?e:new I(e,t)}function j(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function N(e,t,n){return e instanceof j?e:g(e)&&"object"!=typeof e[0]?3===e.length?new j(e[0],e[1],e[2]):2===e.length?new j(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new j(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new j(e,t,n)}D.prototype={clone:function(){return new D(this.x,this.y)},add:function(e){return this.clone()._add(M(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(M(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new D(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new D(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=P(this.x),this.y=P(this.y),this},distanceTo:function(e){var t=(e=M(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=M(e)).x===this.x&&e.y===this.y},contains:function(e){return e=M(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},$.prototype={extend:function(e){return e=M(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new D(this.min.x,this.max.y)},getTopRight:function(){return new D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"==typeof e[0]||e instanceof D?M(e):R(e))instanceof $?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=R(e);var t=this.min,n=this.max,i=e.min,r=e.max,o=r.x>=t.x&&i.x<=n.x,s=r.y>=t.y&&i.y<=n.y;return o&&s},overlaps:function(e){e=R(e);var t=this.min,n=this.max,i=e.min,r=e.max,o=r.x>t.x&&i.x<n.x,s=r.y>t.y&&i.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)}},I.prototype={extend:function(e){var t,n,i=this._southWest,r=this._northEast;if(e instanceof j)t=e,n=e;else{if(!(e instanceof I))return e?this.extend(N(e)||F(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return i||r?(i.lat=Math.min(t.lat,i.lat),i.lng=Math.min(t.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new j(t.lat,t.lng),this._northEast=new j(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,i=Math.abs(t.lat-n.lat)*e,r=Math.abs(t.lng-n.lng)*e;return new I(new j(t.lat-i,t.lng-r),new j(n.lat+i,n.lng+r))},getCenter:function(){return new j((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j(this.getNorth(),this.getWest())},getSouthEast:function(){return new j(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof j||"lat"in e?N(e):F(e);var t,n,i=this._southWest,r=this._northEast;return e instanceof I?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=i.lat&&n.lat<=r.lat&&t.lng>=i.lng&&n.lng<=r.lng},intersects:function(e){e=F(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),o=r.lat>=t.lat&&i.lat<=n.lat,s=r.lng>=t.lng&&i.lng<=n.lng;return o&&s},overlaps:function(e){e=F(e);var t=this._southWest,n=this._northEast,i=e.getSouthWest(),r=e.getNorthEast(),o=r.lat>t.lat&&i.lat<n.lat,s=r.lng>t.lng&&i.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=F(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},j.prototype={equals:function(e,t){return!!e&&(e=N(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+c(this.lat,e)+", "+c(this.lng,e)+")"},distanceTo:function(e){return V.distance(this,N(e))},wrap:function(){return V.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return F([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new j(this.lat,this.lng,this.alt)}};var z,q={latLngToPoint:function(e,t){var n=this.projection.project(e),i=this.scale(t);return this.transformation._transform(n,i)},pointToLatLng:function(e,t){var n=this.scale(t),i=this.transformation.untransform(e,n);return this.projection.unproject(i)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new $(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?a(e.lng,this.wrapLng,!0):e.lng;return new j(this.wrapLat?a(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),i=t.lat-n.lat,r=t.lng-n.lng;if(0===i&&0===r)return e;var o=e.getSouthWest(),s=e.getNorthEast();return new I(new j(o.lat-i,o.lng-r),new j(s.lat-i,s.lng-r))}},V=t({},q,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,i=e.lat*n,r=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),s=Math.sin((t.lng-e.lng)*n/2),a=o*o+Math.cos(i)*Math.cos(r)*s*s,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),B=6378137,W={R:B,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,e.lat),-n),r=Math.sin(i*t);return new D(this.R*e.lng*t,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(e){var t=180/Math.PI;return new j((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(z=B*Math.PI,new $([-z,-z],[z,z]))};function U(e,t,n,i){if(g(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=i}function H(e,t,n,i){return new U(e,t,n,i)}U.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new D((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var Z=t({},V,{code:"EPSG:3857",projection:W,transformation:function(){var e=.5/(Math.PI*W.R);return H(e,.5,-e,.5)}()}),K=t({},Z,{code:"EPSG:900913"});function G(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e,t){var n,i,r,o,s,a,l="";for(n=0,r=e.length;n<r;n++){for(i=0,o=(s=e[n]).length;i<o;i++)l+=(i?"L":"M")+(a=s[i]).x+" "+a.y;l+=t?$e.svg?"z":"x":""}return l||"M0 0"}var Q,J=document.documentElement.style,X="ActiveXObject"in window,ee=X&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Me("webkit"),ie=Me("android"),re=Me("android 2")||Me("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),se=ie&&Me("Google")&&oe<537&&!("AudioNode"in window),ae=!!window.opera,le=!te&&Me("chrome"),ce=Me("gecko")&&!ne&&!ae&&!X,ue=!le&&Me("safari"),he=Me("phantom"),de="OTransition"in J,pe=0===navigator.platform.indexOf("Win"),fe=X&&"transition"in J,me="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!re,ge="MozPerspective"in J,ve=!window.L_DISABLE_3D&&(fe||me||ge)&&!de&&!he,ye="undefined"!=typeof orientation||Me("mobile"),be=ye&&ne,we=ye&&me,_e=!window.PointerEvent&&window.MSPointerEvent,xe=!(!window.PointerEvent&&!_e),ke="ontouchstart"in window||!!window.TouchEvent,Ce=!window.L_NO_TOUCH&&(ke||xe),Se=ye&&ae,Ae=ye&&ce,Te=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Oe=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",l,t),window.removeEventListener("testPassiveEventSupport",l,t)}catch(e){}return e}(),Le=!!document.createElement("canvas").getContext,Ee=!(!document.createElementNS||!G("svg").createSVGRect),De=!!Ee&&((Q=document.createElement("div")).innerHTML="<svg/>","http://www.w3.org/2000/svg"===(Q.firstChild&&Q.firstChild.namespaceURI)),Pe=!Ee&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}();function Me(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var $e={ie:X,ielt9:ee,edge:te,webkit:ne,android:ie,android23:re,androidStock:se,opera:ae,chrome:le,gecko:ce,safari:ue,phantom:he,opera12:de,win:pe,ie3d:fe,webkit3d:me,gecko3d:ge,any3d:ve,mobile:ye,mobileWebkit:be,mobileWebkit3d:we,msPointer:_e,pointer:xe,touch:Ce,touchNative:ke,mobileOpera:Se,mobileGecko:Ae,retina:Te,passiveEvents:Oe,canvas:Le,svg:Ee,vml:Pe,inlineSvg:De},Re=$e.msPointer?"MSPointerDown":"pointerdown",Ie=$e.msPointer?"MSPointerMove":"pointermove",Fe=$e.msPointer?"MSPointerUp":"pointerup",je=$e.msPointer?"MSPointerCancel":"pointercancel",Ne={touchstart:Re,touchmove:Ie,touchend:Fe,touchcancel:je},ze={touchstart:function(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Ft(t),Ze(e,t)},touchmove:Ze,touchend:Ze,touchcancel:Ze},qe={},Ve=!1;function Be(e,t,n){return"touchstart"===t&&(Ve||(document.addEventListener(Re,We,!0),document.addEventListener(Ie,Ue,!0),document.addEventListener(Fe,He,!0),document.addEventListener(je,He,!0),Ve=!0)),ze[t]?(n=ze[t].bind(this,n),e.addEventListener(Ne[t],n,!1),n):(console.warn("wrong event specified:",t),L.Util.falseFn)}function We(e){qe[e.pointerId]=e}function Ue(e){qe[e.pointerId]&&(qe[e.pointerId]=e)}function He(e){delete qe[e.pointerId]}function Ze(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],qe)t.touches.push(qe[n]);t.changedTouches=[t],e(t)}}var Ke,Ge,Ye,Qe,Je,Xe=mt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),et=mt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),tt="webkitTransition"===et||"OTransition"===et?et+"End":"transitionend";function nt(e){return"string"==typeof e?document.getElementById(e):e}function it(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(e,null);n=i?i[t]:null}return"auto"===n?null:n}function rt(e,t,n){var i=document.createElement(e);return i.className=t||"",n&&n.appendChild(i),i}function ot(e){var t=e.parentNode;t&&t.removeChild(e)}function st(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function at(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function lt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function ct(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=pt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function ut(e,t){if(void 0!==e.classList)for(var n=h(t),i=0,r=n.length;i<r;i++)e.classList.add(n[i]);else if(!ct(e,t)){var o=pt(e);dt(e,(o?o+" ":"")+t)}}function ht(e,t){void 0!==e.classList?e.classList.remove(t):dt(e,u((" "+pt(e)+" ").replace(" "+t+" "," ")))}function dt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function pt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function ft(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(i)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+i+"(opacity="+t+")"}(e,t)}function mt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function gt(e,t,n){var i=t||new D(0,0);e.style[Xe]=($e.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function vt(e,t){e._leaflet_pos=t,$e.any3d?gt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function yt(e){return e._leaflet_pos||new D(0,0)}if("onselectstart"in document)Ke=function(){Tt(window,"selectstart",Ft)},Ge=function(){Lt(window,"selectstart",Ft)};else{var bt=mt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ke=function(){if(bt){var e=document.documentElement.style;Ye=e[bt],e[bt]="none"}},Ge=function(){bt&&(document.documentElement.style[bt]=Ye,Ye=void 0)}}function wt(){Tt(window,"dragstart",Ft)}function _t(){Lt(window,"dragstart",Ft)}function xt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(kt(),Qe=e,Je=e.style.outline,e.style.outline="none",Tt(window,"keydown",kt))}function kt(){Qe&&(Qe.style.outline=Je,Qe=void 0,Je=void 0,Lt(window,"keydown",kt))}function Ct(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function St(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var At={__proto__:null,TRANSFORM:Xe,TRANSITION:et,TRANSITION_END:tt,get:nt,getStyle:it,create:rt,remove:ot,empty:st,toFront:at,toBack:lt,hasClass:ct,addClass:ut,removeClass:ht,setClass:dt,getClass:pt,setOpacity:ft,testProp:mt,setTransform:gt,setPosition:vt,getPosition:yt,get disableTextSelection(){return Ke},get enableTextSelection(){return Ge},disableImageDrag:wt,enableImageDrag:_t,preventOutline:xt,restoreOutline:kt,getSizedParentNode:Ct,getScale:St};function Tt(e,t,n,i){if(t&&"object"==typeof t)for(var r in t)Pt(e,r,t[r],n);else for(var o=0,s=(t=h(t)).length;o<s;o++)Pt(e,t[o],n,i);return this}var Ot="_leaflet_events";function Lt(e,t,n,i){if(1===arguments.length)Et(e),delete e[Ot];else if(t&&"object"==typeof t)for(var r in t)Mt(e,r,t[r],n);else if(t=h(t),2===arguments.length)Et(e,(function(e){return-1!==v(t,e)}));else for(var o=0,s=t.length;o<s;o++)Mt(e,t[o],n,i);return this}function Et(e,t){for(var n in e[Ot]){var i=n.split(/\d/)[0];t&&!t(i)||Mt(e,i,null,null,n)}}var Dt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pt(e,t,n,i){var r=t+o(n)+(i?"_"+o(i):"");if(e[Ot]&&e[Ot][r])return this;var s=function(t){return n.call(i||e,t||window.event)},a=s;!$e.touchNative&&$e.pointer&&0===t.indexOf("touch")?s=Be(e,t,s):$e.touch&&"dblclick"===t?s=function(e,t){e.addEventListener("dblclick",t);var n,i=0;function r(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var r=Date.now();r-i<=200?2==++n&&t(function(e){var t,n,i={};for(n in e)t=e[n],i[n]=t&&t.bind?t.bind(e):t;return e=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}(e)):n=1,i=r}}else n=e.detail}return e.addEventListener("click",r),{dblclick:t,simDblclick:r}}(e,s):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Dt[t]||t,s,!!$e.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(s=function(t){t=t||window.event,Vt(e,t)&&a(t)},e.addEventListener(Dt[t],s,!1)):e.addEventListener(t,a,!1):e.attachEvent("on"+t,s),e[Ot]=e[Ot]||{},e[Ot][r]=s}function Mt(e,t,n,i,r){r=r||t+o(n)+(i?"_"+o(i):"");var s=e[Ot]&&e[Ot][r];if(!s)return this;!$e.touchNative&&$e.pointer&&0===t.indexOf("touch")?function(e,t,n){Ne[t]?e.removeEventListener(Ne[t],n,!1):console.warn("wrong event specified:",t)}(e,t,s):$e.touch&&"dblclick"===t?function(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}(e,s):"removeEventListener"in e?e.removeEventListener(Dt[t]||t,s,!1):e.detachEvent("on"+t,s),e[Ot][r]=null}function $t(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Rt(e){return Pt(e,"wheel",$t),this}function It(e){return Tt(e,"mousedown touchstart dblclick contextmenu",$t),e._leaflet_disable_click=!0,this}function Ft(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function jt(e){return Ft(e),$t(e),this}function Nt(e,t){if(!t)return new D(e.clientX,e.clientY);var n=St(t),i=n.boundingClientRect;return new D((e.clientX-i.left)/n.x-t.clientLeft,(e.clientY-i.top)/n.y-t.clientTop)}var zt=$e.win&&$e.chrome?2*window.devicePixelRatio:$e.gecko?window.devicePixelRatio:1;function qt(e){return $e.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/zt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function Vt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e}var Bt={__proto__:null,on:Tt,off:Lt,stopPropagation:$t,disableScrollPropagation:Rt,disableClickPropagation:It,preventDefault:Ft,stop:jt,getMousePosition:Nt,getWheelDelta:qt,isExternalTarget:Vt,addListener:Tt,removeListener:Lt},Wt=E.extend({run:function(e,t,n,i){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=yt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=C(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),vt(this._el,n),this.fire("step")},_complete:function(){S(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Ut=E.extend({options:{crs:Z,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=d(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(N(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=et&&$e.any3d&&!$e.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Tt(this._proxy,tt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,n,i){return n=void 0===n?this._zoom:this._limitZoom(n),e=this._limitCenter(N(e),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i&&(void 0!==i.animate&&(i.zoom=t({animate:i.animate},i.zoom),i.pan=t({animate:i.animate,duration:i.duration},i.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,n,i.zoom):this._tryAnimatedPan(e,i.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,n),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||($e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||($e.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var i=this.getZoomScale(t),r=this.getSize().divideBy(2),o=(e instanceof D?e:this.latLngToContainerPoint(e)).subtract(r).multiplyBy(1-1/i),s=this.containerPointToLatLng(r.add(o));return this.setView(s,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():F(e);var n=M(t.paddingTopLeft||t.padding||[0,0]),i=M(t.paddingBottomRight||t.padding||[0,0]),r=this.getBoundsZoom(e,!1,n.add(i));if((r="number"==typeof t.maxZoom?Math.min(t.maxZoom,r):r)===1/0)return{center:e.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),s=this.project(e.getSouthWest(),r),a=this.project(e.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(o),r),zoom:r}},fitBounds:function(e,t){if(!(e=F(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=M(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Wt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){ut(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!$e.any3d)return this.setView(e,t,n);this._stop();var i=this.project(this.getCenter()),r=this.project(e),o=this.getSize(),s=this._zoom;e=N(e),t=void 0===t?s:t;var a=Math.max(o.x,o.y),l=a*this.getZoomScale(s,t),c=r.distanceTo(i)||1,u=1.42,h=2.0164;function d(e){var t=(l*l-a*a+(e?-1:1)*h*h*c*c)/(2*(e?l:a)*h*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function p(e){return(Math.exp(e)-Math.exp(-e))/2}function f(e){return(Math.exp(e)+Math.exp(-e))/2}var m=d(0);function g(e){return a*(f(m)*(p(t=m+u*e)/f(t))-p(m))/h;var t}var v=Date.now(),y=(d(1)-m)/u,b=n.duration?1e3*n.duration:1e3*y*.8;return this._moveStart(!0,n.noMoveStart),function n(){var o=(Date.now()-v)/b,l=function(e){return 1-Math.pow(1-e,1.5)}(o)*y;o<=1?(this._flyToFrame=C(n,this),this._move(this.unproject(i.add(r.subtract(i).multiplyBy(g(l)/c)),s),this.getScaleZoom(a/function(e){return a*(f(m)/f(m+u*e))}(l),s),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return(e=F(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,F(e));return n.equals(i)||this.panTo(i,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=M((t=t||{}).paddingTopLeft||t.padding||[0,0]),i=M(t.paddingBottomRight||t.padding||[0,0]),r=this.project(this.getCenter()),o=this.project(e),s=this.getPixelBounds(),a=R([s.min.add(n),s.max.subtract(i)]),l=a.getSize();if(!a.contains(o)){this._enforcingBounds=!0;var c=o.subtract(a.getCenter()),u=a.extend(o).getSize().subtract(l);r.x+=c.x<0?-u.x:u.x,r.y+=c.y<0?-u.y:u.y,this.panTo(this.unproject(r),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=t({animate:!1,pan:!0},!0===e?{animate:!0}:e);var n=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=n.divideBy(2).round(),s=r.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(e.animate&&e.pan?this.panBy(a):(e.pan&&this._rawPanBy(a),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:n,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=t({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,r,e):navigator.geolocation.getCurrentPosition(n,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new j(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),i=this._locateOptions;if(i.setView){var r=this.getBoundsZoom(n);this.setView(t,i.maxZoom?Math.min(r,i.maxZoom):r)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var s in e.coords)"number"==typeof e.coords[s]&&(o[s]=e.coords[s]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ot(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(S(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)ot(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=rt("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new I(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=F(e),n=M(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=e.getNorthWest(),a=e.getSouthEast(),l=this.getSize().subtract(n),c=R(this.project(a,i),this.project(s,i)).getSize(),u=$e.any3d?this.options.zoomSnap:1,h=l.x/c.x,d=l.y/c.y,p=t?Math.max(h,d):Math.min(h,d);return i=this.getScaleZoom(p,i),u&&(i=Math.round(i/(u/100))*(u/100),i=t?Math.ceil(i/u)*u:Math.floor(i/u)*u),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new D(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new $(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var i=n.zoom(e*n.scale(t));return isNaN(i)?1/0:i},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(N(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(M(e),t)},layerPointToLatLng:function(e){var t=M(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(N(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(N(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(F(e))},distance:function(e,t){return this.options.crs.distance(N(e),N(t))},containerPointToLayerPoint:function(e){return M(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return M(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(M(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(N(e)))},mouseEventToContainerPoint:function(e){return Nt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=nt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Tt(t,"scroll",this._onScroll,this),this._containerId=o(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&$e.any3d,ut(e,"leaflet-container"+($e.touch?" leaflet-touch":"")+($e.retina?" leaflet-retina":"")+($e.ielt9?" leaflet-oldie":"")+($e.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=it(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),vt(this._mapPane,new D(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ut(e.markerPane,"leaflet-zoom-hide"),ut(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){vt(this._mapPane,new D(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,!1)._move(e,t)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,i){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),i?n&&n.pinch&&this.fire("zoom",n):((r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return S(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){vt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[o(this._container)]=this;var t=e?Lt:Tt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),$e.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){S(this._resizeRequest),this._resizeRequest=C((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,i=[],r="mouseout"===t||"mouseover"===t,s=e.target||e.srcElement,a=!1;s;){if((n=this._targets[o(s)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(t,!0)){if(r&&!Vt(s,e))break;if(i.push(n),r)break}if(s===this._container)break;s=s.parentNode}return i.length||a||r||!this.listens(t,!0)||(i=[this]),i},_isClickDisabled:function(e){for(;e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&xt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,n,i){if("click"===e.type){var r=t({},e);r.type="preclick",this._fireDOMEvent(r,r.type,i)}var o=this._findEventTargets(e,n);if(i){for(var s=[],a=0;a<i.length;a++)i[a].listens(n,!0)&&s.push(i[a]);o=s.concat(o)}if(o.length){"contextmenu"===n&&Ft(e);var l=o[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var u=l.getLatLng&&(!l._radius||l._radius<=10);c.containerPoint=u?this.latLngToContainerPoint(l.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=u?l.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(a=0;a<o.length;a++)if(o[a].fire(n,c,!0),c.originalEvent._stopped||!1===o[a].options.bubblingMouseEvents&&-1!==v(this._mouseEvents,n))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return yt(this._mapPane)||new D(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(i)},_latLngBoundsToNewLayerBounds:function(e,t,n){var i=this._getNewPixelOrigin(n,t);return R([this.project(e.getSouthWest(),t)._subtract(i),this.project(e.getNorthWest(),t)._subtract(i),this.project(e.getSouthEast(),t)._subtract(i),this.project(e.getNorthEast(),t)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var i=this.project(e,t),r=this.getSize().divideBy(2),o=new $(i.subtract(r),i.add(r)),s=this._getBoundsOffset(o,n,t);return s.round().equals([0,0])?e:this.unproject(i.add(s),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),i=new $(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(i,t))},_getBoundsOffset:function(e,t,n){var i=R(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),r=i.min.subtract(e.min),o=i.max.subtract(e.max);return new D(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),i=$e.any3d?this.options.zoomSnap:1;return i&&(e=Math.round(e/i)*i),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n)||(this.panBy(n,t),0))},_createAnimProxy:function(){var e=this._proxy=rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=Xe,n=this._proxy.style[t];gt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ot(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();gt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(t),r=this._getCenterOffset(e)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r)||(C((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),0))},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,ut(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});var Ht=T.extend({options:{position:"topright"},initialize:function(e){d(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),i=e._controlCorners[n];return ut(t,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(t,i.firstChild):i.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ot(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Zt=function(e){return new Ht(e)};Ut.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=rt("div",t+"control-container",this._container);function i(i,r){var o=t+i+" "+t+r;e[i+r]=rt("div",o,n)}i("top","left"),i("top","right"),i("bottom","left"),i("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)ot(this._controlCorners[e]);ot(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Kt=Ht.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,i){return n<i?-1:i<n?1:0}},initialize:function(e,t,n){for(var i in d(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[i],i);for(i in t)this._addLayer(t[i],i,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Ht.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(o(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){ut(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(ut(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=rt("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),It(t),Rt(t);var i=this._section=rt("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Tt(t,{mouseenter:function(){Tt(i,"click",Ft),this.expand(),setTimeout((function(){Lt(i,"click",Ft)}))},mouseleave:this.collapse},this));var r=this._layersLink=rt("a",e+"-toggle",t);r.href="#",r.title="Layers",r.setAttribute("role","button"),Tt(r,"click",Ft),Tt(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=rt("div",e+"-base",i),this._separator=rt("div",e+"-separator",i),this._overlaysList=rt("div",e+"-overlays",i),t.appendChild(i)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&o(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;st(this._baseLayersList),st(this._overlaysList),this._layerControlInputs=[];var e,t,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),t=t||i.overlay,e=e||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(e=e&&r>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(o(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(e){var t,n=document.createElement("label"),i=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=i):t=this._createRadioElement("leaflet-base-layers_"+o(this),i),this._layerControlInputs.push(t),t.layerId=o(e.layer),Tt(t,"click",this._onInputClick,this);var r=document.createElement("span");r.innerHTML=" "+e.name;var s=document.createElement("span");return n.appendChild(s),s.appendChild(t),s.appendChild(r),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?i.push(t):e.checked||r.push(t);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)e=n[r],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&i<t.options.minZoom||void 0!==t.options.maxZoom&&i>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),Gt=Ht.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=rt("div",t+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,i,r){var o=rt("a",n,i);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),It(o),Tt(o,"click",jt),Tt(o,"click",r,this),Tt(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ht(this._zoomInButton,t),ht(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(ut(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(ut(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ut.mergeOptions({zoomControl:!0}),Ut.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Gt,this.addControl(this.zoomControl))}));var Yt=Ht.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=rt("div",t),i=this.options;return this._addScales(i,t+"-line",n),e.on(i.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=rt("div",t,n)),e.imperial&&(this._iScale=rt("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,i,r=3.2808399*e;r>5280?(t=r/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),Qt=Ht.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($e.inlineSvg?'<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg> ':"")+"Leaflet</a>"},initialize:function(e){d(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=rt("div","leaflet-control-attribution"),It(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});Ut.mergeOptions({attributionControl:!0}),Ut.addInitHook((function(){this.options.attributionControl&&(new Qt).addTo(this)}));Ht.Layers=Kt,Ht.Zoom=Gt,Ht.Scale=Yt,Ht.Attribution=Qt,Zt.layers=function(e,t,n){return new Kt(e,t,n)},Zt.zoom=function(e){return new Gt(e)},Zt.scale=function(e){return new Yt(e)},Zt.attribution=function(e){return new Qt(e)};var Jt=T.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Jt.addTo=function(e,t){return e.addHandler(t,this),this};var Xt,en={Events:O},tn=$e.touch?"touchstart mousedown":"mousedown",nn=E.extend({options:{clickTolerance:3},initialize:function(e,t,n,i){d(this,i),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Tt(this._dragStartTarget,tn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(nn._dragging===this&&this.finishDrag(!0),Lt(this._dragStartTarget,tn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!ct(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)nn._dragging===this&&this.finishDrag();else if(!(nn._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(nn._dragging=this,this._preventOutline&&xt(this._element),wt(),Ke(),this._moving))){this.fire("down");var t=e.touches?e.touches[0]:e,n=Ct(this._element);this._startPoint=new D(t.clientX,t.clientY),this._startPos=yt(this._element),this._parentScale=St(n);var i="mousedown"===e.type;Tt(document,i?"mousemove":"touchmove",this._onMove,this),Tt(document,i?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new D(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Ft(e),this._moved||(this.fire("dragstart"),this._moved=!0,ut(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ut(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),vt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ht(document.body,"leaflet-dragging"),this._lastTarget&&(ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Lt(document,"mousemove touchmove",this._onMove,this),Lt(document,"mouseup touchend touchcancel",this._onUp,this),_t(),Ge(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,nn._dragging=!1}});function rn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return function(e,t){var n=e.length,i=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);i[0]=i[n-1]=1,sn(e,i,t,0,n-1);var r,o=[];for(r=0;r<n;r++)i[r]&&o.push(e[r]);return o}(e=function(e,t){for(var n=[e[0]],i=1,r=0,o=e.length;i<o;i++)un(e[i],e[r])>t&&(n.push(e[i]),r=i);return r<o-1&&n.push(e[o-1]),n}(e,n),n)}function on(e,t,n){return Math.sqrt(hn(e,t,n,!0))}function sn(e,t,n,i,r){var o,s,a,l=0;for(s=i+1;s<=r-1;s++)(a=hn(e[s],e[i],e[r],!0))>l&&(o=s,l=a);l>n&&(t[o]=1,sn(e,t,n,i,o),sn(e,t,n,o,r))}function an(e,t,n,i,r){var o,s,a,l=i?Xt:cn(e,n),c=cn(t,n);for(Xt=c;;){if(!(l|c))return[e,t];if(l&c)return!1;a=cn(s=ln(e,t,o=l||c,n,r),n),o===l?(e=s,l=a):(t=s,c=a)}}function ln(e,t,n,i,r){var o,s,a=t.x-e.x,l=t.y-e.y,c=i.min,u=i.max;return 8&n?(o=e.x+a*(u.y-e.y)/l,s=u.y):4&n?(o=e.x+a*(c.y-e.y)/l,s=c.y):2&n?(o=u.x,s=e.y+l*(u.x-e.x)/a):1&n&&(o=c.x,s=e.y+l*(c.x-e.x)/a),new D(o,s,r)}function cn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function un(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function hn(e,t,n,i){var r,o=t.x,s=t.y,a=n.x-o,l=n.y-s,c=a*a+l*l;return c>0&&((r=((e.x-o)*a+(e.y-s)*l)/c)>1?(o=n.x,s=n.y):r>0&&(o+=a*r,s+=l*r)),a=e.x-o,l=e.y-s,i?a*a+l*l:new D(o,s)}function dn(e){return!g(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function pn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),dn(e)}var fn={__proto__:null,simplify:rn,pointToSegmentDistance:on,closestPointOnSegment:function(e,t,n){return hn(e,t,n)},clipSegment:an,_getEdgeIntersection:ln,_getBitCode:cn,_sqClosestPointOnSegment:hn,isFlat:dn,_flat:pn};function mn(e,t,n){var i,r,o,s,a,l,c,u,h,d=[1,4,2,8];for(r=0,c=e.length;r<c;r++)e[r]._code=cn(e[r],t);for(s=0;s<4;s++){for(u=d[s],i=[],r=0,o=(c=e.length)-1;r<c;o=r++)a=e[r],l=e[o],a._code&u?l._code&u||((h=ln(l,a,u,t,n))._code=cn(h,t),i.push(h)):(l._code&u&&((h=ln(l,a,u,t,n))._code=cn(h,t),i.push(h)),i.push(a));e=i}return e}var gn={__proto__:null,clipPolygon:mn},vn={project:function(e){return new D(e.lng,e.lat)},unproject:function(e){return new j(e.y,e.x)},bounds:new $([-180,-90],[180,90])},yn={R:6378137,R_MINOR:6356752.314245179,bounds:new $([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,i=e.lat*t,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=o*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),o/2);return i=-n*Math.log(Math.max(a,1e-10)),new D(e.lng*t*n,i)},unproject:function(e){for(var t,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=Math.exp(-e.y/i),a=Math.PI/2-2*Math.atan(s),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=o*Math.sin(a),t=Math.pow((1-t)/(1+t),o/2),a+=c=Math.PI/2-2*Math.atan(s*t)-a;return new j(a*n,e.x*n/i)}},bn={__proto__:null,LonLat:vn,Mercator:yn,SphericalMercator:W},wn=t({},V,{code:"EPSG:3395",projection:yn,transformation:function(){var e=.5/(Math.PI*yn.R);return H(e,.5,-e,.5)}()}),_n=t({},V,{code:"EPSG:4326",projection:vn,transformation:H(1/180,1,-1/180,.5)}),xn=t({},q,{projection:vn,transformation:H(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,i=t.lat-e.lat;return Math.sqrt(n*n+i*i)},infinite:!0});q.Earth=V,q.EPSG3395=wn,q.EPSG3857=Z,q.EPSG900913=K,q.EPSG4326=_n,q.Simple=xn;var kn=E.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[o(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[o(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});Ut.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=o(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=o(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return o(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?g(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[o(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=o(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;e=void 0===r.minZoom?e:Math.min(e,r.minZoom),t=void 0===r.maxZoom?t:Math.max(t,r.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Cn=kn.extend({initialize:function(e,t){var n,i;if(d(this,t),this._layers={},e)for(n=0,i=e.length;n<i;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"==typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,i=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,i);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return o(e)}}),Sn=Cn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Cn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Cn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new I;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),An=T.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){d(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(i,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i},_setIconStyles:function(e,t){var n=this.options,i=n[t+"Size"];"number"==typeof i&&(i=[i,i]);var r=M(i),o=M("shadow"===t&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),r&&(e.style.width=r.x+"px",e.style.height=r.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return $e.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});var Tn=An.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!=typeof Tn.imagePath&&(Tn.imagePath=this._detectIconPath()),(this.options.imagePath||Tn.imagePath)+An.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var i=t.exec(e);return i&&i[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=rt("div","leaflet-default-icon-path",document.body),t=it(e,"background-image")||it(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-"leaflet.css".length-1):""}}),On=Jt.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new nn(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ut(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=yt(t._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),l=R(s.min._subtract(a).add(r),s.max._subtract(a).subtract(r));if(!l.contains(o)){var c=M((Math.max(l.max.x,o.x)-l.max.x)/(s.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(s.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(s.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(s.min.y-l.min.y)).multiplyBy(i);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),vt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=C(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(S(this._panRequest),this._panRequest=C(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,i=yt(t._icon),r=t._map.layerPointToLatLng(i);n&&vt(n,i),t._latlng=r,e.latlng=r,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){S(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Ln=kn.extend({options:{icon:new Tn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){d(this,t),this._latlng=N(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=N(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),ut(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Tt(n,"focus",this._panOnFocus,this);var r=e.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&(ut(r,t),r.alt=""),this._shadow=r,e.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(this._icon,"focus",this._panOnFocus,this),ot(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ot(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&vt(this._icon,e),this._shadow&&vt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(ut(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),On)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new On(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&ft(this._icon,e),this._shadow&&ft(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?M(t.iconSize):M(0,0),i=t.iconAnchor?M(t.iconAnchor):M(0,0);e.panInside(this._latlng,{paddingTopLeft:i,paddingBottomRight:n.subtract(i)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});var En=kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return d(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Dn=En.extend({options:{fill:!0,radius:10},initialize:function(e,t){d(this,t),this._latlng=N(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=N(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return En.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),i=[e+n,t+n];this._pxBounds=new $(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});var Pn=Dn.extend({initialize:function(e,n,i){if("number"==typeof n&&(n=t({},i,{radius:n})),d(this,n),this._latlng=N(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new I(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:En.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===V.distance){var r=Math.PI/180,o=this._mRadius/V.R/r,s=n.project([t+o,e]),a=n.project([t-o,e]),l=s.add(a).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(o*r)-Math.sin(t*r)*Math.sin(c*r))/(Math.cos(t*r)*Math.cos(c*r)))/r;(isNaN(u)||0===u)&&(u=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,e-u]).x,this._radiusY=l.y-s.y}else{var h=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(h).x}this._updateBounds()}});var Mn=En.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){d(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,i=1/0,r=null,o=hn,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],c=1,u=l.length;c<u;c++){var h=o(e,t=l[c-1],n=l[c],!0);h<i&&(i=h,r=o(e,t,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,r,o,s,a=this._rings[0],l=a.length;if(!l)return null;for(e=0,t=0;e<l-1;e++)t+=a[e].distanceTo(a[e+1])/2;if(0===t)return this._map.layerPointToLatLng(a[0]);for(e=0,i=0;e<l-1;e++)if(r=a[e],o=a[e+1],(i+=n=r.distanceTo(o))>t)return s=(i-t)/n,this._map.layerPointToLatLng([o.x-s*(o.x-r.x),o.y-s*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=N(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new I,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return dn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=dn(e),i=0,r=e.length;i<r;i++)n?(t[i]=N(e[i]),this._bounds.extend(t[i])):t[i]=this._convertLatLngs(e[i]);return t},_project:function(){var e=new $;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new D(e,e);this._rawPxBounds&&(this._pxBounds=new $([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var i,r,o=e[0]instanceof j,s=e.length;if(o){for(r=[],i=0;i<s;i++)r[i]=this._map.latLngToLayerPoint(e[i]),n.extend(r[i]);t.push(r)}else for(i=0;i<s;i++)this._projectLatlngs(e[i],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,i,r,o,s,a,l=this._parts;for(t=0,i=0,r=this._rings.length;t<r;t++)for(n=0,o=(a=this._rings[t]).length;n<o-1;n++)(s=an(a[n],a[n+1],e,n,!0))&&(l[i]=l[i]||[],l[i].push(s[0]),s[1]===a[n+1]&&n!==o-2||(l[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,i=e.length;n<i;n++)e[n]=rn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,i,r,o,s,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(i=0,r=(s=(a=this._parts[n]).length)-1;i<s;r=i++)if((t||0!==i)&&on(e,a[r],a[i])<=l)return!0;return!1}});Mn._flat=pn;var $n=Mn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,i,r,o,s,a,l,c=this._rings[0],u=c.length;if(!u)return null;for(o=s=a=0,e=0,t=u-1;e<u;t=e++)n=c[e],i=c[t],r=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*r,a+=(n.y+i.y)*r,o+=3*r;return l=0===o?c[0]:[s/o,a/o],this._map.layerPointToLatLng(l)},_convertLatLngs:function(e){var t=Mn.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof j&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){Mn.prototype._setLatLngs.call(this,e),dn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return dn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new D(t,t);if(e=new $(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var i,r=0,o=this._rings.length;r<o;r++)(i=mn(this._rings[r],e,!0)).length&&this._parts.push(i)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,i,r,o,s,a,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(r=0,a=this._parts.length;r<a;r++)for(o=0,s=(l=(t=this._parts[r]).length)-1;o<l;s=o++)n=t[o],i=t[s],n.y>e.y!=i.y>e.y&&e.x<(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&&(c=!c);return c||Mn.prototype._containsPoint.call(this,e,!0)}});var Rn=Sn.extend({initialize:function(e,t){d(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,i,r=g(e)?e:e.features;if(r){for(t=0,n=r.length;t<n;t++)((i=r[t]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var s=In(e,o);return s?(s.feature=Bn(e),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(e,s),this.addLayer(s)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=t({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"==typeof t&&(t=t(e.feature)),e.setStyle(t))}});function In(e,t){var n,i,r,o,s="Feature"===e.type?e.geometry:e,a=s?s.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||jn;if(!a&&!s)return null;switch(s.type){case"Point":return Fn(c,e,n=u(a),t);case"MultiPoint":for(r=0,o=a.length;r<o;r++)n=u(a[r]),l.push(Fn(c,e,n,t));return new Sn(l);case"LineString":case"MultiLineString":return i=Nn(a,"LineString"===s.type?0:1,u),new Mn(i,t);case"Polygon":case"MultiPolygon":return i=Nn(a,"Polygon"===s.type?1:2,u),new $n(i,t);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var h=In({geometry:s.geometries[r],type:"Feature",properties:e.properties},t);h&&l.push(h)}return new Sn(l);default:throw new Error("Invalid GeoJSON object.")}}function Fn(e,t,n,i){return e?e(t,n):new Ln(n,i&&i.markersInheritOptions&&i)}function jn(e){return new j(e[1],e[0],e[2])}function Nn(e,t,n){for(var i,r=[],o=0,s=e.length;o<s;o++)i=t?Nn(e[o],t-1,n):(n||jn)(e[o]),r.push(i);return r}function zn(e,t){return void 0!==(e=N(e)).alt?[c(e.lng,t),c(e.lat,t),c(e.alt,t)]:[c(e.lng,t),c(e.lat,t)]}function qn(e,t,n,i){for(var r=[],o=0,s=e.length;o<s;o++)r.push(t?qn(e[o],t-1,n,i):zn(e[o],i));return!t&&n&&r.push(r[0]),r}function Vn(e,n){return e.feature?t({},e.feature,{geometry:n}):Bn(n)}function Bn(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var Wn={toGeoJSON:function(e){return Vn(this,{type:"Point",coordinates:zn(this.getLatLng(),e)})}};function Un(e,t){return new Rn(e,t)}Ln.include(Wn),Pn.include(Wn),Dn.include(Wn),Mn.include({toGeoJSON:function(e){var t=!dn(this._latlngs);return Vn(this,{type:(t?"Multi":"")+"LineString",coordinates:qn(this._latlngs,t?1:0,!1,e)})}}),$n.include({toGeoJSON:function(e){var t=!dn(this._latlngs),n=t&&!dn(this._latlngs[0]),i=qn(this._latlngs,n?2:t?1:0,!0,e);return t||(i=[i]),Vn(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),Cn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),Vn(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,i=[];return this.eachLayer((function(t){if(t.toGeoJSON){var r=t.toGeoJSON(e);if(n)i.push(r.geometry);else{var o=Bn(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}})),n?Vn(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Hn=Un,Zn=kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=F(t),d(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ut(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ot(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&at(this._image),this},bringToBack:function(){return this._map&&lt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=F(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:rt("img");ut(t,"leaflet-image-layer"),this._zoomAnimated&&ut(t,"leaflet-zoom-animated"),this.options.className&&ut(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;gt(this._image,n,t)},_reset:function(){var e=this._image,t=new $(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();vt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){ft(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Kn=Zn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:rt("video");if(ut(t,"leaflet-image-layer"),this._zoomAnimated&&ut(t,"leaflet-zoom-animated"),this.options.className&&ut(t,this.options.className),t.onselectstart=l,t.onmousemove=l,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[t.src]}else{g(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var s=0;s<this._url.length;s++){var a=rt("source");a.src=this._url[s],t.appendChild(a)}}}});var Gn=Zn.extend({_initImage:function(){var e=this._image=this._url;ut(e,"leaflet-image-layer"),this._zoomAnimated&&ut(e,"leaflet-zoom-animated"),this.options.className&&ut(e,this.options.className),e.onselectstart=l,e.onmousemove=l}});var Yn=kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0},initialize:function(e,t){d(this,e),this._source=t},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&ft(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&ft(this._container,1),this.bringToFront(),this.options.interactive&&(ut(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(ft(this._container,0),this._removeTimeout=setTimeout(i(ot,void 0,this._container),200)):ot(this._container),this.options.interactive&&(ht(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=N(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&at(this._container),this},bringToBack:function(){return this._map&&lt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Sn){t=null;var n=this._source._layers;for(var i in n)if(n[i]._map){t=n[i];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=M(this.options.offset),n=this._getAnchor();this._zoomAnimated?vt(this._container,e.add(n)):t=t.add(e).add(n);var i=this._containerBottom=-t.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}});Ut.include({_initOverlay:function(e,t,n,i){var r=t;return r instanceof e||(r=new e(i).setContent(t)),n&&r.setLatLng(n),r}}),kn.include({_initOverlay:function(e,t,n,i){var r=n;return r instanceof e?(d(r,i),r._source=this):(r=t&&!i?t:new e(i,this)).setContent(n),r}});var Qn=Yn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Yn.prototype.openOn.call(this,e)},onAdd:function(e){Yn.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof En||this._source.on("preclick",$t))},onRemove:function(e){Yn.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof En||this._source.off("preclick",$t))},getEvents:function(){var e=Yn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=rt("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=rt("div",e+"-content-wrapper",t);if(this._contentNode=rt("div",e+"-content",n),It(t),Rt(this._contentNode),Tt(t,"contextmenu",$t),this._tipContainer=rt("div",e+"-tip-container",t),this._tip=rt("div",e+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=rt("a",e+"-close-button",t);i.setAttribute("role","button"),i.setAttribute("aria-label","Close popup"),i.href="#close",i.innerHTML='<span aria-hidden="true">&#215;</span>',Tt(i,"click",this.close,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var i=e.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";r&&i>r?(t.height=r+"px",ut(e,o)):ht(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();vt(this._container,t.add(n))},_adjustPan:function(e){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,n=parseInt(it(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+n,r=this._containerWidth,o=new D(this._containerLeft,-i-this._containerBottom);o._add(yt(this._container));var s=t.layerPointToContainerPoint(o),a=M(this.options.autoPanPadding),l=M(this.options.autoPanPaddingTopLeft||a),c=M(this.options.autoPanPaddingBottomRight||a),u=t.getSize(),h=0,d=0;s.x+r+c.x>u.x&&(h=s.x+r-u.x+c.x),s.x-h-l.x<0&&(h=s.x-l.x),s.y+i+c.y>u.y&&(d=s.y+i-u.y+c.y),s.y-d-l.y<0&&(d=s.y-l.y),(h||d)&&t.fire("autopanstart").panBy([h,d],{animate:e&&"moveend"===e.type})}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Ut.mergeOptions({closePopupOnClick:!0}),Ut.include({openPopup:function(e,t,n){return this._initOverlay(Qn,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),kn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Qn,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&this._popup._prepareOpen(e)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){jt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof En?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Jn=Yn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Yn.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Yn.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Yn.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=rt("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,i=this._map,r=this._container,o=i.latLngToContainerPoint(i.getCenter()),s=i.layerPointToContainerPoint(e),a=this.options.direction,l=r.offsetWidth,c=r.offsetHeight,u=M(this.options.offset),h=this._getAnchor();"top"===a?(t=l/2,n=c):"bottom"===a?(t=l/2,n=0):"center"===a?(t=l/2,n=c/2):"right"===a?(t=0,n=c/2):"left"===a?(t=l,n=c/2):s.x<o.x?(a="right",t=0,n=c/2):(a="left",t=l+2*(u.x+h.x),n=c/2),e=e.subtract(M(t,n,!0)).add(u).add(h),ht(r,"leaflet-tooltip-right"),ht(r,"leaflet-tooltip-left"),ht(r,"leaflet-tooltip-top"),ht(r,"leaflet-tooltip-bottom"),ut(r,"leaflet-tooltip-"+a),vt(r,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&ft(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Ut.include({openTooltip:function(e,t,n){return this._initOverlay(Jn,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),kn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Jn,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&this._tooltip._prepareOpen(e)&&this._tooltip.openOn(this._map),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var t,n,i=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Xn=An.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(st(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=M(n.bgPos);t.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});An.Default=Tn;var ei=kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$e.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){d(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),ot(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(at(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(lt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof D?e:new D(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,i=-e(-1/0,1/0),r=0,o=n.length;r<o;r++)t=n[r].style.zIndex,n[r]!==this._container&&t&&(i=e(i,+t));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$e.ielt9){ft(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(e-r.loaded)/200);ft(r.el,o),o<1?t=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(S(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this))}},_onOpaqueTile:l,_initContainer:function(){this._container||(this._container=rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(ot(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[e],r=this._map;return i||((i=this._levels[e]={}).el=rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=t,i.origin=r.project(r.unproject(r.getPixelOrigin()),e).round(),i.zoom=e,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:l,_onRemoveLevel:l,_onCreateLevel:l,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var i=t.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)ot(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,i){var r=Math.floor(e/2),o=Math.floor(t/2),s=n-1,a=new D(+r,+o);a.z=+s;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),s>i&&this._retainParent(r,o,s,i))},_retainChildren:function(e,t,n,i){for(var r=2*e;r<2*e+2;r++)for(var o=2*t;o<2*t+2;o++){var s=new D(r,o);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,i){var r=Math.round(t);r=void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom?void 0:this._clampZoom(r);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var i=this._map.getZoomScale(n,e.zoom),r=e.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(t,n)).round();$e.any3d?gt(e.el,r,i):vt(e.el,r)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],i).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],i).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],i).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),i=t.getZoomScale(n,this._tileZoom),r=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*i);return new $(r.subtract(o),r.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(e),r=this._pxBoundsToTileRange(i),o=r.getCenter(),s=[],a=this.options.keepBuffer,l=new $(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new D(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var h=r.min.y;h<=r.max.y;h++)for(var d=r.min.x;d<=r.max.x;d++){var p=new D(d,h);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:s.push(p)}}if(s.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(e);return F(this.options.bounds).overlaps(i)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),i=e.scaleBy(n),r=i.add(n);return[t.unproject(i,e.z),t.unproject(r,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new I(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new D(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(ot(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){ut(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=l,e.onmousemove=l,$e.ielt9&&this.options.opacity<1&&ft(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&C(i(this._tileReady,this,e,null,o)),vt(o,n),this._tiles[r]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(ft(n.el,0),S(this._fadeFrame),this._fadeFrame=C(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(ut(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$e.ielt9||!this._map._fadeAnimated?C(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new D(this._wrapX?a(e.x,this._wrapX):e.x,this._wrapY?a(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new $(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});var ti=ei.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=d(this,t)).detectRetina&&$e.retina&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Tt(n,"load",i(this._tileOnLoad,this,t,n)),Tt(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"==typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(e),n},getTileUrl:function(e){var n={r:$e.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;this.options.tms&&(n.y=i),n["-y"]=i}return m(this._url,t(n,this.options))},_tileOnLoad:function(e,t){$e.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var i=this.options.errorTileUrl;i&&t.getAttribute("src")!==i&&(t.src=i),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=l,t.onerror=l,!t.complete)){t.src=y;var n=this._tiles[e].coords;ot(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",y),ei.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==y))return ei.prototype._tileReady.call(this,e,t,n)}});function ni(e,t){return new ti(e,t)}var ii=ti.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,n){this._url=e;var i=t({},this.defaultWmsParams);for(var r in n)r in this.options||(i[r]=n[r]);var o=(n=d(this,n)).detectRetina&&$e.retina?2:1,s=this.getTileSize();i.width=s.x*o,i.height=s.y*o,this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,ti.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,i=R(n.project(t[0]),n.project(t[1])),r=i.min,o=i.max,s=(this._wmsVersion>=1.3&&this._crs===_n?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),a=ti.prototype.getTileUrl.call(this,e);return a+p(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(e,n){return t(this.wmsParams,e),n||this.redraw(),this}});ti.WMS=ii,ni.wms=function(e,t){return new ii(e,t)};var ri=kn.extend({options:{padding:.1},initialize:function(e){d(this,e),o(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&ut(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),i=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,t),o=i.multiplyBy(-n).add(r).subtract(this._map._getNewPixelOrigin(e,t));$e.any3d?gt(this._container,o,n):vt(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new $(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),oi=ri.extend({options:{tolerance:0},getEvents:function(){var e=ri.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Tt(e,"mousemove",this._onMouseMove,this),Tt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Tt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){S(this._redrawRequest),delete this._ctx,ot(this._container),Lt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ri.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),i=$e.retina?2:1;vt(t,e.min),t.width=i*n.x,t.height=i*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",$e.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[o(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,i=t.prev;n?n.prev=i:this._drawLast=i,i?i.next=n:this._drawFirst=n,delete e._order,delete this._layers[o(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,n,i=e.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(t=Number(i[n]),isNaN(t))return;r.push(t)}e.options._dashArray=r}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||C(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new $,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)e=i.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,i,r,o,s=e._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(i=0,r=s[n].length;i<r;i++)o=s[n][i],l[i?"lineTo":"moveTo"](o.x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,i=Math.max(Math.round(e._radius),1),r=(Math.max(Math.round(e._radiusY),1)||i)/i;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(t.x,t.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,i=this._map.mouseEventToLayerPoint(e),r=this._drawFirst;r;r=r.next)(t=r.layer).options.interactive&&t._containsPoint(i)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(ht(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(ut(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,i=t.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function si(e){return $e.canvas?new oi(e):null}var ai=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),li={_initContainer:function(){this._container=rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ri.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=ai("shape");ut(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=ai("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;ot(t),e.removeInteractiveTarget(t),delete this._layers[o(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,i=e.options,r=e._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(t||(t=e._stroke=ai("stroke")),r.appendChild(t),t.weight=i.weight+"px",t.color=i.color,t.opacity=i.opacity,i.dashArray?t.dashStyle=g(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=i.lineCap.replace("butt","flat"),t.joinstyle=i.lineJoin):t&&(r.removeChild(t),e._stroke=null),i.fill?(n||(n=e._fill=ai("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),i=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+i+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){at(e._container)},_bringToBack:function(e){lt(e._container)}},ci=$e.vml?ai:G,ui=ri.extend({_initContainer:function(){this._container=ci("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ci("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ot(this._container),Lt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){ri.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),vt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=ci("path");e.options.className&&ut(t,e.options.className),e.options.interactive&&ut(t,"leaflet-interactive"),this._updateStyle(e),this._layers[o(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){ot(e._path),e.removeInteractiveTarget(e._path),delete this._layers[o(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Y(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),i="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",r=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(e,r)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){at(e._path)},_bringToBack:function(e){lt(e._path)}});function hi(e){return $e.svg||$e.vml?new ui(e):null}$e.vml&&ui.include(li),Ut.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&si(e)||hi(e)}});var di=$n.extend({initialize:function(e,t){$n.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=F(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});ui.create=ci,ui.pointsToPath=Y,Rn.geometryToLayer=In,Rn.coordsToLatLng=jn,Rn.coordsToLatLngs=Nn,Rn.latLngToCoords=zn,Rn.latLngsToCoords=qn,Rn.getFeature=Vn,Rn.asFeature=Bn,Ut.mergeOptions({boxZoom:!0});var pi=Jt.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ot(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),Ke(),wt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Tt(document,{contextmenu:jt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=rt("div","leaflet-zoom-box",this._container),ut(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new $(this._point,this._startPoint),n=t.getSize();vt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(ot(this._box),ht(this._container,"leaflet-crosshair")),Ge(),_t(),Lt(document,{contextmenu:jt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new I(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ut.addInitHook("addHandler","boxZoom",pi),Ut.mergeOptions({doubleClickZoom:!0});var fi=Jt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),i=t.options.zoomDelta,r=e.originalEvent.shiftKey?n-i:n+i;"center"===t.options.doubleClickZoom?t.setZoom(r):t.setZoomAround(e.containerPoint,r)}});Ut.addInitHook("addHandler","doubleClickZoom",fi),Ut.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var mi=Jt.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new nn(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}ut(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ht(this._map._container,"leaflet-grab"),ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=F(this._map.options.maxBounds);this._offsetLimit=R(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-t+n)%e+t-n,o=(i+t+n)%e-t-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(e){var t=this._map,n=t.options,i=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),i)t.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=r.multiplyBy(s/o),l=a.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=a.multiplyBy(c/l),h=c/(n.inertiaDeceleration*s),d=u.multiplyBy(-h/2).round();d.x||d.y?(d=t._limitOffset(d,t.options.maxBounds),C((function(){t.panBy(d,{duration:h,easeLinearity:s,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});Ut.addInitHook("addHandler","dragging",mi),Ut.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gi=Jt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Tt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Lt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,i=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,i=this._panKeys={},r=this.keyCodes;for(t=0,n=r.left.length;t<n;t++)i[r.left[t]]=[-1*e,0];for(t=0,n=r.right.length;t<n;t++)i[r.right[t]]=[e,0];for(t=0,n=r.down.length;t<n;t++)i[r.down[t]]=[0,e];for(t=0,n=r.up.length;t<n;t++)i[r.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,i=this._zoomKeys={},r=this.keyCodes;for(t=0,n=r.zoomIn.length;t<n;t++)i[r.zoomIn[t]]=e;for(t=0,n=r.zoomOut.length;t<n;t++)i[r.zoomOut[t]]=-e},_addHooks:function(){Tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(t=this._panKeys[n],e.shiftKey&&(t=M(t).multiplyBy(3)),i.panBy(t),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}jt(e)}}});Ut.addInitHook("addHandler","keyboard",gi),Ut.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var vi=Jt.extend({addHooks:function(){Tt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=qt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),jt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,s=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,s&&("center"===e.options.scrollWheelZoom?e.setZoom(t+s):e.setZoomAround(this._lastMousePos,t+s))}});Ut.addInitHook("addHandler","scrollWheelZoom",vi);Ut.mergeOptions({tapHold:$e.touchNative&&$e.safari&&$e.mobile,tapTolerance:15});var yi=Jt.extend({addHooks:function(){Tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new D(t.clientX,t.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Tt(document,"touchend",Ft),Tt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),600),Tt(document,"touchend touchcancel contextmenu",this._cancel,this),Tt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Lt(document,"touchend",Ft),Lt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new D(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});Ut.addInitHook("addHandler","tapHold",yi),Ut.mergeOptions({touchZoom:$e.touch,bounceAtZoomLimits:!0});var bi=Jt.extend({addHooks:function(){ut(this._map._container,"leaflet-touch-zoom"),Tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ht(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),i=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Tt(document,"touchmove",this._onTouchMove,this),Tt(document,"touchend touchcancel",this._onTouchEnd,this),Ft(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),S(this._animRequest);var a=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=C(a,this,!0),Ft(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,S(this._animRequest),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Ut.addInitHook("addHandler","touchZoom",bi),Ut.BoxZoom=pi,Ut.DoubleClickZoom=fi,Ut.Drag=mi,Ut.Keyboard=gi,Ut.ScrollWheelZoom=vi,Ut.TapHold=yi,Ut.TouchZoom=bi,e.Bounds=$,e.Browser=$e,e.CRS=q,e.Canvas=oi,e.Circle=Pn,e.CircleMarker=Dn,e.Class=T,e.Control=Ht,e.DivIcon=Xn,e.DivOverlay=Yn,e.DomEvent=Bt,e.DomUtil=At,e.Draggable=nn,e.Evented=E,e.FeatureGroup=Sn,e.GeoJSON=Rn,e.GridLayer=ei,e.Handler=Jt,e.Icon=An,e.ImageOverlay=Zn,e.LatLng=j,e.LatLngBounds=I,e.Layer=kn,e.LayerGroup=Cn,e.LineUtil=fn,e.Map=Ut,e.Marker=Ln,e.Mixin=en,e.Path=En,e.Point=D,e.PolyUtil=gn,e.Polygon=$n,e.Polyline=Mn,e.Popup=Qn,e.PosAnimation=Wt,e.Projection=bn,e.Rectangle=di,e.Renderer=ri,e.SVG=ui,e.SVGOverlay=Gn,e.TileLayer=ti,e.Tooltip=Jn,e.Transformation=U,e.Util=A,e.VideoOverlay=Kn,e.bind=i,e.bounds=R,e.canvas=si,e.circle=function(e,t,n){return new Pn(e,t,n)},e.circleMarker=function(e,t){return new Dn(e,t)},e.control=Zt,e.divIcon=function(e){return new Xn(e)},e.extend=t,e.featureGroup=function(e,t){return new Sn(e,t)},e.geoJSON=Un,e.geoJson=Hn,e.gridLayer=function(e){return new ei(e)},e.icon=function(e){return new An(e)},e.imageOverlay=function(e,t,n){return new Zn(e,t,n)},e.latLng=N,e.latLngBounds=F,e.layerGroup=function(e,t){return new Cn(e,t)},e.map=function(e,t){return new Ut(e,t)},e.marker=function(e,t){return new Ln(e,t)},e.point=M,e.polygon=function(e,t){return new $n(e,t)},e.polyline=function(e,t){return new Mn(e,t)},e.popup=function(e,t){return new Qn(e,t)},e.rectangle=function(e,t){return new di(e,t)},e.setOptions=d,e.stamp=o,e.svg=hi,e.svgOverlay=function(e,t,n){return new Gn(e,t,n)},e.tileLayer=ni,e.tooltip=function(e,t){return new Jn(e,t)},e.transformation=H,e.version="1.8.0",e.videoOverlay=function(e,t,n){return new Kn(e,t,n)};var wi=window.L;e.noConflict=function(){return window.L=wi,this},window.L=e}(t)},3459:(e,t,n)=>{"use strict";n.d(t,{Kj:()=>gn});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};function s(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function a(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function l(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function u(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var h=function(){function e(){}return e.prototype.valueOf=function(){},e.prototype.liquidMethodMissing=function(e){},e}(),d=Object.prototype.toString,p=String.prototype.toLowerCase,f=Object.hasOwnProperty;function m(e){return"string"==typeof e}function g(e){return"function"==typeof e}function v(e){return m(e=y(e))?e:_(e)?"":x(e)?e.map((function(e){return v(e)})).join(""):String(e)}function y(e){return e instanceof h?e.valueOf():e}function b(e){return"number"==typeof e}function w(e){return e&&g(e.toLiquid)?w(e.toLiquid()):e}function _(e){return null==e}function x(e){return"[object Array]"===d.call(e)}function k(e,t){for(var n in e=e||{})if(f.call(e,n)&&!1===t(e[n],n,e))break;return e}function C(e){return e[e.length-1]}function S(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function A(e,t,n){void 0===n&&(n=1);for(var i=[],r=e;r<t;r+=n)i.push(r);return i}function T(e,t,n){return void 0===n&&(n=" "),O(e,t,n,(function(e,t){return t+e}))}function O(e,t,n,i){for(var r=t-(e=String(e)).length;r-- >0;)e=i(e,n);return e}function L(e){return e}function E(e){return e.replace(/(\w?)([A-Z])/g,(function(e,t,n){return(t?t+"_":"")+n.toLowerCase()}))}function D(e,t){return null==e&&null==t?0:null==e?1:null==t||(e=p.call(e))<(t=p.call(t))?-1:e>t?1:0}function P(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,u([],c(t.map(y)),!1))}}function M(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}var $=function(e,t,n,i){this.key=e,this.value=t,this.next=n,this.prev=i},R=function(){function e(e,t){void 0===t&&(t=0),this.limit=e,this.size=t,this.cache={},this.head=new $("HEAD",null,null,null),this.tail=new $("TAIL",null,null,null),this.head.next=this.tail,this.tail.prev=this.head}return e.prototype.write=function(e,t){if(this.cache[e])this.cache[e].value=t;else{var n=new $(e,t,this.head.next,this.head);this.head.next.prev=n,this.head.next=n,this.cache[e]=n,this.size++,this.ensureLimit()}},e.prototype.read=function(e){if(this.cache[e]){var t=this.cache[e].value;return this.remove(e),this.write(e,t),t}},e.prototype.remove=function(e){var t=this.cache[e];t.prev.next=t.next,t.next.prev=t.prev,delete this.cache[e],this.size--},e.prototype.clear=function(){this.head.next=this.tail,this.tail.prev=this.head,this.size=0,this.cache={}},e.prototype.ensureLimit=function(){this.size>this.limit&&this.remove(this.tail.prev.key)},e}();function I(e,t){var n=document.createElement("base");n.href=e;var i=document.getElementsByTagName("head")[0];i.insertBefore(n,i.firstChild);var r=document.createElement("a");r.href=t;var o=r.href;return i.removeChild(n),o}var F=Object.freeze({__proto__:null,resolve:function(e,t,n){return e.length&&"/"!==C(e)&&(e+="/"),I(e,t).replace(/^(\w+:\/\/[^/]+)(\/[^?]+)/,(function(e,t,i){var r=i.split("/").pop();return/\.\w+$/.test(r)?e:t+i+n}))},readFile:function(e){return s(this,void 0,void 0,(function(){return a(this,(function(t){return[2,new Promise((function(t,n){var i=new XMLHttpRequest;i.onload=function(){i.status>=200&&i.status<300?t(i.responseText):n(new Error(i.statusText))},i.onerror=function(){n(new Error("An error occurred whilst receiving the response."))},i.open("GET",e),i.send()}))]}))}))},readFileSync:function(e){var t=new XMLHttpRequest;if(t.open("GET",e,!1),t.send(),t.status<200||t.status>=300)throw new Error(t.statusText);return t.responseText},exists:function(e){return s(this,void 0,void 0,(function(){return a(this,(function(e){return[2,!0]}))}))},existsSync:function(e){return!0},dirname:function(e){return I(e,".")},sep:"/"});function j(e){return e&&g(e.equals)}function N(e,t){return!z(e,t)}function z(e,t){return t.opts.jsTruthy?!e:!1===e||null==e}var q={"==":function(e,t){return j(e)?e.equals(t):j(t)?t.equals(e):e===t},"!=":function(e,t){return j(e)?!e.equals(t):j(t)?!t.equals(e):e!==t},">":function(e,t){return j(e)?e.gt(t):j(t)?t.lt(e):e>t},"<":function(e,t){return j(e)?e.lt(t):j(t)?t.gt(e):e<t},">=":function(e,t){return j(e)?e.geq(t):j(t)?t.leq(e):e>=t},"<=":function(e,t){return j(e)?e.leq(t):j(t)?t.geq(e):e<=t},contains:function(e,t){return e=y(e),t=y(t),!(!e||!g(e.indexOf))&&e.indexOf(t)>-1},and:function(e,t,n){return N(e,n)&&N(t,n)},or:function(e,t,n){return N(e,n)||N(t,n)}},V=[0,0,0,0,0,0,0,0,0,20,4,4,4,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,20,2,8,0,0,0,0,8,0,0,0,64,0,65,0,0,33,33,33,33,33,33,33,33,33,33,0,0,2,2,2,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0];function B(e){var t,n,i={};try{for(var r=l(Object.entries(e)),o=r.next();!o.done;o=r.next()){for(var s=c(o.value,2),a=s[0],u=s[1],h=i,d=0;d<a.length;d++){var p=a[d];h[p]=h[p]||{},d===a.length-1&&1&V[a.charCodeAt(d)]&&(h[p].needBoundary=!0),h=h[p]}h.handler=u,h.end=!0}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return i}V[160]=V[5760]=V[6158]=V[8192]=V[8193]=V[8194]=V[8195]=V[8196]=V[8197]=V[8198]=V[8199]=V[8200]=V[8201]=V[8202]=V[8232]=V[8233]=V[8239]=V[8287]=V[12288]=4;var W={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},U={"&amp;":"&","&lt;":"<","&gt;":">","&#34;":'"',"&#39;":"'"};function H(e){return v(e).replace(/&|<|>|"|'/g,(function(e){return W[e]}))}var Z=P(Math.abs),K=P(Math.max),G=P(Math.min),Y=P(Math.ceil),Q=P((function(e,t,n){return void 0===n&&(n=!1),n?Math.floor(e/t):e/t})),J=P(Math.floor),X=P((function(e,t){return e-t})),ee=P((function(e,t){return e%t})),te=P((function(e,t){return e*t}));function ne(e){return x(e)?e:m(e)&&e.length>0?[e]:S(e)?Object.keys(e).map((function(t){return[t,e[t]]})):[]}function ie(e){return _(e)?[]:x(e)?e:[e]}var re=P((function(e,t){return ie(e).join(void 0===t?" ":t)})),oe=P((function(e){return x(e)?C(e):""})),se=P((function(e){return x(e)?e[0]:""})),ae=P((function(e){return u([],c(ie(e)),!1).reverse()})),le=/%([-_0^#:]+)?(\d+)?([EO])?(.)/,ce=["January","February","March","April","May","June","July","August","September","October","November","December"],ue=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],he=ce.map(fe),de=ue.map(fe),pe={1:"st",2:"nd",3:"rd",default:"th"};function fe(e){return e.slice(0,3)}function me(e){var t=function(e){var t=e.getFullYear();return!(0!=(3&t)||!(t%100||t%400==0&&t))}(e)?29:28;return[31,t,31,30,31,30,31,31,30,31,30,31]}function ge(e){for(var t=0,n=0;n<e.getMonth();++n)t+=me(e)[n];return t+e.getDate()}function ve(e,t){var n=ge(e)+(t-e.getDay()),i=7-new Date(e.getFullYear(),0,1).getDay()+t;return String(Math.floor((n-i)/7)+1)}var ye={d:2,e:2,H:2,I:2,j:3,k:2,l:2,L:3,m:2,M:2,S:2,U:2,W:2},be={a:" ",A:" ",b:" ",B:" ",c:" ",e:" ",k:" ",l:" ",p:" ",P:" "},we={a:function(e){return de[e.getDay()]},A:function(e){return ue[e.getDay()]},b:function(e){return he[e.getMonth()]},B:function(e){return ce[e.getMonth()]},c:function(e){return e.toLocaleString()},C:function(e){return function(e){return parseInt(e.getFullYear().toString().substring(0,2),10)}(e)},d:function(e){return e.getDate()},e:function(e){return e.getDate()},H:function(e){return e.getHours()},I:function(e){return String(e.getHours()%12||12)},j:function(e){return ge(e)},k:function(e){return e.getHours()},l:function(e){return String(e.getHours()%12||12)},L:function(e){return e.getMilliseconds()},m:function(e){return e.getMonth()+1},M:function(e){return e.getMinutes()},N:function(e,t){var n,i,r=Number(t.width)||9;return n=String(e.getMilliseconds()).substr(0,r),void 0===(i="0")&&(i=" "),O(n,r,i,(function(e,t){return e+t}))},p:function(e){return e.getHours()<12?"AM":"PM"},P:function(e){return e.getHours()<12?"am":"pm"},q:function(e){return function(e){var t=e.getDate().toString(),n=parseInt(t.slice(-1));return pe[n]||pe.default}(e)},s:function(e){return Math.round(e.getTime()/1e3)},S:function(e){return e.getSeconds()},u:function(e){return e.getDay()||7},U:function(e){return ve(e,0)},w:function(e){return e.getDay()},W:function(e){return ve(e,1)},x:function(e){return e.toLocaleDateString()},X:function(e){return e.toLocaleTimeString()},y:function(e){return e.getFullYear().toString().substring(2,4)},Y:function(e){return e.getFullYear()},z:function(e,t){var n=Math.abs(e.getTimezoneOffset()),i=Math.floor(n/60),r=n%60;return(e.getTimezoneOffset()>0?"-":"+")+T(i,2,"0")+(t.flags[":"]?":":"")+T(r,2,"0")},t:function(){return"\t"},n:function(){return"\n"},"%":function(){return"%"}};function _e(e,t){var n,i,r=c(t,5),o=r[0],s=r[1],a=void 0===s?"":s,h=r[2],d=r[3],p=r[4],f=we[p];if(!f)return o;var m={};try{for(var g=l(a),v=g.next();!v.done;v=g.next())m[v.value]=!0}catch(e){n={error:e}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}var y,b=String(f(e,{flags:m,width:h,modifier:d})),w=be[p]||"0",_=h||ye[p]||0;return m["^"]?b=b.toUpperCase():m["#"]&&(b=u([],c(y=b),!1).some((function(e){return e>="a"&&e<="z"}))?y.toUpperCase():y.toLowerCase()),m._?w=" ":m[0]&&(w="0"),m["-"]&&(_=0),T(b,_,w)}we.h=we.b;var xe=(new Date).getTimezoneOffset(),ke=/([zZ]|([+-])(\d{2}):(\d{2}))$/,Ce=function(){function e(t,n){if(t instanceof e)this.date=t.date,n=t.timezoneOffset;else{var i=6e4*(xe-n),r=new Date(t).getTime()+i;this.date=new Date(r)}this.timezoneOffset=n}return e.prototype.getTime=function(){return this.date.getTime()},e.prototype.getMilliseconds=function(){return this.date.getMilliseconds()},e.prototype.getSeconds=function(){return this.date.getSeconds()},e.prototype.getMinutes=function(){return this.date.getMinutes()},e.prototype.getHours=function(){return this.date.getHours()},e.prototype.getDay=function(){return this.date.getDay()},e.prototype.getDate=function(){return this.date.getDate()},e.prototype.getMonth=function(){return this.date.getMonth()},e.prototype.getFullYear=function(){return this.date.getFullYear()},e.prototype.toLocaleTimeString=function(e){return this.date.toLocaleTimeString(e)},e.prototype.toLocaleDateString=function(e){return this.date.toLocaleDateString(e)},e.prototype.getTimezoneOffset=function(){return this.timezoneOffset},e.createDateFixedToTimezone=function(t){var n=t.match(ke);if(n&&"Z"===n[1])return new e(+new Date(t),0);if(n&&n[2]&&n[3]&&n[4]){var i=c(n,5),r=i[2],o=i[3],s=i[4],a=("+"===r?-1:1)*(60*parseInt(o,10)+parseInt(s,10));return new e(+new Date(t),a)}return new Date(t)},e}(),Se=L,Ae=function(e){function t(t,n){var i=e.call(this,t.message)||this;return i.originalError=t,i.token=n,i.context="",i}return r(t,e),t.prototype.update=function(){var e,t,n,i,r=this.originalError;this.context=(e=this.token,t=c(e.getPosition(),1)[0],n=e.input.split("\n"),A(Math.max(t-2,1),(i=Math.min(t+3,n.length))+1).map((function(e){var r=e===t?">> ":"   ",o=T(String(e),String(i).length),s=n[e-1];return"".concat(r).concat(o,"| ").concat(s)})).join("\n")),this.message=function(e,t){t.file&&(e+=", file:".concat(t.file));var n=c(t.getPosition(),2),i=n[0],r=n[1];return e+", line:".concat(i,", col:").concat(r)}(r.message,this.token),this.stack=this.message+"\n"+this.context+"\n"+this.stack+"\nFrom "+r.stack},t}(Error),Te=function(e){function t(t,n){var i=e.call(this,new Error(t),n)||this;return i.name="TokenizationError",e.prototype.update.call(i),i}return r(t,e),t}(Ae),Oe=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.name="ParseError",i.message=t.message,e.prototype.update.call(i),i}return r(t,e),t}(Ae),Le=function(e){function t(t,n){var i=e.call(this,t,n.token)||this;return i.name="RenderError",i.message=t.message,e.prototype.update.call(i),i}return r(t,e),t.is=function(e){return"RenderError"===e.name},t}(Ae),Ee=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.name="UndefinedVariableError",i.message=t.message,e.prototype.update.call(i),i}return r(t,e),t}(Ae),De=function(e){function t(t){var n=e.call(this,"undefined variable: ".concat(t))||this;return n.name="InternalUndefinedVariableError",n.variableName=t,n}return r(t,e),t}(Error),Pe=function(e){function t(t){var n=e.call(this,t)||this;return n.name="AssertionError",n.message=t+"",n}return r(t,e),t}(Error);function Me(e,t){if(!e){var n="function"==typeof t?t():t||"expect ".concat(e," to be true");throw new Pe(n)}}var $e,Re=Object.freeze({__proto__:null,escape:H,escapeOnce:function(e){return H(function(e){return v(e).replace(/&(amp|lt|gt|#34|#39);/g,(function(e){return U[e]}))}(v(e)))},newlineToBr:function(e){return v(e).replace(/\n/g,"<br />\n")},stripHtml:function(e){return v(e).replace(/<script.*?<\/script>|<!--.*?-->|<style.*?<\/style>|<.*?>/g,"")},abs:Z,atLeast:K,atMost:G,ceil:Y,dividedBy:Q,floor:J,minus:X,modulo:ee,times:te,round:function(e,t){void 0===t&&(t=0),e=y(e),t=y(t);var n=Math.pow(10,t);return Math.round(e*n)/n},plus:function(e,t){return e=y(e),t=y(t),Number(e)+Number(t)},urlDecode:function(e){return v(e).split("+").map(decodeURIComponent).join(" ")},urlEncode:function(e){return v(e).split(" ").map(encodeURIComponent).join("+")},join:re,last:oe,first:se,reverse:ae,sort:function(e,t){var n=this;e=y(e);var i=function(e){return t?n.context.getFromScope(e,v(t).split(".")):e};return u([],c(ie(e)),!1).sort((function(e,t){return(e=i(e))<(t=i(t))?-1:e>t?1:0}))},sortNatural:function(e,t){e=y(e);var n=v(t),i=void 0===t?D:function(e,t){return D(e[n],t[n])};return u([],c(ie(e)),!1).sort(i)},size:function(e){return e&&e.length||0},map:function(e,t){var n=this;return ie(e=y(e)).map((function(e){return n.context.getFromScope(e,v(t).split("."))}))},compact:function(e){return ie(e=y(e)).filter((function(e){return!_(y(e))}))},concat:function(e,t){return void 0===t&&(t=[]),e=y(e),t=ie(t).map((function(e){return y(e)})),ie(e).concat(t)},slice:function(e,t,n){return void 0===n&&(n=1),_(e=y(e))?[]:(x(e)||(e=v(e)),t=t<0?e.length+t:t,e.slice(t,t+n))},where:function(e,t,n){var i=this;return ie(e=y(e)).filter((function(e){var r=i.context.getFromScope(e,v(t).split("."));return void 0===n?N(r,i.context):j(n)?n.equals(r):r===n}))},uniq:function(e){e=y(e);var t={};return(e||[]).filter((function(e){return!f.call(t,String(e))&&(t[String(e)]=!0,!0)}))},date:function(e,t){var n,i=this.context.opts;return e=y(e),t=v(t),function(e){return(e instanceof Date||e instanceof Ce)&&!isNaN(e.getTime())}(n="now"===e||"today"===e?new Date:b(e)?new Date(1e3*e):m(e)?/^\d+$/.test(e)?new Date(1e3*+e):i.preserveTimezones?Ce.createDateFixedToTimezone(e):new Date(e):e)?(i.hasOwnProperty("timezoneOffset")&&(n=new Ce(n,i.timezoneOffset)),function(e,t){for(var n,i="",r=t;n=le.exec(r);)i+=r.slice(0,n.index),r=r.slice(n.index+n[0].length),i+=_e(e,n);return i+r}(n,t)):e},Default:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return x(e=y(e))||m(e)?e.length?e:t:(!1!==e||!new Map(n).get("allow_false"))&&(z(e,this.context)?t:e)},json:function(e){return JSON.stringify(e)},raw:Se,append:function(e,t){return Me(2===arguments.length,"append expect 2 arguments"),v(e)+v(t)},prepend:function(e,t){return Me(2===arguments.length,"prepend expect 2 arguments"),v(t)+v(e)},lstrip:function(e,t){return t?(t=M(v(t)),v(e).replace(new RegExp("^[".concat(t,"]+"),"g"),"")):v(e).replace(/^\s+/,"")},downcase:function(e){return v(e).toLowerCase()},upcase:function(e){return v(e).toUpperCase()},remove:function(e,t){return v(e).split(String(t)).join("")},removeFirst:function(e,t){return v(e).replace(String(t),"")},rstrip:function(e,t){return t?(t=M(v(t)),v(e).replace(new RegExp("[".concat(t,"]+$"),"g"),"")):v(e).replace(/\s+$/,"")},split:function(e,t){for(var n=v(e).split(String(t));n.length&&""===n[n.length-1];)n.pop();return n},strip:function(e,t){return t?(t=M(v(t)),v(e).replace(new RegExp("^[".concat(t,"]+"),"g"),"").replace(new RegExp("[".concat(t,"]+$"),"g"),"")):v(e).trim()},stripNewlines:function(e){return v(e).replace(/\n/g,"")},capitalize:function(e){return(e=v(e)).charAt(0).toUpperCase()+e.slice(1).toLowerCase()},replace:function(e,t,n){return v(e).split(String(t)).join(n)},replaceFirst:function(e,t,n){return v(e).replace(String(t),n)},truncate:function(e,t,n){return void 0===t&&(t=50),void 0===n&&(n="..."),(e=v(e)).length<=t?e:e.substring(0,t-n.length)+n},truncatewords:function(e,t,n){void 0===t&&(t=15),void 0===n&&(n="...");var i=v(e).split(/\s+/),r=i.slice(0,t).join(" ");return i.length>=t&&(r+=n),r}});function Ie(e){return ze(e)===$e.Operator}function Fe(e){return ze(e)===$e.HTML}function je(e){return ze(e)===$e.Tag}function Ne(e){return ze(e)===$e.Quoted}function ze(e){return e?e.kind:-1}!function(e){e[e.Number=1]="Number",e[e.Literal=2]="Literal",e[e.Tag=4]="Tag",e[e.Output=8]="Output",e[e.HTML=16]="HTML",e[e.Filter=32]="Filter",e[e.Hash=64]="Hash",e[e.PropertyAccess=128]="PropertyAccess",e[e.Word=256]="Word",e[e.Range=512]="Range",e[e.Quoted=1024]="Quoted",e[e.Operator=2048]="Operator",e[e.Delimited=12]="Delimited"}($e||($e={}));var qe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.equals=function(e){return _(y(e))},t.prototype.gt=function(){return!1},t.prototype.geq=function(){return!1},t.prototype.lt=function(){return!1},t.prototype.leq=function(){return!1},t.prototype.valueOf=function(){return null},t}(h),Ve=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.equals=function(e){return!(e instanceof t||(m(e=y(e))||x(e)?0!==e.length:!S(e)||0!==Object.keys(e).length))},t.prototype.gt=function(){return!1},t.prototype.geq=function(){return!1},t.prototype.lt=function(){return!1},t.prototype.leq=function(){return!1},t.prototype.valueOf=function(){return""},t}(h),Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.equals=function(t){return!1===t||!!_(y(t))||(m(t)?/^\s*$/.test(t):e.prototype.equals.call(this,t))},t}(Ve),We=new qe,Ue={true:!0,false:!1,nil:We,null:We,empty:new Ve,blank:new Be},He=/[\da-fA-F]/,Ze=/[0-7]/,Ke={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v"};function Ge(e){var t=e.charCodeAt(0);return t>=97?t-87:t>=65?t-55:t-48}function Ye(e){for(var t="",n=1;n<e.length-1;n++)if("\\"===e[n])if(void 0!==Ke[e[n+1]])t+=Ke[e[++n]];else if("u"===e[n+1]){for(var i=0,r=n+2;r<=n+5&&He.test(e[r]);)i=16*i+Ge(e[r++]);n=r-1,t+=String.fromCharCode(i)}else if(Ze.test(e[n+1])){for(r=n+1,i=0;r<=n+3&&Ze.test(e[r]);)i=8*i+Ge(e[r++]);n=r-1,t+=String.fromCharCode(i)}else t+=e[++n];else t+=e[n];return t}var Qe=function(){function e(e){this.postfix=u([],c(function(e){var t,n,i,r,o,s,c;return a(this,(function(a){switch(a.label){case 0:t=[],a.label=1;case 1:a.trys.push([1,10,11,12]),n=l(e),i=n.next(),a.label=2;case 2:if(i.done)return[3,9];if(!Ie(r=i.value))return[3,6];a.label=3;case 3:return t.length&&t[t.length-1].getPrecedence()>r.getPrecedence()?[4,t.pop()]:[3,5];case 4:return a.sent(),[3,3];case 5:return t.push(r),[3,8];case 6:return[4,r];case 7:a.sent(),a.label=8;case 8:return i=n.next(),[3,2];case 9:return[3,12];case 10:return o=a.sent(),s={error:o},[3,12];case 11:try{i&&!i.done&&(c=n.return)&&c.call(n)}finally{if(s)throw s.error}return[7];case 12:return t.length?[4,t.pop()]:[3,14];case 13:return a.sent(),[3,12];case 14:return[2]}}))}(e)),!1)}return e.prototype.evaluate=function(e,t){var n,i,r,o,s,c,u,h,d,p,f,m;return a(this,(function(a){switch(a.label){case 0:Me(e,"unable to evaluate: context not defined"),n=[],a.label=1;case 1:a.trys.push([1,9,10,11]),i=l(this.postfix),r=i.next(),a.label=2;case 2:return r.done?[3,8]:Ie(o=r.value)?[4,n.pop()]:[3,5];case 3:return s=a.sent(),[4,n.pop()];case 4:return c=a.sent(),u=function(e,t,n,i,r){return(0,e[t.operator])(n,i,r)}(e.opts.operators,o,c,s,e),n.push(u),[3,7];case 5:return d=(h=n).push,[4,Je(o,e,t&&1===this.postfix.length)];case 6:d.apply(h,[a.sent()]),a.label=7;case 7:return r=i.next(),[3,2];case 8:return[3,11];case 9:return p=a.sent(),f={error:p},[3,11];case 10:try{r&&!r.done&&(m=i.return)&&m.call(i)}finally{if(f)throw f.error}return[7];case 11:return[2,n[0]]}}))},e}();function Je(e,t,n){return void 0===n&&(n=!1),ze(e)===$e.PropertyAccess?function(e,t,n){var i=e.props.map((function(e){return Je(e,t,!1)}));try{return t.get(u([e.propertyName],c(i),!1))}catch(t){if(n&&"InternalUndefinedVariableError"===t.name)return null;throw new Ee(t,e)}}(e,t,n):function(e){return ze(e)===$e.Range}(e)?function(e,t){return A(+Je(e.lhs,t),+Je(e.rhs,t)+1)}(e,t):function(e){return ze(e)===$e.Literal}(e)?function(e){return Ue[e.literal]}(e):function(e){return ze(e)===$e.Number}(e)?function(e){var t=e.whole.content+"."+(e.decimal?e.decimal.content:"");return Number(t)}(e):function(e){return ze(e)===$e.Word}(e)?e.getText():Ne(e)?Xe(e):void 0}function Xe(e){return Ye(e.getText())}var et=function(){function e(e,t,n,i,r){this.kind=e,this.input=t,this.begin=n,this.end=i,this.file=r}return e.prototype.getText=function(){return this.input.slice(this.begin,this.end)},e.prototype.getPosition=function(){for(var e=c([1,1],2),t=e[0],n=e[1],i=0;i<this.begin;i++)"\n"===this.input[i]?(t++,n=1):n++;return[t,n]},e.prototype.size=function(){return this.end-this.begin},e}(),tt=function(e){function t(t,n,i,r,o,s,a,l){var c=e.call(this,t,i,r,o,l)||this;c.trimLeft=!1,c.trimRight=!1,c.content=c.getText();var u="-"===n[0],h="-"===C(n);return c.content=n.slice(u?1:0,h?-1:n.length).trim(),c.trimLeft=u||s,c.trimRight=h||a,c}return r(t,e),t}(et);function nt(e,t){if(e&&Fe(e))for(var n=t?4:16;V[e.input.charCodeAt(e.end-1-e.trimRight)]&n;)e.trimRight++}function it(e,t){if(e&&Fe(e)){for(var n=t?4:16;V[e.input.charCodeAt(e.begin+e.trimLeft)]&n;)e.trimLeft++;"\n"===e.input.charAt(e.begin+e.trimLeft)&&e.trimLeft++}}var rt=function(e){function t(t,n){var i=e.call(this,$e.Number,t.input,t.begin,n?n.end:t.end,t.file)||this;return i.whole=t,i.decimal=n,i}return r(t,e),t}(et),ot=function(e){function t(t,n,i,r){var o=e.call(this,$e.Word,t,n,i,r)||this;return o.input=t,o.begin=n,o.end=i,o.file=r,o.content=o.getText(),o}return r(t,e),t.prototype.isNumber=function(e){void 0===e&&(e=!1);for(var t=e&&64&V[this.input.charCodeAt(this.begin)]?this.begin+1:this.begin;t<this.end;t++)if(!(32&V[this.input.charCodeAt(t)]))return!1;return!0},t}(et),st=function(e){function t(t,n,i,r){var o=e.call(this,$e.Literal,t,n,i,r)||this;return o.input=t,o.begin=n,o.end=i,o.file=r,o.literal=o.getText(),o}return r(t,e),t}(et),at={"==":1,"!=":1,">":1,"<":1,">=":1,"<=":1,contains:1,and:0,or:0},lt=function(e){function t(t,n,i,r){var o=e.call(this,$e.Operator,t,n,i,r)||this;return o.input=t,o.begin=n,o.end=i,o.file=r,o.operator=o.getText(),o}return r(t,e),t.prototype.getPrecedence=function(){var e=this.getText();return e in at?at[e]:1},t}(et),ct=function(e){function t(t,n,i){var r=e.call(this,$e.PropertyAccess,t.input,t.begin,i,t.file)||this;return r.variable=t,r.props=n,r.propertyName=r.variable instanceof ot?r.variable.getText():Ye(r.variable.getText()),r}return r(t,e),t}(et),ut=function(e){function t(t,n,i,r,o,s){var a=e.call(this,$e.Filter,i,r,o,s)||this;return a.name=t,a.args=n,a}return r(t,e),t}(et),ht=function(e){function t(t,n,i,r,o,s){var a=e.call(this,$e.Hash,t,n,i,s)||this;return a.input=t,a.begin=n,a.end=i,a.name=r,a.value=o,a.file=s,a}return r(t,e),t}(et),dt=function(e){function t(t,n,i,r){var o=e.call(this,$e.Quoted,t,n,i,r)||this;return o.input=t,o.begin=n,o.end=i,o.file=r,o}return r(t,e),t}(et),pt=function(e){function t(t,n,i,r){var o=e.call(this,$e.HTML,t,n,i,r)||this;return o.input=t,o.begin=n,o.end=i,o.file=r,o.trimLeft=0,o.trimRight=0,o}return r(t,e),t.prototype.getContent=function(){return this.input.slice(this.begin+this.trimLeft,this.end-this.trimRight)},t}(et),ft=function(e){function t(t,n,i,r,o,s){var a=e.call(this,$e.Range,t,n,i,s)||this;return a.input=t,a.begin=n,a.end=i,a.lhs=r,a.rhs=o,a.file=s,a}return r(t,e),t}(et),mt=function(e){function t(t,n,i,r,o){var s=r.trimOutputLeft,a=r.trimOutputRight,l=r.outputDelimiterLeft,c=r.outputDelimiterRight,u=t.slice(n+l.length,i-c.length);return e.call(this,$e.Output,u,t,n,i,s,a,o)||this}return r(t,e),t}(tt),gt=function(e){function t(t,n,i,r,o){var s=this,a=t.slice(n,i);if(s=e.call(this,$e.Tag,a,t,n,i,!1,!1,o)||this,/\S/.test(a)){var l=new vt(s.content,r.operatorsTrie);if(s.name=l.readIdentifier().getText(),!s.name)throw new Te("illegal liquid tag syntax",s);l.skipBlank(),s.args=l.remaining()}else s.name="",s.args="";return s}return r(t,e),t}(tt),vt=function(){function e(e,t,n){void 0===n&&(n=""),this.input=e,this.trie=t,this.file=n,this.p=0,this.rawBeginAt=-1,this.N=e.length}return e.prototype.readExpression=function(){return new Qe(this.readExpressionTokens())},e.prototype.readExpressionTokens=function(){var e,t,n;return a(this,(function(i){switch(i.label){case 0:return(e=this.readValue())?[4,e]:[2];case 1:i.sent(),i.label=2;case 2:return this.p<this.N?(t=this.readOperator())&&(n=this.readValue())?[4,t]:[2]:[3,5];case 3:return i.sent(),[4,n];case 4:return i.sent(),[3,2];case 5:return[2]}}))},e.prototype.readOperator=function(){this.skipBlank();var e=function(e,t,n,i){void 0===i&&(i=e.length);for(var r,o=n,s=t;o[e[s]]&&s<i;)(o=o[e[s++]]).end&&(r=o);return r?r.needBoundary&&1&V[e.charCodeAt(s)]?-1:s:-1}(this.input,this.p,this.trie);if(-1!==e)return new lt(this.input,this.p,this.p=e,this.file)},e.prototype.readFilters=function(){for(var e=[];;){var t=this.readFilter();if(!t)return e;e.push(t)}},e.prototype.readFilter=function(){var e=this;if(this.skipBlank(),this.end())return null;Me("|"===this.peek(),(function(){return"unexpected token at ".concat(e.snapshot())})),this.p++;var t=this.p,n=this.readIdentifier();if(!n.size())return null;var i=[];if(this.skipBlank(),":"===this.peek())do{++this.p;var r=this.readFilterArg();r&&i.push(r),this.skipBlank(),Me(this.end()||","===this.peek()||"|"===this.peek(),(function(){return"unexpected character ".concat(e.snapshot())}))}while(","===this.peek());return new ut(n.getText(),i,this.input,t,this.p,this.file)},e.prototype.readFilterArg=function(){var e=this.readValue();if(e){if(this.skipBlank(),":"!==this.peek())return e;++this.p;var t=this.readValue();return[e.getText(),t]}},e.prototype.readTopLevelTokens=function(e){void 0===e&&(e=Xt);for(var t=[];this.p<this.N;){var n=this.readTopLevelToken(e);t.push(n)}return function(e,t){for(var n=!1,i=0;i<e.length;i++){var r=e[i];ze(r)&$e.Delimited&&(!n&&r.trimLeft&&nt(e[i-1],t.greedy),je(r)&&("raw"===r.name?n=!0:"endraw"===r.name&&(n=!1)),!n&&r.trimRight&&it(e[i+1],t.greedy))}}(t,e),t},e.prototype.readTopLevelToken=function(e){var t=e.tagDelimiterLeft,n=e.outputDelimiterLeft;return this.rawBeginAt>-1?this.readEndrawOrRawContent(e):this.match(t)?this.readTagToken(e):this.match(n)?this.readOutputToken(e):this.readHTMLToken([t,n])},e.prototype.readHTMLToken=function(e){for(var t=this,n=this.p;this.p<this.N&&!e.some((function(e){return t.match(e)}));)++this.p;return new pt(this.input,n,this.p,this.file)},e.prototype.readTagToken=function(e){void 0===e&&(e=Xt);var t=this.file,n=this.input,i=this.p;if(-1===this.readToDelimiter(e.tagDelimiterRight))throw this.mkError("tag ".concat(this.snapshot(i)," not closed"),i);var r=new yt(n,i,this.p,e,t);return"raw"===r.name&&(this.rawBeginAt=i),r},e.prototype.readToDelimiter=function(e){for(;this.p<this.N;)if(8&this.peekType())this.readQuoted();else if(++this.p,this.rmatch(e))return this.p;return-1},e.prototype.readOutputToken=function(e){void 0===e&&(e=Xt);var t=this.file,n=this.input,i=e.outputDelimiterRight,r=this.p;if(-1===this.readToDelimiter(i))throw this.mkError("output ".concat(this.snapshot(r)," not closed"),r);return new mt(n,r,this.p,e,t)},e.prototype.readEndrawOrRawContent=function(e){for(var t=e.tagDelimiterLeft,n=e.tagDelimiterRight,i=this.p,r=this.readTo(t)-t.length;this.p<this.N;)if("endraw"===this.readIdentifier().getText())for(;this.p<=this.N;){if(this.rmatch(n)){var o=this.p;return i===r?(this.rawBeginAt=-1,new yt(this.input,i,o,e,this.file)):(this.p=r,new pt(this.input,i,r,this.file))}if(this.rmatch(t))break;this.p++}else r=this.readTo(t)-t.length;throw this.mkError("raw ".concat(this.snapshot(this.rawBeginAt)," not closed"),i)},e.prototype.readLiquidTagTokens=function(e){void 0===e&&(e=Xt);for(var t=[];this.p<this.N;){var n=this.readLiquidTagToken(e);n.name&&t.push(n)}return t},e.prototype.readLiquidTagToken=function(e){var t=this.file,n=this.input,i=this.p,r=this.N;return-1!==this.readToDelimiter("\n")&&(r=this.p),new gt(n,i,r,e,t)},e.prototype.mkError=function(e,t){return new Te(e,new ot(this.input,t,this.N,this.file))},e.prototype.snapshot=function(e){return void 0===e&&(e=this.p),JSON.stringify((16,(t=this.input.slice(e)).length>16?t.substr(0,13)+"...":t));var t},e.prototype.readWord=function(){return console.warn("Tokenizer#readWord() will be removed, use #readIdentifier instead"),this.readIdentifier()},e.prototype.readIdentifier=function(){this.skipBlank();for(var e=this.p;1&this.peekType();)++this.p;return new ot(this.input,e,this.p,this.file)},e.prototype.readHashes=function(e){for(var t=[];;){var n=this.readHash(e);if(!n)return t;t.push(n)}},e.prototype.readHash=function(e){this.skipBlank(),","===this.peek()&&++this.p;var t=this.p,n=this.readIdentifier();if(n.size()){var i;this.skipBlank();var r=e?"=":":";return this.peek()===r&&(++this.p,i=this.readValue()),new ht(this.input,t,this.p,n,i,this.file)}},e.prototype.remaining=function(){return this.input.slice(this.p)},e.prototype.advance=function(e){void 0===e&&(e=1),this.p+=e},e.prototype.end=function(){return this.p>=this.N},e.prototype.readTo=function(e){for(;this.p<this.N;)if(++this.p,this.rmatch(e))return this.p;return-1},e.prototype.readValue=function(){var e=this.readQuoted()||this.readRange();if(e)return e;if("["===this.peek()){if(this.p++,!(r=this.readQuoted()))return;if("]"!==this.peek())return;return this.p++,new ct(r,[],this.p)}var t=this.readIdentifier();if(t.size()){for(var n=t.isNumber(!0),i=[];;)if("["===this.peek()){n=!1,this.p++;var r=this.readValue()||new ot(this.input,this.p,this.p,this.file);this.readTo("]"),i.push(r)}else{if("."!==this.peek()||"."===this.peek(1))break;if(this.p++,!(r=this.readIdentifier()).size())break;r.isNumber()||(n=!1),i.push(r)}return!i.length&&Ue.hasOwnProperty(t.content)?new st(this.input,t.begin,t.end,this.file):n?new rt(t,i[0]):new ct(t,i,this.p)}},e.prototype.readRange=function(){this.skipBlank();var e=this.p;if("("===this.peek()){++this.p;var t=this.readValueOrThrow();this.p+=2;var n=this.readValueOrThrow();return++this.p,new ft(this.input,e,this.p,t,n,this.file)}},e.prototype.readValueOrThrow=function(){var e=this,t=this.readValue();return Me(t,(function(){return"unexpected token ".concat(e.snapshot(),", value expected")})),t},e.prototype.readQuoted=function(){this.skipBlank();var e=this.p;if(8&this.peekType()){++this.p;for(var t=!1;this.p<this.N&&(++this.p,this.input[this.p-1]!==this.input[e]||t);)t?t=!1:"\\"===this.input[this.p-1]&&(t=!0);return new dt(this.input,e,this.p,this.file)}},e.prototype.readFileNameTemplate=function(e){var t,n,i;return a(this,(function(r){switch(r.label){case 0:t=e.outputDelimiterLeft,n=[","," ",t],i=new Set(n),r.label=1;case 1:return this.p<this.N&&!i.has(this.peek())?[4,this.match(t)?this.readOutputToken(e):this.readHTMLToken(n)]:[3,3];case 2:return r.sent(),[3,1];case 3:return[2]}}))},e.prototype.match=function(e){for(var t=0;t<e.length;t++)if(e[t]!==this.input[this.p+t])return!1;return!0},e.prototype.rmatch=function(e){for(var t=0;t<e.length;t++)if(e[e.length-1-t]!==this.input[this.p-1-t])return!1;return!0},e.prototype.peekType=function(e){return void 0===e&&(e=0),V[this.input.charCodeAt(this.p+e)]},e.prototype.peek=function(e){return void 0===e&&(e=0),this.input[this.p+e]},e.prototype.skipBlank=function(){for(;4&this.peekType();)++this.p},e}(),yt=function(e){function t(t,n,i,r,o){var s=this,a=r.trimTagLeft,l=r.trimTagRight,c=r.tagDelimiterLeft,u=r.tagDelimiterRight,h=t.slice(n+c.length,i-u.length);s=e.call(this,$e.Tag,h,t,n,i,a,l,o)||this;var d=new vt(s.content,r.operatorsTrie);if(s.name=d.readIdentifier().getText(),!s.name)throw new Te("illegal tag syntax",s);return d.skipBlank(),s.args=d.remaining(),s}return r(t,e),t}(tt),bt=function(){function e(e,t){this.handlers={},this.stopRequested=!1,this.tokens=e,this.parseToken=t}return e.prototype.on=function(e,t){return this.handlers[e]=t,this},e.prototype.trigger=function(e,t){var n=this.handlers[e];return!!n&&(n.call(this,t),!0)},e.prototype.start=function(){var e;for(this.trigger("start");!this.stopRequested&&(e=this.tokens.shift());)if(!(this.trigger("token",e)||je(e)&&this.trigger("tag:".concat(e.name),e))){var t=this.parseToken(e,this.tokens);this.trigger("template",t)}return this.stopRequested||this.trigger("end"),this},e.prototype.stop=function(){return this.stopRequested=!0,this},e}(),wt=function(){function e(e,t){var n,i;this.hash={};var r=new vt(e,{});try{for(var o=l(r.readHashes(t)),s=o.next();!s.done;s=o.next()){var a=s.value;this.hash[a.name.content]=a.value}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}return e.prototype.render=function(e){var t,n,i,r,o,s,c,u,h,d;return a(this,(function(a){switch(a.label){case 0:t={},a.label=1;case 1:a.trys.push([1,8,9,10]),n=l(Object.keys(this.hash)),i=n.next(),a.label=2;case 2:return i.done?[3,7]:(r=i.value,o=t,s=r,void 0!==this.hash[r]?[3,3]:(c=!0,[3,5]));case 3:return[4,Je(this.hash[r],e)];case 4:c=a.sent(),a.label=5;case 5:o[s]=c,a.label=6;case 6:return i=n.next(),[3,2];case 7:return[3,10];case 8:return u=a.sent(),h={error:u},[3,10];case 9:try{i&&!i.done&&(d=n.return)&&d.call(n)}finally{if(h)throw h.error}return[7];case 10:return[2,t]}}))},e}(),_t=function(){function e(e,t,n,i){this.name=e,this.impl=t||L,this.args=n,this.liquid=i}return e.prototype.render=function(e,t){var n,i,r=[];try{for(var o=l(this.args),s=o.next();!s.done;s=o.next()){var a=s.value;x(a)?r.push([a[0],Je(a[1],t)]):r.push(Je(a,t))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return this.impl.apply({context:t,liquid:this.liquid},u([e],c(r),!1))},e}(),xt=function(){function e(e,t){this.filters=[];var n=new vt(e,t.options.operatorsTrie);this.initial=n.readExpression(),this.filters=n.readFilters().map((function(e){var n=e.name,i=e.args;return new _t(n,t.filters.get(n),i,t)}))}return e.prototype.value=function(e,t){var n,i,r,o,s,c;return a(this,(function(a){switch(a.label){case 0:return t=t||e.opts.lenientIf&&this.filters.length>0&&"default"===this.filters[0].name,[4,this.initial.evaluate(e,t)];case 1:n=a.sent(),a.label=2;case 2:a.trys.push([2,7,8,9]),i=l(this.filters),r=i.next(),a.label=3;case 3:return r.done?[3,6]:[4,r.value.render(n,e)];case 4:n=a.sent(),a.label=5;case 5:return r=i.next(),[3,3];case 6:return[3,9];case 7:return o=a.sent(),s={error:o},[3,9];case 8:try{r&&!r.done&&(c=i.return)&&c.call(i)}finally{if(s)throw s.error}return[7];case 9:return[2,n]}}))},e}();function kt(e){var t={then:function(t){return t(e)},catch:function(){return t}};return t}function Ct(e){var t={then:function(n,i){return i?i(e):t},catch:function(t){return t(e)}};return t}function St(e){return function(e){return e&&g(e.then)}(e)?e:function(e){return e&&g(e.next)&&g(e.throw)&&g(e.return)}(e)?function t(n){var i;try{i=e.next(n)}catch(e){return Ct(e)}return i.done?kt(i.value):St(i.value).then(t,(function(n){var i;try{i=e.throw(n)}catch(e){return Ct(e)}return i.done?kt(i.value):t(i.value)}))}():kt(e)}function At(e){return Promise.resolve(St(e))}function Tt(e){var t;return St(e).then((function(e){return kt(t=e)})).catch((function(e){throw e})),t}var Ot,Lt={parse:function(e){var t=new vt(e.args,this.liquid.options.operatorsTrie);this.key=t.readIdentifier().content,t.skipBlank(),Me("="===t.peek(),(function(){return"illegal token ".concat(e.getText())})),t.advance(),this.value=t.remaining()},render:function(e){var t,n;return a(this,(function(i){switch(i.label){case 0:return t=e.bottom(),n=this.key,[4,this.liquid._evalValue(this.value,e)];case 1:return t[n]=i.sent(),[2]}}))}},Et=function(e){function t(t,n,i){var r=e.call(this)||this;return r.i=0,r.length=t,r.name="".concat(i,"-").concat(n),r}return r(t,e),t.prototype.next=function(){this.i++},t.prototype.index0=function(){return this.i},t.prototype.index=function(){return this.i+1},t.prototype.first=function(){return 0===this.i},t.prototype.last=function(){return this.i===this.length-1},t.prototype.rindex=function(){return this.length-this.i},t.prototype.rindex0=function(){return this.length-this.i-1},t.prototype.valueOf=function(){return JSON.stringify(this)},t}(h),Dt=["offset","limit","reversed"],Pt={type:"block",parse:function(e,t){var n,i=this,r=new vt(e.args,this.liquid.options.operatorsTrie),o=r.readIdentifier(),s=r.readIdentifier(),a=r.readValue();Me(o.size()&&"in"===s.content&&a,(function(){return"illegal tag: ".concat(e.getText())})),this.variable=o.content,this.collection=a,this.hash=new wt(r.remaining()),this.templates=[],this.elseTemplates=[];var l=this.liquid.parser.parseStream(t).on("start",(function(){return n=i.templates})).on("tag:else",(function(){return n=i.elseTemplates})).on("tag:endfor",(function(){return l.stop()})).on("template",(function(e){return n.push(e)})).on("end",(function(){throw new Error("tag ".concat(e.getText()," not closed"))}));l.start()},render:function(e,t){var n,i,r,o,s,h,d,p,f,m,g,v,y;return a(this,(function(a){switch(a.label){case 0:return n=this.liquid.renderer,r=ne,[4,Je(this.collection,e)];case 1:return(i=r.apply(void 0,[a.sent()])).length?[3,3]:[4,n.renderTemplates(this.elseTemplates,e,t)];case 2:return a.sent(),[2];case 3:return o="continue-"+this.variable+"-"+this.collection.getText(),e.push({continue:e.getRegister(o)}),[4,this.hash.render(e)];case 4:s=a.sent(),e.pop(),h=this.liquid.options.orderedFilterParameters?Object.keys(s).filter((function(e){return Dt.includes(e)})):Dt.filter((function(e){return void 0!==s[e]})),i=h.reduce((function(e,t){return"offset"===t?(n=e,i=s.offset,n.slice(i)):"limit"===t?function(e,t){return e.slice(0,t)}(e,s.limit):function(e){return u([],c(e),!1).reverse()}(e);var n,i}),i),e.setRegister(o,(s.offset||0)+i.length),d={forloop:new Et(i.length,this.collection.getText(),this.variable)},e.push(d),a.label=5;case 5:a.trys.push([5,10,11,12]),p=l(i),f=p.next(),a.label=6;case 6:return f.done?[3,9]:(m=f.value,d[this.variable]=m,[4,n.renderTemplates(this.templates,e,t)]);case 7:if(a.sent(),t.break)return t.break=!1,[3,9];t.continue=!1,d.forloop.next(),a.label=8;case 8:return f=p.next(),[3,6];case 9:return[3,12];case 10:return g=a.sent(),v={error:g},[3,12];case 11:try{f&&!f.done&&(y=p.return)&&y.call(p)}finally{if(v)throw v.error}return[7];case 12:return e.pop(),[2]}}))}},Mt={parse:function(e,t){var n=this,i=new vt(e.args,this.liquid.options.operatorsTrie);this.variable=function(e){var t=e.readIdentifier().content;if(t)return t;var n=e.readQuoted();return n?Xe(n):void 0}(i),Me(this.variable,(function(){return"".concat(e.args," not valid identifier")})),this.templates=[];var r=this.liquid.parser.parseStream(t);r.on("tag:endcapture",(function(){return r.stop()})).on("template",(function(e){return n.templates.push(e)})).on("end",(function(){throw new Error("tag ".concat(e.getText()," not closed"))})),r.start()},render:function(e){var t;return a(this,(function(n){switch(n.label){case 0:return[4,this.liquid.renderer.renderTemplates(this.templates,e)];case 1:return t=n.sent(),e.bottom()[this.variable]=t,[2]}}))}},$t={parse:function(e,t){var n=this;this.cond=new xt(e.args,this.liquid),this.cases=[],this.elseTemplates=[];var i=[],r=this.liquid.parser.parseStream(t).on("tag:when",(function(e){i=[];for(var t=new vt(e.args,n.liquid.options.operatorsTrie);!t.end();){var r=t.readValue();n.cases.push({val:r,templates:i}),t.readTo(",")}})).on("tag:else",(function(){return i=n.elseTemplates})).on("tag:endcase",(function(){return r.stop()})).on("template",(function(e){return i.push(e)})).on("end",(function(){throw new Error("tag ".concat(e.getText()," not closed"))}));r.start()},render:function(e,t){var n,i,r,o,s,c,u,h,d;return a(this,(function(a){switch(a.label){case 0:return n=this.liquid.renderer,r=y,[4,this.cond.value(e,e.opts.lenientIf)];case 1:i=r.apply(void 0,[a.sent()]),a.label=2;case 2:a.trys.push([2,7,8,9]),o=l(this.cases),s=o.next(),a.label=3;case 3:return s.done?[3,6]:Je((c=s.value).val,e,e.opts.lenientIf)!==i?[3,5]:[4,n.renderTemplates(c.templates,e,t)];case 4:return a.sent(),[2];case 5:return s=o.next(),[3,3];case 6:return[3,9];case 7:return u=a.sent(),h={error:u},[3,9];case 8:try{s&&!s.done&&(d=o.return)&&d.call(o)}finally{if(h)throw h.error}return[7];case 9:return[4,n.renderTemplates(this.elseTemplates,e,t)];case 10:return a.sent(),[2]}}))}},Rt={parse:function(e,t){var n=this.liquid.parser.parseStream(t);n.on("token",(function(e){"endcomment"===e.name&&n.stop()})).on("end",(function(){throw new Error("tag ".concat(e.getText()," not closed"))})),n.start()}};!function(e){e[e.OUTPUT=0]="OUTPUT",e[e.STORE=1]="STORE"}(Ot||(Ot={}));var It=Ot,Ft={parseFilePath:jt,renderFilePath:zt,parse:function(e){var t=e.args,n=new vt(t,this.liquid.options.operatorsTrie);for(this.file=this.parseFilePath(n,this.liquid),this.currentFile=e.file;!n.end();){n.skipBlank();var i=n.p,r=n.readIdentifier();if(("with"===r.content||"for"===r.content)&&(n.skipBlank(),":"!==n.peek())){var o=n.readValue();if(o){var s=n.p,a=void 0;"as"===n.readIdentifier().content?a=n.readIdentifier():n.p=s,this[r.content]={value:o,alias:a&&a.content},n.skipBlank(),","===n.peek()&&n.advance();continue}}n.p=i;break}this.hash=new wt(n.remaining())},render:function(e,t){var n,i,r,s,c,u,h,d,p,f,m,g,v,y,b,w,_,x,k,C;return a(this,(function(a){switch(a.label){case 0:return i=(n=this).liquid,r=n.hash,[4,this.renderFilePath(this.file,e,i)];case 1:return Me(s=a.sent(),(function(){return'illegal filename "'.concat(s,'"')})),c=new nn({},e.opts,{sync:e.sync,globals:e.globals,strictVariables:e.strictVariables}),u=c.bottom(),h=o,d=[u],[4,r.render(e)];case 2:if(h.apply(void 0,d.concat([a.sent()])),this.with&&(p=this.with,m=p.value,g=p.alias,u[g||s]=Je(m,e)),!this.for)return[3,12];f=this.for,m=f.value,g=f.alias,v=ne(v=Je(m,e)),u.forloop=new Et(v.length,m.getText(),g),a.label=3;case 3:a.trys.push([3,9,10,11]),y=l(v),b=y.next(),a.label=4;case 4:return b.done?[3,8]:(w=b.value,u[g]=w,[4,i._parsePartialFile(s,c.sync,this.currentFile)]);case 5:return x=a.sent(),[4,i.renderer.renderTemplates(x,c,t)];case 6:a.sent(),u.forloop.next(),a.label=7;case 7:return b=y.next(),[3,4];case 8:return[3,11];case 9:return _=a.sent(),k={error:_},[3,11];case 10:try{b&&!b.done&&(C=y.return)&&C.call(y)}finally{if(k)throw k.error}return[7];case 11:return[3,15];case 12:return[4,i._parsePartialFile(s,c.sync,this.currentFile)];case 13:return x=a.sent(),[4,i.renderer.renderTemplates(x,c,t)];case 14:a.sent(),a.label=15;case 15:return[2]}}))}};function jt(e,t){if(t.options.dynamicPartials){var n=e.readValue();if(void 0===n)throw new TypeError('illegal argument "'.concat(e.input,'"'));return"none"===n.getText()?null:Ne(n)?Nt(t.parse(Xe(n))):n}var i=u([],c(e.readFileNameTemplate(t.options)),!1),r=Nt(t.parser.parseTokens(i));return"none"===r?null:r}function Nt(e){return 1===e.length&&Fe(e[0].token)?e[0].token.getContent():e}function zt(e,t,n){return"string"==typeof e?e:Array.isArray(e)?n.renderer.renderTemplates(e,t):Je(e,t)}var qt={parseFilePath:jt,renderFilePath:zt,parse:function(e){var t=e.args,n=new vt(t,this.liquid.options.operatorsTrie);this.file=this.parseFilePath(n,this.liquid),this.currentFile=e.file;var i=n.p;"with"===n.readIdentifier().content?(n.skipBlank(),":"!==n.peek()?this.withVar=n.readValue():n.p=i):n.p=i,this.hash=new wt(n.remaining(),this.liquid.options.jekyllInclude)},render:function(e,t){var n,i,r,o,s,l,c,u,h;return a(this,(function(a){switch(a.label){case 0:return i=(n=this).liquid,r=n.hash,o=n.withVar,s=i.renderer,[4,this.renderFilePath(this.file,e,i)];case 1:return Me(l=a.sent(),(function(){return'illegal filename "'.concat(l,'"')})),c=e.saveRegister("blocks","blockMode"),e.setRegister("blocks",{}),e.setRegister("blockMode",It.OUTPUT),[4,r.render(e)];case 2:return u=a.sent(),o&&(u[l]=Je(o,e)),[4,i._parsePartialFile(l,e.sync,this.currentFile)];case 3:return h=a.sent(),e.push(e.opts.jekyllInclude?{include:u}:u),[4,s.renderTemplates(h,e,t)];case 4:return a.sent(),e.pop(),e.restoreRegister(c),[2]}}))}},Vt={parse:function(e){var t=new vt(e.args,this.liquid.options.operatorsTrie);this.variable=t.readIdentifier().content},render:function(e,t){var n=e.environments;b(n[this.variable])||(n[this.variable]=0),t.write(v(--n[this.variable]))}},Bt={parse:function(e){var t=new vt(e.args,this.liquid.options.operatorsTrie),n=t.readValue();for(t.skipBlank(),this.candidates=[],n&&(":"===t.peek()?(this.group=n,t.advance()):this.candidates.push(n));!t.end();){var i=t.readValue();i&&this.candidates.push(i),t.readTo(",")}Me(this.candidates.length,(function(){return"empty candidates: ".concat(e.getText())}))},render:function(e,t){var n=Je(this.group,e),i="cycle:".concat(n,":")+this.candidates.join(","),r=e.getRegister("cycle"),o=r[i];void 0===o&&(o=r[i]=0);var s=this.candidates[o];o=(o+1)%this.candidates.length,r[i]=o;var a=Je(s,e);t.write(a)}},Wt={parse:function(e,t){var n,i=this;this.branches=[],this.elseTemplates=[],this.liquid.parser.parseStream(t).on("start",(function(){return i.branches.push({predicate:new xt(e.args,i.liquid),templates:n=[]})})).on("tag:elsif",(function(e){return i.branches.push({predicate:new xt(e.args,i.liquid),templates:n=[]})})).on("tag:else",(function(){return n=i.elseTemplates})).on("tag:endif",(function(){this.stop()})).on("template",(function(e){return n.push(e)})).on("end",(function(){throw new Error("tag ".concat(e.getText()," not closed"))})).start()},render:function(e,t){var n,i,r,o,s,c,u,h,d;return a(this,(function(a){switch(a.label){case 0:n=this.liquid.renderer,a.label=1;case 1:a.trys.push([1,7,8,9]),i=l(this.branches),r=i.next(),a.label=2;case 2:return r.done?[3,6]:(o=r.value,s=o.predicate,c=o.templates,[4,s.value(e,e.opts.lenientIf)]);case 3:return N(a.sent(),e)?[4,n.renderTemplates(c,e,t)]:[3,5];case 4:return a.sent(),[2];case 5:return r=i.next(),[3,2];case 6:return[3,9];case 7:return u=a.sent(),h={error:u},[3,9];case 8:try{r&&!r.done&&(d=i.return)&&d.call(i)}finally{if(h)throw h.error}return[7];case 9:return[4,n.renderTemplates(this.elseTemplates,e,t)];case 10:return a.sent(),[2]}}))}},Ut={parse:function(e){var t=new vt(e.args,this.liquid.options.operatorsTrie);this.variable=t.readIdentifier().content},render:function(e,t){var n=e.environments;b(n[this.variable])||(n[this.variable]=0);var i=n[this.variable];n[this.variable]++,t.write(v(i))}},Ht={parseFilePath:jt,renderFilePath:zt,parse:function(e,t){var n=new vt(e.args,this.liquid.options.operatorsTrie);this.file=this.parseFilePath(n,this.liquid),this.currentFile=e.file,this.hash=new wt(n.remaining()),this.tpls=this.liquid.parser.parseTokens(t)},render:function(e,t){var n,i,r,o,s,l,c,u,h,d,p;return a(this,(function(a){switch(a.label){case 0:return i=(n=this).liquid,r=n.hash,o=n.file,s=i.renderer,null!==o?[3,2]:(e.setRegister("blockMode",It.OUTPUT),[4,s.renderTemplates(this.tpls,e,t)]);case 1:return a.sent(),[2];case 2:return[4,this.renderFilePath(this.file,e,i)];case 3:return Me(l=a.sent(),(function(){return'illegal filename "'.concat(l,'"')})),[4,i._parseLayoutFile(l,e.sync,this.currentFile)];case 4:return c=a.sent(),e.setRegister("blockMode",It.STORE),[4,s.renderTemplates(this.tpls,e)];case 5:return u=a.sent(),void 0===(h=e.getRegister("blocks"))[""]&&(h[""]=function(e,t){return t.write(u)}),e.setRegister("blockMode",It.OUTPUT),p=(d=e).push,[4,r.render(e)];case 6:return p.apply(d,[a.sent()]),[4,s.renderTemplates(c,e,t)];case 7:return a.sent(),e.pop(),[2]}}))}},Zt=function(e){function t(t){void 0===t&&(t=function(){return""});var n=e.call(this)||this;return n.superBlockRender=t,n}return r(t,e),t.prototype.super=function(){return this.superBlockRender()},t}(h),Kt={parse:function(e,t){var n=this,i=/\w+/.exec(e.args);this.block=i?i[0]:"",this.tpls=[],this.liquid.parser.parseStream(t).on("tag:endblock",(function(){this.stop()})).on("template",(function(e){return n.tpls.push(e)})).on("end",(function(){throw new Error("tag ".concat(e.getText()," not closed"))})).start()},render:function(e,t){var n;return a(this,(function(i){switch(i.label){case 0:return n=this.getBlockRender(e),e.getRegister("blockMode")!==It.STORE?[3,1]:(e.getRegister("blocks")[this.block]=n,[3,3]);case 1:return[4,n(new Zt,t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))},getBlockRender:function(e){var t=this.liquid,n=this.tpls,i=e.getRegister("blocks")[this.block],r=function(i,r){return a(this,(function(o){switch(o.label){case 0:return e.push({block:i}),[4,t.renderer.renderTemplates(n,e,r)];case 1:return o.sent(),e.pop(),[2]}}))};return i?function(e,t){return i(new Zt((function(){return r(e,t)})),t)}:r}},Gt={parse:function(e,t){var n=this;this.tokens=[];var i=this.liquid.parser.parseStream(t);i.on("token",(function(e){"endraw"===e.name?i.stop():n.tokens.push(e)})).on("end",(function(){throw new Error("tag ".concat(e.getText()," not closed"))})),i.start()},render:function(){return this.tokens.map((function(e){return e.getText()})).join("")}},Yt=function(e){function t(t,n,i,r){var o=e.call(this,t,i,r)||this;return o.length=t,o.cols=n,o}return r(t,e),t.prototype.row=function(){return Math.floor(this.i/this.cols)+1},t.prototype.col0=function(){return this.i%this.cols},t.prototype.col=function(){return this.col0()+1},t.prototype.col_first=function(){return 0===this.col0()},t.prototype.col_last=function(){return this.col()===this.cols},t}(Et),Qt={assign:Lt,for:Pt,capture:Mt,case:$t,comment:Rt,include:qt,render:Ft,decrement:Vt,increment:Ut,cycle:Bt,if:Wt,layout:Ht,block:Kt,raw:Gt,tablerow:{parse:function(e,t){var n=this,i=new vt(e.args,this.liquid.options.operatorsTrie),r=i.readIdentifier();i.skipBlank();var o,s=i.readIdentifier();Me(s&&"in"===s.content,(function(){return"illegal tag: ".concat(e.getText())})),this.variable=r.content,this.collection=i.readValue(),this.hash=new wt(i.remaining()),this.templates=[];var a=this.liquid.parser.parseStream(t).on("start",(function(){return o=n.templates})).on("tag:endtablerow",(function(){return a.stop()})).on("template",(function(e){return o.push(e)})).on("end",(function(){throw new Error("tag ".concat(e.getText()," not closed"))}));a.start()},render:function(e,t){var n,i,r,o,s,l,c,u,h,d;return a(this,(function(a){switch(a.label){case 0:return i=ne,[4,Je(this.collection,e)];case 1:return n=i.apply(void 0,[a.sent()]),[4,this.hash.render(e)];case 2:r=a.sent(),o=r.offset||0,s=void 0===r.limit?n.length:r.limit,n=n.slice(o,o+s),l=r.cols||n.length,c=this.liquid.renderer,u=new Yt(n.length,l,this.collection.getText(),this.variable),h={tablerowloop:u},e.push(h),d=0,a.label=3;case 3:return d<n.length?(h[this.variable]=n[d],0===u.col0()&&(1!==u.row()&&t.write("</tr>"),t.write('<tr class="row'.concat(u.row(),'">'))),t.write('<td class="col'.concat(u.col(),'">')),[4,c.renderTemplates(this.templates,e,t)]):[3,6];case 4:a.sent(),t.write("</td>"),a.label=5;case 5:return d++,u.next(),[3,3];case 6:return n.length&&t.write("</tr>"),e.pop(),[2]}}))}},unless:{parse:function(e,t){var n,i=this;this.branches=[],this.elseTemplates=[],this.liquid.parser.parseStream(t).on("start",(function(){return i.branches.push({predicate:new xt(e.args,i.liquid),test:z,templates:n=[]})})).on("tag:elsif",(function(e){return i.branches.push({predicate:new xt(e.args,i.liquid),test:N,templates:n=[]})})).on("tag:else",(function(){return n=i.elseTemplates})).on("tag:endunless",(function(){this.stop()})).on("template",(function(e){return n.push(e)})).on("end",(function(){throw new Error("tag ".concat(e.getText()," not closed"))})).start()},render:function(e,t){var n,i,r,o,s,c,u,h,d,p,f;return a(this,(function(a){switch(a.label){case 0:n=this.liquid.renderer,a.label=1;case 1:a.trys.push([1,7,8,9]),i=l(this.branches),r=i.next(),a.label=2;case 2:return r.done?[3,6]:(o=r.value,s=o.predicate,c=o.test,u=o.templates,[4,s.value(e,e.opts.lenientIf)]);case 3:return h=a.sent(),c(h,e)?[4,n.renderTemplates(u,e,t)]:[3,5];case 4:return a.sent(),[2];case 5:return r=i.next(),[3,2];case 6:return[3,9];case 7:return d=a.sent(),p={error:d},[3,9];case 8:try{r&&!r.done&&(f=i.return)&&f.call(i)}finally{if(p)throw p.error}return[7];case 9:return[4,n.renderTemplates(this.elseTemplates,e,t)];case 10:return a.sent(),[2]}}))}},break:{render:function(e,t){t.break=!0}},continue:{render:function(e,t){t.continue=!0}},echo:{parse:function(e){this.value=new xt(e.args,this.liquid)},render:function(e,t){var n;return a(this,(function(i){switch(i.label){case 0:return[4,this.value.value(e,!1)];case 1:return n=i.sent(),t.write(n),[2]}}))}},liquid:{parse:function(e){var t=new vt(e.args,this.liquid.options.operatorsTrie).readLiquidTagTokens(this.liquid.options);this.tpls=this.liquid.parser.parseTokens(t)},render:function(e,t){return a(this,(function(n){switch(n.label){case 0:return[4,this.liquid.renderer.renderTemplates(this.tpls,e,t)];case 1:return n.sent(),[2]}}))}}},Jt=new Map;k(Re,(function(e,t){Jt.set(E(t),e)}));var Xt={root:["."],layouts:["."],partials:["."],relativeReference:!0,jekyllInclude:!1,cache:void 0,extname:"",fs:F,dynamicPartials:!0,jsTruthy:!1,trimTagRight:!1,trimTagLeft:!1,trimOutputRight:!1,trimOutputLeft:!1,greedy:!0,tagDelimiterLeft:"{%",tagDelimiterRight:"%}",outputDelimiterLeft:"{{",outputDelimiterRight:"}}",preserveTimezones:!1,strictFilters:!1,strictVariables:!1,ownPropertyOnly:!1,lenientIf:!1,globals:{},keepOutputType:!1,operators:q,operatorsTrie:B(q)};function en(e){var t=[];return x(e)&&(t=e),m(e)&&(t=[e]),t}var tn,nn=function(){function e(e,t,n){var i,r;void 0===e&&(e={}),void 0===t&&(t=Xt),void 0===n&&(n={}),this.scopes=[{}],this.registers={},this.sync=!!n.sync,this.opts=t,this.globals=null!==(i=n.globals)&&void 0!==i?i:t.globals,this.environments=e,this.strictVariables=null!==(r=n.strictVariables)&&void 0!==r?r:this.opts.strictVariables}return e.prototype.getRegister=function(e){return this.registers[e]=this.registers[e]||{}},e.prototype.setRegister=function(e,t){return this.registers[e]=t},e.prototype.saveRegister=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.map((function(t){return[t,e.getRegister(t)]}))},e.prototype.restoreRegister=function(e){var t=this;return e.forEach((function(e){var n=c(e,2),i=n[0],r=n[1];return t.setRegister(i,r)}))},e.prototype.getAll=function(){return u([this.globals,this.environments],c(this.scopes),!1).reduce((function(e,t){return o(e,t)}),{})},e.prototype.get=function(e){var t=this.findScope(e[0]);return this.getFromScope(t,e)},e.prototype.getFromScope=function(e,t){var n=this;return m(t)&&(t=t.split(".")),t.reduce((function(e,i,r){if(e=function(e,t,n){if(_(e))return e;if(x(e=w(e))&&t<0)return e[e.length+ +t];var i=function(e,t,n){return n&&!Object.hasOwnProperty.call(e,t)?void 0:e[t]}(e,t,n);return void 0===i&&e instanceof h?e.liquidMethodMissing(t):g(i)?i.call(e):"size"===t?function(e){return e.hasOwnProperty("size")||void 0!==e.size?e.size:x(e)||m(e)?e.length:"object"==typeof e?Object.keys(e).length:void 0}(e):"first"===t?function(e){return x(e)?e[0]:e.first}(e):"last"===t?function(e){return x(e)?e[e.length-1]:e.last}(e):i}(e,i,n.opts.ownPropertyOnly),_(e)&&n.strictVariables)throw new De(t.slice(0,r+1).join("."));return e}),e)},e.prototype.push=function(e){return this.scopes.push(e)},e.prototype.pop=function(){return this.scopes.pop()},e.prototype.bottom=function(){return this.scopes[0]},e.prototype.findScope=function(e){for(var t=this.scopes.length-1;t>=0;t--){var n=this.scopes[t];if(e in n)return n}return e in this.environments?this.environments:this.globals},e}();!function(e){e.Partials="partials",e.Layouts="layouts",e.Root="root"}(tn||(tn={}));var rn=function(){function e(e){if(this.options=e,e.relativeReference){var t=e.fs.sep;Me(t,"`fs.sep` is required for relative reference");var n=new RegExp(["."+t,".."+t,"./","../"].map((function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")})).join("|"));this.shouldLoadRelative=function(e){return n.test(e)}}else this.shouldLoadRelative=function(e){return!1};this.contains=this.options.fs.contains||function(){return!0}}return e.prototype.lookup=function(e,t,n,i){var r,o,s,c,u,h,d,p,f;return a(this,(function(a){switch(a.label){case 0:r=this.options.fs,o=this.options[t],a.label=1;case 1:a.trys.push([1,8,9,10]),s=l(this.candidates(e,o,i,t!==tn.Root)),c=s.next(),a.label=2;case 2:return c.done?[3,7]:(u=c.value,n?(h=r.existsSync(u),[3,5]):[3,3]);case 3:return[4,r.exists(u)];case 4:h=a.sent(),a.label=5;case 5:if(h)return[2,u];a.label=6;case 6:return c=s.next(),[3,2];case 7:return[3,10];case 8:return d=a.sent(),p={error:d},[3,10];case 9:try{c&&!c.done&&(f=s.return)&&f.call(s)}finally{if(p)throw p.error}return[7];case 10:throw this.lookupError(e,o)}}))},e.prototype.candidates=function(e,t,n,i){var r,o,s,c,u,h,d,p,f,m,g,v,y,b,w,_;return a(this,(function(a){switch(a.label){case 0:if(r=this.options,o=r.fs,s=r.extname,!this.shouldLoadRelative(e)||!n)return[3,8];m=o.resolve(this.dirname(n),e,s),a.label=1;case 1:a.trys.push([1,6,7,8]),c=l(t),u=c.next(),a.label=2;case 2:return u.done?[3,5]:(f=u.value,i&&!this.contains(f,m)?[3,4]:[4,m]);case 3:return a.sent(),[3,5];case 4:return u=c.next(),[3,2];case 5:return[3,8];case 6:return h=a.sent(),y={error:h},[3,8];case 7:try{u&&!u.done&&(b=c.return)&&b.call(c)}finally{if(y)throw y.error}return[7];case 8:a.trys.push([8,13,14,15]),d=l(t),p=d.next(),a.label=9;case 9:return p.done?[3,12]:(f=p.value,m=o.resolve(f,e,s),i&&!this.contains(f,m)?[3,11]:[4,m]);case 10:a.sent(),a.label=11;case 11:return p=d.next(),[3,9];case 12:return[3,15];case 13:return g=a.sent(),w={error:g},[3,15];case 14:try{p&&!p.done&&(_=d.return)&&_.call(d)}finally{if(w)throw w.error}return[7];case 15:return void 0===o.fallback||void 0===(v=o.fallback(e))?[3,17]:[4,v];case 16:a.sent(),a.label=17;case 17:return[2]}}))},e.prototype.dirname=function(e){var t=this.options.fs;return Me(t.dirname,"`fs.dirname` is required for relative reference"),t.dirname(e)},e.prototype.lookupError=function(e,t){var n=new Error("ENOENT");return n.message='ENOENT: Failed to lookup "'.concat(e,'" in "').concat(t,'"'),n.code="ENOENT",n},e}(),on=function(){function e(){this.buffer=""}return e.prototype.write=function(e){this.buffer+=v(e)},e}(),sn=function(){throw this.buffer="",this.stream=null,new Error("streaming not supported in browser")},an=function(){function e(){this.buffer=""}return e.prototype.write=function(e){"string"!=typeof(e=y(e))&&""===this.buffer?this.buffer=e:this.buffer=v(this.buffer)+v(e)},e}(),ln=function(){function e(){}return e.prototype.renderTemplatesToNodeStream=function(e,t){var n=this,i=new sn;return Promise.resolve().then((function(){return St(n.renderTemplates(e,t,i))})).then((function(){return i.end()}),(function(e){return i.error(e)})),i.stream},e.prototype.renderTemplates=function(e,t,n){var i,r,o,s,c,u,h,d;return a(this,(function(a){switch(a.label){case 0:n||(n=t.opts.keepOutputType?new an:new on),a.label=1;case 1:a.trys.push([1,8,9,10]),i=l(e),r=i.next(),a.label=2;case 2:if(r.done)return[3,7];o=r.value,a.label=3;case 3:return a.trys.push([3,5,,6]),[4,o.render(t,n)];case 4:return(s=a.sent())&&n.write(s),n.break||n.continue?[3,7]:[3,6];case 5:throw c=a.sent(),Le.is(c)?c:new Le(c,o);case 6:return r=i.next(),[3,2];case 7:return[3,10];case 8:return u=a.sent(),h={error:u},[3,10];case 9:try{r&&!r.done&&(d=i.return)&&d.call(i)}finally{if(h)throw h.error}return[7];case 10:return[2,n.buffer]}}))},e}(),cn=function(e){this.token=e},un=function(e){function t(t,n,i){var r=e.call(this,t)||this;r.name=t.name;var o=i.tags.get(t.name);return r.impl=Object.create(o),r.impl.liquid=i,r.impl.parse&&r.impl.parse(t,n),r}return r(t,e),t.prototype.render=function(e,t){var n,i;return a(this,(function(r){switch(r.label){case 0:return[4,new wt(this.token.args).render(e)];case 1:return n=r.sent(),g((i=this.impl).render)?[4,i.render(e,t,n)]:[3,3];case 2:return[2,r.sent()];case 3:return[2]}}))},t}(cn),hn=function(e){function t(t,n){var i=e.call(this,t)||this;i.value=new xt(t.content,n);var r=i.value.filters,o=n.options.outputEscape;return r.length&&"raw"===r[r.length-1].name?r.pop():o&&r.push(new _t(toString.call(o),o,[],n)),i}return r(t,e),t.prototype.render=function(e,t){var n;return a(this,(function(i){switch(i.label){case 0:return[4,this.value.value(e,!1)];case 1:return n=i.sent(),t.write(n),[2]}}))},t}(cn),dn=function(e){function t(t){var n=e.call(this,t)||this;return n.str=t.getContent(),n}return r(t,e),t.prototype.render=function(e,t){return a(this,(function(e){return t.write(this.str),[2]}))},t}(cn),pn=function(){function e(e){this.liquid=e,this.cache=this.liquid.options.cache,this.fs=this.liquid.options.fs,this.parseFile=this.cache?this._parseFileCached:this._parseFile,this.loader=new rn(this.liquid.options)}return e.prototype.parse=function(e,t){var n=new vt(e,this.liquid.options.operatorsTrie,t).readTopLevelTokens(this.liquid.options);return this.parseTokens(n)},e.prototype.parseTokens=function(e){for(var t,n=[];t=e.shift();)n.push(this.parseToken(t,e));return n},e.prototype.parseToken=function(e,t){try{return je(e)?new un(e,t,this.liquid):ze(e)===$e.Output?new hn(e,this.liquid):new dn(e)}catch(t){throw new Oe(t,e)}},e.prototype.parseStream=function(e){var t=this;return new bt(e,(function(e,n){return t.parseToken(e,n)}))},e.prototype._parseFileCached=function(e,t,n,i){var r,o,s;return void 0===n&&(n=tn.Root),a(this,(function(a){switch(a.label){case 0:return r=this.loader.shouldLoadRelative(e)?i+","+e:n+":"+e,[4,this.cache.read(r)];case 1:if(o=a.sent())return[2,o];s=St(this._parseFile(e,t,n,i)),this.cache.write(r,s),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s];case 3:return[2,a.sent()];case 4:return a.sent(),this.cache.remove(r),[3,5];case 5:return[2,[]]}}))},e.prototype._parseFile=function(e,t,n,i){var r,o,s,l;return void 0===n&&(n=tn.Root),a(this,(function(a){switch(a.label){case 0:return[4,this.loader.lookup(e,n,t,i)];case 1:return r=a.sent(),s=(o=this.liquid).parse,t?(l=this.fs.readFileSync(r),[3,4]):[3,2];case 2:return[4,this.fs.readFile(r)];case 3:l=a.sent(),a.label=4;case 4:return[2,s.apply(o,[l,r])]}}))},e}(),fn=function(){function e(){this.impls={}}return e.prototype.get=function(e){var t=this.impls[e];return Me(t,(function(){return'tag "'.concat(e,'" not found')})),t},e.prototype.set=function(e,t){this.impls[e]=t},e}(),mn=function(){function e(e,t){this.strictFilters=e,this.liquid=t,this.impls={}}return e.prototype.get=function(e){var t=this.impls[e];return Me(t||!this.strictFilters,(function(){return"undefined filter: ".concat(e)})),t},e.prototype.set=function(e,t){this.impls[e]=t},e.prototype.create=function(e,t){return new _t(e,this.get(e),t,this.liquid)},e}(),gn=function(){function e(e){var t=this;void 0===e&&(e={}),this.options=function(e){var t;e.hasOwnProperty("operators")&&(e.operatorsTrie=B(e.operators)),e.hasOwnProperty("root")&&(e.hasOwnProperty("partials")||(e.partials=e.root),e.hasOwnProperty("layouts")||(e.layouts=e.root)),e.hasOwnProperty("cache")&&(t="number"==typeof e.cache?e.cache>0?new R(e.cache):void 0:"object"==typeof e.cache?e.cache:e.cache?new R(1024):void 0,e.cache=t);return!(e=o(o(o({},Xt),e.jekyllInclude?{dynamicPartials:!1}:{}),e)).fs.dirname&&e.relativeReference&&(console.warn("[LiquidJS] `fs.dirname` is required for relativeReference, set relativeReference to `false` to suppress this warning, or provide implementation for `fs.dirname`"),e.relativeReference=!1),e.root=en(e.root),e.partials=en(e.partials),e.layouts=en(e.layouts),e.outputEscape=e.outputEscape&&function(e){if(m(e)){var t=Jt.get(e);return Me(g(t),'filter "'.concat(e,'" not found')),t}return Me(g(e),"`outputEscape` need to be of type string or function"),e}(e.outputEscape),e}(e),this.parser=new pn(this),this.renderer=new ln,this.filters=new mn(this.options.strictFilters,this),this.tags=new fn,k(Qt,(function(e,n){return t.registerTag(E(n),e)})),k(Re,(function(e,n){return t.registerFilter(E(n),e)}))}return e.prototype.parse=function(e,t){return this.parser.parse(e,t)},e.prototype._render=function(e,t,n){var i=new nn(t,this.options,n);return this.renderer.renderTemplates(e,i)},e.prototype.render=function(e,t,n){return s(this,void 0,void 0,(function(){return a(this,(function(i){return[2,At(this._render(e,t,o(o({},n),{sync:!1})))]}))}))},e.prototype.renderSync=function(e,t,n){return Tt(this._render(e,t,o(o({},n),{sync:!0})))},e.prototype.renderToNodeStream=function(e,t,n){void 0===n&&(n={});var i=new nn(t,this.options,n);return this.renderer.renderTemplatesToNodeStream(e,i)},e.prototype._parseAndRender=function(e,t,n){var i=this.parse(e);return this._render(i,t,n)},e.prototype.parseAndRender=function(e,t,n){return s(this,void 0,void 0,(function(){return a(this,(function(i){return[2,At(this._parseAndRender(e,t,o(o({},n),{sync:!1})))]}))}))},e.prototype.parseAndRenderSync=function(e,t,n){return Tt(this._parseAndRender(e,t,o(o({},n),{sync:!0})))},e.prototype._parsePartialFile=function(e,t,n){return this.parser.parseFile(e,t,tn.Partials,n)},e.prototype._parseLayoutFile=function(e,t,n){return this.parser.parseFile(e,t,tn.Layouts,n)},e.prototype.parseFile=function(e){return s(this,void 0,void 0,(function(){return a(this,(function(t){return[2,At(this.parser.parseFile(e,!1))]}))}))},e.prototype.parseFileSync=function(e){return Tt(this.parser.parseFile(e,!0))},e.prototype.renderFile=function(e,t,n){return s(this,void 0,void 0,(function(){var i;return a(this,(function(r){switch(r.label){case 0:return[4,this.parseFile(e)];case 1:return i=r.sent(),[2,this.render(i,t,n)]}}))}))},e.prototype.renderFileSync=function(e,t,n){var i=this.parseFileSync(e);return this.renderSync(i,t,n)},e.prototype.renderFileToNodeStream=function(e,t,n){return s(this,void 0,void 0,(function(){var i;return a(this,(function(r){switch(r.label){case 0:return[4,this.parseFile(e)];case 1:return i=r.sent(),[2,this.renderToNodeStream(i,t,n)]}}))}))},e.prototype._evalValue=function(e,t){return new xt(e,this).value(t,!1)},e.prototype.evalValue=function(e,t){return s(this,void 0,void 0,(function(){return a(this,(function(n){return[2,At(this._evalValue(e,t))]}))}))},e.prototype.evalValueSync=function(e,t){return Tt(this._evalValue(e,t))},e.prototype.registerFilter=function(e,t){this.filters.set(e,t)},e.prototype.registerTag=function(e,t){this.tags.set(e,t)},e.prototype.plugin=function(t){return t.call(this,e)},e.prototype.express=function(){var e=this,t=!0;return function(n,i,r){var o,s,a;if(t){t=!1;var l=en(this.root);(o=e.options.root).unshift.apply(o,u([],c(l),!1)),(s=e.options.layouts).unshift.apply(s,u([],c(l),!1)),(a=e.options.partials).unshift.apply(a,u([],c(l),!1))}e.renderFile(n,i).then((function(e){return r(null,e)}),r)}},e}()},9652:(e,t,n)=>{"use strict";function i(e){return{all:e=e||new Map,on:function(t,n){var i=e.get(t);i&&i.push(n)||e.set(t,[n])},off:function(t,n){var i=e.get(t);i&&i.splice(i.indexOf(n)>>>0,1)},emit:function(t,n){(e.get(t)||[]).slice().map((function(e){e(n)})),(e.get("*")||[]).slice().map((function(e){e(t,n)}))}}}n.d(t,{Z:()=>i})},631:(e,t,n)=>{var i="function"==typeof Map&&Map.prototype,r=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=i&&r&&"function"==typeof r.get?r.get:null,s=i&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&l&&"function"==typeof l.get?l.get:null,u=a&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,_=String.prototype.toLowerCase,x=RegExp.prototype.test,k=Array.prototype.concat,C=Array.prototype.join,S=Array.prototype.slice,A=Math.floor,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,O=Object.getOwnPropertySymbols,L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,E="function"==typeof Symbol&&"object"==typeof Symbol.iterator,D="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,P=Object.prototype.propertyIsEnumerable,M=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function $(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||x.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var i=e<0?-A(-e):A(e);if(i!==e){var r=String(i),o=y.call(t,r.length+1);return b.call(r,n,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var R=n(4654),I=R.custom,F=V(I)?I:null;function j(e,t,n){var i="double"===(n.quoteStyle||t)?'"':"'";return i+e+i}function N(e){return b.call(String(e),/"/g,"&quot;")}function z(e){return!("[object Array]"!==U(e)||D&&"object"==typeof e&&D in e)}function q(e){return!("[object RegExp]"!==U(e)||D&&"object"==typeof e&&D in e)}function V(e){if(E)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!L)return!1;try{return L.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,i,r){var a=n||{};if(W(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!W(a,"customInspect")||a.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var m=a.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return Z(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var w=String(t);return m?$(t,w):w}if("bigint"==typeof t){var x=String(t)+"n";return m?$(t,x):x}var A=void 0===a.depth?5:a.depth;if(void 0===i&&(i=0),i>=A&&A>0&&"object"==typeof t)return z(t)?"[Array]":"[Object]";var O,I=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;n=C.call(Array(e.indent+1)," ")}return{base:n,prev:C.call(Array(t+1),n)}}(a,i);if(void 0===r)r=[];else if(H(r,t)>=0)return"[Circular]";function B(t,n,o){if(n&&(r=S.call(r)).push(n),o){var s={depth:a.depth};return W(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),e(t,s,i+1,r)}return e(t,a,i+1,r)}if("function"==typeof t&&!q(t)){var K=function(e){if(e.name)return e.name;var t=v.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),ee=X(t,B);return"[Function"+(K?": "+K:" (anonymous)")+"]"+(ee.length>0?" { "+C.call(ee,", ")+" }":"")}if(V(t)){var te=E?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):L.call(t);return"object"!=typeof t||E?te:G(te)}if((O=t)&&"object"==typeof O&&("undefined"!=typeof HTMLElement&&O instanceof HTMLElement||"string"==typeof O.nodeName&&"function"==typeof O.getAttribute)){for(var ne="<"+_.call(String(t.nodeName)),ie=t.attributes||[],re=0;re<ie.length;re++)ne+=" "+ie[re].name+"="+j(N(ie[re].value),"double",a);return ne+=">",t.childNodes&&t.childNodes.length&&(ne+="..."),ne+"</"+_.call(String(t.nodeName))+">"}if(z(t)){if(0===t.length)return"[]";var oe=X(t,B);return I&&!function(e){for(var t=0;t<e.length;t++)if(H(e[t],"\n")>=0)return!1;return!0}(oe)?"["+J(oe,I)+"]":"[ "+C.call(oe,", ")+" ]"}if(function(e){return!("[object Error]"!==U(e)||D&&"object"==typeof e&&D in e)}(t)){var se=X(t,B);return"cause"in Error.prototype||!("cause"in t)||P.call(t,"cause")?0===se.length?"["+String(t)+"]":"{ ["+String(t)+"] "+C.call(se,", ")+" }":"{ ["+String(t)+"] "+C.call(k.call("[cause]: "+B(t.cause),se),", ")+" }"}if("object"==typeof t&&l){if(F&&"function"==typeof t[F]&&R)return R(t,{depth:A-i});if("symbol"!==l&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ae=[];return s.call(t,(function(e,n){ae.push(B(n,t,!0)+" => "+B(e,t))})),Q("Map",o.call(t),ae,I)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var le=[];return u.call(t,(function(e){le.push(B(e,t))})),Q("Set",c.call(t),le,I)}if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Y("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Y("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return Y("WeakRef");if(function(e){return!("[object Number]"!==U(e)||D&&"object"==typeof e&&D in e)}(t))return G(B(Number(t)));if(function(e){if(!e||"object"!=typeof e||!T)return!1;try{return T.call(e),!0}catch(e){}return!1}(t))return G(B(T.call(t)));if(function(e){return!("[object Boolean]"!==U(e)||D&&"object"==typeof e&&D in e)}(t))return G(f.call(t));if(function(e){return!("[object String]"!==U(e)||D&&"object"==typeof e&&D in e)}(t))return G(B(String(t)));if(!function(e){return!("[object Date]"!==U(e)||D&&"object"==typeof e&&D in e)}(t)&&!q(t)){var ce=X(t,B),ue=M?M(t)===Object.prototype:t instanceof Object||t.constructor===Object,he=t instanceof Object?"":"null prototype",de=!ue&&D&&Object(t)===t&&D in t?y.call(U(t),8,-1):he?"Object":"",pe=(ue||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(de||he?"["+C.call(k.call([],de||[],he||[]),": ")+"] ":"");return 0===ce.length?pe+"{}":I?pe+"{"+J(ce,I)+"}":pe+"{ "+C.call(ce,", ")+" }"}return String(t)};var B=Object.prototype.hasOwnProperty||function(e){return e in this};function W(e,t){return B.call(e,t)}function U(e){return m.call(e)}function H(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function Z(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,i="... "+n+" more character"+(n>1?"s":"");return Z(y.call(e,0,t.maxStringLength),t)+i}return j(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,K),"single",t)}function K(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+w.call(t.toString(16))}function G(e){return"Object("+e+")"}function Y(e){return e+" { ? }"}function Q(e,t,n,i){return e+" ("+t+") {"+(i?J(n,i):C.call(n,", "))+"}"}function J(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+C.call(e,","+n)+"\n"+t.prev}function X(e,t){var n=z(e),i=[];if(n){i.length=e.length;for(var r=0;r<e.length;r++)i[r]=W(e,r)?t(e[r],e):""}var o,s="function"==typeof O?O(e):[];if(E){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in e)W(e,l)&&(n&&String(Number(l))===l&&l<e.length||E&&o["$"+l]instanceof Symbol||(x.call(/[^\w$]/,l)?i.push(t(l,e)+": "+t(e[l],e)):i.push(l+": "+t(e[l],e))));if("function"==typeof O)for(var c=0;c<s.length;c++)P.call(e,s[c])&&i.push("["+t(s[c])+"]: "+t(e[s[c]],e));return i}},2975:function(e,t,n){e.exports=function(){"use strict";var e="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,t=function(){for(var t=["Edge","Trident","Firefox"],n=0;n<t.length;n+=1)if(e&&navigator.userAgent.indexOf(t[n])>=0)return 1;return 0}();var i=e&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var n=!1;return function(){n||(n=!0,setTimeout((function(){n=!1,e()}),t))}};function r(e){return e&&"[object Function]"==={}.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function a(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?e:a(s(e))}function l(e){return e&&e.referenceNode?e.referenceNode:e}var c=e&&!(!window.MSInputMethodContext||!document.documentMode),u=e&&/MSIE 10/.test(navigator.userAgent);function h(e){return 11===e?c:10===e?u:c||u}function d(e){if(!e)return document.documentElement;for(var t=h(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===o(n,"position")?d(n):n:e?e.ownerDocument.documentElement:document.documentElement}function p(e){return null!==e.parentNode?p(e.parentNode):e}function f(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,l=o.commonAncestorContainer;if(e!==l&&t!==l||i.contains(r))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&d(s.firstElementChild)!==s?d(l):l;var c=p(e);return c.host?f(c.host,t):f(e,p(t).host)}function m(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[t]}return e[t]}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=m(t,"top"),r=m(t,"left"),o=n?-1:1;return e.top+=i*o,e.bottom+=i*o,e.left+=r*o,e.right+=r*o,e}function v(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+i+"Width"])}function y(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],h(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function b(e){var t=e.body,n=e.documentElement,i=h(10)&&getComputedStyle(n);return{height:y("Height",t,n,i),width:y("Width",t,n,i)}}var w=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},_=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),x=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function C(e){return k({},e,{right:e.left+e.width,bottom:e.top+e.height})}function S(e){var t={};try{if(h(10)){t=e.getBoundingClientRect();var n=m(e,"top"),i=m(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(e){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?b(e.ownerDocument):{},a=s.width||e.clientWidth||r.width,l=s.height||e.clientHeight||r.height,c=e.offsetWidth-a,u=e.offsetHeight-l;if(c||u){var d=o(e);c-=v(d,"x"),u-=v(d,"y"),r.width-=c,r.height-=u}return C(r)}function A(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=h(10),r="HTML"===t.nodeName,s=S(e),l=S(t),c=a(e),u=o(t),d=parseFloat(u.borderTopWidth),p=parseFloat(u.borderLeftWidth);n&&r&&(l.top=Math.max(l.top,0),l.left=Math.max(l.left,0));var f=C({top:s.top-l.top-d,left:s.left-l.left-p,width:s.width,height:s.height});if(f.marginTop=0,f.marginLeft=0,!i&&r){var m=parseFloat(u.marginTop),v=parseFloat(u.marginLeft);f.top-=d-m,f.bottom-=d-m,f.left-=p-v,f.right-=p-v,f.marginTop=m,f.marginLeft=v}return(i&&!n?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(f=g(f,t)),f}function T(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=A(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:m(n),a=t?0:m(n,"left");return C({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}function O(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===o(e,"position"))return!0;var n=s(e);return!!n&&O(n)}function L(e){if(!e||!e.parentElement||h())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function E(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},c=r?L(e):f(e,l(t));if("viewport"===i)o=T(c,r);else{var u=void 0;"scrollParent"===i?"BODY"===(u=a(s(t))).nodeName&&(u=e.ownerDocument.documentElement):u="window"===i?e.ownerDocument.documentElement:i;var h=A(u,c,r);if("HTML"!==u.nodeName||O(c))o=h;else{var d=b(e.ownerDocument),p=d.height,m=d.width;o.top+=h.top-h.marginTop,o.bottom=p+h.top,o.left+=h.left-h.marginLeft,o.right=m+h.left}}var g="number"==typeof(n=n||0);return o.left+=g?n:n.left||0,o.top+=g?n:n.top||0,o.right-=g?n:n.right||0,o.bottom-=g?n:n.bottom||0,o}function D(e){return e.width*e.height}function P(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=E(n,i,o,r),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map((function(e){return k({key:e},a[e],{area:D(a[e])})})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,h=e.split("-")[1];return u+(h?"-"+h:"")}function M(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return A(n,i?L(t):f(t,l(n)),i)}function $(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function R(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function I(e,t,n){n=n.split("-")[0];var i=$(e),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[s]=t[s]+t[l]/2-i[l]/2,r[a]=n===a?t[a]-i[c]:t[R(a)],r}function F(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function j(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var i=F(e,(function(e){return e[t]===n}));return e.indexOf(i)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&r(n)&&(t.offsets.popper=C(t.offsets.popper),t.offsets.reference=C(t.offsets.reference),t=n(t,e))})),t}function N(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=M(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=P(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=I(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=j(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function z(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function q(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],o=r?""+r+n:e;if(void 0!==document.body.style[o])return o}return null}function V(){return this.state.isDestroyed=!0,z(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[q("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function B(e){var t=e.ownerDocument;return t?t.defaultView:window}function W(e,t,n,i){var r="BODY"===e.nodeName,o=r?e.ownerDocument.defaultView:e;o.addEventListener(t,n,{passive:!0}),r||W(a(o.parentNode),t,n,i),i.push(o)}function U(e,t,n,i){n.updateBound=i,B(e).addEventListener("resize",n.updateBound,{passive:!0});var r=a(e);return W(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function H(){this.state.eventsEnabled||(this.state=U(this.reference,this.options,this.state,this.scheduleUpdate))}function Z(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,B(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function K(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function G(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&K(t[n])&&(i="px"),e.style[n]=t[n]+i}))}var Y=e&&/Firefox/i.test(navigator.userAgent);function Q(e,t,n){var i=F(e,(function(e){return e.name===t})),r=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!r){var o="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],X=J.slice(3);function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=X.indexOf(e),i=X.slice(n+1).concat(X.slice(0,n));return t?i.reverse():i}var te="flip",ne="clockwise",ie="counterclockwise";function re(e,t,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(F(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(c=c.map((function(e,i){var r=(1===i?!o:o)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];return o?0===s.indexOf("%")?C("%p"===s?n:i)[t]/100*o:"vh"===s||"vw"===s?("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o:e}(e,r,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,i){K(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))}))})),r}var oe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:x({},l,o[l]),end:x({},l,o[l]+o[c]-s[c])};e.offsets.popper=k({},s,u[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,i=t.offset,r=e.placement,o=e.offsets,s=o.popper,a=o.reference,l=r.split("-")[0];return n=K(+i)?[+i,0]:re(i,s,a,l),"left"===l?(s.top+=n[0],s.left-=n[1]):"right"===l?(s.top+=n[0],s.left+=n[1]):"top"===l?(s.left+=n[0],s.top-=n[1]):"bottom"===l&&(s.left+=n[0],s.top+=n[1]),e.popper=s,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||d(e.instance.popper);e.instance.reference===n&&(n=d(n));var i=q("transform"),r=e.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var l=E(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=o,r.left=s,r[i]=a,t.boundaries=l;var c=t.priority,u=e.offsets.popper,h={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),x({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(i=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),x({},n,i)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=k({},u,h[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(i[l])&&(e.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[a])&&(e.offsets.popper[l]=o(i[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Q(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],s=e.offsets,a=s.popper,l=s.reference,c=-1!==["left","right"].indexOf(r),u=c?"height":"width",h=c?"Top":"Left",d=h.toLowerCase(),p=c?"left":"top",f=c?"bottom":"right",m=$(i)[u];l[f]-m<a[d]&&(e.offsets.popper[d]-=a[d]-(l[f]-m)),l[d]+m>a[f]&&(e.offsets.popper[d]+=l[d]+m-a[f]),e.offsets.popper=C(e.offsets.popper);var g=l[d]+l[u]/2-m/2,v=o(e.instance.popper),y=parseFloat(v["margin"+h]),b=parseFloat(v["border"+h+"Width"]),w=g-e.offsets.popper[d]-y-b;return w=Math.max(Math.min(a[u]-m,w),0),e.arrowElement=i,e.offsets.arrow=(x(n={},d,Math.round(w)),x(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(z(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=E(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=R(i),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case te:s=[i,r];break;case ne:s=ee(i);break;case ie:s=ee(i,!0);break;default:s=t.behavior}return s.forEach((function(a,l){if(i!==a||s.length===l+1)return e;i=e.placement.split("-")[0],r=R(i);var c=e.offsets.popper,u=e.offsets.reference,h=Math.floor,d="left"===i&&h(c.right)>h(u.left)||"right"===i&&h(c.left)<h(u.right)||"top"===i&&h(c.bottom)>h(u.top)||"bottom"===i&&h(c.top)<h(u.bottom),p=h(c.left)<h(n.left),f=h(c.right)>h(n.right),m=h(c.top)<h(n.top),g=h(c.bottom)>h(n.bottom),v="left"===i&&p||"right"===i&&f||"top"===i&&m||"bottom"===i&&g,y=-1!==["top","bottom"].indexOf(i),b=!!t.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&f||!y&&"start"===o&&m||!y&&"end"===o&&g),w=!!t.flipVariationsByContent&&(y&&"start"===o&&f||y&&"end"===o&&p||!y&&"start"===o&&g||!y&&"end"===o&&m),_=b||w;(d||v||_)&&(e.flipped=!0,(d||v)&&(i=s[l+1]),_&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=i+(o?"-"+o:""),e.offsets.popper=k({},e.offsets.popper,I(e.instance.popper,e.offsets.reference,e.placement)),e=j(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),e.placement=R(t),e.offsets.popper=C(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Q(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=F(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,o=F(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s,a,l=void 0!==o?o:t.gpuAcceleration,c=d(e.instance.popper),u=S(c),h={position:r.position},p=function(e,t){var n=e.offsets,i=n.popper,r=n.reference,o=Math.round,s=Math.floor,a=function(e){return e},l=o(r.width),c=o(i.width),u=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),d=t?u||h||l%2==c%2?o:s:a,p=t?o:a;return{left:d(l%2==1&&c%2==1&&!h&&t?i.left-1:i.left),top:p(i.top),bottom:p(i.bottom),right:d(i.right)}}(e,window.devicePixelRatio<2||!Y),f="bottom"===n?"top":"bottom",m="right"===i?"left":"right",g=q("transform");if(a="bottom"===f?"HTML"===c.nodeName?-c.clientHeight+p.bottom:-u.height+p.bottom:p.top,s="right"===m?"HTML"===c.nodeName?-c.clientWidth+p.right:-u.width+p.right:p.left,l&&g)h[g]="translate3d("+s+"px, "+a+"px, 0)",h[f]=0,h[m]=0,h.willChange="transform";else{var v="bottom"===f?-1:1,y="right"===m?-1:1;h[f]=a*v,h[m]=s*y,h.willChange=f+", "+m}var b={"x-placement":e.placement};return e.attributes=k({},b,e.attributes),e.styles=k({},h,e.styles),e.arrowStyles=k({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return G(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&G(e.arrowElement,e.arrowStyles),e;var t,n},onLoad:function(e,t,n,i,r){var o=M(r,t,e,n.positionFixed),s=P(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),G(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},se=function(){function e(t,n){var o=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};w(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(o.update)},this.update=i(this.update.bind(this)),this.options=k({},e.Defaults,s),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(k({},e.Defaults.modifiers,s.modifiers)).forEach((function(t){o.options.modifiers[t]=k({},e.Defaults.modifiers[t]||{},s.modifiers?s.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return k({name:e},o.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&r(e.onLoad)&&e.onLoad(o.reference,o.popper,o.options,e,o.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return _(e,[{key:"update",value:function(){return N.call(this)}},{key:"destroy",value:function(){return V.call(this)}},{key:"enableEventListeners",value:function(){return H.call(this)}},{key:"disableEventListeners",value:function(){return Z.call(this)}}]),e}();return se.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,se.placements=J,se.Defaults=oe,se}()},5798:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:i}},129:(e,t,n)=>{"use strict";var i=n(8261),r=n(5235),o=n(5798);e.exports={formats:o,parse:r,stringify:i}},5235:(e,t,n)=>{"use strict";var i=n(2769),r=Object.prototype.hasOwnProperty,o=Array.isArray,s={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,n,i){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,a=n.depth>0&&/(\[[^[\]]*])/.exec(o),c=a?o.slice(0,a.index):o,u=[];if(c){if(!n.plainObjects&&r.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var h=0;n.depth>0&&null!==(a=s.exec(o))&&h<n.depth;){if(h+=1,!n.plainObjects&&r.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(a[1])}return a&&u.push("["+o.slice(a.index)+"]"),function(e,t,n,i){for(var r=i?t:l(t,n),o=e.length-1;o>=0;--o){var s,a=e[o];if("[]"===a&&n.parseArrays)s=[].concat(r);else{s=n.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);n.parseArrays||""!==c?!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(s=[])[u]=r:"__proto__"!==c&&(s[c]=r):s={0:r}}r=s}return r}(u,t,n,i)}};e.exports=function(e,t){var n=function(e){if(!e)return s;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?s.charset:e.charset;return{allowDots:void 0===e.allowDots?s.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:s.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:s.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:s.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:s.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:s.comma,decoder:"function"==typeof e.decoder?e.decoder:s.decoder,delimiter:"string"==typeof e.delimiter||i.isRegExp(e.delimiter)?e.delimiter:s.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:s.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:s.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:s.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:s.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:s.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){var n,c={},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,h=t.parameterLimit===1/0?void 0:t.parameterLimit,d=u.split(t.delimiter,h),p=-1,f=t.charset;if(t.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[n]?f="utf-8":"utf8=%26%2310003%3B"===d[n]&&(f="iso-8859-1"),p=n,n=d.length);for(n=0;n<d.length;++n)if(n!==p){var m,g,v=d[n],y=v.indexOf("]="),b=-1===y?v.indexOf("="):y+1;-1===b?(m=t.decoder(v,s.decoder,f,"key"),g=t.strictNullHandling?null:""):(m=t.decoder(v.slice(0,b),s.decoder,f,"key"),g=i.maybeMap(l(v.slice(b+1),t),(function(e){return t.decoder(e,s.decoder,f,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===f&&(g=a(g)),v.indexOf("[]=")>-1&&(g=o(g)?[g]:g),r.call(c,m)?c[m]=i.combine(c[m],g):c[m]=g}return c}(e,n):e,h=n.plainObjects?Object.create(null):{},d=Object.keys(u),p=0;p<d.length;++p){var f=d[p],m=c(f,u[f],n,"string"==typeof e);h=i.merge(h,m,n)}return!0===n.allowSparse?h:i.compact(h)}},8261:(e,t,n)=>{"use strict";var i=n(7478),r=n(2769),o=n(5798),s=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=String.prototype.split,u=Array.prototype.push,h=function(e,t){u.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,p=o.default,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:p,formatter:o.formatters[p],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},m={},g=function e(t,n,o,s,a,u,d,p,g,v,y,b,w,_,x){for(var k,C=t,S=x,A=0,T=!1;void 0!==(S=S.get(m))&&!T;){var O=S.get(t);if(A+=1,void 0!==O){if(O===A)throw new RangeError("Cyclic object value");T=!0}void 0===S.get(m)&&(A=0)}if("function"==typeof d?C=d(n,C):C instanceof Date?C=v(C):"comma"===o&&l(C)&&(C=r.maybeMap(C,(function(e){return e instanceof Date?v(e):e}))),null===C){if(s)return u&&!w?u(n,f.encoder,_,"key",y):n;C=""}if("string"==typeof(k=C)||"number"==typeof k||"boolean"==typeof k||"symbol"==typeof k||"bigint"==typeof k||r.isBuffer(C)){if(u){var L=w?n:u(n,f.encoder,_,"key",y);if("comma"===o&&w){for(var E=c.call(String(C),","),D="",P=0;P<E.length;++P)D+=(0===P?"":",")+b(u(E[P],f.encoder,_,"value",y));return[b(L)+"="+D]}return[b(L)+"="+b(u(C,f.encoder,_,"value",y))]}return[b(n)+"="+b(String(C))]}var M,$=[];if(void 0===C)return $;if("comma"===o&&l(C))M=[{value:C.length>0?C.join(",")||null:void 0}];else if(l(d))M=d;else{var R=Object.keys(C);M=p?R.sort(p):R}for(var I=0;I<M.length;++I){var F=M[I],j="object"==typeof F&&void 0!==F.value?F.value:C[F];if(!a||null!==j){var N=l(C)?"function"==typeof o?o(n,F):n:n+(g?"."+F:"["+F+"]");x.set(t,A);var z=i();z.set(m,x),h($,e(j,N,o,s,a,u,d,p,g,v,y,b,w,_,z))}}return $};e.exports=function(e,t){var n,r=e,c=function(e){if(!e)return f;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||f.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if(void 0!==e.format){if(!s.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=o.formatters[n],r=f.filter;return("function"==typeof e.filter||l(e.filter))&&(r=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===e.allowDots?f.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:f.charsetSentinel,delimiter:void 0===e.delimiter?f.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:f.encode,encoder:"function"==typeof e.encoder?e.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:f.encodeValuesOnly,filter:r,format:n,formatter:i,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:f.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:f.strictNullHandling}}(t);"function"==typeof c.filter?r=(0,c.filter)("",r):l(c.filter)&&(n=c.filter);var u,d=[];if("object"!=typeof r||null===r)return"";u=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var p=a[u];n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var m=i(),v=0;v<n.length;++v){var y=n[v];c.skipNulls&&null===r[y]||h(d,g(r[y],y,p,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,m))}var b=d.join(c.delimiter),w=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),b.length>0?w+b:""}},2769:(e,t,n)=>{"use strict";var i=n(5798),r=Object.prototype.hasOwnProperty,o=Array.isArray,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(n[i]=e[i]);return n};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],i=0;i<t.length;++i)for(var r=t[i],s=r.obj[r.prop],a=Object.keys(s),l=0;l<a.length;++l){var c=a[l],u=s[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:s,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var i=[],r=0;r<n.length;++r)void 0!==n[r]&&i.push(n[r]);t.obj[t.prop]=i}}}(t),e},decode:function(e,t,n){var i=e.replace(/\+/g," ");if("iso-8859-1"===n)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},encode:function(e,t,n,r,o){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var l="",c=0;c<a.length;++c){var u=a.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===i.RFC1738&&(40===u||41===u)?l+=a.charAt(c):u<128?l+=s[u]:u<2048?l+=s[192|u>>6]+s[128|63&u]:u<55296||u>=57344?l+=s[224|u>>12]+s[128|u>>6&63]+s[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&a.charCodeAt(c)),l+=s[240|u>>18]+s[128|u>>12&63]+s[128|u>>6&63]+s[128|63&u])}return l},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(t(e[i]));return n}return t(e)},merge:function e(t,n,i){if(!n)return t;if("object"!=typeof n){if(o(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(i&&(i.plainObjects||i.allowPrototypes)||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var s=t;return o(t)&&!o(n)&&(s=a(t,i)),o(t)&&o(n)?(n.forEach((function(n,o){if(r.call(t,o)){var s=t[o];s&&"object"==typeof s&&n&&"object"==typeof n?t[o]=e(s,n,i):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var s=n[o];return r.call(t,o)?t[o]=e(t[o],s,i):t[o]=s,t}),s)}}},8662:()=>{!function(){"use strict";var e="undefined"==typeof window,t=!e&&"scrollBehavior"in document.documentElement.style,n=function(){return n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function r(){return null!=document.scrollingElement?document.scrollingElement:document.documentElement}var o=new RegExp("scroll-behavior:\\s*([^;]*)");function s(e,t){var n="scroll-behavior:"+t,i=e.getAttribute("style");if(null!=i&&""!==i){var r=a(e);if(null!=r){var o="scroll-behavior:"+r;i=(i=i.replace(o+";","")).replace(o,"")}e.setAttribute("style",i.endsWith(";")?""+i+n:";"+i+n)}else e.setAttribute("style",n)}function a(e){var t=e.getAttribute("style");if(null!=t&&t.includes("scroll-behavior")){var n=t.match(o);if(null!=n){var r=i(n,2)[1];if(null!=r&&""!==r)return r}}}function l(e,t){if(null!=t&&"smooth"===t.behavior)return"smooth";var n,i="style"in e?e:r();if("style"in i){var o=i.style.scrollBehavior;null!=o&&""!==o&&(n=o)}if(null==n){var s=i.getAttribute("scroll-behavior");null!=s&&""!==s&&(n=s)}if(null==n&&(n=a(i)),null==n){var l=getComputedStyle(i).getPropertyValue("scrollBehavior");null!=l&&""!==l&&(n=l)}return n}function c(e){return.5*(1-Math.cos(Math.PI*e))}var u={reset:function(){}},h="undefined"==typeof WeakMap?void 0:new WeakMap;var d=e?void 0:Element.prototype.scroll,p=e?void 0:window.scroll,f=e?void 0:Element.prototype.scrollBy,m=e?void 0:window.scrollBy,g=e?void 0:Element.prototype.scrollTo,v=e?void 0:window.scrollTo;function y(e,t){this.__adjustingScrollPosition=!0,this.scrollLeft=e,this.scrollTop=t,delete this.__adjustingScrollPosition}function b(e,t){return y.call(this,e,t)}function w(e,t){this.__adjustingScrollPosition=!0,this.scrollLeft+=e,this.scrollTop+=t,delete this.__adjustingScrollPosition}function _(e,t){switch(e){case"scroll":return t instanceof Element?null!=d?d:y:p;case"scrollBy":return t instanceof Element?null!=f?f:w:m;case"scrollTo":return t instanceof Element?null!=g?g:b:v}}function x(e){return null==e?0:"number"==typeof e?e:"string"==typeof e?parseFloat(e):0}function k(e){return null!=e&&"object"==typeof e}function C(e,i,o,d){!function(e,n,i){var o=l(n,e);null==o||"auto"===o?_(i,n).call(n,e.left,e.top):function(e){var n=e.startTime,i=e.startX,o=e.startY,l=e.endX,d=e.endY,p=e.method,f=e.scroller,m=0,g=l-i,v=d-o,y=Math.max(Math.abs(g/1e3*15e3),Math.abs(v/1e3*15e3)),b=function(e){if(t||null==h)return u;var n,i,o,l,c,d=r(),p=h.get(e);if(null!=p)n=p.cachedScrollSnapValue,i=p.cachedScrollBehaviorStyleAttributeValue,o=p.secondaryScroller,l=p.secondaryScrollerCachedScrollSnapValue,c=p.secondaryScrollerCachedScrollBehaviorStyleAttributeValue,p.release();else{n=""===e.style.scrollSnapType?null:e.style.scrollSnapType,i=a(e),o=e===d&&d!==document.body?document.body:void 0,l=null==o?void 0:""===o.style.scrollSnapType?null:o.style.scrollSnapType,c=null==o?void 0:a(o);var f=getComputedStyle(e).getPropertyValue("scroll-snap-type"),m=null==o?void 0:getComputedStyle(o).getPropertyValue("scroll-snap-type");if("none"===f&&"none"===m)return u}e.style.scrollSnapType="none",void 0!==o&&(o.style.scrollSnapType="none"),void 0!==i&&s(e,i),void 0!==o&&void 0!==c&&s(o,c);var g=!1,v=e===d?window:e;function y(){v.removeEventListener("scroll",b),null!=h&&h.delete(e),g=!0}function b(){e.style.scrollSnapType=n,null!=o&&void 0!==l&&(o.style.scrollSnapType=l),void 0!==i&&s(e,i),void 0!==o&&void 0!==c&&s(o,c),y()}return h.set(e,{release:y,cachedScrollSnapValue:n,cachedScrollBehaviorStyleAttributeValue:i,secondaryScroller:o,secondaryScrollerCachedScrollSnapValue:l,secondaryScrollerCachedScrollBehaviorStyleAttributeValue:c}),{reset:function(){setTimeout((function(){g||v.addEventListener("scroll",b)}))}}}(f);requestAnimationFrame((function e(t){m+=t-n;var r=Math.max(0,Math.min(1,0===y?0:m/y)),s=Math.floor(i+g*c(r)),a=Math.floor(o+v*c(r));p(s,a),s!==l||a!==d?requestAnimationFrame(e):null!=b&&(b.reset(),b=void 0)}))}(function(e,t,n,i){var o="performance"in window?performance.now():Date.now();if(e instanceof Element)return{startTime:o,startX:s=e.scrollLeft,startY:a=e.scrollTop,endX:Math.floor("scrollBy"===i?s+t:t),endY:Math.floor("scrollBy"===i?a+n:n),method:_("scrollTo",e).bind(e),scroller:e};var s,a,l=window.scrollX,c=window.pageXOffset,u=window.scrollY,h=window.pageYOffset;return{startTime:o,startX:s=null==l||0===l?c:l,startY:a=null==u||0===u?h:u,endX:Math.floor("scrollBy"===i?s+t:t),endY:Math.floor("scrollBy"===i?a+n:n),method:_("scrollTo",window).bind(window),scroller:r()}}(n,e.left,e.top,i))}(function(e,t){if(void 0===t&&!k(e))throw new TypeError("Failed to execute 'scroll' on 'Element': parameter 1 ('options') is not an object.");return k(e)?n(n({},S(e.left,e.top)),{behavior:null==e.behavior?"auto":e.behavior}):n(n({},S(e,t)),{behavior:"auto"})}(o,d),e,i)}function S(e,t){return{left:x(e),top:x(t)}}function A(e){return"nodeType"in e&&1===e.nodeType?e.parentNode:"ShadowRoot"in window&&e instanceof window.ShadowRoot?e.host:e===document?window:e instanceof Node?e.parentNode:null}function T(e){return"visible"!==e&&"clip"!==e}function O(e){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var t=getComputedStyle(e,null);return T(t.overflowY)||T(t.overflowX)}return!1}function L(e){for(var t=e,n=r();null!=t;){var i=l(t);if(null!=i&&(t===n||O(t)))return[t,i];t=A(t)}for(t=e;null!=t;){if(t===n||O(t))return[t,"auto"];t=A(t)}return[n,"auto"]}function E(e){if(void 0===e&&(e=location),"origin"in e&&null!=e.origin)return e.origin;var t=null!=e.port&&e.port.length>0?":"+e.port:"";return("http:"===e.protocol&&":80"===t||"https:"===e.protocol&&":443"===t)&&(t=""),e.protocol+"//"+e.hostname+t}var D=/^#\d/;var P=e?void 0:Element.prototype.scrollIntoView;function M(e,t,n,i,r,o,s,a){return o<e&&s>t||o>e&&s<t?0:o<=e&&a<=n||s>=t&&a>=n?o-e-i:s>t&&a<n||o<e&&a>n?s-t+r:0}function $(e,t,n){var i=n.block,o=n.inline,s=r(),a=null!=window.visualViewport?visualViewport.width:innerWidth,l=null!=window.visualViewport?visualViewport.height:innerHeight,c=null!=window.scrollX?window.scrollX:window.pageXOffset,u=null!=window.scrollY?window.scrollY:window.pageYOffset,h=e.getBoundingClientRect(),d=h.height,p=h.width,f=h.top,m=h.right,g=h.bottom,v=h.left,y="start"===i||"nearest"===i?f:"end"===i?g:f+d/2,b="center"===o?v+p/2:"end"===o?m:v,w=t.getBoundingClientRect(),_=w.height,x=w.width,k=w.top,C=w.right,S=w.bottom,A=w.left,T=getComputedStyle(t),O=parseInt(T.borderLeftWidth,10),L=parseInt(T.borderTopWidth,10),E=parseInt(T.borderRightWidth,10),D=parseInt(T.borderBottomWidth,10),P=0,$=0,R="offsetWidth"in t?t.offsetWidth-t.clientWidth-O-E:0,I="offsetHeight"in t?t.offsetHeight-t.clientHeight-L-D:0;if(s===t)P="start"===i?y:"end"===i?y-l:"nearest"===i?M(u,u+l,l,L,D,u+y,u+y+d,d):y-l/2,$="start"===o?b:"center"===o?b-a/2:"end"===o?b-a:M(c,c+a,a,O,E,c+b,c+b+p,p),P=Math.max(0,P+u),$=Math.max(0,$+c);else{P="start"===i?y-k-L:"end"===i?y-S+D+I:"nearest"===i?M(k,S,_,L,D+I,y,y+d,d):y-(k+_/2)+I/2,$="start"===o?b-A-O:"center"===o?b-(A+x/2)+R/2:"end"===o?b-C+E+R:M(A,C,x,O,E+R,b,b+p,p);var F=t.scrollLeft,j=t.scrollTop;P=Math.max(0,Math.min(j+P,t.scrollHeight-_+I)),$=Math.max(0,Math.min(F+$,t.scrollWidth-x+R))}return{top:P,left:$}}var R=e?void 0:Object.getOwnPropertyDescriptor(Element.prototype,"scrollTop").set,I=e?void 0:Object.getOwnPropertyDescriptor(Element.prototype,"scrollLeft").set,F=!e&&"scroll"in Element.prototype&&"scrollTo"in Element.prototype&&"scrollBy"in Element.prototype&&"scrollIntoView"in Element.prototype;e||t&&F||(Element.prototype.scroll=function(e,t){C(this,"scroll",e,t)},Element.prototype.scrollBy=function(e,t){C(this,"scrollBy",e,t)},Element.prototype.scrollTo=function(e,t){C(this,"scrollTo",e,t)},Element.prototype.scrollIntoView=function(e){var t=null==e||!0===e?{block:"start",inline:"nearest"}:!1===e?{block:"end",inline:"nearest"}:e,r=i(L(this),2),o=r[0],s=r[1],a=null!=t.behavior?t.behavior:s;if("smooth"===a)o.scrollTo(n({behavior:a},$(this,o,t)));else if(null!=P)P.call(this,t);else{var l=$(this,o,t),c=l.top,u=l.left;_("scrollTo",this).call(this,u,c)}},null!=HTMLElement.prototype.scrollIntoView&&HTMLElement.prototype.scrollIntoView!==Element.prototype.scrollIntoView&&(HTMLElement.prototype.scrollIntoView=Element.prototype.scrollIntoView),Object.defineProperty(Element.prototype,"scrollLeft",{set:function(e){return this.__adjustingScrollPosition?I.call(this,e):(C(this,"scrollTo",e,this.scrollTop),e)}}),Object.defineProperty(Element.prototype,"scrollTop",{set:function(e){return this.__adjustingScrollPosition?R.call(this,e):(C(this,"scrollTo",this.scrollLeft,e),e)}}),window.scroll=function(e,t){C(this,"scroll",e,t)},window.scrollBy=function(e,t){C(this,"scrollBy",e,t)},window.scrollTo=function(e,t){C(this,"scrollTo",e,t)},window.addEventListener("click",(function(e){if(e.isTrusted&&e.target instanceof HTMLAnchorElement){var t=e.target,n=t.pathname,r=t.search,o=t.hash;if(E(e.target)===E(location)&&n===location.pathname&&r===location.search&&null!=o&&!(o.length<1)){var s=function(e){for(var t=e;null!=t;){if("ShadowRoot"in window&&t instanceof window.ShadowRoot)return t;var n=A(t);if(n===t)return document;t=n}return document}(e.target),a=null!=o.match(D)?s.getElementById(o.slice(1)):s.querySelector(o);if(null!=a){var l=i(L(a),2)[1];"smooth"===l&&(e.preventDefault(),a.scrollIntoView({behavior:l}))}}}})))}()},7478:(e,t,n)=>{"use strict";var i=n(210),r=n(1924),o=n(631),s=i("%TypeError%"),a=i("%WeakMap%",!0),l=i("%Map%",!0),c=r("WeakMap.prototype.get",!0),u=r("WeakMap.prototype.set",!0),h=r("WeakMap.prototype.has",!0),d=r("Map.prototype.get",!0),p=r("Map.prototype.set",!0),f=r("Map.prototype.has",!0),m=function(e,t){for(var n,i=e;null!==(n=i.next);i=n)if(n.key===t)return i.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,i={assert:function(e){if(!i.has(e))throw new s("Side channel does not contain "+o(e))},get:function(i){if(a&&i&&("object"==typeof i||"function"==typeof i)){if(e)return c(e,i)}else if(l){if(t)return d(t,i)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,i)},has:function(i){if(a&&i&&("object"==typeof i||"function"==typeof i)){if(e)return h(e,i)}else if(l){if(t)return f(t,i)}else if(n)return function(e,t){return!!m(e,t)}(n,i);return!1},set:function(i,r){a&&i&&("object"==typeof i||"function"==typeof i)?(e||(e=new a),u(e,i,r)):l?(t||(t=new l),p(t,i,r)):(n||(n={key:{},next:null}),function(e,t,n){var i=m(e,t);i?i.value=n:e.next={key:t,next:e.next,value:n}}(n,i,r))}};return i}},7621:(e,t,n)=>{var i;!function(r){var o=/^\s+/,s=/\s+$/,a=0,l=r.round,c=r.min,u=r.max,h=r.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t,n,i,a={r:0,g:0,b:0},l=1,h=null,d=null,p=null,f=!1,m=!1;return"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(s,"").toLowerCase();var t,n=!1;if(E[e])e=E[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=B.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=B.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=B.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=B.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=B.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=B.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=B.hex8.exec(e))?{r:R(t[1]),g:R(t[2]),b:R(t[3]),a:N(t[4]),format:n?"name":"hex8"}:(t=B.hex6.exec(e))?{r:R(t[1]),g:R(t[2]),b:R(t[3]),format:n?"name":"hex"}:(t=B.hex4.exec(e))?{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),a:N(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=B.hex3.exec(e))&&{r:R(t[1]+""+t[1]),g:R(t[2]+""+t[2]),b:R(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==typeof e&&(W(e.r)&&W(e.g)&&W(e.b)?(t=e.r,n=e.g,i=e.b,a={r:255*M(t,255),g:255*M(n,255),b:255*M(i,255)},f=!0,m="%"===String(e.r).substr(-1)?"prgb":"rgb"):W(e.h)&&W(e.s)&&W(e.v)?(h=F(e.s),d=F(e.v),a=function(e,t,n){e=6*M(e,360),t=M(t,100),n=M(n,100);var i=r.floor(e),o=e-i,s=n*(1-t),a=n*(1-o*t),l=n*(1-(1-o)*t),c=i%6;return{r:255*[n,a,s,s,l,n][c],g:255*[l,n,n,a,s,s][c],b:255*[s,s,l,n,n,a][c]}}(e.h,h,d),f=!0,m="hsv"):W(e.h)&&W(e.s)&&W(e.l)&&(h=F(e.s),p=F(e.l),a=function(e,t,n){var i,r,o;function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=M(e,360),t=M(t,100),n=M(n,100),0===t)i=r=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=s(l,a,e+1/3),r=s(l,a,e),o=s(l,a,e-1/3)}return{r:255*i,g:255*r,b:255*o}}(e.h,h,p),f=!0,m="hsl"),e.hasOwnProperty("a")&&(l=e.a)),l=P(l),{ok:f,format:e.format||m,r:c(255,u(a.r,0)),g:c(255,u(a.g,0)),b:c(255,u(a.b,0)),a:l}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=l(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=l(this._r)),this._g<1&&(this._g=l(this._g)),this._b<1&&(this._b=l(this._b)),this._ok=n.ok,this._tc_id=a++}function p(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var i,r,o=u(e,t,n),s=c(e,t,n),a=(o+s)/2;if(o==s)i=r=0;else{var l=o-s;switch(r=a>.5?l/(2-o-s):l/(o+s),o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,l:a}}function f(e,t,n){e=M(e,255),t=M(t,255),n=M(n,255);var i,r,o=u(e,t,n),s=c(e,t,n),a=o,l=o-s;if(r=0===o?0:l/o,o==s)i=0;else{switch(o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:r,v:a}}function m(e,t,n,i){var r=[I(l(e).toString(16)),I(l(t).toString(16)),I(l(n).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function g(e,t,n,i){return[I(j(i)),I(l(e).toString(16)),I(l(t).toString(16)),I(l(n).toString(16))].join("")}function v(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=$(n.s),d(n)}function y(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=$(n.s),d(n)}function b(e){return d(e).desaturate(100)}function w(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=$(n.l),d(n)}function _(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=u(0,c(255,n.r-l(-t/100*255))),n.g=u(0,c(255,n.g-l(-t/100*255))),n.b=u(0,c(255,n.b-l(-t/100*255))),d(n)}function x(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=$(n.l),d(n)}function k(e,t){var n=d(e).toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,d(n)}function C(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function S(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function A(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function T(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function O(e,t,n){t=t||6,n=n||30;var i=d(e).toHsl(),r=360/n,o=[d(e)];for(i.h=(i.h-(r*t>>1)+720)%360;--t;)i.h=(i.h+r)%360,o.push(d(i));return o}function L(e,t){t=t||6;for(var n=d(e).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/t;t--;)s.push(d({h:i,s:r,v:o})),o=(o+a)%1;return s}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,i=this.toRgb();return e=i.r/255,t=i.g/255,n=i.b/255,.2126*(e<=.03928?e/12.92:r.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:r.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:r.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=P(e),this._roundA=l(100*this._a)/100,this},toHsv:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=f(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),i=l(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=p(this._r,this._g,this._b),t=l(360*e.h),n=l(100*e.s),i=l(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+i+"%)":"hsla("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return m(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,i,r){var o=[I(l(e).toString(16)),I(l(t).toString(16)),I(l(n).toString(16)),I(j(i))];return r&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:l(this._r),g:l(this._g),b:l(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+l(this._r)+", "+l(this._g)+", "+l(this._b)+")":"rgba("+l(this._r)+", "+l(this._g)+", "+l(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:l(100*M(this._r,255))+"%",g:l(100*M(this._g,255))+"%",b:l(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+l(100*M(this._r,255))+"%, "+l(100*M(this._g,255))+"%, "+l(100*M(this._b,255))+"%)":"rgba("+l(100*M(this._r,255))+"%, "+l(100*M(this._g,255))+"%, "+l(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(D[m(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+g(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var r=d(e);n="#"+g(r._r,r._g,r._b,r._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0;return t||!i||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(w,arguments)},brighten:function(){return this._applyModification(_,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(v,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(k,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(O,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(L,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(A,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]="a"===i?e[i]:F(e[i]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:h(),g:h(),b:h()})},d.mix=function(e,t,n){n=0===n?0:n||50;var i=d(e).toRgb(),r=d(t).toRgb(),o=n/100;return d({r:(r.r-i.r)*o+i.r,g:(r.g-i.g)*o+i.g,b:(r.b-i.b)*o+i.b,a:(r.a-i.a)*o+i.a})},d.readability=function(e,t){var n=d(e),i=d(t);return(r.max(n.getLuminance(),i.getLuminance())+.05)/(r.min(n.getLuminance(),i.getLuminance())+.05)},d.isReadable=function(e,t,n){var i,r,o,s,a,l=d.readability(e,t);switch(r=!1,(o=n,"AA"!==(s=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(a=(o.size||"small").toLowerCase())&&"large"!==a&&(a="small"),i={level:s,size:a}).level+i.size){case"AAsmall":case"AAAlarge":r=l>=4.5;break;case"AAlarge":r=l>=3;break;case"AAAsmall":r=l>=7}return r},d.mostReadable=function(e,t,n){var i,r,o,s,a=null,l=0;r=(n=n||{}).includeFallbackColors,o=n.level,s=n.size;for(var c=0;c<t.length;c++)(i=d.readability(e,t[c]))>l&&(l=i,a=d(t[c]));return d.isReadable(e,a,{level:o,size:s})||!r?a:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var E=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},D=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(E);function P(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function M(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=c(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),r.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function $(e){return c(1,u(0,e))}function R(e){return parseInt(e,16)}function I(e){return 1==e.length?"0"+e:""+e}function F(e){return e<=1&&(e=100*e+"%"),e}function j(e){return r.round(255*parseFloat(e)).toString(16)}function N(e){return R(e)/255}var z,q,V,B=(q="[\\s|\\(]+("+(z="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",V="[\\s|\\(]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")[,|\\s]+("+z+")\\s*\\)?",{CSS_UNIT:new RegExp(z),rgb:new RegExp("rgb"+q),rgba:new RegExp("rgba"+V),hsl:new RegExp("hsl"+q),hsla:new RegExp("hsla"+V),hsv:new RegExp("hsv"+q),hsva:new RegExp("hsva"+V),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function W(e){return!!B.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(i=function(){return d}.call(t,n,t,e))||(e.exports=i)}(Math)},6250:function(e,t,n){var i,r;(function(){}).call(this),function(){null==window.Set&&(window.Set=function(){function e(){this.clear()}return e.prototype.clear=function(){return this.values=[]},e.prototype.has=function(e){return-1!==this.values.indexOf(e)},e.prototype.add=function(e){return this.has(e)||this.values.push(e),this},e.prototype.delete=function(e){var t;return-1!==(t=this.values.indexOf(e))&&(this.values.splice(t,1),!0)},e.prototype.forEach=function(){var e;return(e=this.values).forEach.apply(e,arguments)},e}())}.call(this),function(t){function n(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function r(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void h((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void s(t.promise,e)}o(t.promise,i)}else(1===e._state?o:s)(t.promise,e._value)})))}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void a(e);if("function"==typeof n)return void c(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,a(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,a(e)}function a(e){2===e._state&&0===e._deferreds.length&&setTimeout((function(){e._handled||d(e._value)}),1);for(var t=0,n=e._deferreds.length;n>t;t++)r(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e((function(e){n||(n=!0,o(t,e))}),(function(e){n||(n=!0,s(t,e))}))}catch(e){if(n)return;n=!0,s(t,e)}}var u=setTimeout,h="function"==typeof setImmediate&&setImmediate||function(e){u(e,1)},d=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var o=new i(n);return r(this,new l(e,t,o)),o},i.all=function(e){var t=Array.prototype.slice.call(e);return new i((function(e,n){function i(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(e){i(o,e)}),n)}t[o]=s,0==--r&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)i(o,t[o])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,n){n(e)}))},i.race=function(e){return new i((function(t,n){for(var i=0,r=e.length;r>i;i++)e[i].then(t,n)}))},i._setImmediateFn=function(e){h=e},i._setUnhandledRejectionFn=function(e){d=e},e.exports?e.exports=i:t.Promise||(t.Promise=i)}(this),function(){var e="object"==typeof window.customElements,t="function"==typeof document.registerElement;e||t||("undefined"==typeof WeakMap&&function(){var e=Object.defineProperty,t=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+t+++"__"};n.prototype={set:function(t,n){var i=t[this.name];return i&&i[0]===t?i[1]=n:e(t,this.name,{value:[t,n],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e||(t[0]=t[1]=void 0,0))},has:function(e){var t=e[this.name];return!!t&&t[0]===e}},window.WeakMap=n}(),function(e){function t(e){g.push(e),m||(m=!0,c(n))}function n(){m=!1;var e=g;g=[],e.sort((function(e,t){return e.uid_-t.uid_}));var t=!1;e.forEach((function(e){var n=e.takeRecords();(function(e){e.nodes_.forEach((function(t){var n=u.get(t);n&&n.forEach((function(t){t.observer===e&&t.removeTransientObservers()}))}))})(e),n.length&&(e.callback_(n,e),t=!0)})),t&&n()}function i(e,t){for(var n=e;n;n=n.parentNode){var i=u.get(n);if(i)for(var r=0;r<i.length;r++){var o=i[r],s=o.options;if(n===e||s.subtree){var a=t(s);a&&o.enqueue(a)}}}}function r(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++v}function o(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function s(e,t){return p=new o(e,t)}function a(e){return f||(f=function(e){var t=new o(e.type,e.target);return t.addedNodes=e.addedNodes.slice(),t.removedNodes=e.removedNodes.slice(),t.previousSibling=e.previousSibling,t.nextSibling=e.nextSibling,t.attributeName=e.attributeName,t.attributeNamespace=e.attributeNamespace,t.oldValue=e.oldValue,t}(p),f.oldValue=e,f)}function l(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}if(!e.JsMutationObserver){var c,u=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))c=setTimeout;else if(window.setImmediate)c=window.setImmediate;else{var h=[],d=String(Math.random());window.addEventListener("message",(function(e){if(e.data===d){var t=h;h=[],t.forEach((function(e){e()}))}})),c=function(e){h.push(e),window.postMessage(d,"*")}}var p,f,m=!1,g=[],v=0;r.prototype={observe:function(e,t){if(e=function(e){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(e)||e}(e),!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var n=u.get(e);n||u.set(e,n=[]);for(var i,r=0;r<n.length;r++)if(n[r].observer===this){(i=n[r]).removeListeners(),i.options=t;break}i||(i=new l(this,e,t),n.push(i),this.nodes_.push(e)),i.addListeners()},disconnect:function(){this.nodes_.forEach((function(e){for(var t=u.get(e),n=0;n<t.length;n++){var i=t[n];if(i.observer===this){i.removeListeners(),t.splice(n,1);break}}}),this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}},l.prototype={enqueue:function(e){var n=this.observer.records_,i=n.length;if(n.length>0){var r=function(e,t){return e===t?e:f&&function(e){return e===f||e===p}(e)?f:null}(n[i-1],e);if(r)return void(n[i-1]=r)}else t(this.observer);n[i]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=u.get(e);t||u.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach((function(e){this.removeListeners_(e);for(var t=u.get(e),n=0;n<t.length;n++)if(t[n]===this){t.splice(n,1);break}}),this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,r=e.target;(l=new s("attributes",r)).attributeName=t,l.attributeNamespace=n;var o=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;i(r,(function(e){return!e.attributes||e.attributeFilter&&e.attributeFilter.length&&-1===e.attributeFilter.indexOf(t)&&-1===e.attributeFilter.indexOf(n)?void 0:e.attributeOldValue?a(o):l}));break;case"DOMCharacterDataModified":var l=s("characterData",r=e.target);o=e.prevValue,i(r,(function(e){return e.characterData?e.characterDataOldValue?a(o):l:void 0}));break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var c,u,h=e.target;"DOMNodeInserted"===e.type?(c=[h],u=[]):(c=[],u=[h]);var d=h.previousSibling,m=h.nextSibling;(l=s("childList",e.target.parentNode)).addedNodes=c,l.removedNodes=u,l.previousSibling=d,l.nextSibling=m,i(e.relatedNode,(function(e){return e.childList?l:void 0}))}p=f=void 0}},e.JsMutationObserver=r,e.MutationObserver||(e.MutationObserver=r,r._isPolyfilled=!0)}}(self),function(){"use strict";if(!window.performance||!window.performance.now){var e=Date.now();window.performance={now:function(){return Date.now()-e}}}window.requestAnimationFrame||(window.requestAnimationFrame=function(){var e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;return e?function(t){return e((function(){t(performance.now())}))}:function(e){return window.setTimeout(e,1e3/60)}}()),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)});var t=function(){var e=document.createEvent("Event");return e.initEvent("foo",!0,!0),e.preventDefault(),e.defaultPrevented}();if(!t){var n=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(n.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var i=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||i&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||i&&"function"!=typeof window.Event){var r=window.Event;window.Event=function(e,t){t=t||{};var n=document.createEvent("Event");return n.initEvent(e,Boolean(t.bubbles),Boolean(t.cancelable)),n},window.Event.prototype=r.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,n=[];e.addModule=function(e){n.push(e)},e.initializeModules=function(){n.forEach((function(t){t(e)}))},e.hasNative=Boolean(document.registerElement),e.isIE=/Trident/.test(navigator.userAgent),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule((function(e){function t(e,t){n(e,(function(e){return!!t(e)||void i(e,t)})),i(e,t)}function n(e,t,i){var r=e.firstElementChild;if(!r)for(r=e.firstChild;r&&r.nodeType!==Node.ELEMENT_NODE;)r=r.nextSibling;for(;r;)!0!==t(r,i)&&n(r,t,i),r=r.nextElementSibling;return null}function i(e,n){for(var i=e.shadowRoot;i;)t(i,n),i=i.olderShadowRoot}function r(e,t,n){if(e=window.wrap(e),!(n.indexOf(e)>=0)){n.push(e);for(var i,s=e.querySelectorAll("link[rel="+o+"]"),a=0,l=s.length;l>a&&(i=s[a]);a++)i.import&&r(i.import,t,n);t(e)}}var o=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";e.forDocumentTree=function(e,t){r(e,t,[])},e.forSubtree=t})),window.CustomElements.addModule((function(e){function t(e,t){return n(e,t)||i(e,t)}function n(t,n){return!!e.upgrade(t,n)||void(n&&s(t))}function i(e,t){f(e,(function(e){return!!n(e,t)||void 0}))}function r(e){y.push(e),v||(v=!0,setTimeout(o))}function o(){v=!1;for(var e,t=y,n=0,i=t.length;i>n&&(e=t[n]);n++)e();y=[]}function s(e){g?r((function(){a(e)})):a(e)}function a(e){e.__upgraded__&&!e.__attached&&(e.__attached=!0,e.attachedCallback&&e.attachedCallback())}function l(e){g?r((function(){c(e)})):c(e)}function c(e){e.__upgraded__&&e.__attached&&(e.__attached=!1,e.detachedCallback&&e.detachedCallback())}function u(e,n){if(p.dom){var i=n[0];if(i&&"childList"===i.type&&i.addedNodes&&i.addedNodes){for(var r=i.addedNodes[0];r&&r!==document&&!r.host;)r=r.parentNode;var o=r&&(r.URL||r._URL||r.host&&r.host.localName)||"";o=o.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",n.length,o||"")}var s=function(e){for(var t=e,n=window.wrap(document);t;){if(t==n)return!0;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}(e);n.forEach((function(e){"childList"===e.type&&(b(e.addedNodes,(function(e){e.localName&&t(e,s)})),b(e.removedNodes,(function(e){e.localName&&function(e){l(e),f(e,(function(e){l(e)}))}(e)})))})),p.dom&&console.groupEnd()}function h(e){if(!e.__observer){var t=new MutationObserver(u.bind(this,e));t.observe(e,{childList:!0,subtree:!0}),e.__observer=t}}function d(e){e=window.wrap(e),p.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop()),t(e,e===window.wrap(document)),h(e),p.dom&&console.groupEnd()}var p=e.flags,f=e.forSubtree,m=e.forDocumentTree,g=window.MutationObserver._isPolyfilled&&p["throttle-attached"];e.hasPolyfillMutations=g,e.hasThrottledAttached=g;var v=!1,y=[],b=Array.prototype.forEach.call.bind(Array.prototype.forEach),w=Element.prototype.createShadowRoot;w&&(Element.prototype.createShadowRoot=function(){var e=w.call(this);return window.CustomElements.watchShadow(this),e}),e.watchShadow=function(e){if(e.shadowRoot&&!e.shadowRoot.__watched){p.dom&&console.log("watching shadow-root for: ",e.localName);for(var t=e.shadowRoot;t;)h(t),t=t.olderShadowRoot}},e.upgradeDocumentTree=function(e){m(e,d)},e.upgradeDocument=d,e.upgradeSubtree=i,e.upgradeAll=t,e.attached=s,e.takeRecords=function(e){for((e=window.wrap(e))||(e=window.wrap(document));e.parentNode;)e=e.parentNode;var t=e.__observer;t&&(u(e,t.takeRecords()),o())}})),window.CustomElements.addModule((function(e){function t(t,r,o){return i.upgrade&&console.group("upgrade:",t.localName),r.is&&t.setAttribute("is",r.is),n(t,r),t.__upgraded__=!0,function(e){e.createdCallback&&e.createdCallback()}(t),o&&e.attached(t),e.upgradeSubtree(t,o),i.upgrade&&console.groupEnd(),t}function n(e,t){Object.__proto__||function(e,t,n){for(var i={},r=t;r!==n&&r!==HTMLElement.prototype;){for(var o,s=Object.getOwnPropertyNames(r),a=0;o=s[a];a++)i[o]||(Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o)),i[o]=1);r=Object.getPrototypeOf(r)}}(e,t.prototype,t.native),e.__proto__=t.prototype}var i=e.flags;e.upgrade=function(n,i){if("template"===n.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(n),!n.__upgraded__&&n.nodeType===Node.ELEMENT_NODE){var r=n.getAttribute("is"),o=e.getRegisteredDefinition(n.localName)||e.getRegisteredDefinition(r);if(o&&(r&&o.tag==n.localName||!r&&!o.extends))return t(n,o,i)}},e.upgradeWithDefinition=t,e.implementPrototype=n})),window.CustomElements.addModule((function(e){function t(e){if(!e.setAttribute._polyfilled){var t=e.setAttribute;e.setAttribute=function(e,i){n.call(this,e,i,t)};var i=e.removeAttribute;e.removeAttribute=function(e){n.call(this,e,null,i)},e.setAttribute._polyfilled=!0}}function n(e,t,n){e=e.toLowerCase();var i=this.getAttribute(e);n.apply(this,arguments);var r=this.getAttribute(e);this.attributeChangedCallback&&r!==i&&this.attributeChangedCallback(e,i,r)}function i(e){var t=r(e);return t?i(t.extends).concat([t]):[]}function r(e){return e?f[e.toLowerCase()]:void 0}function o(e,t){e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase());var n,i=r(t||e);if(i){if(e==i.tag&&t==i.is)return new i.ctor;if(!t&&!i.is)return new i.ctor}return t?((n=o(e)).setAttribute("is",t),n):(n=m(e),e.indexOf("-")>=0&&h(n,HTMLElement),n)}function s(e,t){var n=e[t];e[t]=function(){var e=n.apply(this,arguments);return c(e),e}}var a,l=(e.isIE,e.upgradeDocumentTree),c=e.upgradeAll,u=e.upgradeWithDefinition,h=e.implementPrototype,d=e.useNative,p=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],f={},m=document.createElement.bind(document),g=document.createElementNS.bind(document);a=Object.__proto__||d?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;for(var n=e;n;){if(n===t.prototype)return!0;n=n.__proto__}return!1},s(Node.prototype,"cloneNode"),s(document,"importNode"),document.registerElement=function(n,o){var s=o||{};if(!n)throw new Error("document.registerElement: first argument `name` must not be empty");if(n.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(n)+"'.");if(function(e){for(var t=0;t<p.length;t++)if(e===p[t])return!0}(n))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(n)+"'. The type name is invalid.");if(r(n))throw new Error("DuplicateDefinitionError: a type with name '"+String(n)+"' is already registered");return s.prototype||(s.prototype=Object.create(HTMLElement.prototype)),s.__name=n.toLowerCase(),s.extends&&(s.extends=s.extends.toLowerCase()),s.lifecycle=s.lifecycle||{},s.ancestry=i(s.extends),function(e){for(var t,n=e.extends,i=0;t=e.ancestry[i];i++)n=t.is&&t.tag;e.tag=n||e.__name,n&&(e.is=e.__name)}(s),function(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var n=document.createElement(e.tag);t=Object.getPrototypeOf(n)}for(var i,r=e.prototype,o=!1;r;)r==t&&(o=!0),(i=Object.getPrototypeOf(r))&&(r.__proto__=i),r=i;o||console.warn(e.tag+" prototype not found in prototype chain for "+e.is),e.native=t}}(s),t(s.prototype),function(e,t){f[e]=t}(s.__name,s),s.ctor=function(e){return function(){return function(e){return u(m(e.tag),e)}(e)}}(s),s.ctor.prototype=s.prototype,s.prototype.constructor=s.ctor,e.ready&&l(document),s.ctor},document.createElement=o,document.createElementNS=function(e,t,n){return"http://www.w3.org/1999/xhtml"===e?o(t,n):g(e,t)},e.registry=f,e.instanceof=a,e.reservedTagList=p,e.getRegisteredDefinition=r,document.register=document.registerElement})),function(e){function t(){o(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(e){setTimeout(e,16)})((function(){setTimeout((function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}))}))}var n=e.useNative,i=e.initializeModules;if(e.isIE,n){var r=function(){};e.watchShadow=r,e.upgrade=r,e.upgradeAll=r,e.upgradeDocumentTree=r,e.upgradeSubtree=r,e.takeRecords=r,e.instanceof=function(e,t){return e instanceof t}}else i();var o=e.upgradeDocumentTree,s=e.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(e){e.import&&s(wrap(e.import))}),"complete"===document.readyState||e.flags.eager)t();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var a=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(a,t)}else t()}(window.CustomElements))}.call(this),function(){}.call(this),function(){(function(){(function(){this.Trix={VERSION:"1.3.1",ZERO_WIDTH_SPACE:"\ufeff",NON_BREAKING_SPACE:"",OBJECT_REPLACEMENT_CHARACTER:"",browser:{composesExistingText:/Android.*Chrome/.test(navigator.userAgent),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:function(){var e,t,n;if("undefined"==typeof InputEvent)return!1;for(e=0,t=(n=["data","getTargetRanges","inputType"]).length;t>e;e++)if(!(n[e]in InputEvent.prototype))return!1;return!0}()},config:{}}}).call(this)}).call(this);var o=this.Trix;(function(){(function(){o.BasicObject=function(){function e(){}var t,n,i;return e.proxyMethod=function(e){var i,r,o,s,a;return o=n(e),i=o.name,s=o.toMethod,a=o.toProperty,r=o.optional,this.prototype[i]=function(){var e,n;return e=null!=s?r?"function"==typeof this[s]?this[s]():void 0:this[s]():null!=a?this[a]:void 0,r?null!=(n=null!=e?e[i]:void 0)?t.call(n,e,arguments):void 0:(n=e[i],t.call(n,e,arguments))}},n=function(e){var t,n;if(!(n=e.match(i)))throw new Error("can't parse @proxyMethod expression: "+e);return t={name:n[4]},null!=n[2]?t.toMethod=n[1]:t.toProperty=n[1],null!=n[3]&&(t.optional=!0),t},t=Function.prototype.apply,i=/^(.+?)(\(\))?(\?)?\.(.+?)$/,e}()}).call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.Object=function(t){function n(){this.id=++i}var i;return e(n,t),i=0,n.fromJSONString=function(e){return this.fromJSON(JSON.parse(e))},n.prototype.hasSameConstructorAs=function(e){return this.constructor===(null!=e?e.constructor:void 0)},n.prototype.isEqualTo=function(e){return this===e},n.prototype.inspect=function(){var e,t,n;return e=function(){var e,i,r;for(t in r=[],i=null!=(e=this.contentsForInspection())?e:{})n=i[t],r.push(t+"="+n);return r}.call(this),"#<"+this.constructor.name+":"+this.id+(e.length?" "+e.join(", "):"")+">"},n.prototype.contentsForInspection=function(){},n.prototype.toJSONString=function(){return JSON.stringify(this)},n.prototype.toUTF16String=function(){return o.UTF16String.box(this)},n.prototype.getCacheKey=function(){return this.id.toString()},n}(o.BasicObject)}.call(this),function(){o.extend=function(e){var t,n;for(t in e)n=e[t],this[t]=n;return this}}.call(this),function(){o.extend({defer:function(e){return setTimeout(e,1)}})}.call(this),function(){var e,t;o.extend({normalizeSpaces:function(e){return e.replace(RegExp(""+o.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+o.NON_BREAKING_SPACE,"g")," ")},normalizeNewlines:function(e){return e.replace(/\r\n/g,"\n")},breakableWhitespacePattern:RegExp("[^\\S"+o.NON_BREAKING_SPACE+"]"),squishBreakableWhitespace:function(e){return e.replace(RegExp(""+o.breakableWhitespacePattern.source,"g")," ").replace(/\ {2,}/g," ")},summarizeStringChange:function(e,n){var i,r,s,a;return e=o.UTF16String.box(e),(n=o.UTF16String.box(n)).length<e.length?(a=(r=t(e,n))[0],i=r[1]):(i=(s=t(n,e))[0],a=s[1]),{added:i,removed:a}}}),t=function(t,n){var i,r,s,a,l;return t.isEqualTo(n)?["",""]:(s=(a=(r=e(t,n)).utf16String.length)?(l=r.offset,i=t.codepoints.slice(0,l).concat(t.codepoints.slice(l+a)),e(n,o.UTF16String.fromCodepoints(i))):e(n,t),[r.utf16String.toString(),s.utf16String.toString()])},e=function(e,t){var n,i,r;for(n=0,i=e.length,r=t.length;i>n&&e.charAt(n).isEqualTo(t.charAt(n));)n++;for(;i>n+1&&e.charAt(i-1).isEqualTo(t.charAt(r-1));)i--,r--;return{utf16String:e.slice(n,i),offset:n}}}.call(this),function(){o.extend({copyObject:function(e){var t,n,i;for(t in null==e&&(e={}),n={},e)i=e[t],n[t]=i;return n},objectsAreEqual:function(e,t){var n;if(null==e&&(e={}),null==t&&(t={}),Object.keys(e).length!==Object.keys(t).length)return!1;for(n in e)if(e[n]!==t[n])return!1;return!0}})}.call(this),function(){var e=[].slice;o.extend({arraysAreEqual:function(e,t){var n,i,r;if(null==e&&(e=[]),null==t&&(t=[]),e.length!==t.length)return!1;for(i=n=0,r=e.length;r>n;i=++n)if(e[i]!==t[i])return!1;return!0},arrayStartsWith:function(e,t){return null==e&&(e=[]),null==t&&(t=[]),o.arraysAreEqual(e.slice(0,t.length),t)},spliceArray:function(){var t,n,i;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],(i=n.slice(0)).splice.apply(i,t),i},summarizeArrayChange:function(e,t){var n,i,r,o,s,a,l,c,u,h,d;for(null==e&&(e=[]),null==t&&(t=[]),n=[],h=[],r=new Set,o=0,l=e.length;l>o;o++)d=e[o],r.add(d);for(i=new Set,s=0,c=t.length;c>s;s++)d=t[s],i.add(d),r.has(d)||n.push(d);for(a=0,u=e.length;u>a;a++)d=e[a],i.has(d)||h.push(d);return{added:n,removed:h}}})}.call(this),function(){var e,t,n,i;e=null,t=null,i=null,n=null,o.extend({getAllAttributeNames:function(){return null!=e?e:e=o.getTextAttributeNames().concat(o.getBlockAttributeNames())},getBlockConfig:function(e){return o.config.blockAttributes[e]},getBlockAttributeNames:function(){return null!=t?t:t=Object.keys(o.config.blockAttributes)},getTextConfig:function(e){return o.config.textAttributes[e]},getTextAttributeNames:function(){return null!=i?i:i=Object.keys(o.config.textAttributes)},getListAttributeNames:function(){var e,t;return null!=n?n:n=function(){var n,i;for(e in i=[],n=o.config.blockAttributes)null!=(t=n[e].listAttribute)&&i.push(t);return i}()}})}.call(this),function(){var e,t,n,i,r,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=document.documentElement,t=null!=(n=null!=(i=null!=(r=e.matchesSelector)?r:e.webkitMatchesSelector)?i:e.msMatchesSelector)?n:e.mozMatchesSelector,o.extend({handleEvent:function(t,n){var i,r,s,a,l,c,u,h,d,p,f;return l=(u=null!=n?n:{}).onElement,a=u.matchingSelector,f=u.withCallback,s=u.inPhase,c=u.preventDefault,d=u.times,i=null!=l?l:e,h=a,p="capturing"===s,r=function(e){var t;return null!=d&&0==--d&&r.destroy(),null!=(t=o.findClosestElementFromNode(e.target,{matchingSelector:h}))&&(null!=f&&f.call(t,e,t),c)?e.preventDefault():void 0},r.destroy=function(){return i.removeEventListener(t,r,p)},i.addEventListener(t,r,p),r},handleEventOnce:function(e,t){return null==t&&(t={}),t.times=1,o.handleEvent(e,t)},triggerEvent:function(t,n){var i,r,s,a,l,c,u;return c=(u=null!=n?n:{}).onElement,r=u.bubbles,s=u.cancelable,i=u.attributes,a=null!=c?c:e,r=!1!==r,s=!1!==s,(l=document.createEvent("Events")).initEvent(t,r,s),null!=i&&o.extend.call(l,i),a.dispatchEvent(l)},elementMatchesSelector:function(e,n){return 1===(null!=e?e.nodeType:void 0)?t.call(e,n):void 0},findClosestElementFromNode:function(e,t){var n,i,r;for(n=(i=null!=t?t:{}).matchingSelector,r=i.untilNode;null!=e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.parentNode;if(null!=e){if(null==n)return e;if(e.closest&&null==r)return e.closest(n);for(;e&&e!==r;){if(o.elementMatchesSelector(e,n))return e;e=e.parentNode}}},findInnerElement:function(e){for(;null!=e?e.firstElementChild:void 0;)e=e.firstElementChild;return e},innerElementIsActive:function(e){return document.activeElement!==e&&o.elementContainsNode(e,document.activeElement)},elementContainsNode:function(e,t){if(e&&t)for(;t;){if(t===e)return!0;t=t.parentNode}},findNodeFromContainerAndOffset:function(e,t){var n;if(e)return e.nodeType===Node.TEXT_NODE?e:0===t?null!=(n=e.firstChild)?n:e:e.childNodes.item(t-1)},findElementFromContainerAndOffset:function(e,t){var n;return n=o.findNodeFromContainerAndOffset(e,t),o.findClosestElementFromNode(n)},findChildIndexOfNode:function(e){var t;if(null!=e?e.parentNode:void 0){for(t=0;e=e.previousSibling;)t++;return t}},removeNode:function(e){var t;return null!=e&&null!=(t=e.parentNode)?t.removeChild(e):void 0},walkTree:function(e,t){var n,i,r,o,s;return i=(r=null!=t?t:{}).onlyNodesOfType,o=r.usingFilter,n=r.expandEntityReferences,s=function(){switch(i){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(e,s,null!=o?o:null,!0===n)},tagName:function(e){var t;return null!=e&&null!=(t=e.tagName)?t.toLowerCase():void 0},makeElement:function(e,t){var n,i,r,o,s,a,l,c,u,h,d,p,f,m;if(null==t&&(t={}),"object"==typeof e?e=(t=e).tagName:t={attributes:t},r=document.createElement(e),null!=t.editable&&(null==t.attributes&&(t.attributes={}),t.attributes.contenteditable=t.editable),t.attributes)for(a in u=t.attributes)m=u[a],r.setAttribute(a,m);if(t.style)for(a in h=t.style)m=h[a],r.style[a]=m;if(t.data)for(a in d=t.data)m=d[a],r.dataset[a]=m;if(t.className)for(o=0,l=(p=t.className.split(" ")).length;l>o;o++)i=p[o],r.classList.add(i);if(t.textContent&&(r.textContent=t.textContent),t.childNodes)for(s=0,c=(f=[].concat(t.childNodes)).length;c>s;s++)n=f[s],r.appendChild(n);return r},getBlockTagNames:function(){var e,t;return null!=o.blockTagNames?o.blockTagNames:o.blockTagNames=function(){var n,i;for(e in i=[],n=o.config.blockAttributes)(t=n[e].tagName)&&i.push(t);return i}()},nodeIsBlockContainer:function(e){return o.nodeIsBlockStartComment(null!=e?e.firstChild:void 0)},nodeProbablyIsBlockContainer:function(e){var t,n;return t=o.tagName(e),s.call(o.getBlockTagNames(),t)>=0&&(n=o.tagName(e.firstChild),s.call(o.getBlockTagNames(),n)<0)},nodeIsBlockStart:function(e,t){return(null!=t?t:{strict:!0}).strict?o.nodeIsBlockStartComment(e):o.nodeIsBlockStartComment(e)||!o.nodeIsBlockStartComment(e.firstChild)&&o.nodeProbablyIsBlockContainer(e)},nodeIsBlockStartComment:function(e){return o.nodeIsCommentNode(e)&&"block"===(null!=e?e.data:void 0)},nodeIsCommentNode:function(e){return(null!=e?e.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(e,t){var n;return n=(null!=t?t:{}).name,e?o.nodeIsTextNode(e)?e.data===o.ZERO_WIDTH_SPACE?!n||e.parentNode.dataset.trixCursorTarget===n:void 0:o.nodeIsCursorTarget(e.firstChild):void 0},nodeIsAttachmentElement:function(e){return o.elementMatchesSelector(e,o.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(e){return o.nodeIsTextNode(e)&&""===(null!=e?e.data:void 0)},nodeIsTextNode:function(e){return(null!=e?e.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var e,t,n,i,r;e=o.copyObject,i=o.objectsAreEqual,o.extend({normalizeRange:n=function(e){var n;if(null!=e)return Array.isArray(e)||(e=[e,e]),[t(e[0]),t(null!=(n=e[1])?n:e[0])]},rangeIsCollapsed:function(e){var t,i,o;if(null!=e)return o=(i=n(e))[0],t=i[1],r(o,t)},rangesAreEqual:function(e,t){var i,o,s,a,l,c;if(null!=e&&null!=t)return o=(s=n(e))[0],i=s[1],c=(a=n(t))[0],l=a[1],r(o,c)&&r(i,l)}}),t=function(t){return"number"==typeof t?t:e(t)},r=function(e,t){return"number"==typeof e?e===t:i(e,t)}}.call(this),function(){var e,t,n,i,r,s,a;o.registerElement=function(e,t){var n,o;return null==t&&(t={}),e=e.toLowerCase(),t=a(t),(n=(o=s(t)).defaultCSS)&&(delete o.defaultCSS,i(n,e)),r(e,o)},i=function(e,t){return n(t).textContent=e.replace(/%t/g,t)},n=function(t){var n,i;return(n=document.createElement("style")).setAttribute("type","text/css"),n.setAttribute("data-tag-name",t.toLowerCase()),(i=e())&&n.setAttribute("nonce",i),document.head.insertBefore(n,document.head.firstChild),n},e=function(){var e;return(e=t("trix-csp-nonce")||t("csp-nonce"))?e.getAttribute("content"):void 0},t=function(e){return document.head.querySelector("meta[name="+e+"]")},s=function(e){var t,n,i;for(t in n={},e)i=e[t],n[t]="function"==typeof i?{value:i}:i;return n},a=function(){var e;return e=function(e){var t,n,i,r,o;for(t={},n=0,r=(o=["initialize","connect","disconnect"]).length;r>n;n++)t[i=o[n]]=e[i],delete e[i];return t},window.customElements?function(t){var n,i,r,o,s;return s=e(t),r=s.initialize,n=s.connect,i=s.disconnect,r&&(o=n,n=function(){return this.initialized||(this.initialized=!0,r.call(this)),null!=o?o.call(this):void 0}),n&&(t.connectedCallback=n),i&&(t.disconnectedCallback=i),t}:function(t){var n,i,r,o;return r=(o=e(t)).initialize,n=o.connect,i=o.disconnect,r&&(t.createdCallback=r),n&&(t.attachedCallback=n),i&&(t.detachedCallback=i),t}}(),r=window.customElements?function(e,t){var n;return n=function(){return"object"==typeof Reflect?Reflect.construct(HTMLElement,[],n):HTMLElement.apply(this)},Object.setPrototypeOf(n.prototype,HTMLElement.prototype),Object.setPrototypeOf(n,HTMLElement),Object.defineProperties(n.prototype,t),window.customElements.define(e,n),n}:function(e,t){var n,i;return i=Object.create(HTMLElement.prototype,t),n=document.registerElement(e,{prototype:i}),Object.defineProperty(i,"constructor",{value:n}),n}}.call(this),function(){var e,t;o.extend({getDOMSelection:function(){var e;return(e=window.getSelection()).rangeCount>0?e:void 0},getDOMRange:function(){var t,n;return(t=null!=(n=o.getDOMSelection())?n.getRangeAt(0):void 0)&&!e(t)?t:void 0},setDOMRange:function(e){var t;return(t=window.getSelection()).removeAllRanges(),t.addRange(e),o.selectionChangeObserver.update()}}),e=function(e){return t(e.startContainer)||t(e.endContainer)},t=function(e){return!Object.getPrototypeOf(e)}}.call(this),function(){var e;e={"application/x-trix-feature-detection":"test"},o.extend({dataTransferIsPlainText:function(e){var t,n,i;return i=e.getData("text/plain"),n=e.getData("text/html"),i&&n?(t=(new DOMParser).parseFromString(n,"text/html").body).textContent===i?!t.querySelector("*"):void 0:null!=i?i.length:void 0},dataTransferIsWritable:function(t){var n,i;if(null!=(null!=t?t.setData:void 0)){for(n in e)if(i=e[n],!function(){try{return t.setData(n,i),t.getData(n)===i}catch(e){}}())return;return!0}},keyEventIsKeyboardCommand:/Mac|^iP/.test(navigator.platform)?function(e){return e.metaKey}:function(e){return e.ctrlKey}})}.call(this),function(){var e,t,n,i;o.extend({RTL_PATTERN:/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,getDirection:(t=o.makeElement("input",{dir:"auto",name:"x",dirName:"x.dir"}),(e=o.makeElement("form")).appendChild(t),n=function(){try{return new FormData(e).has(t.dirName)}catch(e){}}(),i=function(){try{return t.matches(":dir(ltr),:dir(rtl)")}catch(e){}}(),n?function(n){return t.value=n,new FormData(e).get(t.dirName)}:i?function(e){return t.value=e,t.matches(":dir(rtl)")?"rtl":"ltr"}:function(e){var t;return t=e.trim().charAt(0),o.RTL_PATTERN.test(t)?"rtl":"ltr"})})}.call(this),function(){}.call(this),function(){var e,t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=o.arraysAreEqual,o.Hash=function(n){function i(e){null==e&&(e={}),this.values=s(e),i.__super__.constructor.apply(this,arguments)}var r,s,a,l,c;return t(i,n),i.fromCommonAttributesOfObjects=function(e){var t,n,i,o,s,a;if(null==e&&(e=[]),!e.length)return new this;for(i=(t=r(e[0])).getKeys(),n=0,o=(a=e.slice(1)).length;o>n;n++)s=a[n],i=t.getKeysCommonToHash(r(s)),t=t.slice(i);return t},i.box=function(e){return r(e)},i.prototype.add=function(e,t){return this.merge(l(e,t))},i.prototype.remove=function(e){return new o.Hash(s(this.values,e))},i.prototype.get=function(e){return this.values[e]},i.prototype.has=function(e){return e in this.values},i.prototype.merge=function(e){return new o.Hash(a(this.values,c(e)))},i.prototype.slice=function(e){var t,n,i,r;for(r={},t=0,i=e.length;i>t;t++)n=e[t],this.has(n)&&(r[n]=this.values[n]);return new o.Hash(r)},i.prototype.getKeys=function(){return Object.keys(this.values)},i.prototype.getKeysCommonToHash=function(e){var t,n,i,o,s;for(e=r(e),s=[],t=0,i=(o=this.getKeys()).length;i>t;t++)n=o[t],this.values[n]===e.values[n]&&s.push(n);return s},i.prototype.isEqualTo=function(t){return e(this.toArray(),r(t).toArray())},i.prototype.isEmpty=function(){return 0===this.getKeys().length},i.prototype.toArray=function(){var e,t,n;return(null!=this.array?this.array:this.array=function(){var i;for(e in t=[],i=this.values)n=i[e],t.push(e,n);return t}.call(this)).slice(0)},i.prototype.toObject=function(){return s(this.values)},i.prototype.toJSON=function(){return this.toObject()},i.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},l=function(e,t){var n;return(n={})[e]=t,n},a=function(e,t){var n,i,r;for(n in i=s(e),t)r=t[n],i[n]=r;return i},s=function(e,t){var n,i,r,o,s;for(o={},n=0,r=(s=Object.keys(e).sort()).length;r>n;n++)(i=s[n])!==t&&(o[i]=e[i]);return o},r=function(e){return e instanceof o.Hash?e:new o.Hash(e)},c=function(e){return e instanceof o.Hash?e.values:e},i}(o.Object)}.call(this),function(){o.ObjectGroup=function(){function e(e,t){var n,i;this.objects=null!=e?e:[],i=t.depth,(n=t.asTree)&&(this.depth=i,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}return e.groupObjects=function(e,t){var n,i,r,o,s,a,l,c,u;for(null==e&&(e=[]),r=(u=null!=t?t:{}).depth,(n=u.asTree)&&null==r&&(r=0),c=[],s=0,a=e.length;a>s;s++){if(l=e[s],o){if(("function"==typeof l.canBeGrouped?l.canBeGrouped(r):void 0)&&("function"==typeof(i=o[o.length-1]).canBeGroupedWith?i.canBeGroupedWith(l,r):void 0)){o.push(l);continue}c.push(new this(o,{depth:r,asTree:n})),o=null}("function"==typeof l.canBeGrouped?l.canBeGrouped(r):void 0)?o=[l]:c.push(l)}return o&&c.push(new this(o,{depth:r,asTree:n})),c},e.prototype.getObjects=function(){return this.objects},e.prototype.getDepth=function(){return this.depth},e.prototype.getCacheKey=function(){var e,t,n,i,r;for(t=["objectGroup"],e=0,n=(r=this.getObjects()).length;n>e;e++)i=r[e],t.push(i.getCacheKey());return t.join("/")},e}()}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.ObjectMap=function(t){function n(e){var t,n,i,r,o;for(null==e&&(e=[]),this.objects={},i=0,r=e.length;r>i;i++)o=e[i],n=JSON.stringify(o),null==(t=this.objects)[n]&&(t[n]=o)}return e(n,t),n.prototype.find=function(e){var t;return t=JSON.stringify(e),this.objects[t]},n}(o.BasicObject)}.call(this),function(){o.ElementStore=function(){function e(e){this.reset(e)}var t;return e.prototype.add=function(e){var n;return n=t(e),this.elements[n]=e},e.prototype.remove=function(e){var n,i;return n=t(e),(i=this.elements[n])?(delete this.elements[n],i):void 0},e.prototype.reset=function(e){var t,n,i;for(null==e&&(e=[]),this.elements={},n=0,i=e.length;i>n;n++)t=e[n],this.add(t);return e},t=function(e){return e.dataset.trixStoreKey},e}()}.call(this),function(){}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.Operation=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n.prototype.isPerforming=function(){return!0===this.performing},n.prototype.hasPerformed=function(){return!0===this.performed},n.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},n.prototype.hasFailed=function(){return this.performed&&!this.succeeded},n.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise(function(e){return function(t,n){return e.performing=!0,e.perform((function(i,r){return e.succeeded=i,e.performing=!1,e.performed=!0,e.succeeded?t(r):n(r)}))}}(this))},n.prototype.perform=function(e){return e(!1)},n.prototype.release=function(){var e;return null!=(e=this.promise)&&"function"==typeof e.cancel&&e.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},n.proxyMethod("getPromise().then"),n.proxyMethod("getPromise().catch"),n}(o.BasicObject)}.call(this),function(){var e,t,n,i,r,s={}.hasOwnProperty;o.UTF16String=function(e){function t(e,t){this.ucs2String=e,this.codepoints=t,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(t,e),t.box=function(e){return null==e&&(e=""),e instanceof this?e:this.fromUCS2String(null!=e?e.toString():void 0)},t.fromUCS2String=function(e){return new this(e,i(e))},t.fromCodepoints=function(e){return new this(r(e),e)},t.prototype.offsetToUCS2Offset=function(e){return r(this.codepoints.slice(0,Math.max(0,e))).length},t.prototype.offsetFromUCS2Offset=function(e){return i(this.ucs2String.slice(0,Math.max(0,e))).length},t.prototype.slice=function(){var e;return this.constructor.fromCodepoints((e=this.codepoints).slice.apply(e,arguments))},t.prototype.charAt=function(e){return this.slice(e,e+1)},t.prototype.isEqualTo=function(e){return this.constructor.box(e).ucs2String===this.ucs2String},t.prototype.toJSON=function(){return this.ucs2String},t.prototype.getCacheKey=function(){return this.ucs2String},t.prototype.toString=function(){return this.ucs2String},t}(o.BasicObject),e=1===("function"==typeof Array.from?Array.from("").length:void 0),t=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),n=" "===("function"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),i=e&&t?function(e){return Array.from(e).map((function(e){return e.codePointAt(0)}))}:function(e){var t,n,i,r,o;for(r=[],t=0,i=e.length;i>t;)(o=e.charCodeAt(t++))>=55296&&56319>=o&&i>t&&(56320==(64512&(n=e.charCodeAt(t++)))?o=((1023&o)<<10)+(1023&n)+65536:t--),r.push(o);return r},r=n?function(e){return String.fromCodePoint.apply(String,e)}:function(e){var t,n,i;return t=function(){var t,r,o;for(o=[],t=0,r=e.length;r>t;t++)i=e[t],n="",i>65535&&(i-=65536,n+=String.fromCharCode(i>>>10&1023|55296),i=56320|1023&i),o.push(n+String.fromCharCode(i));return o}(),t.join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){o.config.lang={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){o.config.css={attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"}}.call(this),function(){var e;o.config.blockAttributes=e={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(t){return o.tagName(t.parentNode)===e[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(t){return o.tagName(t.parentNode)===e[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}}}.call(this),function(){var e,t;e=o.config.lang,t=[e.bytes,e.KB,e.MB,e.GB,e.TB,e.PB],o.config.fileSize={prefix:"IEC",precision:2,formatter:function(n){var i,r;switch(n){case 0:return"0 "+e.bytes;case 1:return"1 "+e.byte;default:return i=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),r=Math.floor(Math.log(n)/Math.log(i)),(n/Math.pow(i,r)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"")+" "+t[r]}}}}.call(this),function(){o.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(e){var t;return"bold"===(t=window.getComputedStyle(e)).fontWeight||t.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:function(e){return"italic"===window.getComputedStyle(e).fontStyle}},href:{groupTagName:"a",parser:function(e){var t,n;return n="a:not("+o.AttachmentView.attachmentSelector+")",(t=o.findClosestElementFromNode(e,{matchingSelector:n}))?t.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var e,t,n;n=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],t="data-trix-serialized-attributes",e=new RegExp("\x3c!--block--\x3e","g"),o.extend({serializers:{"application/json":function(e){var t;if(e instanceof o.Document)t=e;else{if(!(e instanceof HTMLElement))throw new Error("unserializable object");t=o.Document.fromHTML(e.innerHTML)}return t.toSerializableDocument().toJSONString()},"text/html":function(i){var r,s,a,l,c,u,h,d,p,f,m,g,v,y,b,w,_;if(i instanceof o.Document)l=o.DocumentView.render(i);else{if(!(i instanceof HTMLElement))throw new Error("unserializable object");l=i.cloneNode(!0)}for(c=0,p=(y=l.querySelectorAll("[data-trix-serialize=false]")).length;p>c;c++)a=y[c],o.removeNode(a);for(u=0,f=n.length;f>u;u++)for(r=n[u],h=0,m=(b=l.querySelectorAll("["+r+"]")).length;m>h;h++)(a=b[h]).removeAttribute(r);for(d=0,g=(w=l.querySelectorAll("[data-trix-serialized-attributes]")).length;g>d;d++){a=w[d];try{for(v in s=JSON.parse(a.getAttribute(t)),a.removeAttribute(t),s)_=s[v],a.setAttribute(v,_)}catch(e){}}return l.innerHTML.replace(e,"")}},deserializers:{"application/json":function(e){return o.Document.fromJSONString(e)},"text/html":function(e){return o.Document.fromHTML(e)}},serializeToContentType:function(e,t){var n;if(n=o.serializers[t])return n(e);throw new Error("unknown content type: "+t)},deserializeFromContentType:function(e,t){var n;if(n=o.deserializers[t])return n(e);throw new Error("unknown content type: "+t)}})}.call(this),function(){var e;e=o.config.lang,o.config.toolbar={getDefaultHTML:function(){return'<div class="trix-button-row">\n  <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="'+e.bold+'" tabindex="-1">'+e.bold+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="'+e.italic+'" tabindex="-1">'+e.italic+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="'+e.strike+'" tabindex="-1">'+e.strike+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="'+e.link+'" tabindex="-1">'+e.link+'</button>\n  </span>\n\n  <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="'+e.heading1+'" tabindex="-1">'+e.heading1+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="'+e.quote+'" tabindex="-1">'+e.quote+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="'+e.code+'" tabindex="-1">'+e.code+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="'+e.bullets+'" tabindex="-1">'+e.bullets+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="'+e.numbers+'" tabindex="-1">'+e.numbers+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="'+e.outdent+'" tabindex="-1">'+e.outdent+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="'+e.indent+'" tabindex="-1">'+e.indent+'</button>\n  </span>\n\n  <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="'+e.attachFiles+'" tabindex="-1">'+e.attachFiles+'</button>\n  </span>\n\n  <span class="trix-button-group-spacer"></span>\n\n  <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="'+e.undo+'" tabindex="-1">'+e.undo+'</button>\n    <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="'+e.redo+'" tabindex="-1">'+e.redo+'</button>\n  </span>\n</div>\n\n<div class="trix-dialogs" data-trix-dialogs>\n  <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">\n    <div class="trix-dialog__link-fields">\n      <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="'+e.urlPlaceholder+'" aria-label="'+e.url+'" required data-trix-input>\n      <div class="trix-button-group">\n        <input type="button" class="trix-button trix-button--dialog" value="'+e.link+'" data-trix-method="setAttribute">\n        <input type="button" class="trix-button trix-button--dialog" value="'+e.unlink+'" data-trix-method="removeAttribute">\n      </div>\n    </div>\n  </div>\n</div>'}}}.call(this),function(){o.config.undoInterval=5e3}.call(this),function(){o.config.attachments={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}}}.call(this),function(){o.config.keyNames={8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"}}.call(this),function(){o.config.input={level2Enabled:!0,getLevel:function(){return this.level2Enabled&&o.browser.supportsInputEvents?2:0},pickFiles:function(e){var t;return(t=o.makeElement("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId})).addEventListener("change",(function(){return e(t.files),o.removeNode(t)})),o.removeNode(document.getElementById(this.fileInputId)),document.body.appendChild(t),t.click()},fileInputId:"trix-file-input-"+Date.now().toString(16)}}.call(this),function(){}.call(this),function(){o.registerElement("trix-toolbar",{defaultCSS:"%t {\n  display: block;\n}\n\n%t {\n  white-space: nowrap;\n}\n\n%t [data-trix-dialog] {\n  display: none;\n}\n\n%t [data-trix-dialog][data-trix-active] {\n  display: block;\n}\n\n%t [data-trix-dialog] [data-trix-validate]:invalid {\n  background-color: #ffdddd;\n}",initialize:function(){return""===this.innerHTML?this.innerHTML=o.config.toolbar.getDefaultHTML():void 0}})}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty,n=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};o.ObjectView=function(t){function i(e,t){this.object=e,this.options=null!=t?t:{},this.childViews=[],this.rootView=this}return e(i,t),i.prototype.getNodes=function(){var e,t,n,i,r;for(null==this.nodes&&(this.nodes=this.createNodes()),r=[],e=0,t=(i=this.nodes).length;t>e;e++)n=i[e],r.push(n.cloneNode(!0));return r},i.prototype.invalidate=function(){var e;return this.nodes=null,this.childViews=[],null!=(e=this.parentView)?e.invalidate():void 0},i.prototype.invalidateViewForObject=function(e){var t;return null!=(t=this.findViewForObject(e))?t.invalidate():void 0},i.prototype.findOrCreateCachedChildView=function(e,t){var n;return(n=this.getCachedViewForObject(t))?this.recordChildView(n):(n=this.createChildView.apply(this,arguments),this.cacheViewForObject(n,t)),n},i.prototype.createChildView=function(e,t,n){var i;return null==n&&(n={}),t instanceof o.ObjectGroup&&(n.viewClass=e,e=o.ObjectGroupView),i=new e(t,n),this.recordChildView(i)},i.prototype.recordChildView=function(e){return e.parentView=this,e.rootView=this.rootView,this.childViews.push(e),e},i.prototype.getAllChildViews=function(){var e,t,n,i,r;for(r=[],t=0,n=(i=this.childViews).length;n>t;t++)e=i[t],r.push(e),r=r.concat(e.getAllChildViews());return r},i.prototype.findElement=function(){return this.findElementForObject(this.object)},i.prototype.findElementForObject=function(e){var t;return(t=null!=e?e.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+t+"']"):void 0},i.prototype.findViewForObject=function(e){var t,n,i,r;for(t=0,n=(i=this.getAllChildViews()).length;n>t;t++)if((r=i[t]).object===e)return r},i.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},i.prototype.isViewCachingEnabled=function(){return!1!==this.shouldCacheViews},i.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},i.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},i.prototype.getCachedViewForObject=function(e){var t;return null!=(t=this.getViewCache())?t[e.getCacheKey()]:void 0},i.prototype.cacheViewForObject=function(e,t){var n;return null!=(n=this.getViewCache())?n[t.getCacheKey()]=e:void 0},i.prototype.garbageCollectCachedViews=function(){var e,t,i,r,o,s;if(e=this.getViewCache()){for(t in s=this.getAllChildViews().concat(this),i=function(){var e,t,n;for(n=[],e=0,t=s.length;t>e;e++)o=s[e],n.push(o.object.getCacheKey());return n}(),r=[],e)n.call(i,t)<0&&r.push(delete e[t]);return r}},i}(o.BasicObject)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.ObjectGroupView=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return e(n,t),n.prototype.getChildViews=function(){var e,t,n,i;if(!this.childViews.length)for(e=0,t=(i=this.objectGroup.getObjects()).length;t>e;e++)n=i[e],this.findOrCreateCachedChildView(this.viewClass,n,this.options);return this.childViews},n.prototype.createNodes=function(){var e,t,n,i,r,o,s,a;for(e=this.createContainerElement(),t=0,i=(s=this.getChildViews()).length;i>t;t++)for(n=0,r=(a=s[t].getNodes()).length;r>n;n++)o=a[n],e.appendChild(o);return[e]},n.prototype.createContainerElement=function(e){return null==e&&(e=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(e)},n}(o.ObjectView)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.Controller=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return e(n,t),n}(o.BasicObject)}.call(this),function(){var e,t,n,i,r,s,a=function(e,t){function n(){this.constructor=e}for(var i in t)l.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty,c=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=o.findClosestElementFromNode,n=o.nodeIsEmptyTextNode,t=o.nodeIsBlockStartComment,i=o.normalizeSpaces,r=o.summarizeStringChange,s=o.tagName,o.MutationObserver=function(o){function l(e){this.element=e,this.didMutate=function(e,t){return function(){return e.apply(t,arguments)}}(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var u,h;return a(l,o),"data-trix-mutable",h={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},l.prototype.start=function(){return this.reset(),this.observer.observe(this.element,h)},l.prototype.stop=function(){return this.observer.disconnect()},l.prototype.didMutate=function(e){var t,n;return(t=this.mutations).push.apply(t,this.findSignificantMutations(e)),this.mutations.length?(null!=(n=this.delegate)&&"function"==typeof n.elementDidMutate&&n.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},l.prototype.reset=function(){return this.mutations=[]},l.prototype.findSignificantMutations=function(e){var t,n,i,r;for(r=[],t=0,n=e.length;n>t;t++)i=e[t],this.mutationIsSignificant(i)&&r.push(i);return r},l.prototype.mutationIsSignificant=function(e){var t,n,i,r;if(this.nodeIsMutable(e.target))return!1;for(t=0,n=(r=this.nodesModifiedByMutation(e)).length;n>t;t++)if(i=r[t],this.nodeIsSignificant(i))return!0;return!1},l.prototype.nodeIsSignificant=function(e){return e!==this.element&&!this.nodeIsMutable(e)&&!n(e)},l.prototype.nodeIsMutable=function(t){return e(t,{matchingSelector:"[data-trix-mutable]"})},l.prototype.nodesModifiedByMutation=function(e){var t;switch(t=[],e.type){case"attributes":"data-trix-mutable"!==e.attributeName&&t.push(e.target);break;case"characterData":t.push(e.target.parentNode),t.push(e.target);break;case"childList":t.push.apply(t,e.addedNodes),t.push.apply(t,e.removedNodes)}return t},l.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},l.prototype.getTextMutationSummary=function(){var e,t,n,i,r,o,s,a,l,u,h;for(n=(a=this.getTextChangesFromCharacterData()).additions,r=a.deletions,o=0,s=(l=(h=this.getTextChangesFromChildList()).additions).length;s>o;o++)t=l[o],c.call(n,t)<0&&n.push(t);return r.push.apply(r,h.deletions),u={},(e=n.join(""))&&(u.textAdded=e),(i=r.join(""))&&(u.textDeleted=i),u},l.prototype.getMutationsByType=function(e){var t,n,i,r,o;for(o=[],t=0,n=(r=this.mutations).length;n>t;t++)(i=r[t]).type===e&&o.push(i);return o},l.prototype.getTextChangesFromChildList=function(){var e,n,r,o,s,a,l,c,h,d;for(e=[],l=[],n=0,o=(a=this.getMutationsByType("childList")).length;o>n;n++)s=a[n],e.push.apply(e,s.addedNodes),l.push.apply(l,s.removedNodes);return 0===e.length&&1===l.length&&t(l[0])?(h=[],d=["\n"]):(h=u(e),d=u(l)),{additions:function(){var e,t,n;for(n=[],r=e=0,t=h.length;t>e;r=++e)(c=h[r])!==d[r]&&n.push(i(c));return n}(),deletions:function(){var e,t,n;for(n=[],r=e=0,t=d.length;t>e;r=++e)(c=d[r])!==h[r]&&n.push(i(c));return n}()}},l.prototype.getTextChangesFromCharacterData=function(){var e,t,n,o,s,a,l,c;return(t=this.getMutationsByType("characterData")).length&&(c=t[0],n=t[t.length-1],s=i(c.oldValue),o=i(n.target.data),e=(a=r(s,o)).added,l=a.removed),{additions:e?[e]:[],deletions:l?[l]:[]}},u=function(e){var t,n,i,r;for(null==e&&(e=[]),r=[],t=0,n=e.length;n>t;t++)switch(i=e[t],i.nodeType){case Node.TEXT_NODE:r.push(i.data);break;case Node.ELEMENT_NODE:"br"===s(i)?r.push("\n"):r.push.apply(r,u(i.childNodes))}return r},l}(o.BasicObject)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.FileVerificationOperation=function(t){function n(e){this.file=e}return e(n,t),n.prototype.perform=function(e){var t;return(t=new FileReader).onerror=function(){return e(!1)},t.onload=function(n){return function(){t.onerror=null;try{t.abort()}catch(e){}return e(!0,n.file)}}(this),t.readAsArrayBuffer(this.file)},n}(o.Operation)}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;e=o.handleEvent,t=o.innerElementIsActive,o.InputController=function(i){function r(t){var n;for(n in this.element=t,this.mutationObserver=new o.MutationObserver(this.element),this.mutationObserver.delegate=this,this.events)e(n,{onElement:this.element,withCallback:this.handlerFor(n)})}return n(r,i),r.prototype.events={},r.prototype.elementDidMutate=function(){},r.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},r.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},r.prototype.requestRender=function(){var e;return null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidRequestRender?e.inputControllerDidRequestRender():void 0},r.prototype.requestReparse=function(){var e;return null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidRequestReparse&&e.inputControllerDidRequestReparse(),this.requestRender()},r.prototype.attachFiles=function(e){var t,n;return n=function(){var n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(new o.FileVerificationOperation(t));return r}(),Promise.all(n).then(function(e){return function(t){return e.handleInput((function(){var e,n;return null!=(e=this.delegate)&&e.inputControllerWillAttachFiles(),null!=(n=this.responder)&&n.insertFiles(t),this.requestRender()}))}}(this))},r.prototype.handlerFor=function(e){return function(n){return function(i){return i.defaultPrevented?void 0:n.handleInput((function(){return t(this.element)?void 0:(this.eventName=e,this.events[e].call(this,i))}))}}(this)},r.prototype.handleInput=function(e){var t,n;try{return null!=(t=this.delegate)&&t.inputControllerWillHandleInput(),e.call(this)}finally{null!=(n=this.delegate)&&n.inputControllerDidHandleInput()}},r.prototype.createLinkHTML=function(e,t){var n;return(n=document.createElement("a")).href=e,n.textContent=null!=t?t:e,n.outerHTML},r}(o.BasicObject)}.call(this),function(){var e,t,n,i,r,s,a,l,c,u,h,d,p=function(e,t){function n(){this.constructor=e}for(var i in t)f.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},f={}.hasOwnProperty,m=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};c=o.makeElement,u=o.objectsAreEqual,o.tagName,t=o.browser,a=o.keyEventIsKeyboardCommand,i=o.dataTransferIsWritable,n=o.dataTransferIsPlainText,l=o.config.keyNames,o.Level0InputController=function(t){function s(){s.__super__.constructor.apply(this,arguments),this.resetInputSummary()}var f;return p(s,t),f=0,s.prototype.setInputSummary=function(e){var t,n;for(t in null==e&&(e={}),this.inputSummary.eventName=this.eventName,e)n=e[t],this.inputSummary[t]=n;return this.inputSummary},s.prototype.resetInputSummary=function(){return this.inputSummary={}},s.prototype.reset=function(){return this.resetInputSummary(),o.selectionChangeObserver.reset()},s.prototype.elementDidMutate=function(e){var t;return this.isComposing()?null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidAllowUnhandledInput?t.inputControllerDidAllowUnhandledInput():void 0:this.handleInput((function(){return this.mutationIsSignificant(e)&&(this.mutationIsExpected(e)?this.requestRender():this.requestReparse()),this.reset()}))},s.prototype.mutationIsExpected=function(e){var t,n,i,r,o,s,a,l,c;return s=e.textAdded,a=e.textDeleted,!!this.inputSummary.preferDocument||(t=null!=s?s===this.inputSummary.textAdded:!this.inputSummary.textAdded,n=null!=a?this.inputSummary.didDelete:!this.inputSummary.didDelete,c="\n"===a&&!n,!!(((l=("\n"===s||" \n"===s)&&!t)&&!c||c&&!l)&&(r=this.getSelectedRange())&&(i=l?s.replace(/\n$/,"").length||-1:(null!=s?s.length:void 0)||1,null!=(o=this.responder)?o.positionIsBlockBreak(r[1]+i):void 0))||t&&n)},s.prototype.mutationIsSignificant=function(e){var t,n,i;return i=Object.keys(e).length>0,t=""===(null!=(n=this.compositionInput)?n.getEndData():void 0),i||!t},s.prototype.events={keydown:function(e){var t,n,i,r,s,c,u,h,d;if(this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0,r=l[e.keyCode]){for(n=this.keys,i=0,c=(h=["ctrl","alt","shift","meta"]).length;c>i;i++)e[(u=h[i])+"Key"]&&("ctrl"===u&&(u="control"),n=null!=n?n[u]:void 0);null!=(null!=n?n[r]:void 0)&&(this.setInputSummary({keyName:r}),o.selectionChangeObserver.reset(),n[r].call(this,e))}return a(e)&&(t=String.fromCharCode(e.keyCode).toLowerCase())&&(s=function(){var t,n,i,r;for(r=[],t=0,n=(i=["alt","shift"]).length;n>t;t++)e[(u=i[t])+"Key"]&&r.push(u);return r}(),s.push(t),null!=(d=this.delegate)?d.inputControllerDidReceiveKeyboardCommand(s):void 0)?e.preventDefault():void 0},keypress:function(e){var t,n,i;if(null==this.inputSummary.eventName&&!e.metaKey&&(!e.ctrlKey||e.altKey))return(i=d(e))?(null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString(i),this.setInputSummary({textAdded:i,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(e){var t,n,i,r;return t=e.data,(r=this.inputSummary.textAdded)&&r!==t&&r.toUpperCase()===t?(n=this.getSelectedRange(),this.setSelectedRange([n[0],n[1]+r.length]),null!=(i=this.responder)&&i.insertString(t),this.setInputSummary({textAdded:t}),this.setSelectedRange(n)):void 0},dragenter:function(e){return e.preventDefault()},dragstart:function(e){var t;return e.target,this.serializeSelectionToDataTransfer(e.dataTransfer),this.draggedRange=this.getSelectedRange(),null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidStartDrag?t.inputControllerDidStartDrag():void 0},dragover:function(e){var t,n;return!this.draggedRange&&!this.canAcceptDataTransfer(e.dataTransfer)||(e.preventDefault(),t={x:e.clientX,y:e.clientY},u(t,this.draggingPoint))?void 0:(this.draggingPoint=t,null!=(n=this.delegate)&&"function"==typeof n.inputControllerDidReceiveDragOverPoint?n.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var e;return null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidCancelDrag&&e.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(e){var t,n,i,r,s,a,l,c,u;return e.preventDefault(),i=null!=(s=e.dataTransfer)?s.files:void 0,r={x:e.clientX,y:e.clientY},null!=(a=this.responder)&&a.setLocationRangeFromPointRange(r),(null!=i?i.length:void 0)?this.attachFiles(i):this.draggedRange?(null!=(l=this.delegate)&&l.inputControllerWillMoveText(),null!=(c=this.responder)&&c.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(n=e.dataTransfer.getData("application/x-trix-document"))&&(t=o.Document.fromJSONString(n),null!=(u=this.responder)&&u.insertDocument(t),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(e){var t,n;return(null!=(t=this.responder)?t.selectionIsExpanded():void 0)&&(this.serializeSelectionToDataTransfer(e.clipboardData)&&e.preventDefault(),null!=(n=this.delegate)&&n.inputControllerWillCutText(),this.deleteInDirection("backward"),e.defaultPrevented)?this.requestRender():void 0},copy:function(e){var t;return(null!=(t=this.responder)?t.selectionIsExpanded():void 0)&&this.serializeSelectionToDataTransfer(e.clipboardData)?e.preventDefault():void 0},paste:function(e){var t,i,s,a,l,c,u,d,p,g,v,y,b,w,_,x,k,C,S,A,T,O,L;return t=null!=(d=e.clipboardData)?d:e.testClipboardData,u={clipboard:t},null==t||h(e)?void this.getPastedHTMLUsingHiddenElement(function(e){return function(t){var n,i,r;return u.type="text/html",u.html=t,null!=(n=e.delegate)&&n.inputControllerWillPaste(u),null!=(i=e.responder)&&i.insertHTML(u.html),e.requestRender(),null!=(r=e.delegate)?r.inputControllerDidPaste(u):void 0}}(this)):((a=t.getData("URL"))?(u.type="text/html",L=(c=t.getData("public.url-name"))?o.squishBreakableWhitespace(c).trim():a,u.html=this.createLinkHTML(a,L),null!=(p=this.delegate)&&p.inputControllerWillPaste(u),this.setInputSummary({textAdded:L,didDelete:this.selectionIsExpanded()}),null!=(_=this.responder)&&_.insertHTML(u.html),this.requestRender(),null!=(x=this.delegate)&&x.inputControllerDidPaste(u)):n(t)?(u.type="text/plain",u.string=t.getData("text/plain"),null!=(k=this.delegate)&&k.inputControllerWillPaste(u),this.setInputSummary({textAdded:u.string,didDelete:this.selectionIsExpanded()}),null!=(C=this.responder)&&C.insertString(u.string),this.requestRender(),null!=(S=this.delegate)&&S.inputControllerDidPaste(u)):(l=t.getData("text/html"))?(u.type="text/html",u.html=l,null!=(A=this.delegate)&&A.inputControllerWillPaste(u),null!=(T=this.responder)&&T.insertHTML(u.html),this.requestRender(),null!=(O=this.delegate)&&O.inputControllerDidPaste(u)):m.call(t.types,"Files")>=0&&(s=null!=(g=t.items)&&null!=(v=g[0])&&"function"==typeof v.getAsFile?v.getAsFile():void 0)&&(!s.name&&(i=r(s))&&(s.name="pasted-file-"+ ++f+"."+i),u.type="File",u.file=s,null!=(y=this.delegate)&&y.inputControllerWillAttachFiles(),null!=(b=this.responder)&&b.insertFile(u.file),this.requestRender(),null!=(w=this.delegate)&&w.inputControllerDidPaste(u)),e.preventDefault())},compositionstart:function(e){return this.getCompositionInput().start(e.data)},compositionupdate:function(e){return this.getCompositionInput().update(e.data)},compositionend:function(e){return this.getCompositionInput().end(e.data)},beforeinput:function(){return this.inputSummary.didInput=!0},input:function(e){return this.inputSummary.didInput=!0,e.stopPropagation()}},s.prototype.keys={backspace:function(e){var t;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",e)},delete:function(e){var t;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",e)},return:function(){var e,t;return this.setInputSummary({preferDocument:!0}),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(t=this.responder)?t.insertLineBreak():void 0},tab:function(e){var t,n;return(null!=(t=this.responder)?t.canIncreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.increaseNestingLevel(),this.requestRender(),e.preventDefault()):void 0},left:function(e){var t;return this.selectionIsInCursorTarget()?(e.preventDefault(),null!=(t=this.responder)?t.moveCursorInDirection("backward"):void 0):void 0},right:function(e){var t;return this.selectionIsInCursorTarget()?(e.preventDefault(),null!=(t=this.responder)?t.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(e){var t;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),this.deleteInDirection("forward",e)},h:function(e){var t;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),this.deleteInDirection("backward",e)},o:function(e){var t,n;return e.preventDefault(),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n",{updatePosition:!1}),this.requestRender()}},shift:{return:function(e){var t,n;return null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n"),this.requestRender(),e.preventDefault()},tab:function(e){var t,n;return(null!=(t=this.responder)?t.canDecreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.decreaseNestingLevel(),this.requestRender(),e.preventDefault()):void 0},left:function(e){return this.selectionIsInCursorTarget()?(e.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(e){return this.selectionIsInCursorTarget()?(e.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var e;return this.setInputSummary({preferDocument:!1}),null!=(e=this.delegate)?e.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var e;return this.setInputSummary({preferDocument:!1}),null!=(e=this.delegate)?e.inputControllerWillPerformTyping():void 0}}},s.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new e(this)},s.prototype.isComposing=function(){return null!=this.compositionInput&&!this.compositionInput.isEnded()},s.prototype.deleteInDirection=function(e,t){var n;return!1!==(null!=(n=this.responder)?n.deleteInDirection(e):void 0)?this.setInputSummary({didDelete:!0}):t?(t.preventDefault(),this.requestRender()):void 0},s.prototype.serializeSelectionToDataTransfer=function(e){var t,n;if(i(e))return t=null!=(n=this.responder)?n.getSelectedDocument().toSerializableDocument():void 0,e.setData("application/x-trix-document",JSON.stringify(t)),e.setData("text/html",o.DocumentView.render(t).innerHTML),e.setData("text/plain",t.toString().replace(/\n$/,"")),!0},s.prototype.canAcceptDataTransfer=function(e){var t,n,i,r,o;for(o={},t=0,n=(r=null!=(i=null!=e?e.types:void 0)?i:[]).length;n>t;t++)o[r[t]]=!0;return o.Files||o["application/x-trix-document"]||o["text/html"]||o["text/plain"]},s.prototype.getPastedHTMLUsingHiddenElement=function(e){var t,n,i;return n=this.getSelectedRange(),i={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},t=c({style:i,tagName:"div",editable:!0}),document.body.appendChild(t),t.focus(),requestAnimationFrame(function(i){return function(){var r;return r=t.innerHTML,o.removeNode(t),i.setSelectedRange(n),e(r)}}(this))},s.proxyMethod("responder?.getSelectedRange"),s.proxyMethod("responder?.setSelectedRange"),s.proxyMethod("responder?.expandSelectionInDirection"),s.proxyMethod("responder?.selectionIsInCursorTarget"),s.proxyMethod("responder?.selectionIsExpanded"),s}(o.InputController),r=function(e){var t,n;return null!=(t=e.type)&&null!=(n=t.match(/\/(\w+)$/))?n[1]:void 0},s=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),d=function(e){var t;return e.key&&s&&e.key.codePointAt(0)===e.keyCode?e.key:(null===e.which?t=e.keyCode:0!==e.which&&0!==e.charCode&&(t=e.charCode),null!=t&&"escape"!==l[t]?o.UTF16String.fromCodepoints([t]).toString():void 0)},h=function(e){var t,n,i,r,o,s,a,l,c;if(a=e.clipboardData){if(m.call(a.types,"text/html")>=0){for(i=0,s=(l=a.types).length;s>i;i++)if(c=l[i],t=/^CorePasteboardFlavorType/.test(c),n=/^dyn\./.test(c)&&a.getData(c),t||n)return!0;return!1}return r=m.call(a.types,"com.apple.webarchive")>=0,o=m.call(a.types,"com.apple.flat-rtfd")>=0,r||o}},e=function(e){function n(e){var t;this.inputController=e,t=this.inputController,this.responder=t.responder,this.delegate=t.delegate,this.inputSummary=t.inputSummary,this.data={}}return p(n,e),n.prototype.start=function(e){var t,n;return this.data.start=e,this.isSignificant()?("keypress"===this.inputSummary.eventName&&this.inputSummary.textAdded&&null!=(t=this.responder)&&t.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null!=(n=this.responder)?n.getSelectedRange():void 0):void 0},n.prototype.update=function(e){var t;return this.data.update=e,this.isSignificant()&&(t=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=t):void 0},n.prototype.end=function(e){var t,n,i,r;return this.data.end=e,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.setSelectedRange(this.range),null!=(i=this.responder)&&i.insertString(this.data.end),null!=(r=this.responder)?r.setSelectedRange(this.range[0]+this.data.end.length):void 0):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset()},n.prototype.getEndData=function(){return this.data.end},n.prototype.isEnded=function(){return null!=this.getEndData()},n.prototype.isSignificant=function(){return!t.composesExistingText||this.inputSummary.didInput},n.prototype.canApplyToDocument=function(){var e,t;return 0===(null!=(e=this.data.start)?e.length:void 0)&&(null!=(t=this.data.end)?t.length:void 0)>0&&null!=this.range},n.proxyMethod("inputController.setInputSummary"),n.proxyMethod("inputController.requestRender"),n.proxyMethod("inputController.requestReparse"),n.proxyMethod("responder?.selectionIsExpanded"),n.proxyMethod("responder?.insertPlaceholder"),n.proxyMethod("responder?.selectPlaceholder"),n.proxyMethod("responder?.forgetPlaceholder"),n}(o.BasicObject)}.call(this),function(){var e,t,n,i=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty,a=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=o.dataTransferIsPlainText,t=o.keyEventIsKeyboardCommand,n=o.objectsAreEqual,o.Level2InputController=function(s){function l(){return this.render=i(this.render,this),l.__super__.constructor.apply(this,arguments)}var c,u,h,d,p,f;return r(l,s),l.prototype.elementDidMutate=function(){var e;return this.scheduledRender?this.composing&&null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidAllowUnhandledInput?e.inputControllerDidAllowUnhandledInput():void 0:this.reparse()},l.prototype.scheduleRender=function(){return null!=this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)},l.prototype.render=function(){var e;return cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||null!=(e=this.delegate)&&e.render(),"function"==typeof this.afterRender&&this.afterRender(),this.afterRender=null},l.prototype.reparse=function(){var e;return null!=(e=this.delegate)?e.reparse():void 0},l.prototype.events={keydown:function(e){var n,i,r,o;if(t(e)){if(n=u(e),null!=(o=this.delegate)?o.inputControllerDidReceiveKeyboardCommand(n):void 0)return e.preventDefault()}else if(r=e.key,e.altKey&&(r+="+Alt"),e.shiftKey&&(r+="+Shift"),i=this.keys[r])return this.withEvent(e,i)},paste:function(e){var t,n,i,r,o,s,a,l,c;return h(e)?(e.preventDefault(),this.attachFiles(e.clipboardData.files)):d(e)?(e.preventDefault(),n={type:"text/plain",string:e.clipboardData.getData("text/plain")},null!=(i=this.delegate)&&i.inputControllerWillPaste(n),null!=(r=this.responder)&&r.insertString(n.string),this.render(),null!=(o=this.delegate)?o.inputControllerDidPaste(n):void 0):(t=null!=(s=e.clipboardData)?s.getData("URL"):void 0)?(e.preventDefault(),n={type:"text/html",html:this.createLinkHTML(t)},null!=(a=this.delegate)&&a.inputControllerWillPaste(n),null!=(l=this.responder)&&l.insertHTML(n.html),this.render(),null!=(c=this.delegate)?c.inputControllerDidPaste(n):void 0):void 0},beforeinput:function(e){var t;return(t=this.inputTypes[e.inputType])?(this.withEvent(e,t),this.scheduleRender()):void 0},input:function(){return o.selectionChangeObserver.reset()},dragstart:function(e){var t,n;return(null!=(t=this.responder)?t.selectionContainsAttachments():void 0)?(e.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:null!=(n=this.responder)?n.getSelectedRange():void 0,point:p(e)}):void 0},dragenter:function(e){return c(e)?e.preventDefault():void 0},dragover:function(e){var t,i;if(this.dragging){if(e.preventDefault(),t=p(e),!n(t,this.dragging.point))return this.dragging.point=t,null!=(i=this.responder)?i.setLocationRangeFromPointRange(t):void 0}else if(c(e))return e.preventDefault()},drop:function(e){var t,n,i,r;return this.dragging?(e.preventDefault(),null!=(n=this.delegate)&&n.inputControllerWillMoveText(),null!=(i=this.responder)&&i.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender()):c(e)?(e.preventDefault(),t=p(e),null!=(r=this.responder)&&r.setLocationRangeFromPointRange(t),this.attachFiles(e.dataTransfer.files)):void 0},dragend:function(){var e;return this.dragging?(null!=(e=this.responder)&&e.setSelectedRange(this.dragging.range),this.dragging=null):void 0},compositionend:function(){return this.composing?(this.composing=!1,this.scheduleRender()):void 0}},l.prototype.keys={ArrowLeft:function(){var e,t;return(null!=(e=this.responder)?e.shouldManageMovingCursorInDirection("backward"):void 0)?(this.event.preventDefault(),null!=(t=this.responder)?t.moveCursorInDirection("backward"):void 0):void 0},ArrowRight:function(){var e,t;return(null!=(e=this.responder)?e.shouldManageMovingCursorInDirection("forward"):void 0)?(this.event.preventDefault(),null!=(t=this.responder)?t.moveCursorInDirection("forward"):void 0):void 0},Backspace:function(){var e,t,n;return(null!=(e=this.responder)?e.shouldManageDeletingInDirection("backward"):void 0)?(this.event.preventDefault(),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.deleteInDirection("backward"),this.render()):void 0},Tab:function(){var e,t;return(null!=(e=this.responder)?e.canIncreaseNestingLevel():void 0)?(this.event.preventDefault(),null!=(t=this.responder)&&t.increaseNestingLevel(),this.render()):void 0},"Tab+Shift":function(){var e,t;return(null!=(e=this.responder)?e.canDecreaseNestingLevel():void 0)?(this.event.preventDefault(),null!=(t=this.responder)&&t.decreaseNestingLevel(),this.render()):void 0}},l.prototype.inputTypes={deleteByComposition:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut:function(){return this.deleteInDirection("backward")},deleteByDrag:function(){return this.event.preventDefault(),this.withTargetDOMRange((function(){var e;return this.deleteByDragRange=null!=(e=this.responder)?e.getSelectedRange():void 0}))},deleteCompositionText:function(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent:function(){return this.deleteInDirection("backward")},deleteContentBackward:function(){return this.deleteInDirection("backward")},deleteContentForward:function(){return this.deleteInDirection("forward")},deleteEntireSoftLine:function(){return this.deleteInDirection("forward")},deleteHardLineBackward:function(){return this.deleteInDirection("backward")},deleteHardLineForward:function(){return this.deleteInDirection("forward")},deleteSoftLineBackward:function(){return this.deleteInDirection("backward")},deleteSoftLineForward:function(){return this.deleteInDirection("forward")},deleteWordBackward:function(){return this.deleteInDirection("backward")},deleteWordForward:function(){return this.deleteInDirection("forward")},formatBackColor:function(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold:function(){return this.toggleAttributeIfSupported("bold")},formatFontColor:function(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName:function(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent:function(){var e;return(null!=(e=this.responder)?e.canIncreaseNestingLevel():void 0)?this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.increaseNestingLevel():void 0})):void 0},formatItalic:function(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter:function(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull:function(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft:function(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight:function(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent:function(){var e;return(null!=(e=this.responder)?e.canDecreaseNestingLevel():void 0)?this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.decreaseNestingLevel():void 0})):void 0},formatRemove:function(){return this.withTargetDOMRange((function(){var e,t,n,i;for(e in i=[],null!=(t=this.responder)?t.getCurrentAttributes():void 0)i.push(null!=(n=this.responder)?n.removeCurrentAttribute(e):void 0);return i}))},formatSetBlockTextDirection:function(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection:function(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough:function(){return this.toggleAttributeIfSupported("strike")},formatSubscript:function(){return this.toggleAttributeIfSupported("sub")},formatSuperscript:function(){return this.toggleAttributeIfSupported("sup")},formatUnderline:function(){return this.toggleAttributeIfSupported("underline")},historyRedo:function(){var e;return null!=(e=this.delegate)?e.inputControllerWillPerformRedo():void 0},historyUndo:function(){var e;return null!=(e=this.delegate)?e.inputControllerWillPerformUndo():void 0},insertCompositionText:function(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition:function(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop:function(){var e,t;return(e=this.deleteByDragRange)?(this.deleteByDragRange=null,null!=(t=this.delegate)&&t.inputControllerWillMoveText(),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.moveTextFromRange(e):void 0}))):void 0},insertFromPaste:function(){var t,n,i,r,s,a,l,c,u,h,d;return t=this.event.dataTransfer,s={dataTransfer:t},(n=t.getData("URL"))?(this.event.preventDefault(),s.type="text/html",d=(r=t.getData("public.url-name"))?o.squishBreakableWhitespace(r).trim():n,s.html=this.createLinkHTML(n,d),null!=(a=this.delegate)&&a.inputControllerWillPaste(s),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.insertHTML(s.html):void 0})),this.afterRender=function(e){return function(){var t;return null!=(t=e.delegate)?t.inputControllerDidPaste(s):void 0}}(this)):e(t)?(s.type="text/plain",s.string=t.getData("text/plain"),null!=(l=this.delegate)&&l.inputControllerWillPaste(s),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.insertString(s.string):void 0})),this.afterRender=function(e){return function(){var t;return null!=(t=e.delegate)?t.inputControllerDidPaste(s):void 0}}(this)):(i=t.getData("text/html"))?(this.event.preventDefault(),s.type="text/html",s.html=i,null!=(c=this.delegate)&&c.inputControllerWillPaste(s),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.insertHTML(s.html):void 0})),this.afterRender=function(e){return function(){var t;return null!=(t=e.delegate)?t.inputControllerDidPaste(s):void 0}}(this)):(null!=(u=t.files)?u.length:void 0)?(s.type="File",s.file=t.files[0],null!=(h=this.delegate)&&h.inputControllerWillPaste(s),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.insertFile(s.file):void 0})),this.afterRender=function(e){return function(){var t;return null!=(t=e.delegate)?t.inputControllerDidPaste(s):void 0}}(this)):void 0},insertFromYank:function(){return this.insertString(this.event.data)},insertLineBreak:function(){return this.insertString("\n")},insertLink:function(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList:function(){return this.toggleAttributeIfSupported("number")},insertParagraph:function(){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var e;return null!=(e=this.responder)?e.insertLineBreak():void 0}))},insertReplacementText:function(){return this.insertString(this.event.dataTransfer.getData("text/plain"),{updatePosition:!1})},insertText:function(){var e,t;return this.insertString(null!=(e=this.event.data)?e:null!=(t=this.event.dataTransfer)?t.getData("text/plain"):void 0)},insertTranspose:function(){return this.insertString(this.event.data)},insertUnorderedList:function(){return this.toggleAttributeIfSupported("bullet")}},l.prototype.insertString=function(e,t){var n;return null==e&&(e=""),null!=(n=this.delegate)&&n.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var n;return null!=(n=this.responder)?n.insertString(e,t):void 0}))},l.prototype.toggleAttributeIfSupported=function(e){var t;return a.call(o.getAllAttributeNames(),e)>=0?(null!=(t=this.delegate)&&t.inputControllerWillPerformFormatting(e),this.withTargetDOMRange((function(){var t;return null!=(t=this.responder)?t.toggleCurrentAttribute(e):void 0}))):void 0},l.prototype.activateAttributeIfSupported=function(e,t){var n;return a.call(o.getAllAttributeNames(),e)>=0?(null!=(n=this.delegate)&&n.inputControllerWillPerformFormatting(e),this.withTargetDOMRange((function(){var n;return null!=(n=this.responder)?n.setCurrentAttribute(e,t):void 0}))):void 0},l.prototype.deleteInDirection=function(e,t){var n,i,r;return(null!=t?t:{recordUndoEntry:!0}).recordUndoEntry&&null!=(r=this.delegate)&&r.inputControllerWillPerformTyping(),i=function(t){return function(){var n;return null!=(n=t.responder)?n.deleteInDirection(e):void 0}}(this),(n=this.getTargetDOMRange({minLength:2}))?this.withTargetDOMRange(n,i):i()},l.prototype.withTargetDOMRange=function(e,t){var n;return"function"==typeof e&&(t=e,e=this.getTargetDOMRange()),e?null!=(n=this.responder)?n.withTargetDOMRange(e,t.bind(this)):void 0:(o.selectionChangeObserver.reset(),t.call(this))},l.prototype.getTargetDOMRange=function(e){var t,n,i,r;return i=(null!=e?e:{minLength:0}).minLength,(r="function"==typeof(t=this.event).getTargetRanges?t.getTargetRanges():void 0)&&r.length&&(n=f(r[0]),0===i||n.toString().length>=i)?n:void 0},f=function(e){var t;return(t=document.createRange()).setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),t},l.prototype.withEvent=function(e,t){var n;this.event=e;try{n=t.call(this)}finally{this.event=null}return n},c=function(e){var t,n;return a.call(null!=(t=null!=(n=e.dataTransfer)?n.types:void 0)?t:[],"Files")>=0},h=function(e){var t;return(t=e.clipboardData)?a.call(t.types,"Files")>=0&&1===t.types.length&&t.files.length>=1:void 0},d=function(e){var t;return(t=e.clipboardData)?a.call(t.types,"text/plain")>=0&&1===t.types.length:void 0},u=function(e){var t;return t=[],e.altKey&&t.push("alt"),e.shiftKey&&t.push("shift"),t.push(e.key),t},p=function(e){return{x:e.clientX,y:e.clientY}},l}(o.InputController)}.call(this),function(){var e,t,n,i,r,s,a,l,c=function(e,t){return function(){return e.apply(t,arguments)}},u=function(e,t){function n(){this.constructor=e}for(var i in t)h.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},h={}.hasOwnProperty;t=o.defer,n=o.handleEvent,s=o.makeElement,l=o.tagName,a=o.config,r=a.lang,e=a.css,i=a.keyNames,o.AttachmentEditorController=function(a){function h(e,t,n,i){this.attachmentPiece=e,this.element=t,this.container=n,this.options=null!=i?i:{},this.didBlurCaption=c(this.didBlurCaption,this),this.didChangeCaption=c(this.didChangeCaption,this),this.didInputCaption=c(this.didInputCaption,this),this.didKeyDownCaption=c(this.didKeyDownCaption,this),this.didClickActionButton=c(this.didClickActionButton,this),this.didClickToolbar=c(this.didClickToolbar,this),this.attachment=this.attachmentPiece.attachment,"a"===l(this.element)&&(this.element=this.element.firstChild),this.install()}var d;return u(h,a),d=function(e){return function(){var t;return(t=e.apply(this,arguments)).do(),null==this.undos&&(this.undos=[]),this.undos.push(t.undo)}},h.prototype.install=function(){return this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()?this.installCaptionEditor():void 0},h.prototype.uninstall=function(){var e,t;for(this.savePendingCaption();t=this.undos.pop();)t();return null!=(e=this.delegate)?e.didUninstallAttachmentEditor(this):void 0},h.prototype.savePendingCaption=function(){var e,t,n;return null!=this.pendingCaption?(e=this.pendingCaption,this.pendingCaption=null,e?null!=(t=this.delegate)&&"function"==typeof t.attachmentEditorDidRequestUpdatingAttributesForAttachment?t.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:e},this.attachment):void 0:null!=(n=this.delegate)&&"function"==typeof n.attachmentEditorDidRequestRemovingAttributeForAttachment?n.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0):void 0},h.prototype.makeElementMutable=d((function(){return{do:function(e){return function(){return e.element.dataset.trixMutable=!0}}(this),undo:function(e){return function(){return delete e.element.dataset.trixMutable}}(this)}})),h.prototype.addToolbar=d((function(){var t;return t=s({tagName:"div",className:e.attachmentToolbar,data:{trixMutable:!0},childNodes:s({tagName:"div",className:"trix-button-row",childNodes:s({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:s({tagName:"button",className:"trix-button trix-button--remove",textContent:r.remove,attributes:{title:r.remove},data:{trixAction:"remove"}})})})}),this.attachment.isPreviewable()&&t.appendChild(s({tagName:"div",className:e.attachmentMetadataContainer,childNodes:s({tagName:"span",className:e.attachmentMetadata,childNodes:[s({tagName:"span",className:e.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),s({tagName:"span",className:e.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),n("click",{onElement:t,withCallback:this.didClickToolbar}),n("click",{onElement:t,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),{do:function(e){return function(){return e.element.appendChild(t)}}(this),undo:function(){return o.removeNode(t)}}})),h.prototype.installCaptionEditor=d((function(){var i,a,l,c,u;return(c=s({tagName:"textarea",className:e.attachmentCaptionEditor,attributes:{placeholder:r.captionPlaceholder},data:{trixMutable:!0}})).value=this.attachmentPiece.getCaption(),(u=c.cloneNode()).classList.add("trix-autoresize-clone"),u.tabIndex=-1,i=function(){return u.value=c.value,c.style.height=u.scrollHeight+"px"},n("input",{onElement:c,withCallback:i}),n("input",{onElement:c,withCallback:this.didInputCaption}),n("keydown",{onElement:c,withCallback:this.didKeyDownCaption}),n("change",{onElement:c,withCallback:this.didChangeCaption}),n("blur",{onElement:c,withCallback:this.didBlurCaption}),l=this.element.querySelector("figcaption"),a=l.cloneNode(),{do:function(n){return function(){return l.style.display="none",a.appendChild(c),a.appendChild(u),a.classList.add(e.attachmentCaption+"--editing"),l.parentElement.insertBefore(a,l),i(),n.options.editCaption?t((function(){return c.focus()})):void 0}}(this),undo:function(){return o.removeNode(a),l.style.display=null}}})),h.prototype.didClickToolbar=function(e){return e.preventDefault(),e.stopPropagation()},h.prototype.didClickActionButton=function(e){var t;if("remove"===e.target.getAttribute("data-trix-action"))return null!=(t=this.delegate)?t.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0},h.prototype.didKeyDownCaption=function(e){var t;return"return"===i[e.keyCode]?(e.preventDefault(),this.savePendingCaption(),null!=(t=this.delegate)&&"function"==typeof t.attachmentEditorDidRequestDeselectingAttachment?t.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},h.prototype.didInputCaption=function(e){return this.pendingCaption=e.target.value.replace(/\s/g," ").trim()},h.prototype.didChangeCaption=function(){return this.savePendingCaption()},h.prototype.didBlurCaption=function(){return this.savePendingCaption()},h}(o.BasicObject)}.call(this),function(){var e,t,n,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;n=o.makeElement,e=o.config.css,o.AttachmentView=function(r){function s(){s.__super__.constructor.apply(this,arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}var a;return i(s,r),s.attachmentSelector="[data-trix-attachment]",s.prototype.createContentNodes=function(){return[]},s.prototype.createNodes=function(){var t,i,r,o,s,l,c;if(t=o=n({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),(i=this.getHref())&&(o=n({tagName:"a",editable:!1,attributes:{href:i,tabindex:-1}}),t.appendChild(o)),this.attachment.hasContent())o.innerHTML=this.attachment.getContent();else for(r=0,s=(c=this.createContentNodes()).length;s>r;r++)l=c[r],o.appendChild(l);return o.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=n({tagName:"progress",attributes:{class:e.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),t.appendChild(this.progressElement)),[a("left"),t,a("right")]},s.prototype.createCaptionElement=function(){var t,i,r,o,s,a,l;return r=n({tagName:"figcaption",className:e.attachmentCaption}),(t=this.attachmentPiece.getCaption())?(r.classList.add(e.attachmentCaption+"--edited"),r.textContent=t):((i=this.getCaptionConfig()).name&&(o=this.attachment.getFilename()),i.size&&(a=this.attachment.getFormattedFilesize()),o&&(s=n({tagName:"span",className:e.attachmentName,textContent:o}),r.appendChild(s)),a&&(o&&r.appendChild(document.createTextNode(" ")),l=n({tagName:"span",className:e.attachmentSize,textContent:a}),r.appendChild(l))),r},s.prototype.getClassName=function(){var t,n;return n=[e.attachment,e.attachment+"--"+this.attachment.getType()],(t=this.attachment.getExtension())&&n.push(e.attachment+"--"+t),n.join(" ")},s.prototype.getData=function(){var e,t;return t={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},(e=this.attachmentPiece.attributes).isEmpty()||(t.trixAttributes=JSON.stringify(e)),this.attachment.isPending()&&(t.trixSerialize=!1),t},s.prototype.getHref=function(){return t(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},s.prototype.getCaptionConfig=function(){var e,t,n;return n=this.attachment.getType(),e=o.copyObject(null!=(t=o.config.attachments[n])?t.caption:void 0),"file"===n&&(e.name=!0),e},s.prototype.findProgressElement=function(){var e;return null!=(e=this.findElement())?e.querySelector("progress"):void 0},a=function(e){return n({tagName:"span",textContent:o.ZERO_WIDTH_SPACE,data:{trixCursorTarget:e,trixSerialize:!1}})},s.prototype.attachmentDidChangeUploadProgress=function(){var e,t;return t=this.attachment.getUploadProgress(),null!=(e=this.findProgressElement())?e.value=t:void 0},s}(o.ObjectView),t=function(e,t){var i;return(i=n("div")).innerHTML=null!=e?e:"",i.querySelector(t)}}.call(this),function(){var e,t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=o.makeElement,o.PreviewableAttachmentView=function(n){function i(){i.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return t(i,n),i.prototype.createContentNodes=function(){return this.image=e({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},i.prototype.createCaptionElement=function(){var e;return(e=i.__super__.createCaptionElement.apply(this,arguments)).textContent||e.setAttribute("data-trix-placeholder",o.config.lang.captionPlaceholder),e},i.prototype.refresh=function(e){var t;return null==e&&(e=null!=(t=this.findElement())?t.querySelector("img"):void 0),e?this.updateAttributesForImage(e):void 0},i.prototype.updateAttributesForImage=function(e){var t,n,i,r,o,s;return o=this.attachment.getURL(),n=this.attachment.getPreviewURL(),e.src=n||o,n===o?e.removeAttribute("data-trix-serialized-attributes"):(i=JSON.stringify({src:o}),e.setAttribute("data-trix-serialized-attributes",i)),s=this.attachment.getWidth(),t=this.attachment.getHeight(),null!=s&&(e.width=s),null!=t&&(e.height=t),r=["imageElement",this.attachment.id,e.src,e.width,e.height].join("/"),e.dataset.trixStoreKey=r},i.prototype.attachmentDidChangeAttributes=function(){return this.refresh(this.image),this.refresh()},i}(o.AttachmentView)}.call(this),function(){var e,t,n,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;n=o.makeElement,e=o.findInnerElement,t=o.getTextConfig,o.PieceView=function(r){function s(){var e;s.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),e=this.options,this.textConfig=e.textConfig,this.context=e.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var a;return i(s,r),s.prototype.createNodes=function(){var t,n,i,r,o,s;if(s=this.attachment?this.createAttachmentNodes():this.createStringNodes(),t=this.createElement()){for(i=e(t),n=0,r=s.length;r>n;n++)o=s[n],i.appendChild(o);s=[t]}return s},s.prototype.createAttachmentNodes=function(){var e;return e=this.attachment.isPreviewable()?o.PreviewableAttachmentView:o.AttachmentView,this.createChildView(e,this.piece.attachment,{piece:this.piece}).getNodes()},s.prototype.createStringNodes=function(){var e,t,i,r,o,s,a,l,c;if(null!=(a=this.textConfig)?a.plaintext:void 0)return[document.createTextNode(this.string)];for(s=[],i=t=0,r=(l=this.string.split("\n")).length;r>t;i=++t)c=l[i],i>0&&(e=n("br"),s.push(e)),c.length&&(o=document.createTextNode(this.preserveSpaces(c)),s.push(o));return s},s.prototype.createElement=function(){var e,i,r,o,s,a,l,c,u;for(o in c={},a=this.attributes)if(u=a[o],(e=t(o))&&(e.tagName&&(s=n(e.tagName),r?(r.appendChild(s),r=s):i=r=s),e.styleProperty&&(c[e.styleProperty]=u),e.style))for(o in l=e.style)u=l[o],c[o]=u;if(Object.keys(c).length)for(o in null==i&&(i=n("span")),c)u=c[o],i.style[o]=u;return i},s.prototype.createContainerElement=function(){var e,i,r,o,s;for(r in o=this.attributes)if(s=o[r],(i=t(r))&&i.groupTagName)return(e={})[r]=s,n(i.groupTagName,e)},a=o.NON_BREAKING_SPACE,s.prototype.preserveSpaces=function(e){return this.context.isLast&&(e=e.replace(/\ $/,a)),e=e.replace(/(\S)\ {3}(\S)/g,"$1 "+a+" $2").replace(/\ {2}/g,a+" ").replace(/\ {2}/g," "+a),(this.context.isFirst||this.context.followsWhitespace)&&(e=e.replace(/^\ /,a)),e},s}(o.ObjectView)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.TextView=function(t){function n(){n.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var i;return e(n,t),n.prototype.createNodes=function(){var e,t,n,r,s,a,l,c,u,h;for(a=[],r=(c=o.ObjectGroup.groupObjects(this.getPieces())).length-1,n=t=0,s=c.length;s>t;n=++t)l=c[n],e={},0===n&&(e.isFirst=!0),n===r&&(e.isLast=!0),i(u)&&(e.followsWhitespace=!0),h=this.findOrCreateCachedChildView(o.PieceView,l,{textConfig:this.textConfig,context:e}),a.push.apply(a,h.getNodes()),u=l;return a},n.prototype.getPieces=function(){var e,t,n,i,r;for(r=[],e=0,t=(i=this.text.getPieces()).length;t>e;e++)(n=i[e]).hasAttribute("blockBreak")||r.push(n);return r},i=function(e){return/\s$/.test(null!=e?e.toString():void 0)},n}(o.ObjectView)}.call(this),function(){var e,t,n,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty;n=o.makeElement,t=o.getBlockConfig,e=o.config.css,o.BlockView=function(r){function s(){s.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return i(s,r),s.prototype.createNodes=function(){var e,i,r,s,a,l,c,u,h,d;if(l=[document.createComment("block")],this.block.isEmpty()?l.push(n("br")):(h=null!=(c=t(this.block.getLastAttribute()))?c.text:void 0,d=this.findOrCreateCachedChildView(o.TextView,this.block.text,{textConfig:h}),l.push.apply(l,d.getNodes()),this.shouldAddExtraNewlineElement()&&l.push(n("br"))),this.attributes.length)return l;for(u=o.config.blockAttributes.default.tagName,this.block.isRTL()&&(e={dir:"rtl"}),i=n({tagName:u,attributes:e}),r=0,s=l.length;s>r;r++)a=l[r],i.appendChild(a);return[i]},s.prototype.createContainerElement=function(i){var r,o,s,a,l;return r=this.attributes[i],l=t(r).tagName,0===i&&this.block.isRTL()&&(o={dir:"rtl"}),"attachmentGallery"===r&&(a=this.block.getBlockBreakPosition(),s=e.attachmentGallery+" "+e.attachmentGallery+"--"+a),n({tagName:l,className:s,attributes:o})},s.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},s}(o.ObjectView)}.call(this),function(){var e,t,n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;e=o.defer,t=o.makeElement,o.DocumentView=function(i){function r(){r.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new o.ElementStore,this.setDocument(this.object)}var s,a,l;return n(r,i),r.render=function(e){var n,i;return(i=new this(e,{element:n=t("div")})).render(),i.sync(),n},r.prototype.setDocument=function(e){return e.isEqualTo(this.document)?void 0:this.document=this.object=e},r.prototype.render=function(){var e,n,i,r,s,a,l;if(this.childViews=[],this.shadowElement=t("div"),!this.document.isEmpty()){for(a=[],e=0,n=(s=o.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0})).length;n>e;e++)r=s[e],l=this.findOrCreateCachedChildView(o.BlockView,r),a.push(function(){var e,t,n,r;for(r=[],e=0,t=(n=l.getNodes()).length;t>e;e++)i=n[e],r.push(this.shadowElement.appendChild(i));return r}.call(this));return a}},r.prototype.isSynced=function(){return s(this.shadowElement,this.element)},r.prototype.sync=function(){var e;for(e=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(e),this.didSync()},r.prototype.didSync=function(){return this.elementStore.reset(a(this.element)),e(function(e){return function(){return e.garbageCollectCachedViews()}}(this))},r.prototype.createDocumentFragmentForSync=function(){var e,t,n,i,r,o,s,l,c,u;for(t=document.createDocumentFragment(),n=0,r=(l=this.shadowElement.childNodes).length;r>n;n++)s=l[n],t.appendChild(s.cloneNode(!0));for(i=0,o=(c=a(t)).length;o>i;i++)e=c[i],(u=this.elementStore.remove(e))&&e.parentNode.replaceChild(u,e);return t},a=function(e){return e.querySelectorAll("[data-trix-store-key]")},s=function(e,t){return l(e.innerHTML)===l(t.innerHTML)},l=function(e){return e.replace(/&nbsp;/g," ")},r}(o.ObjectView)}.call(this),function(){var e,t,n,i,r,s=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function n(){this.constructor=e}for(var i in t)l.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},l={}.hasOwnProperty;n=o.findClosestElementFromNode,i=o.handleEvent,r=o.innerElementIsActive,t=o.defer,e=o.AttachmentView.attachmentSelector,o.CompositionController=function(l){function c(t,n){this.element=t,this.composition=n,this.didClickAttachment=s(this.didClickAttachment,this),this.didBlur=s(this.didBlur,this),this.didFocus=s(this.didFocus,this),this.documentView=new o.DocumentView(this.composition.document,{element:this.element}),i("focus",{onElement:this.element,withCallback:this.didFocus}),i("blur",{onElement:this.element,withCallback:this.didBlur}),i("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),i("mousedown",{onElement:this.element,matchingSelector:e,withCallback:this.didClickAttachment}),i("click",{onElement:this.element,matchingSelector:"a"+e,preventDefault:!0})}return a(c,l),c.prototype.didFocus=function(){var e,t,n;return e=function(e){return function(){var t;return e.focused?void 0:(e.focused=!0,null!=(t=e.delegate)&&"function"==typeof t.compositionControllerDidFocus?t.compositionControllerDidFocus():void 0)}}(this),null!=(t=null!=(n=this.blurPromise)?n.then(e):void 0)?t:e()},c.prototype.didBlur=function(){return this.blurPromise=new Promise(function(e){return function(n){return t((function(){var t;return r(e.element)||(e.focused=null,null!=(t=e.delegate)&&"function"==typeof t.compositionControllerDidBlur&&t.compositionControllerDidBlur()),e.blurPromise=null,n()}))}}(this))},c.prototype.didClickAttachment=function(e,t){var i,r,o;return i=this.findAttachmentForElement(t),r=null!=n(e.target,{matchingSelector:"figcaption"}),null!=(o=this.delegate)&&"function"==typeof o.compositionControllerDidSelectAttachment?o.compositionControllerDidSelectAttachment(i,{editCaption:r}):void 0},c.prototype.getSerializableElement=function(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element},c.prototype.render=function(){var e,t,n;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&(null!=(e=this.delegate)&&"function"==typeof e.compositionControllerWillSyncDocumentView&&e.compositionControllerWillSyncDocumentView(),this.documentView.sync(),null!=(t=this.delegate)&&"function"==typeof t.compositionControllerDidSyncDocumentView&&t.compositionControllerDidSyncDocumentView()),null!=(n=this.delegate)&&"function"==typeof n.compositionControllerDidRender?n.compositionControllerDidRender():void 0},c.prototype.rerenderViewForObject=function(e){return this.invalidateViewForObject(e),this.render()},c.prototype.invalidateViewForObject=function(e){return this.documentView.invalidateViewForObject(e)},c.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},c.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},c.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},c.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},c.prototype.isEditingAttachment=function(){return null!=this.attachmentEditor},c.prototype.installAttachmentEditorForAttachment=function(e,t){var n,i,r;if((null!=(r=this.attachmentEditor)?r.attachment:void 0)!==e&&(i=this.documentView.findElementForObject(e)))return this.uninstallAttachmentEditor(),n=this.composition.document.getAttachmentPieceForAttachment(e),this.attachmentEditor=new o.AttachmentEditorController(n,i,this.element,t),this.attachmentEditor.delegate=this},c.prototype.uninstallAttachmentEditor=function(){var e;return null!=(e=this.attachmentEditor)?e.uninstall():void 0},c.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},c.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(e,t){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(t),this.composition.updateAttributesForAttachment(e,t)},c.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(e,t){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(t),this.composition.removeAttributeForAttachment(e,t)},c.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(e){var t;return null!=(t=this.delegate)&&"function"==typeof t.compositionControllerDidRequestRemovalOfAttachment?t.compositionControllerDidRequestRemovalOfAttachment(e):void 0},c.prototype.attachmentEditorDidRequestDeselectingAttachment=function(e){var t;return null!=(t=this.delegate)&&"function"==typeof t.compositionControllerDidRequestDeselectingAttachment?t.compositionControllerDidRequestDeselectingAttachment(e):void 0},c.prototype.canSyncDocumentView=function(){return!this.isEditingAttachment()},c.prototype.findAttachmentForElement=function(e){return this.composition.document.getAttachmentById(parseInt(e.dataset.trixId,10))},c}(o.BasicObject)}.call(this),function(){var e,t,n,i=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;t=o.handleEvent,n=o.triggerEvent,e=o.findClosestElementFromNode,o.ToolbarController=function(o){function s(e){this.element=e,this.didKeyDownDialogInput=i(this.didKeyDownDialogInput,this),this.didClickDialogButton=i(this.didClickDialogButton,this),this.didClickAttributeButton=i(this.didClickAttributeButton,this),this.didClickActionButton=i(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),t("mousedown",{onElement:this.element,matchingSelector:a,withCallback:this.didClickActionButton}),t("mousedown",{onElement:this.element,matchingSelector:l,withCallback:this.didClickAttributeButton}),t("click",{onElement:this.element,matchingSelector:g,preventDefault:!0}),t("click",{onElement:this.element,matchingSelector:c,withCallback:this.didClickDialogButton}),t("keydown",{onElement:this.element,matchingSelector:u,withCallback:this.didKeyDownDialogInput})}var a,l,c,u,h,d,p,f,m,g;return r(s,o),g=(l="[data-trix-attribute]")+", "+(a="[data-trix-action]"),c=(h="[data-trix-dialog]")+" [data-trix-method]",u=h+" [data-trix-input]",s.prototype.didClickActionButton=function(e,t){var n,i,r;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),e.preventDefault(),n=d(t),this.getDialog(n)?this.toggleDialog(n):null!=(r=this.delegate)?r.toolbarDidInvokeAction(n):void 0},s.prototype.didClickAttributeButton=function(e,t){var n,i,r;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),e.preventDefault(),n=p(t),this.getDialog(n)?this.toggleDialog(n):null!=(r=this.delegate)&&r.toolbarDidToggleAttribute(n),this.refreshAttributeButtons()},s.prototype.didClickDialogButton=function(t,n){var i;return i=e(n,{matchingSelector:h}),this[n.getAttribute("data-trix-method")].call(this,i)},s.prototype.didKeyDownDialogInput=function(e,t){var n,i;return 13===e.keyCode&&(e.preventDefault(),n=t.getAttribute("name"),i=this.getDialog(n),this.setAttribute(i)),27===e.keyCode?(e.preventDefault(),this.hideDialog()):void 0},s.prototype.updateActions=function(e){return this.actions=e,this.refreshActionButtons()},s.prototype.refreshActionButtons=function(){return this.eachActionButton(function(e){return function(t,n){return t.disabled=!1===e.actions[n]}}(this))},s.prototype.eachActionButton=function(e){var t,n,i,r,o;for(o=[],n=0,i=(r=this.element.querySelectorAll(a)).length;i>n;n++)t=r[n],o.push(e(t,d(t)));return o},s.prototype.updateAttributes=function(e){return this.attributes=e,this.refreshAttributeButtons()},s.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton(function(e){return function(t,n){return t.disabled=!1===e.attributes[n],e.attributes[n]||e.dialogIsVisible(n)?(t.setAttribute("data-trix-active",""),t.classList.add("trix-active")):(t.removeAttribute("data-trix-active"),t.classList.remove("trix-active"))}}(this))},s.prototype.eachAttributeButton=function(e){var t,n,i,r,o;for(o=[],n=0,i=(r=this.element.querySelectorAll(l)).length;i>n;n++)t=r[n],o.push(e(t,p(t)));return o},s.prototype.applyKeyboardCommand=function(e){var t,i,r,o,s,a;for(o=JSON.stringify(e.sort()),r=0,s=(a=this.element.querySelectorAll("[data-trix-key]")).length;s>r;r++)if(i=(t=a[r]).getAttribute("data-trix-key").split("+"),JSON.stringify(i.sort())===o)return n("mousedown",{onElement:t}),!0;return!1},s.prototype.dialogIsVisible=function(e){var t;return(t=this.getDialog(e))?t.hasAttribute("data-trix-active"):void 0},s.prototype.toggleDialog=function(e){return this.dialogIsVisible(e)?this.hideDialog():this.showDialog(e)},s.prototype.showDialog=function(e){var t,n,i,r,o,s,a,l,c;for(this.hideDialog(),null!=(s=this.delegate)&&s.toolbarWillShowDialog(),(n=this.getDialog(e)).setAttribute("data-trix-active",""),n.classList.add("trix-active"),i=0,o=(a=n.querySelectorAll("input[disabled]")).length;o>i;i++)a[i].removeAttribute("disabled");return(t=p(n))&&(r=m(n,e))&&(r.value=null!=(l=this.attributes[t])?l:"",r.select()),null!=(c=this.delegate)?c.toolbarDidShowDialog(e):void 0},s.prototype.setAttribute=function(e){var t,n,i;return t=p(e),(n=m(e,t)).willValidate&&!n.checkValidity()?(n.setAttribute("data-trix-validate",""),n.classList.add("trix-validate"),n.focus()):(null!=(i=this.delegate)&&i.toolbarDidUpdateAttribute(t,n.value),this.hideDialog())},s.prototype.removeAttribute=function(e){var t,n;return t=p(e),null!=(n=this.delegate)&&n.toolbarDidRemoveAttribute(t),this.hideDialog()},s.prototype.hideDialog=function(){var e,t;return(e=this.element.querySelector("[data-trix-dialog][data-trix-active]"))?(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"),this.resetDialogInputs(),null!=(t=this.delegate)?t.toolbarDidHideDialog(f(e)):void 0):void 0},s.prototype.resetDialogInputs=function(){var e,t,n,i,r;for(r=[],e=0,n=(i=this.element.querySelectorAll(u)).length;n>e;e++)(t=i[e]).setAttribute("disabled","disabled"),t.removeAttribute("data-trix-validate"),r.push(t.classList.remove("trix-validate"));return r},s.prototype.getDialog=function(e){return this.element.querySelector("[data-trix-dialog="+e+"]")},m=function(e,t){return null==t&&(t=p(e)),e.querySelector("[data-trix-input][name='"+t+"']")},d=function(e){return e.getAttribute("data-trix-action")},p=function(e){var t;return null!=(t=e.getAttribute("data-trix-attribute"))?t:e.getAttribute("data-trix-dialog-attribute")},f=function(e){return e.getAttribute("data-trix-dialog")},s}(o.BasicObject)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.ImagePreloadOperation=function(t){function n(e){this.url=e}return e(n,t),n.prototype.perform=function(e){var t;return(t=new Image).onload=function(n){return function(){return t.width=n.width=t.naturalWidth,t.height=n.height=t.naturalHeight,e(!0,t)}}(this),t.onerror=function(){return e(!1)},t.src=this.url},n}(o.Operation)}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;o.Attachment=function(n){function i(t){null==t&&(t={}),this.releaseFile=e(this.releaseFile,this),i.__super__.constructor.apply(this,arguments),this.attributes=o.Hash.box(t),this.didChangeAttributes()}return t(i,n),i.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,i.attachmentForFile=function(e){var t;return(t=new this(this.attributesForFile(e))).setFile(e),t},i.attributesForFile=function(e){return new o.Hash({filename:e.name,filesize:e.size,contentType:e.type})},i.fromJSON=function(e){return new this(e)},i.prototype.getAttribute=function(e){return this.attributes.get(e)},i.prototype.hasAttribute=function(e){return this.attributes.has(e)},i.prototype.getAttributes=function(){return this.attributes.toObject()},i.prototype.setAttributes=function(e){var t,n,i;return null==e&&(e={}),t=this.attributes.merge(e),this.attributes.isEqualTo(t)?void 0:(this.attributes=t,this.didChangeAttributes(),null!=(n=this.previewDelegate)&&"function"==typeof n.attachmentDidChangeAttributes&&n.attachmentDidChangeAttributes(this),null!=(i=this.delegate)&&"function"==typeof i.attachmentDidChangeAttributes?i.attachmentDidChangeAttributes(this):void 0)},i.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},i.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},i.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},i.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},i.prototype.getURL=function(){return this.attributes.get("url")},i.prototype.getHref=function(){return this.attributes.get("href")},i.prototype.getFilename=function(){var e;return null!=(e=this.attributes.get("filename"))?e:""},i.prototype.getFilesize=function(){return this.attributes.get("filesize")},i.prototype.getFormattedFilesize=function(){var e;return"number"==typeof(e=this.attributes.get("filesize"))?o.config.fileSize.formatter(e):""},i.prototype.getExtension=function(){var e;return null!=(e=this.getFilename().match(/\.(\w+)$/))?e[1].toLowerCase():void 0},i.prototype.getContentType=function(){return this.attributes.get("contentType")},i.prototype.hasContent=function(){return this.attributes.has("content")},i.prototype.getContent=function(){return this.attributes.get("content")},i.prototype.getWidth=function(){return this.attributes.get("width")},i.prototype.getHeight=function(){return this.attributes.get("height")},i.prototype.getFile=function(){return this.file},i.prototype.setFile=function(e){return this.file=e,this.isPreviewable()?this.preloadFile():void 0},i.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},i.prototype.getUploadProgress=function(){var e;return null!=(e=this.uploadProgress)?e:0},i.prototype.setUploadProgress=function(e){var t;return this.uploadProgress!==e?(this.uploadProgress=e,null!=(t=this.uploadProgressDelegate)&&"function"==typeof t.attachmentDidChangeUploadProgress?t.attachmentDidChangeUploadProgress(this):void 0):void 0},i.prototype.toJSON=function(){return this.getAttributes()},i.prototype.getCacheKey=function(){return[i.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},i.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},i.prototype.setPreviewURL=function(e){var t,n;return e!==this.getPreviewURL()?(this.previewURL=e,null!=(t=this.previewDelegate)&&"function"==typeof t.attachmentDidChangeAttributes&&t.attachmentDidChangeAttributes(this),null!=(n=this.delegate)&&"function"==typeof n.attachmentDidChangePreviewURL?n.attachmentDidChangePreviewURL(this):void 0):void 0},i.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},i.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},i.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},i.prototype.preload=function(e,t){return e&&e!==this.getPreviewURL()?(this.preloadingURL=e,new o.ImagePreloadOperation(e).then(function(n){return function(i){var r,o;return o=i.width,r=i.height,n.getWidth()&&n.getHeight()||n.setAttributes({width:o,height:r}),n.preloadingURL=null,n.setPreviewURL(e),"function"==typeof t?t():void 0}}(this)).catch(function(e){return function(){return e.preloadingURL=null,"function"==typeof t?t():void 0}}(this))):void 0},i}(o.Object)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.Piece=function(t){function n(e,t){null==t&&(t={}),n.__super__.constructor.apply(this,arguments),this.attributes=o.Hash.box(t)}return e(n,t),n.types={},n.registerType=function(e,t){return t.type=e,this.types[e]=t},n.fromJSON=function(e){var t;return(t=this.types[e.type])?t.fromJSON(e):void 0},n.prototype.copyWithAttributes=function(e){return new this.constructor(this.getValue(),e)},n.prototype.copyWithAdditionalAttributes=function(e){return this.copyWithAttributes(this.attributes.merge(e))},n.prototype.copyWithoutAttribute=function(e){return this.copyWithAttributes(this.attributes.remove(e))},n.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},n.prototype.getAttribute=function(e){return this.attributes.get(e)},n.prototype.getAttributesHash=function(){return this.attributes},n.prototype.getAttributes=function(){return this.attributes.toObject()},n.prototype.getCommonAttributes=function(){var e,t,n;return(n=pieceList.getPieceAtIndex(0))?(e=n.attributes,t=e.getKeys(),pieceList.eachPiece((function(n){return t=e.getKeysCommonToHash(n.attributes),e=e.slice(t)})),e.toObject()):{}},n.prototype.hasAttribute=function(e){return this.attributes.has(e)},n.prototype.hasSameStringValueAsPiece=function(e){return null!=e&&this.toString()===e.toString()},n.prototype.hasSameAttributesAsPiece=function(e){return null!=e&&(this.attributes===e.attributes||this.attributes.isEqualTo(e.attributes))},n.prototype.isBlockBreak=function(){return!1},n.prototype.isEqualTo=function(e){return n.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(e)&&this.hasSameStringValueAsPiece(e)&&this.hasSameAttributesAsPiece(e)},n.prototype.isEmpty=function(){return 0===this.length},n.prototype.isSerializable=function(){return!0},n.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},n.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},n.prototype.canBeGrouped=function(){return this.hasAttribute("href")},n.prototype.canBeGroupedWith=function(e){return this.getAttribute("href")===e.getAttribute("href")},n.prototype.getLength=function(){return this.length},n.prototype.canBeConsolidatedWith=function(){return!1},n}(o.Object)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.Piece.registerType("attachment",o.AttachmentPiece=function(t){function n(e){this.attachment=e,n.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}return e(n,t),n.fromJSON=function(e){return new this(o.Attachment.fromJSON(e.attachment),e.attributes)},n.permittedAttributes=["caption","presentation"],n.prototype.ensureAttachmentExclusivelyHasAttribute=function(e){return this.hasAttribute(e)?(this.attachment.hasAttribute(e)||this.attachment.setAttributes(this.attributes.slice(e)),this.attributes=this.attributes.remove(e)):void 0},n.prototype.removeProhibitedAttributes=function(){var e;return(e=this.attributes.slice(this.constructor.permittedAttributes)).isEqualTo(this.attributes)?void 0:this.attributes=e},n.prototype.getValue=function(){return this.attachment},n.prototype.isSerializable=function(){return!this.attachment.isPending()},n.prototype.getCaption=function(){var e;return null!=(e=this.attributes.get("caption"))?e:""},n.prototype.isEqualTo=function(e){var t;return n.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(null!=e&&null!=(t=e.attachment)?t.id:void 0)},n.prototype.toString=function(){return o.OBJECT_REPLACEMENT_CHARACTER},n.prototype.toJSON=function(){var e;return(e=n.__super__.toJSON.apply(this,arguments)).attachment=this.attachment,e},n.prototype.getCacheKey=function(){return[n.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},n.prototype.toConsole=function(){return JSON.stringify(this.toString())},n}(o.Piece))}.call(this),function(){var e,t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty;e=o.normalizeNewlines,o.Piece.registerType("string",o.StringPiece=function(n){function i(t){i.__super__.constructor.apply(this,arguments),this.string=e(t),this.length=this.string.length}return t(i,n),i.fromJSON=function(e){return new this(e.string,e.attributes)},i.prototype.getValue=function(){return this.string},i.prototype.toString=function(){return this.string.toString()},i.prototype.isBlockBreak=function(){return"\n"===this.toString()&&!0===this.getAttribute("blockBreak")},i.prototype.toJSON=function(){var e;return(e=i.__super__.toJSON.apply(this,arguments)).string=this.string,e},i.prototype.canBeConsolidatedWith=function(e){return null!=e&&this.hasSameConstructorAs(e)&&this.hasSameAttributesAsPiece(e)},i.prototype.consolidateWith=function(e){return new this.constructor(this.toString()+e.toString(),this.attributes)},i.prototype.splitAtOffset=function(e){var t,n;return 0===e?(t=null,n=this):e===this.length?(t=this,n=null):(t=new this.constructor(this.string.slice(0,e),this.attributes),n=new this.constructor(this.string.slice(e),this.attributes)),[t,n]},i.prototype.toConsole=function(){var e;return(e=this.string).length>15&&(e=e.slice(0,14)+""),JSON.stringify(e.toString())},i}(o.Piece))}.call(this),function(){var e,t=function(e,t){function i(){this.constructor=e}for(var r in t)n.call(t,r)&&(e[r]=t[r]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e},n={}.hasOwnProperty,i=[].slice;e=o.spliceArray,o.SplittableList=function(n){function r(e){null==e&&(e=[]),r.__super__.constructor.apply(this,arguments),this.objects=e.slice(0),this.length=this.objects.length}var o,s,a;return t(r,n),r.box=function(e){return e instanceof this?e:new this(e)},r.prototype.indexOf=function(e){return this.objects.indexOf(e)},r.prototype.splice=function(){var t;return t=1<=arguments.length?i.call(arguments,0):[],new this.constructor(e.apply(null,[this.objects].concat(i.call(t))))},r.prototype.eachObject=function(e){var t,n,i,r,o,s;for(s=[],n=t=0,i=(o=this.objects).length;i>t;n=++t)r=o[n],s.push(e(r,n));return s},r.prototype.insertObjectAtIndex=function(e,t){return this.splice(t,0,e)},r.prototype.insertSplittableListAtIndex=function(e,t){return this.splice.apply(this,[t,0].concat(i.call(e.objects)))},r.prototype.insertSplittableListAtPosition=function(e,t){var n,i,r;return i=(r=this.splitObjectAtPosition(t))[0],n=r[1],new this.constructor(i).insertSplittableListAtIndex(e,n)},r.prototype.editObjectAtIndex=function(e,t){return this.replaceObjectAtIndex(t(this.objects[e]),e)},r.prototype.replaceObjectAtIndex=function(e,t){return this.splice(t,1,e)},r.prototype.removeObjectAtIndex=function(e){return this.splice(e,1)},r.prototype.getObjectAtIndex=function(e){return this.objects[e]},r.prototype.getSplittableListInRange=function(e){var t,n,i,r;return n=(i=this.splitObjectsAtRange(e))[0],t=i[1],r=i[2],new this.constructor(n.slice(t,r+1))},r.prototype.selectSplittableList=function(e){var t,n;return n=function(){var n,i,r,o;for(o=[],n=0,i=(r=this.objects).length;i>n;n++)t=r[n],e(t)&&o.push(t);return o}.call(this),new this.constructor(n)},r.prototype.removeObjectsInRange=function(e){var t,n,i,r;return n=(i=this.splitObjectsAtRange(e))[0],t=i[1],r=i[2],new this.constructor(n).splice(t,r-t+1)},r.prototype.transformObjectsInRange=function(e,t){var n,i,r,o,s,a,l;return s=this.splitObjectsAtRange(e),o=s[0],i=s[1],a=s[2],l=function(){var e,s,l;for(l=[],n=e=0,s=o.length;s>e;n=++e)r=o[n],l.push(n>=i&&a>=n?t(r):r);return l}(),new this.constructor(l)},r.prototype.splitObjectsAtRange=function(e){var t,n,i,r,s;return n=(r=this.splitObjectAtPosition(a(e)))[0],t=r[1],i=r[2],[n=(s=new this.constructor(n).splitObjectAtPosition(o(e)+i))[0],t,s[1]-1]},r.prototype.getObjectAtPosition=function(e){var t,n;return t=(n=this.findIndexAndOffsetAtPosition(e)).index,n.offset,this.objects[t]},r.prototype.splitObjectAtPosition=function(e){var t,n,i,r,o,s,a,l,c;return t=(o=this.findIndexAndOffsetAtPosition(e)).index,r=o.offset,i=this.objects.slice(0),null!=t?0===r?(l=t,c=0):(n=(s=this.getObjectAtIndex(t).splitAtOffset(r))[0],a=s[1],i.splice(t,1,n,a),l=t+1,c=n.getLength()-r):(l=i.length,c=0),[i,l,c]},r.prototype.consolidate=function(){var e,t,n,i,r,o;for(i=[],r=this.objects[0],e=0,t=(o=this.objects.slice(1)).length;t>e;e++)n=o[e],("function"==typeof r.canBeConsolidatedWith?r.canBeConsolidatedWith(n):void 0)?r=r.consolidateWith(n):(i.push(r),r=n);return null!=r&&i.push(r),new this.constructor(i)},r.prototype.consolidateFromIndexToIndex=function(e,t){var n,r;return r=this.objects.slice(0).slice(e,t+1),n=new this.constructor(r).consolidate().toArray(),this.splice.apply(this,[e,r.length].concat(i.call(n)))},r.prototype.findIndexAndOffsetAtPosition=function(e){var t,n,i,r,o,s;for(t=0,i=n=0,r=(s=this.objects).length;r>n;i=++n){if(o=t+s[i].getLength(),e>=t&&o>e)return{index:i,offset:e-t};t=o}return{index:null,offset:null}},r.prototype.findPositionAtIndexAndOffset=function(e,t){var n,i,r,o,s,a;for(s=0,n=i=0,r=(a=this.objects).length;r>i;n=++i)if(o=a[n],e>n)s+=o.getLength();else if(n===e){s+=t;break}return s},r.prototype.getEndPosition=function(){var e,t;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var n,i,r;for(t=0,n=0,i=(r=this.objects).length;i>n;n++)e=r[n],t+=e.getLength();return t}.call(this)},r.prototype.toString=function(){return this.objects.join("")},r.prototype.toArray=function(){return this.objects.slice(0)},r.prototype.toJSON=function(){return this.toArray()},r.prototype.isEqualTo=function(e){return r.__super__.isEqualTo.apply(this,arguments)||s(this.objects,null!=e?e.objects:void 0)},s=function(e,t){var n,i,r,o,s;if(null==t&&(t=[]),e.length!==t.length)return!1;for(s=!0,i=n=0,r=e.length;r>n;i=++n)o=e[i],s&&!o.isEqualTo(t[i])&&(s=!1);return s},r.prototype.contentsForInspection=function(){var e;return{objects:"["+function(){var t,n,i,r;for(r=[],t=0,n=(i=this.objects).length;n>t;t++)e=i[t],r.push(e.inspect());return r}.call(this).join(", ")+"]"}},a=function(e){return e[0]},o=function(e){return e[1]},r}(o.Object)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.Text=function(t){function n(e){var t;null==e&&(e=[]),n.__super__.constructor.apply(this,arguments),this.pieceList=new o.SplittableList(function(){var n,i,r;for(r=[],n=0,i=e.length;i>n;n++)(t=e[n]).isEmpty()||r.push(t);return r}())}return e(n,t),n.textForAttachmentWithAttributes=function(e,t){return new this([new o.AttachmentPiece(e,t)])},n.textForStringWithAttributes=function(e,t){return new this([new o.StringPiece(e,t)])},n.fromJSON=function(e){var t;return new this(function(){var n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(o.Piece.fromJSON(t));return r}())},n.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},n.prototype.copyWithPieceList=function(e){return new this.constructor(e.consolidate().toArray())},n.prototype.copyUsingObjectMap=function(e){var t,n;return n=function(){var n,i,r,o,s;for(s=[],n=0,i=(r=this.getPieces()).length;i>n;n++)t=r[n],s.push(null!=(o=e.find(t))?o:t);return s}.call(this),new this.constructor(n)},n.prototype.appendText=function(e){return this.insertTextAtPosition(e,this.getLength())},n.prototype.insertTextAtPosition=function(e,t){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(e.pieceList,t))},n.prototype.removeTextAtRange=function(e){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(e))},n.prototype.replaceTextAtRange=function(e,t){return this.removeTextAtRange(t).insertTextAtPosition(e,t[0])},n.prototype.moveTextFromRangeToPosition=function(e,t){var n,i;if(!(e[0]<=t&&t<=e[1]))return n=(i=this.getTextAtRange(e)).getLength(),e[0]<t&&(t-=n),this.removeTextAtRange(e).insertTextAtPosition(i,t)},n.prototype.addAttributeAtRange=function(e,t,n){var i;return(i={})[e]=t,this.addAttributesAtRange(i,n)},n.prototype.addAttributesAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,(function(t){return t.copyWithAdditionalAttributes(e)})))},n.prototype.removeAttributeAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,(function(t){return t.copyWithoutAttribute(e)})))},n.prototype.setAttributesAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,(function(t){return t.copyWithAttributes(e)})))},n.prototype.getAttributesAtPosition=function(e){var t,n;return null!=(t=null!=(n=this.pieceList.getObjectAtPosition(e))?n.getAttributes():void 0)?t:{}},n.prototype.getCommonAttributes=function(){var e,t;return e=function(){var e,n,i,r;for(r=[],e=0,n=(i=this.pieceList.toArray()).length;n>e;e++)t=i[e],r.push(t.getAttributes());return r}.call(this),o.Hash.fromCommonAttributesOfObjects(e).toObject()},n.prototype.getCommonAttributesAtRange=function(e){var t;return null!=(t=this.getTextAtRange(e).getCommonAttributes())?t:{}},n.prototype.getExpandedRangeForAttributeAtOffset=function(e,t){var n,i,r;for(n=r=t,i=this.getLength();n>0&&this.getCommonAttributesAtRange([n-1,r])[e];)n--;for(;i>r&&this.getCommonAttributesAtRange([t,r+1])[e];)r++;return[n,r]},n.prototype.getTextAtRange=function(e){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(e))},n.prototype.getStringAtRange=function(e){return this.pieceList.getSplittableListInRange(e).toString()},n.prototype.getStringAtPosition=function(e){return this.getStringAtRange([e,e+1])},n.prototype.startsWithString=function(e){return this.getStringAtRange([0,e.length])===e},n.prototype.endsWithString=function(e){var t;return t=this.getLength(),this.getStringAtRange([t-e.length,t])===e},n.prototype.getAttachmentPieces=function(){var e,t,n,i,r;for(r=[],e=0,t=(i=this.pieceList.toArray()).length;t>e;e++)null!=(n=i[e]).attachment&&r.push(n);return r},n.prototype.getAttachments=function(){var e,t,n,i,r;for(r=[],e=0,t=(i=this.getAttachmentPieces()).length;t>e;e++)n=i[e],r.push(n.attachment);return r},n.prototype.getAttachmentAndPositionById=function(e){var t,n,i,r,o,s;for(r=0,t=0,n=(o=this.pieceList.toArray()).length;n>t;t++){if((null!=(s=(i=o[t]).attachment)?s.id:void 0)===e)return{attachment:i.attachment,position:r};r+=i.length}return{attachment:null,position:null}},n.prototype.getAttachmentById=function(e){var t,n;return t=(n=this.getAttachmentAndPositionById(e)).attachment,n.position,t},n.prototype.getRangeOfAttachment=function(e){var t,n;return e=(n=this.getAttachmentAndPositionById(e.id)).attachment,t=n.position,null!=e?[t,t+1]:void 0},n.prototype.updateAttributesForAttachment=function(e,t){var n;return(n=this.getRangeOfAttachment(t))?this.addAttributesAtRange(e,n):this},n.prototype.getLength=function(){return this.pieceList.getEndPosition()},n.prototype.isEmpty=function(){return 0===this.getLength()},n.prototype.isEqualTo=function(e){var t;return n.__super__.isEqualTo.apply(this,arguments)||(null!=e&&null!=(t=e.pieceList)?t.isEqualTo(this.pieceList):void 0)},n.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},n.prototype.eachPiece=function(e){return this.pieceList.eachObject(e)},n.prototype.getPieces=function(){return this.pieceList.toArray()},n.prototype.getPieceAtPosition=function(e){return this.pieceList.getObjectAtPosition(e)},n.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},n.prototype.toSerializableText=function(){var e;return e=this.pieceList.selectSplittableList((function(e){return e.isSerializable()})),this.copyWithPieceList(e)},n.prototype.toString=function(){return this.pieceList.toString()},n.prototype.toJSON=function(){return this.pieceList.toJSON()},n.prototype.toConsole=function(){var e;return JSON.stringify(function(){var t,n,i,r;for(r=[],t=0,n=(i=this.pieceList.toArray()).length;n>t;t++)e=i[t],r.push(JSON.parse(e.toConsole()));return r}.call(this))},n.prototype.getDirection=function(){return o.getDirection(this.toString())},n.prototype.isRTL=function(){return"rtl"===this.getDirection()},n}(o.Object)}.call(this),function(){var e,t,n,i,r=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty,a=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},l=[].slice;e=o.arraysAreEqual,i=o.spliceArray,t=o.getBlockConfig,o.getBlockAttributeNames,n=o.getListAttributeNames,o.Block=function(s){function c(e,t){null==e&&(e=new o.Text),null==t&&(t=[]),c.__super__.constructor.apply(this,arguments),this.text=h(e),this.attributes=t}var u,h,d,p,f,m,g,v,y;return r(c,s),c.fromJSON=function(e){return new this(o.Text.fromJSON(e.text),e.attributes)},c.prototype.isEmpty=function(){return this.text.isBlockBreak()},c.prototype.isEqualTo=function(t){return c.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=t?t.text:void 0)&&e(this.attributes,null!=t?t.attributes:void 0)},c.prototype.copyWithText=function(e){return new this.constructor(e,this.attributes)},c.prototype.copyWithoutText=function(){return this.copyWithText(null)},c.prototype.copyWithAttributes=function(e){return new this.constructor(this.text,e)},c.prototype.copyWithoutAttributes=function(){return this.copyWithAttributes(null)},c.prototype.copyUsingObjectMap=function(e){var t;return this.copyWithText((t=e.find(this.text))?t:this.text.copyUsingObjectMap(e))},c.prototype.addAttribute=function(e){var t;return t=this.attributes.concat(p(e)),this.copyWithAttributes(t)},c.prototype.removeAttribute=function(e){var n,i;return i=t(e).listAttribute,n=m(m(this.attributes,e),i),this.copyWithAttributes(n)},c.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},c.prototype.getLastAttribute=function(){return f(this.attributes)},c.prototype.getAttributes=function(){return this.attributes.slice(0)},c.prototype.getAttributeLevel=function(){return this.attributes.length},c.prototype.getAttributeAtLevel=function(e){return this.attributes[e-1]},c.prototype.hasAttribute=function(e){return a.call(this.attributes,e)>=0},c.prototype.hasAttributes=function(){return this.getAttributeLevel()>0},c.prototype.getLastNestableAttribute=function(){return f(this.getNestableAttributes())},c.prototype.getNestableAttributes=function(){var e,n,i,r,o;for(o=[],n=0,i=(r=this.attributes).length;i>n;n++)e=r[n],t(e).nestable&&o.push(e);return o},c.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},c.prototype.decreaseNestingLevel=function(){var e;return(e=this.getLastNestableAttribute())?this.removeAttribute(e):this},c.prototype.increaseNestingLevel=function(){var e,t,n;return(e=this.getLastNestableAttribute())?(n=this.attributes.lastIndexOf(e),t=i.apply(null,[this.attributes,n+1,0].concat(l.call(p(e)))),this.copyWithAttributes(t)):this},c.prototype.getListItemAttributes=function(){var e,n,i,r,o;for(o=[],n=0,i=(r=this.attributes).length;i>n;n++)e=r[n],t(e).listAttribute&&o.push(e);return o},c.prototype.isListItem=function(){var e;return null!=(e=t(this.getLastAttribute()))?e.listAttribute:void 0},c.prototype.isTerminalBlock=function(){var e;return null!=(e=t(this.getLastAttribute()))?e.terminal:void 0},c.prototype.breaksOnReturn=function(){var e;return null!=(e=t(this.getLastAttribute()))?e.breakOnReturn:void 0},c.prototype.findLineBreakInDirectionFromPosition=function(e,t){var n,i;return i=this.toString(),-1!==(n=function(){switch(e){case"forward":return i.indexOf("\n",t);case"backward":return i.slice(0,t).lastIndexOf("\n")}}())?n:void 0},c.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},c.prototype.toString=function(){return this.text.toString()},c.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},c.prototype.getDirection=function(){return this.text.getDirection()},c.prototype.isRTL=function(){return this.text.isRTL()},c.prototype.getLength=function(){return this.text.getLength()},c.prototype.canBeConsolidatedWith=function(e){return!this.hasAttributes()&&!e.hasAttributes()&&this.getDirection()===e.getDirection()},c.prototype.consolidateWith=function(e){var t,n;return t=o.Text.textForStringWithAttributes("\n"),n=this.getTextWithoutBlockBreak().appendText(t),this.copyWithText(n.appendText(e.text))},c.prototype.splitAtOffset=function(e){var t,n;return 0===e?(t=null,n=this):e===this.getLength()?(t=this,n=null):(t=this.copyWithText(this.text.getTextAtRange([0,e])),n=this.copyWithText(this.text.getTextAtRange([e,this.getLength()]))),[t,n]},c.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},c.prototype.getTextWithoutBlockBreak=function(){return g(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},c.prototype.canBeGrouped=function(e){return this.attributes[e]},c.prototype.canBeGroupedWith=function(e,i){var r,o,s,l;return o=(s=e.getAttributes())[i],!((r=this.attributes[i])!==o||!1===t(r).group&&(l=s[i+1],a.call(n(),l)<0)||this.getDirection()!==e.getDirection()&&!e.isEmpty())},h=function(e){return e=y(e),u(e)},y=function(e){var t,n,i,r,s,a;return r=!1,a=e.getPieces(),n=2<=a.length?l.call(a,0,t=a.length-1):(t=0,[]),null==(i=a[t++])?e:(n=function(){var e,t,i;for(i=[],e=0,t=n.length;t>e;e++)(s=n[e]).isBlockBreak()?(r=!0,i.push(v(s))):i.push(s);return i}(),r?new o.Text(l.call(n).concat([i])):e)},d=o.Text.textForStringWithAttributes("\n",{blockBreak:!0}),u=function(e){return g(e)?e:e.appendText(d)},g=function(e){var t;return 0!==(t=e.getLength())&&e.getTextAtRange([t-1,t]).isBlockBreak()},v=function(e){return e.copyWithoutAttribute("blockBreak")},p=function(e){var n;return null!=(n=t(e).listAttribute)?[n,e]:[e]},f=function(e){return e.slice(-1)[0]},m=function(e,t){var n;return-1===(n=e.lastIndexOf(t))?e:i(e,n,1)},c}(o.Object)}.call(this),function(){var e,t,n,i=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},r={}.hasOwnProperty,s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},a=[].slice;t=o.tagName,n=o.walkTree,e=o.nodeIsAttachmentElement,o.HTMLSanitizer=function(r){function l(e,t){var n;n=null!=t?t:{},this.allowedAttributes=n.allowedAttributes,this.forbiddenProtocols=n.forbiddenProtocols,this.forbiddenElements=n.forbiddenElements,null==this.allowedAttributes&&(this.allowedAttributes=c),null==this.forbiddenProtocols&&(this.forbiddenProtocols=h),null==this.forbiddenElements&&(this.forbiddenElements=u),this.body=d(e)}var c,u,h,d;return i(l,r),c="style href src width height class".split(" "),h="javascript:".split(" "),u="script iframe".split(" "),l.sanitize=function(e,t){var n;return(n=new this(e,t)).sanitize(),n},l.prototype.sanitize=function(){return this.sanitizeElements(),this.normalizeListElementNesting()},l.prototype.getHTML=function(){return this.body.innerHTML},l.prototype.getBody=function(){return this.body},l.prototype.sanitizeElements=function(){var e,t,i,r,s;for(s=n(this.body),r=[];s.nextNode();)switch(i=s.currentNode,i.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(i)?r.push(i):this.sanitizeElement(i);break;case Node.COMMENT_NODE:r.push(i)}for(e=0,t=r.length;t>e;e++)i=r[e],o.removeNode(i);return this.body},l.prototype.sanitizeElement=function(e){var t,n,i,r,o;for(e.hasAttribute("href")&&(r=e.protocol,s.call(this.forbiddenProtocols,r)>=0&&e.removeAttribute("href")),t=0,n=(o=a.call(e.attributes)).length;n>t;t++)i=o[t].name,s.call(this.allowedAttributes,i)>=0||0===i.indexOf("data-trix")||e.removeAttribute(i);return e},l.prototype.normalizeListElementNesting=function(){var e,n,i,r,o;for(e=0,n=(o=a.call(this.body.querySelectorAll("ul,ol"))).length;n>e;e++)(r=(i=o[e]).previousElementSibling)&&"li"===t(r)&&r.appendChild(i);return this.body},l.prototype.elementIsRemovable=function(e){return(null!=e?e.nodeType:void 0)===Node.ELEMENT_NODE?this.elementIsForbidden(e)||this.elementIsntSerializable(e):void 0},l.prototype.elementIsForbidden=function(e){var n;return n=t(e),s.call(this.forbiddenElements,n)>=0},l.prototype.elementIsntSerializable=function(t){return"false"===t.getAttribute("data-trix-serialize")&&!e(t)},d=function(e){var t,n,i,r,o;for(null==e&&(e=""),e=e.replace(/<\/html[^>]*>[^]*$/i,"</html>"),(t=document.implementation.createHTMLDocument("")).documentElement.innerHTML=e,i=0,r=(o=t.head.querySelectorAll("style")).length;r>i;i++)n=o[i],t.body.appendChild(n);return t.body},l}(o.BasicObject)}.call(this),function(){var e,t,n,i,r,s,a,l,c,u,h,d=function(e,t){function n(){this.constructor=e}for(var i in t)p.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty,f=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=o.arraysAreEqual,s=o.makeElement,u=o.tagName,r=o.getBlockTagNames,h=o.walkTree,i=o.findClosestElementFromNode,n=o.elementContainsNode,a=o.nodeIsAttachmentElement,l=o.normalizeSpaces,t=o.breakableWhitespacePattern,c=o.squishBreakableWhitespace,o.HTMLParser=function(p){function m(e,t){this.html=e,this.referenceElement=(null!=t?t:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var g,v,y,b,w,_,x,k,C,S,A,T;return d(m,p),m.parse=function(e,t){var n;return(n=new this(e,t)).parse(),n},m.prototype.getDocument=function(){return o.Document.fromJSON(this.blocks)},m.prototype.parse=function(){var e,t;try{for(this.createHiddenContainer(),e=o.HTMLSanitizer.sanitize(this.html).getHTML(),this.containerElement.innerHTML=e,t=h(this.containerElement,{usingFilter:x});t.nextNode();)this.processNode(t.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},m.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=s({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},m.prototype.removeHiddenContainer=function(){return o.removeNode(this.containerElement)},x=function(e){return"style"===u(e)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},m.prototype.processNode=function(e){switch(e.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(e))return this.appendBlockForTextNode(e),this.processTextNode(e);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(e),this.processElement(e)}},m.prototype.appendBlockForTextNode=function(t){var n,i,r;return(i=t.parentNode)===this.currentBlockElement&&this.isBlockElement(t.previousSibling)?this.appendStringWithAttributes("\n"):i!==this.containerElement&&!this.isBlockElement(i)||(n=this.getBlockAttributes(i),e(n,null!=(r=this.currentBlock)?r.attributes:void 0))?void 0:(this.currentBlock=this.appendBlockForAttributesWithElement(n,i),this.currentBlockElement=i)},m.prototype.appendBlockForElement=function(t){var i,r,o,s;if(o=this.isBlockElement(t),r=n(this.currentBlockElement,t),o&&!this.isBlockElement(t.firstChild)){if((!this.isInsignificantTextNode(t.firstChild)||!this.isBlockElement(t.firstElementChild))&&(i=this.getBlockAttributes(t),t.firstChild))return r&&e(i,this.currentBlock.attributes)?this.appendStringWithAttributes("\n"):(this.currentBlock=this.appendBlockForAttributesWithElement(i,t),this.currentBlockElement=t)}else if(this.currentBlockElement&&!r&&!o)return(s=this.findParentBlockElement(t))?this.appendBlockForElement(s):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},m.prototype.findParentBlockElement=function(e){var t;for(t=e.parentElement;t&&t!==this.containerElement;){if(this.isBlockElement(t)&&f.call(this.blockElements,t)>=0)return t;t=t.parentElement}return null},m.prototype.processTextNode=function(e){var t,n;return n=e.data,v(e.parentNode)||(n=c(n),A(null!=(t=e.previousSibling)?t.textContent:void 0)&&(n=w(n))),this.appendStringWithAttributes(n,this.getTextAttributes(e.parentNode))},m.prototype.processElement=function(e){var t,n,i,r,o;if(a(e))return t=k(e,"attachment"),Object.keys(t).length&&(r=this.getTextAttributes(e),this.appendAttachmentWithAttributes(t,r),e.innerHTML=""),this.processedElements.push(e);switch(u(e)){case"br":return this.isExtraBR(e)||this.isBlockElement(e.nextSibling)||this.appendStringWithAttributes("\n",this.getTextAttributes(e)),this.processedElements.push(e);case"img":for(n in t={url:e.getAttribute("src"),contentType:"image"},i=b(e))o=i[n],t[n]=o;return this.appendAttachmentWithAttributes(t,this.getTextAttributes(e)),this.processedElements.push(e);case"tr":if(e.parentNode.firstChild!==e)return this.appendStringWithAttributes("\n");break;case"td":if(e.parentNode.firstChild!==e)return this.appendStringWithAttributes(" | ")}},m.prototype.appendBlockForAttributesWithElement=function(e,t){var n;return this.blockElements.push(t),n=g(e),this.blocks.push(n),n},m.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},m.prototype.appendStringWithAttributes=function(e,t){return this.appendPiece(S(e,t))},m.prototype.appendAttachmentWithAttributes=function(e,t){return this.appendPiece(C(e,t))},m.prototype.appendPiece=function(e){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(e)},m.prototype.appendStringToTextAtIndex=function(e,t){var n,i;return"string"===(null!=(n=(i=this.blocks[t].text)[i.length-1])?n.type:void 0)?n.string+=e:i.push(S(e))},m.prototype.prependStringToTextAtIndex=function(e,t){var n,i;return"string"===(null!=(n=(i=this.blocks[t].text)[0])?n.type:void 0)?n.string=e+n.string:i.unshift(S(e))},S=function(e,t){return null==t&&(t={}),{string:e=l(e),attributes:t,type:"string"}},C=function(e,t){return null==t&&(t={}),{attachment:e,attributes:t,type:"attachment"}},g=function(e){return null==e&&(e={}),{text:[],attributes:e}},m.prototype.getTextAttributes=function(e){var t,n,r,s,l,c,u,h,d,p,f,m;for(t in r={},d=o.config.textAttributes)if((l=d[t]).tagName&&i(e,{matchingSelector:l.tagName,untilNode:this.containerElement}))r[t]=!0;else if(l.parser){if(m=l.parser(e)){for(n=!1,c=0,h=(p=this.findBlockElementAncestors(e)).length;h>c;c++)if(s=p[c],l.parser(s)===m){n=!0;break}n||(r[t]=m)}}else l.styleProperty&&(m=e.style[l.styleProperty])&&(r[t]=m);if(a(e))for(u in f=k(e,"attributes"))m=f[u],r[u]=m;return r},m.prototype.getBlockAttributes=function(e){var t,n,i,r;for(n=[];e&&e!==this.containerElement;){for(t in r=o.config.blockAttributes)!1!==(i=r[t]).parse&&u(e)===i.tagName&&(("function"==typeof i.test?i.test(e):void 0)||!i.test)&&(n.push(t),i.listAttribute&&n.push(i.listAttribute));e=e.parentNode}return n.reverse()},m.prototype.findBlockElementAncestors=function(e){var t,n;for(t=[];e&&e!==this.containerElement;)n=u(e),f.call(r(),n)>=0&&t.push(e),e=e.parentNode;return t},k=function(e,t){try{return JSON.parse(e.getAttribute("data-trix-"+t))}catch(e){return{}}},b=function(e){var t,n,i;return i=e.getAttribute("width"),n=e.getAttribute("height"),t={},i&&(t.width=parseInt(i,10)),n&&(t.height=parseInt(n,10)),t},m.prototype.isBlockElement=function(e){var t;if((null!=e?e.nodeType:void 0)===Node.ELEMENT_NODE&&!a(e)&&!i(e,{matchingSelector:"td",untilNode:this.containerElement}))return t=u(e),f.call(r(),t)>=0||"block"===window.getComputedStyle(e).display},m.prototype.isInsignificantTextNode=function(e){var t,n,i;if((null!=e?e.nodeType:void 0)===Node.TEXT_NODE&&T(e.data)&&(n=e.parentNode,i=e.previousSibling,t=e.nextSibling,(!_(n.previousSibling)||this.isBlockElement(n.previousSibling))&&!v(n)))return!i||this.isBlockElement(i)||!t||this.isBlockElement(t)},m.prototype.isExtraBR=function(e){return"br"===u(e)&&this.isBlockElement(e.parentNode)&&e.parentNode.lastChild===e},v=function(e){var t;return"pre"===(t=window.getComputedStyle(e).whiteSpace)||"pre-wrap"===t||"pre-line"===t},_=function(e){return e&&!A(e.textContent)},m.prototype.translateBlockElementMarginsToNewlines=function(){var e,t,n,i,r,o,s;for(e=this.getMarginOfDefaultBlockElement(),s=[],n=t=0,i=(o=this.blocks).length;i>t;n=++t)o[n],(r=this.getMarginOfBlockElementAtIndex(n))&&(r.top>2*e.top&&this.prependStringToTextAtIndex("\n",n),s.push(r.bottom>2*e.bottom?this.appendStringToTextAtIndex("\n",n):void 0));return s},m.prototype.getMarginOfBlockElementAtIndex=function(e){var t,n;return!(t=this.blockElements[e])||!t.textContent||(n=u(t),f.call(r(),n)>=0||f.call(this.processedElements,t)>=0)?void 0:y(t)},m.prototype.getMarginOfDefaultBlockElement=function(){var e;return e=s(o.config.blockAttributes.default.tagName),this.containerElement.appendChild(e),y(e)},y=function(e){var t;return"block"===(t=window.getComputedStyle(e)).display?{top:parseInt(t.marginTop),bottom:parseInt(t.marginBottom)}:void 0},w=function(e){return e.replace(RegExp("^"+t.source+"+"),"")},T=function(e){return RegExp("^"+t.source+"*$").test(e)},A=function(e){return/\s$/.test(e)},m}(o.BasicObject)}.call(this),function(){var e,t,n,i,r=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty,a=[].slice,l=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=o.arraysAreEqual,n=o.normalizeRange,i=o.rangeIsCollapsed,t=o.getBlockConfig,o.Document=function(s){function c(e){null==e&&(e=[]),c.__super__.constructor.apply(this,arguments),0===e.length&&(e=[new o.Block]),this.blockList=o.SplittableList.box(e)}var u;return r(c,s),c.fromJSON=function(e){var t,n;return n=function(){var n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(o.Block.fromJSON(t));return r}(),new this(n)},c.fromHTML=function(e,t){return o.HTMLParser.parse(e,t).getDocument()},c.fromString=function(e,t){var n;return n=o.Text.textForStringWithAttributes(e,t),new this([new o.Block(n)])},c.prototype.isEmpty=function(){var e;return 1===this.blockList.length&&(e=this.getBlockAtIndex(0)).isEmpty()&&!e.hasAttributes()},c.prototype.copy=function(e){var t;return null==e&&(e={}),t=e.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(t)},c.prototype.copyUsingObjectsFromDocument=function(e){var t;return t=new o.ObjectMap(e.getObjects()),this.copyUsingObjectMap(t)},c.prototype.copyUsingObjectMap=function(e){var t,n,i;return n=function(){var n,r,o,s;for(s=[],n=0,r=(o=this.getBlocks()).length;r>n;n++)t=o[n],s.push((i=e.find(t))?i:t.copyUsingObjectMap(e));return s}.call(this),new this.constructor(n)},c.prototype.copyWithBaseBlockAttributes=function(e){var t,n,i;return null==e&&(e=[]),i=function(){var i,r,o,s;for(s=[],i=0,r=(o=this.getBlocks()).length;r>i;i++)n=o[i],t=e.concat(n.getAttributes()),s.push(n.copyWithAttributes(t));return s}.call(this),new this.constructor(i)},c.prototype.replaceBlock=function(e,t){var n;return-1===(n=this.blockList.indexOf(e))?this:new this.constructor(this.blockList.replaceObjectAtIndex(t,n))},c.prototype.insertDocumentAtRange=function(e,t){var r,o,s,a,l,c,u;return o=e.blockList,l=(t=n(t))[0],s=(c=this.locationFromPosition(l)).index,a=c.offset,u=this,r=this.getBlockAtPosition(l),i(t)&&r.isEmpty()&&!r.hasAttributes()?u=new this.constructor(u.blockList.removeObjectAtIndex(s)):r.getBlockBreakPosition()===a&&l++,u=u.removeTextAtRange(t),new this.constructor(u.blockList.insertSplittableListAtPosition(o,l))},c.prototype.mergeDocumentAtRange=function(t,i){var r,o,s,a,l,c,u,h,d,p,f,m;return f=(i=n(i))[0],p=this.locationFromPosition(f),o=this.getBlockAtIndex(p.index).getAttributes(),r=t.getBaseBlockAttributes(),m=o.slice(-r.length),e(r,m)?(u=o.slice(0,-r.length),c=t.copyWithBaseBlockAttributes(u)):c=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(o),s=c.getBlockCount(),a=c.getBlockAtIndex(0),e(o,a.getAttributes())?(l=a.getTextWithoutBlockBreak(),d=this.insertTextAtRange(l,i),s>1&&(c=new this.constructor(c.getBlocks().slice(1)),h=f+l.getLength(),d=d.insertDocumentAtRange(c,h))):d=this.insertDocumentAtRange(c,i),d},c.prototype.insertTextAtRange=function(e,t){var i,r,o,s,a;return a=(t=n(t))[0],r=(s=this.locationFromPosition(a)).index,o=s.offset,i=this.removeTextAtRange(t),new this.constructor(i.blockList.editObjectAtIndex(r,(function(t){return t.copyWithText(t.text.insertTextAtPosition(e,o))})))},c.prototype.removeTextAtRange=function(e){var t,r,o,s,a,l,c,u,h,d,p,f,m,g,v,y,b,w;return u=(d=e=n(e))[0],y=d[1],i(e)?this:(l=(p=this.locationRangeFromRange(e))[0],g=p[1],a=l.index,c=l.offset,s=this.getBlockAtIndex(a),m=g.index,v=g.offset,f=this.getBlockAtIndex(m),y-u==1&&s.getBlockBreakPosition()===c&&f.getBlockBreakPosition()!==v&&"\n"===f.text.getStringAtPosition(v)?o=this.blockList.editObjectAtIndex(m,(function(e){return e.copyWithText(e.text.removeTextAtRange([v,v+1]))})):(h=s.text.getTextAtRange([0,c]),b=f.text.getTextAtRange([v,f.getLength()]),w=h.appendText(b),r=a!==m&&0===c&&s.getAttributeLevel()>=f.getAttributeLevel()?f.copyWithText(w):s.copyWithText(w),t=m+1-a,o=this.blockList.splice(a,t,r)),new this.constructor(o))},c.prototype.moveTextFromRangeToPosition=function(e,t){var i,r,o,s,l,c,u,h,d,p;return d=(c=e=n(e))[0],o=c[1],t>=d&&o>=t?this:(r=this.getDocumentAtRange(e),h=this.removeTextAtRange(e),(l=t>d)&&(t-=r.getLength()),s=(u=r.getBlocks())[0],0===(i=2<=u.length?a.call(u,1):[]).length?(p=s.getTextWithoutBlockBreak(),l&&(t+=1)):p=s.text,h=h.insertTextAtRange(p,t),0===i.length?h:(r=new this.constructor(i),t+=p.getLength(),h.insertDocumentAtRange(r,t)))},c.prototype.addAttributeAtRange=function(e,n,i){var r;return r=this.blockList,this.eachBlockAtRange(i,(function(i,o,s){return r=r.editObjectAtIndex(s,(function(){return t(e)?i.addAttribute(e,n):o[0]===o[1]?i:i.copyWithText(i.text.addAttributeAtRange(e,n,o))}))})),new this.constructor(r)},c.prototype.addAttribute=function(e,t){var n;return n=this.blockList,this.eachBlock((function(i,r){return n=n.editObjectAtIndex(r,(function(){return i.addAttribute(e,t)}))})),new this.constructor(n)},c.prototype.removeAttributeAtRange=function(e,n){var i;return i=this.blockList,this.eachBlockAtRange(n,(function(n,r,o){return t(e)?i=i.editObjectAtIndex(o,(function(){return n.removeAttribute(e)})):r[0]!==r[1]?i=i.editObjectAtIndex(o,(function(){return n.copyWithText(n.text.removeAttributeAtRange(e,r))})):void 0})),new this.constructor(i)},c.prototype.updateAttributesForAttachment=function(e,t){var n,i,r;return i=this.getRangeOfAttachment(t)[0],n=this.locationFromPosition(i).index,r=this.getTextAtIndex(n),new this.constructor(this.blockList.editObjectAtIndex(n,(function(n){return n.copyWithText(r.updateAttributesForAttachment(e,t))})))},c.prototype.removeAttributeForAttachment=function(e,t){var n;return n=this.getRangeOfAttachment(t),this.removeAttributeAtRange(e,n)},c.prototype.insertBlockBreakAtRange=function(e){var t,i,r,s;return s=(e=n(e))[0],r=this.locationFromPosition(s).offset,i=this.removeTextAtRange(e),0===r&&(t=[new o.Block]),new this.constructor(i.blockList.insertSplittableListAtPosition(new o.SplittableList(t),s))},c.prototype.applyBlockAttributeAtRange=function(e,n,i){var r,o,s,a;return o=(s=this.expandRangeToLineBreaksAndSplitBlocks(i)).document,i=s.range,(r=t(e)).listAttribute?(a=(o=o.removeLastListAttributeAtRange(i,{exceptAttributeName:e})).convertLineBreaksToBlockBreaksInRange(i),o=a.document,i=a.range):o=r.exclusive?o.removeBlockAttributesAtRange(i):r.terminal?o.removeLastTerminalAttributeAtRange(i):o.consolidateBlocksAtRange(i),o.addAttributeAtRange(e,n,i)},c.prototype.removeLastListAttributeAtRange=function(e,n){var i;return null==n&&(n={}),i=this.blockList,this.eachBlockAtRange(e,(function(e,r,o){var s;if((s=e.getLastAttribute())&&t(s).listAttribute&&s!==n.exceptAttributeName)return i=i.editObjectAtIndex(o,(function(){return e.removeAttribute(s)}))})),new this.constructor(i)},c.prototype.removeLastTerminalAttributeAtRange=function(e){var n;return n=this.blockList,this.eachBlockAtRange(e,(function(e,i,r){var o;if((o=e.getLastAttribute())&&t(o).terminal)return n=n.editObjectAtIndex(r,(function(){return e.removeAttribute(o)}))})),new this.constructor(n)},c.prototype.removeBlockAttributesAtRange=function(e){var t;return t=this.blockList,this.eachBlockAtRange(e,(function(e,n,i){return e.hasAttributes()?t=t.editObjectAtIndex(i,(function(){return e.copyWithoutAttributes()})):void 0})),new this.constructor(t)},c.prototype.expandRangeToLineBreaksAndSplitBlocks=function(e){var t,i,r,o,s,a,l,c,u;return u=(a=e=n(e))[0],o=a[1],c=this.locationFromPosition(u),r=this.locationFromPosition(o),l=(t=this).getBlockAtIndex(c.index),null!=(c.offset=l.findLineBreakInDirectionFromPosition("backward",c.offset))&&(s=t.positionFromLocation(c),t=t.insertBlockBreakAtRange([s,s+1]),r.index+=1,r.offset-=t.getBlockAtIndex(c.index).getLength(),c.index+=1),c.offset=0,0===r.offset&&r.index>c.index?(r.index-=1,r.offset=t.getBlockAtIndex(r.index).getBlockBreakPosition()):("\n"===(i=t.getBlockAtIndex(r.index)).text.getStringAtRange([r.offset-1,r.offset])?r.offset-=1:r.offset=i.findLineBreakInDirectionFromPosition("forward",r.offset),r.offset!==i.getBlockBreakPosition()&&(s=t.positionFromLocation(r),t=t.insertBlockBreakAtRange([s,s+1]))),u=t.positionFromLocation(c),o=t.positionFromLocation(r),{document:t,range:e=n([u,o])}},c.prototype.convertLineBreaksToBlockBreaksInRange=function(e){var t,i,r;return i=(e=n(e))[0],r=this.getStringAtRange(e).slice(0,-1),t=this,r.replace(/.*?\n/g,(function(e){return i+=e.length,t=t.insertBlockBreakAtRange([i-1,i])})),{document:t,range:e}},c.prototype.consolidateBlocksAtRange=function(e){var t,i,r,o,s;return s=(r=e=n(e))[0],i=r[1],o=this.locationFromPosition(s).index,t=this.locationFromPosition(i).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(o,t))},c.prototype.getDocumentAtRange=function(e){var t;return e=n(e),t=this.blockList.getSplittableListInRange(e).toArray(),new this.constructor(t)},c.prototype.getStringAtRange=function(e){var t,i;return(i=e=n(e))[i.length-1]!==this.getLength()&&(t=-1),this.getDocumentAtRange(e).toString().slice(0,t)},c.prototype.getBlockAtIndex=function(e){return this.blockList.getObjectAtIndex(e)},c.prototype.getBlockAtPosition=function(e){var t;return t=this.locationFromPosition(e).index,this.getBlockAtIndex(t)},c.prototype.getTextAtIndex=function(e){var t;return null!=(t=this.getBlockAtIndex(e))?t.text:void 0},c.prototype.getTextAtPosition=function(e){var t;return t=this.locationFromPosition(e).index,this.getTextAtIndex(t)},c.prototype.getPieceAtPosition=function(e){var t,n,i;return t=(i=this.locationFromPosition(e)).index,n=i.offset,this.getTextAtIndex(t).getPieceAtPosition(n)},c.prototype.getCharacterAtPosition=function(e){var t,n,i;return t=(i=this.locationFromPosition(e)).index,n=i.offset,this.getTextAtIndex(t).getStringAtRange([n,n+1])},c.prototype.getLength=function(){return this.blockList.getEndPosition()},c.prototype.getBlocks=function(){return this.blockList.toArray()},c.prototype.getBlockCount=function(){return this.blockList.length},c.prototype.getEditCount=function(){return this.editCount},c.prototype.eachBlock=function(e){return this.blockList.eachObject(e)},c.prototype.eachBlockAtRange=function(e,t){var i,r,o,s,a,l,c,u,h,d,p,f;if(p=(l=e=n(e))[0],o=l[1],d=this.locationFromPosition(p),r=this.locationFromPosition(o),d.index===r.index)return i=this.getBlockAtIndex(d.index),f=[d.offset,r.offset],t(i,f,d.index);for(h=[],a=s=c=d.index,u=r.index;u>=c?u>=s:s>=u;a=u>=c?++s:--s)(i=this.getBlockAtIndex(a))?(f=function(){switch(a){case d.index:return[d.offset,i.text.getLength()];case r.index:return[0,r.offset];default:return[0,i.text.getLength()]}}(),h.push(t(i,f,a))):h.push(void 0);return h},c.prototype.getCommonAttributesAtRange=function(e){var t,r,s;return r=(e=n(e))[0],i(e)?this.getCommonAttributesAtPosition(r):(s=[],t=[],this.eachBlockAtRange(e,(function(e,n){return n[0]!==n[1]?(s.push(e.text.getCommonAttributesAtRange(n)),t.push(u(e))):void 0})),o.Hash.fromCommonAttributesOfObjects(s).merge(o.Hash.fromCommonAttributesOfObjects(t)).toObject())},c.prototype.getCommonAttributesAtPosition=function(e){var t,n,i,r,s,a,c,h,d,p;if(s=(d=this.locationFromPosition(e)).index,h=d.offset,!(i=this.getBlockAtIndex(s)))return{};for(c in r=u(i),t=i.text.getAttributesAtPosition(h),n=i.text.getAttributesAtPosition(h-1),a=function(){var e,t;for(c in t=[],e=o.config.textAttributes)(p=e[c]).inheritable&&t.push(c);return t}(),n)((p=n[c])===t[c]||l.call(a,c)>=0)&&(r[c]=p);return r},c.prototype.getRangeOfCommonAttributeAtPosition=function(e,t){var i,r,o,s,a,l,c,u;return o=(a=this.locationFromPosition(t)).index,s=a.offset,u=(l=this.getTextAtIndex(o).getExpandedRangeForAttributeAtOffset(e,s))[0],r=l[1],c=this.positionFromLocation({index:o,offset:u}),i=this.positionFromLocation({index:o,offset:r}),n([c,i])},c.prototype.getBaseBlockAttributes=function(){var e,t,n,i,r,o,s;for(e=this.getBlockAtIndex(0).getAttributes(),n=i=1,s=this.getBlockCount();s>=1?s>i:i>s;n=s>=1?++i:--i)t=this.getBlockAtIndex(n).getAttributes(),o=Math.min(e.length,t.length),e=function(){var n,i,s;for(s=[],r=n=0,i=o;(i>=0?i>n:n>i)&&t[r]===e[r];r=i>=0?++n:--n)s.push(t[r]);return s}();return e},u=function(e){var t,n;return n={},(t=e.getLastAttribute())&&(n[t]=!0),n},c.prototype.getAttachmentById=function(e){var t,n,i,r;for(n=0,i=(r=this.getAttachments()).length;i>n;n++)if((t=r[n]).id===e)return t},c.prototype.getAttachmentPieces=function(){var e;return e=[],this.blockList.eachObject((function(t){var n;return n=t.text,e=e.concat(n.getAttachmentPieces())})),e},c.prototype.getAttachments=function(){var e,t,n,i,r;for(r=[],e=0,t=(i=this.getAttachmentPieces()).length;t>e;e++)n=i[e],r.push(n.attachment);return r},c.prototype.getRangeOfAttachment=function(e){var t,i,r,o,s,a,l;for(o=0,i=t=0,r=(s=this.blockList.toArray()).length;r>t;i=++t){if(l=(a=s[i].text).getRangeOfAttachment(e))return n([o+l[0],o+l[1]]);o+=a.getLength()}},c.prototype.getLocationRangeOfAttachment=function(e){var t;return t=this.getRangeOfAttachment(e),this.locationRangeFromRange(t)},c.prototype.getAttachmentPieceForAttachment=function(e){var t,n,i,r;for(t=0,n=(r=this.getAttachmentPieces()).length;n>t;t++)if((i=r[t]).attachment===e)return i},c.prototype.findRangesForBlockAttribute=function(e){var t,n,i,r,o,s,a;for(o=0,s=[],n=0,i=(a=this.getBlocks()).length;i>n;n++)r=(t=a[n]).getLength(),t.hasAttribute(e)&&s.push([o,o+r]),o+=r;return s},c.prototype.findRangesForTextAttribute=function(e,t){var n,i,r,o,s,a,l,c,u,h;for(h=(null!=t?t:{}).withValue,a=0,l=[],c=[],o=function(t){return null!=h?t.getAttribute(e)===h:t.hasAttribute(e)},n=0,i=(u=this.getPieces()).length;i>n;n++)r=(s=u[n]).getLength(),o(s)&&(l[1]===a?l[1]=a+r:c.push(l=[a,a+r])),a+=r;return c},c.prototype.locationFromPosition=function(e){var t,n;return null!=(n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,e))).index?n:{index:(t=this.getBlocks()).length-1,offset:t[t.length-1].getLength()}},c.prototype.positionFromLocation=function(e){return this.blockList.findPositionAtIndexAndOffset(e.index,e.offset)},c.prototype.locationRangeFromPosition=function(e){return n(this.locationFromPosition(e))},c.prototype.locationRangeFromRange=function(e){var t,i,r,o;if(e=n(e))return o=e[0],i=e[1],r=this.locationFromPosition(o),t=this.locationFromPosition(i),n([r,t])},c.prototype.rangeFromLocationRange=function(e){var t,r;return e=n(e),t=this.positionFromLocation(e[0]),i(e)||(r=this.positionFromLocation(e[1])),n([t,r])},c.prototype.isEqualTo=function(e){return this.blockList.isEqualTo(null!=e?e.blockList:void 0)},c.prototype.getTexts=function(){var e,t,n,i,r;for(r=[],t=0,n=(i=this.getBlocks()).length;n>t;t++)e=i[t],r.push(e.text);return r},c.prototype.getPieces=function(){var e,t,n,i,r;for(n=[],e=0,t=(i=this.getTexts()).length;t>e;e++)r=i[e],n.push.apply(n,r.getPieces());return n},c.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},c.prototype.toSerializableDocument=function(){var e;return e=[],this.blockList.eachObject((function(t){return e.push(t.copyWithText(t.text.toSerializableText()))})),new this.constructor(e)},c.prototype.toString=function(){return this.blockList.toString()},c.prototype.toJSON=function(){return this.blockList.toJSON()},c.prototype.toConsole=function(){var e;return JSON.stringify(function(){var t,n,i,r;for(r=[],t=0,n=(i=this.blockList.toArray()).length;n>t;t++)e=i[t],r.push(JSON.parse(e.text.toConsole()));return r}.call(this))},c}(o.Object)}.call(this),function(){o.LineBreakInsertion=function(){function e(e){var t;this.composition=e,this.document=this.composition.document,t=this.composition.getSelectedRange(),this.startPosition=t[0],this.endPosition=t[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return e.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&"\n"!==this.nextCharacter},e.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&"\n"===this.nextCharacter||"\n"===this.previousCharacter)},e.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},e.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()},e.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},e}()}.call(this),function(){var e,t,n,i,r,s,a,l,c,u,h=function(e,t){function n(){this.constructor=e}for(var i in t)d.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},d={}.hasOwnProperty;s=o.normalizeRange,c=o.rangesAreEqual,l=o.rangeIsCollapsed,a=o.objectsAreEqual,e=o.arrayStartsWith,u=o.summarizeArrayChange,n=o.getAllAttributeNames,i=o.getBlockConfig,r=o.getTextConfig,t=o.extend,o.Composition=function(d){function p(){this.document=new o.Document,this.attachments=[],this.currentAttributes={},this.revision=0}return h(p,d),p.prototype.setDocument=function(e){var t;return e.isEqualTo(this.document)?void 0:(this.document=e,this.refreshAttachments(),this.revision++,null!=(t=this.delegate)&&"function"==typeof t.compositionDidChangeDocument?t.compositionDidChangeDocument(e):void 0)},p.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},p.prototype.loadSnapshot=function(e){var t,n,i,r;return t=e.document,r=e.selectedRange,null!=(n=this.delegate)&&"function"==typeof n.compositionWillLoadSnapshot&&n.compositionWillLoadSnapshot(),this.setDocument(null!=t?t:new o.Document),this.setSelection(null!=r?r:[0,0]),null!=(i=this.delegate)&&"function"==typeof i.compositionDidLoadSnapshot?i.compositionDidLoadSnapshot():void 0},p.prototype.insertText=function(e,t){var n,i,r,o;return o=(null!=t?t:{updatePosition:!0}).updatePosition,i=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(e,i)),n=(r=i[0])+e.getLength(),o&&this.setSelection(n),this.notifyDelegateOfInsertionAtRange([r,n])},p.prototype.insertBlock=function(e){var t;return null==e&&(e=new o.Block),t=new o.Document([e]),this.insertDocument(t)},p.prototype.insertDocument=function(e){var t,n,i;return null==e&&(e=new o.Document),n=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(e,n)),t=(i=n[0])+e.getLength(),this.setSelection(t),this.notifyDelegateOfInsertionAtRange([i,t])},p.prototype.insertString=function(e,t){var n,i;return n=this.getCurrentTextAttributes(),i=o.Text.textForStringWithAttributes(e,n),this.insertText(i,t)},p.prototype.insertBlockBreak=function(){var e,t,n;return t=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(t)),e=(n=t[0])+1,this.setSelection(e),this.notifyDelegateOfInsertionAtRange([n,e])},p.prototype.insertLineBreak=function(){var e,t;return(t=new o.LineBreakInsertion(this)).shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(t.startPosition)):t.shouldPrependListItem()?(e=new o.Document([t.block.copyWithoutText()]),this.insertDocument(e)):t.shouldInsertBlockBreak()?this.insertBlockBreak():t.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():t.shouldBreakFormattedBlock()?this.breakFormattedBlock(t):this.insertString("\n")},p.prototype.insertHTML=function(e){var t,n,i,r;return t=o.Document.fromHTML(e),i=this.getSelectedRange(),this.setDocument(this.document.mergeDocumentAtRange(t,i)),n=(r=i[0])+t.getLength()-1,this.setSelection(n),this.notifyDelegateOfInsertionAtRange([r,n])},p.prototype.replaceHTML=function(e){var t,n,i;return t=o.Document.fromHTML(e).copyUsingObjectsFromDocument(this.document),n=this.getLocationRange({strict:!1}),i=this.document.rangeFromLocationRange(n),this.setDocument(t),this.setSelection(i)},p.prototype.insertFile=function(e){return this.insertFiles([e])},p.prototype.insertFiles=function(e){var t,n,i,r,s,a;for(n=[],r=0,s=e.length;s>r;r++)i=e[r],(null!=(a=this.delegate)?a.compositionShouldAcceptFile(i):void 0)&&(t=o.Attachment.attachmentForFile(i),n.push(t));return this.insertAttachments(n)},p.prototype.insertAttachment=function(e){return this.insertAttachments([e])},p.prototype.insertAttachments=function(e){var t,n,i,r,s,a,l,c,u;for(c=new o.Text,r=0,s=e.length;s>r;r++)u=(t=e[r]).getType(),a=null!=(l=o.config.attachments[u])?l.presentation:void 0,i=this.getCurrentTextAttributes(),a&&(i.presentation=a),n=o.Text.textForAttachmentWithAttributes(t,i),c=c.appendText(n);return this.insertText(c)},p.prototype.shouldManageDeletingInDirection=function(e){var t;if(t=this.getLocationRange(),l(t)){if("backward"===e&&0===t[0].offset)return!0;if(this.shouldManageMovingCursorInDirection(e))return!0}else if(t[0].index!==t[1].index)return!0;return!1},p.prototype.deleteInDirection=function(e,t){var n,i,r,o,s,a,c,u;return o=(null!=t?t:{}).length,s=this.getLocationRange(),a=this.getSelectedRange(),(c=l(a))?r="backward"===e&&0===s[0].offset:u=s[0].index!==s[1].index,!(r&&this.canDecreaseBlockAttributeLevel()&&(i=this.getBlock(),i.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(a[0]),i.isEmpty()))&&(c&&(a=this.getExpandedRangeInDirection(e,{length:o}),"backward"===e&&(n=this.getAttachmentAtRange(a))),n?(this.editAttachment(n),!1):(this.setDocument(this.document.removeTextAtRange(a)),this.setSelection(a[0]),!r&&!u&&void 0))},p.prototype.moveTextFromRange=function(e){var t;return t=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(e,t)),this.setSelection(t)},p.prototype.removeAttachment=function(e){var t;return(t=this.document.getRangeOfAttachment(e))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(t)),this.setSelection(t[0])):void 0},p.prototype.removeLastBlockAttribute=function(){var e,t,n,i;return i=(n=this.getSelectedRange())[0],t=n[1],e=this.document.getBlockAtPosition(t),this.removeCurrentAttribute(e.getLastAttribute()),this.setSelection(i)},p.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")},p.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+" ".length]),this.getSelectedRange()):void 0},p.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},p.prototype.hasCurrentAttribute=function(e){var t;return null!=(t=this.currentAttributes[e])&&!1!==t},p.prototype.toggleCurrentAttribute=function(e){var t;return(t=!this.currentAttributes[e])?this.setCurrentAttribute(e,t):this.removeCurrentAttribute(e)},p.prototype.canSetCurrentAttribute=function(e){return i(e)?this.canSetCurrentBlockAttribute(e):this.canSetCurrentTextAttribute(e)},p.prototype.canSetCurrentTextAttribute=function(){var e,t,n,i;if(e=this.getSelectedDocument()){for(t=0,n=(i=e.getAttachments()).length;n>t;t++)if(!i[t].hasContent())return!1;return!0}},p.prototype.canSetCurrentBlockAttribute=function(){var e;if(e=this.getBlock())return!e.isTerminalBlock()},p.prototype.setCurrentAttribute=function(e,t){return i(e)?this.setBlockAttribute(e,t):(this.setTextAttribute(e,t),this.currentAttributes[e]=t,this.notifyDelegateOfCurrentAttributesChange())},p.prototype.setTextAttribute=function(e,t){var n,i;if(n=this.getSelectedRange())return n[0]!==n[1]?this.setDocument(this.document.addAttributeAtRange(e,t,n)):"href"===e?(i=o.Text.textForStringWithAttributes(t,{href:t}),this.insertText(i)):void 0},p.prototype.setBlockAttribute=function(e,t){var n;if(n=this.getSelectedRange())return this.canSetCurrentAttribute(e)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(e,t,n)),this.setSelection(n)):void 0},p.prototype.removeCurrentAttribute=function(e){return i(e)?(this.removeBlockAttribute(e),this.updateCurrentAttributes()):(this.removeTextAttribute(e),delete this.currentAttributes[e],this.notifyDelegateOfCurrentAttributesChange())},p.prototype.removeTextAttribute=function(e){var t;if(t=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(e,t))},p.prototype.removeBlockAttribute=function(e){var t;if(t=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(e,t))},p.prototype.canDecreaseNestingLevel=function(){var e;return(null!=(e=this.getBlock())?e.getNestingLevel():void 0)>0},p.prototype.canIncreaseNestingLevel=function(){var t,n,r;if(t=this.getBlock())return null!=(r=i(t.getLastNestableAttribute()))&&r.listAttribute?(n=this.getPreviousBlock())?e(n.getListItemAttributes(),t.getListItemAttributes()):void 0:t.getNestingLevel()>0},p.prototype.decreaseNestingLevel=function(){var e;if(e=this.getBlock())return this.setDocument(this.document.replaceBlock(e,e.decreaseNestingLevel()))},p.prototype.increaseNestingLevel=function(){var e;if(e=this.getBlock())return this.setDocument(this.document.replaceBlock(e,e.increaseNestingLevel()))},p.prototype.canDecreaseBlockAttributeLevel=function(){var e;return(null!=(e=this.getBlock())?e.getAttributeLevel():void 0)>0},p.prototype.decreaseBlockAttributeLevel=function(){var e,t;return(e=null!=(t=this.getBlock())?t.getLastAttribute():void 0)?this.removeCurrentAttribute(e):void 0},p.prototype.decreaseListLevel=function(){var e,t,n,i,r,o;for(o=this.getSelectedRange()[0],n=r=this.document.locationFromPosition(o).index,e=this.getBlock().getAttributeLevel();(t=this.document.getBlockAtIndex(n+1))&&t.isListItem()&&t.getAttributeLevel()>e;)n++;return o=this.document.positionFromLocation({index:r,offset:0}),i=this.document.positionFromLocation({index:n,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([o,i]))},p.prototype.updateCurrentAttributes=function(){var e,t,i,r,o,s;if(s=this.getSelectedRange({ignoreLock:!0})){for(t=this.document.getCommonAttributesAtRange(s),i=0,r=(o=n()).length;r>i;i++)t[e=o[i]]||this.canSetCurrentAttribute(e)||(t[e]=!1);if(!a(t,this.currentAttributes))return this.currentAttributes=t,this.notifyDelegateOfCurrentAttributesChange()}},p.prototype.getCurrentAttributes=function(){return t.call({},this.currentAttributes)},p.prototype.getCurrentTextAttributes=function(){var e,t,n,i;for(t in e={},n=this.currentAttributes)!1!==(i=n[t])&&r(t)&&(e[t]=i);return e},p.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},p.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},p.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},p.proxyMethod("getSelectionManager().getPointRange"),p.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),p.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),p.proxyMethod("getSelectionManager().locationIsCursorTarget"),p.proxyMethod("getSelectionManager().selectionIsExpanded"),p.proxyMethod("delegate?.getSelectionManager"),p.prototype.setSelection=function(e){var t,n;return t=this.document.locationRangeFromRange(e),null!=(n=this.delegate)?n.compositionDidRequestChangingSelectionToLocationRange(t):void 0},p.prototype.getSelectedRange=function(){var e;return(e=this.getLocationRange())?this.document.rangeFromLocationRange(e):void 0},p.prototype.setSelectedRange=function(e){var t;return t=this.document.locationRangeFromRange(e),this.getSelectionManager().setLocationRange(t)},p.prototype.getPosition=function(){var e;return(e=this.getLocationRange())?this.document.positionFromLocation(e[0]):void 0},p.prototype.getLocationRange=function(e){var t,n;return null!=(t=null!=(n=this.targetLocationRange)?n:this.getSelectionManager().getLocationRange(e))?t:s({index:0,offset:0})},p.prototype.withTargetLocationRange=function(e,t){var n;this.targetLocationRange=e;try{n=t()}finally{this.targetLocationRange=null}return n},p.prototype.withTargetRange=function(e,t){var n;return n=this.document.locationRangeFromRange(e),this.withTargetLocationRange(n,t)},p.prototype.withTargetDOMRange=function(e,t){var n;return n=this.createLocationRangeFromDOMRange(e,{strict:!1}),this.withTargetLocationRange(n,t)},p.prototype.getExpandedRangeInDirection=function(e,t){var n,i,r,o;return i=(null!=t?t:{}).length,o=(r=this.getSelectedRange())[0],n=r[1],"backward"===e?i?o-=i:o=this.translateUTF16PositionFromOffset(o,-1):i?n+=i:n=this.translateUTF16PositionFromOffset(n,1),s([o,n])},p.prototype.shouldManageMovingCursorInDirection=function(e){var t;return!!this.editingAttachment||(t=this.getExpandedRangeInDirection(e),null!=this.getAttachmentAtRange(t))},p.prototype.moveCursorInDirection=function(e){var t,n,i,r;return this.editingAttachment?i=this.document.getRangeOfAttachment(this.editingAttachment):(r=this.getSelectedRange(),i=this.getExpandedRangeInDirection(e),n=!c(r,i)),this.setSelectedRange("backward"===e?i[0]:i[1]),n&&(t=this.getAttachmentAtRange(i))?this.editAttachment(t):void 0},p.prototype.expandSelectionInDirection=function(e,t){var n,i;return n=(null!=t?t:{}).length,i=this.getExpandedRangeInDirection(e,{length:n}),this.setSelectedRange(i)},p.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},p.prototype.expandSelectionAroundCommonAttribute=function(e){var t,n;return t=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(e,t),this.setSelectedRange(n)},p.prototype.selectionContainsAttachments=function(){var e;return(null!=(e=this.getSelectedAttachments())?e.length:void 0)>0},p.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},p.prototype.positionIsCursorTarget=function(e){var t;return(t=this.document.locationFromPosition(e))?this.locationIsCursorTarget(t):void 0},p.prototype.positionIsBlockBreak=function(e){var t;return null!=(t=this.document.getPieceAtPosition(e))?t.isBlockBreak():void 0},p.prototype.getSelectedDocument=function(){var e;return(e=this.getSelectedRange())?this.document.getDocumentAtRange(e):void 0},p.prototype.getSelectedAttachments=function(){var e;return null!=(e=this.getSelectedDocument())?e.getAttachments():void 0},p.prototype.getAttachments=function(){return this.attachments.slice(0)},p.prototype.refreshAttachments=function(){var e,t,n,i,r,o,s,a,l,c,h,d;for(n=this.document.getAttachments(),e=(a=u(this.attachments,n)).added,h=a.removed,this.attachments=n,i=0,o=h.length;o>i;i++)(t=h[i]).delegate=null,null!=(l=this.delegate)&&"function"==typeof l.compositionDidRemoveAttachment&&l.compositionDidRemoveAttachment(t);for(d=[],r=0,s=e.length;s>r;r++)(t=e[r]).delegate=this,d.push(null!=(c=this.delegate)&&"function"==typeof c.compositionDidAddAttachment?c.compositionDidAddAttachment(t):void 0);return d},p.prototype.attachmentDidChangeAttributes=function(e){var t;return this.revision++,null!=(t=this.delegate)&&"function"==typeof t.compositionDidEditAttachment?t.compositionDidEditAttachment(e):void 0},p.prototype.attachmentDidChangePreviewURL=function(e){var t;return this.revision++,null!=(t=this.delegate)&&"function"==typeof t.compositionDidChangeAttachmentPreviewURL?t.compositionDidChangeAttachmentPreviewURL(e):void 0},p.prototype.editAttachment=function(e,t){var n;if(e!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=e,null!=(n=this.delegate)&&"function"==typeof n.compositionDidStartEditingAttachment?n.compositionDidStartEditingAttachment(this.editingAttachment,t):void 0},p.prototype.stopEditingAttachment=function(){var e;if(this.editingAttachment)return null!=(e=this.delegate)&&"function"==typeof e.compositionDidStopEditingAttachment&&e.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},p.prototype.updateAttributesForAttachment=function(e,t){return this.setDocument(this.document.updateAttributesForAttachment(e,t))},p.prototype.removeAttributeForAttachment=function(e,t){return this.setDocument(this.document.removeAttributeForAttachment(e,t))},p.prototype.breakFormattedBlock=function(e){var t,n,i,r,s;return n=e.document,t=e.block,s=[(r=e.startPosition)-1,r],t.getBlockBreakPosition()===e.startLocation.offset?(t.breaksOnReturn()&&"\n"===e.nextCharacter?r+=1:n=n.removeTextAtRange(s),s=[r,r]):"\n"===e.nextCharacter?"\n"===e.previousCharacter?s=[r-1,r+1]:(s=[r,r+1],r+=1):e.startLocation.offset-1!=0&&(r+=1),i=new o.Document([t.removeLastAttribute().copyWithoutText()]),this.setDocument(n.insertDocumentAtRange(i,s)),this.setSelection(r)},p.prototype.getPreviousBlock=function(){var e,t;return(t=this.getLocationRange())&&(e=t[0].index)>0?this.document.getBlockAtIndex(e-1):void 0},p.prototype.getBlock=function(){var e;return(e=this.getLocationRange())?this.document.getBlockAtIndex(e[0].index):void 0},p.prototype.getAttachmentAtRange=function(e){var t;return(t=this.document.getDocumentAtRange(e)).toString()===o.OBJECT_REPLACEMENT_CHARACTER+"\n"?t.getAttachments()[0]:void 0},p.prototype.notifyDelegateOfCurrentAttributesChange=function(){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeCurrentAttributes?e.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},p.prototype.notifyDelegateOfInsertionAtRange=function(e){var t;return null!=(t=this.delegate)&&"function"==typeof t.compositionDidPerformInsertionAtRange?t.compositionDidPerformInsertionAtRange(e):void 0},p.prototype.translateUTF16PositionFromOffset=function(e,t){var n,i;return n=(i=this.document.toUTF16String()).offsetFromUCS2Offset(e),i.offsetToUCS2Offset(n+t)},p}(o.BasicObject)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.UndoManager=function(t){function n(e){this.composition=e,this.undoEntries=[],this.redoEntries=[]}var i;return e(n,t),n.prototype.recordUndoEntry=function(e,t){var n,r,o,s,a;return r=(s=null!=t?t:{}).context,n=s.consolidatable,o=this.undoEntries.slice(-1)[0],n&&i(o,e,r)?void 0:(a=this.createEntry({description:e,context:r}),this.undoEntries.push(a),this.redoEntries=[])},n.prototype.undo=function(){var e,t;return(t=this.undoEntries.pop())?(e=this.createEntry(t),this.redoEntries.push(e),this.composition.loadSnapshot(t.snapshot)):void 0},n.prototype.redo=function(){var e,t;return(e=this.redoEntries.pop())?(t=this.createEntry(e),this.undoEntries.push(t),this.composition.loadSnapshot(e.snapshot)):void 0},n.prototype.canUndo=function(){return this.undoEntries.length>0},n.prototype.canRedo=function(){return this.redoEntries.length>0},n.prototype.createEntry=function(e){var t,n,i;return n=(i=null!=e?e:{}).description,t=i.context,{description:null!=n?n.toString():void 0,context:JSON.stringify(t),snapshot:this.composition.getSnapshot()}},i=function(e,t,n){return(null!=e?e.description:void 0)===(null!=t?t.toString():void 0)&&(null!=e?e.context:void 0)===JSON.stringify(n)},n}(o.BasicObject)}.call(this),function(){var e;o.attachmentGalleryFilter=function(t){var n;return(n=new e(t)).perform(),n.getSnapshot()},e=function(){function e(e){this.document=e.document,this.selectedRange=e.selectedRange}var t;return t="attachmentGallery",e.prototype.perform=function(){return this.removeBlockAttribute(),this.applyBlockAttribute()},e.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.selectedRange}},e.prototype.removeBlockAttribute=function(){var e,n,i,r,o;for(o=[],e=0,n=(r=this.findRangesOfBlocks()).length;n>e;e++)i=r[e],o.push(this.document=this.document.removeAttributeAtRange(t,i));return o},e.prototype.applyBlockAttribute=function(){var e,n,i,r,o,s;for(i=0,s=[],e=0,n=(o=this.findRangesOfPieces()).length;n>e;e++)(r=o[e])[1]-r[0]>1&&(r[0]+=i,r[1]+=i,"\n"!==this.document.getCharacterAtPosition(r[1])&&(this.document=this.document.insertBlockBreakAtRange(r[1]),r[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),r[1]++,i++),0!==r[0]&&"\n"!==this.document.getCharacterAtPosition(r[0]-1)&&(this.document=this.document.insertBlockBreakAtRange(r[0]),r[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),r[0]++,i++),s.push(this.document=this.document.applyBlockAttributeAtRange(t,!0,r)));return s},e.prototype.findRangesOfBlocks=function(){return this.document.findRangesForBlockAttribute(t)},e.prototype.findRangesOfPieces=function(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})},e.prototype.moveSelectedRangeForward=function(){return this.selectedRange[0]+=1,this.selectedRange[1]+=1},e}()}.call(this),function(){o.Editor=function(){function e(e,n,i){this.composition=e,this.selectionManager=n,this.element=i,this.insertFiles=function(e,t){return function(){return e.apply(t,arguments)}}(this.insertFiles,this),this.undoManager=new o.UndoManager(this.composition),this.filters=t.slice(0)}var t;return t=[o.attachmentGalleryFilter],e.prototype.loadDocument=function(e){return this.loadSnapshot({document:e,selectedRange:[0,0]})},e.prototype.loadHTML=function(e){return null==e&&(e=""),this.loadDocument(o.Document.fromHTML(e,{referenceElement:this.element}))},e.prototype.loadJSON=function(e){var t,n;return t=e.document,n=e.selectedRange,t=o.Document.fromJSON(t),this.loadSnapshot({document:t,selectedRange:n})},e.prototype.loadSnapshot=function(e){return this.undoManager=new o.UndoManager(this.composition),this.composition.loadSnapshot(e)},e.prototype.getDocument=function(){return this.composition.document},e.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},e.prototype.getSnapshot=function(){return this.composition.getSnapshot()},e.prototype.toJSON=function(){return this.getSnapshot()},e.prototype.deleteInDirection=function(e){return this.composition.deleteInDirection(e)},e.prototype.insertAttachment=function(e){return this.composition.insertAttachment(e)},e.prototype.insertAttachments=function(e){return this.composition.insertAttachments(e)},e.prototype.insertDocument=function(e){return this.composition.insertDocument(e)},e.prototype.insertFile=function(e){return this.composition.insertFile(e)},e.prototype.insertFiles=function(e){return this.composition.insertFiles(e)},e.prototype.insertHTML=function(e){return this.composition.insertHTML(e)},e.prototype.insertString=function(e){return this.composition.insertString(e)},e.prototype.insertText=function(e){return this.composition.insertText(e)},e.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},e.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},e.prototype.getPosition=function(){return this.composition.getPosition()},e.prototype.getClientRectAtPosition=function(e){var t;return t=this.getDocument().locationRangeFromRange([e,e+1]),this.selectionManager.getClientRectAtLocationRange(t)},e.prototype.expandSelectionInDirection=function(e){return this.composition.expandSelectionInDirection(e)},e.prototype.moveCursorInDirection=function(e){return this.composition.moveCursorInDirection(e)},e.prototype.setSelectedRange=function(e){return this.composition.setSelectedRange(e)},e.prototype.activateAttribute=function(e,t){return null==t&&(t=!0),this.composition.setCurrentAttribute(e,t)},e.prototype.attributeIsActive=function(e){return this.composition.hasCurrentAttribute(e)},e.prototype.canActivateAttribute=function(e){return this.composition.canSetCurrentAttribute(e)},e.prototype.deactivateAttribute=function(e){return this.composition.removeCurrentAttribute(e)},e.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},e.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},e.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},e.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},e.prototype.canRedo=function(){return this.undoManager.canRedo()},e.prototype.canUndo=function(){return this.undoManager.canUndo()},e.prototype.recordUndoEntry=function(e,t){var n,i,r;return i=(r=null!=t?t:{}).context,n=r.consolidatable,this.undoManager.recordUndoEntry(e,{context:i,consolidatable:n})},e.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},e.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},e}()}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.ManagedAttachment=function(t){function n(e,t){var n;this.attachmentManager=e,this.attachment=t,n=this.attachment,this.id=n.id,this.file=n.file}return e(n,t),n.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},n.proxyMethod("attachment.getAttribute"),n.proxyMethod("attachment.hasAttribute"),n.proxyMethod("attachment.setAttribute"),n.proxyMethod("attachment.getAttributes"),n.proxyMethod("attachment.setAttributes"),n.proxyMethod("attachment.isPending"),n.proxyMethod("attachment.isPreviewable"),n.proxyMethod("attachment.getURL"),n.proxyMethod("attachment.getHref"),n.proxyMethod("attachment.getFilename"),n.proxyMethod("attachment.getFilesize"),n.proxyMethod("attachment.getFormattedFilesize"),n.proxyMethod("attachment.getExtension"),n.proxyMethod("attachment.getContentType"),n.proxyMethod("attachment.getFile"),n.proxyMethod("attachment.setFile"),n.proxyMethod("attachment.releaseFile"),n.proxyMethod("attachment.getUploadProgress"),n.proxyMethod("attachment.setUploadProgress"),n}(o.BasicObject)}.call(this),function(){var e=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e},t={}.hasOwnProperty;o.AttachmentManager=function(t){function n(e){var t,n,i;for(null==e&&(e=[]),this.managedAttachments={},n=0,i=e.length;i>n;n++)t=e[n],this.manageAttachment(t)}return e(n,t),n.prototype.getAttachments=function(){var e,t,n,i;for(t in i=[],n=this.managedAttachments)e=n[t],i.push(e);return i},n.prototype.manageAttachment=function(e){var t,n;return null!=(t=this.managedAttachments)[n=e.id]?t[n]:t[n]=new o.ManagedAttachment(this,e)},n.prototype.attachmentIsManaged=function(e){return e.id in this.managedAttachments},n.prototype.requestRemovalOfAttachment=function(e){var t;return this.attachmentIsManaged(e)&&null!=(t=this.delegate)&&"function"==typeof t.attachmentManagerDidRequestRemovalOfAttachment?t.attachmentManagerDidRequestRemovalOfAttachment(e):void 0},n.prototype.unmanageAttachment=function(e){var t;return t=this.managedAttachments[e.id],delete this.managedAttachments[e.id],t},n}(o.BasicObject)}.call(this),function(){var e,t,n,i,r,s,a,l,c,u,h;e=o.elementContainsNode,t=o.findChildIndexOfNode,r=o.nodeIsBlockStart,s=o.nodeIsBlockStartComment,i=o.nodeIsBlockContainer,a=o.nodeIsCursorTarget,l=o.nodeIsEmptyTextNode,c=o.nodeIsTextNode,n=o.nodeIsAttachmentElement,u=o.tagName,h=o.walkTree,o.LocationMapper=function(){function o(e){this.element=e}var d,p,f,m;return o.prototype.findLocationFromContainerAndOffset=function(n,i,o){var s,l,u,d,m,g,v;for(g=(null!=o?o:{strict:!0}).strict,l=0,u=!1,d={index:0,offset:0},(s=this.findAttachmentElementParentForNode(n))&&(n=s.parentNode,i=t(s)),v=h(this.element,{usingFilter:f});v.nextNode();){if((m=v.currentNode)===n&&c(n)){a(m)||(d.offset+=i);break}if(m.parentNode===n){if(l++===i)break}else if(!e(n,m)&&l>0)break;r(m,{strict:g})?(u&&d.index++,d.offset=0,u=!0):d.offset+=p(m)}return d},o.prototype.findContainerAndOffsetFromLocation=function(e){var n,o,s,l,u;if(0===e.index&&0===e.offset){for(n=this.element,l=0;n.firstChild;)if(n=n.firstChild,i(n)){l=1;break}return[n,l]}if(o=(u=this.findNodeAndOffsetFromLocation(e))[0],s=u[1],o){if(c(o))0===p(o)?(n=o.parentNode.parentNode,l=t(o.parentNode),a(o,{name:"right"})&&l++):(n=o,l=e.offset-s);else{if(n=o.parentNode,!r(o.previousSibling)&&!i(n))for(;o===n.lastChild&&(o=n,n=n.parentNode,!i(n)););l=t(o),0!==e.offset&&l++}return[n,l]}},o.prototype.findNodeAndOffsetFromLocation=function(e){var t,n,i,r,o,s,l,u;for(l=0,n=0,i=(u=this.getSignificantNodesForIndex(e.index)).length;i>n;n++){if(t=u[n],r=p(t),e.offset<=l+r)if(c(t)){if(o=t,s=l,e.offset===s&&a(o))break}else o||(o=t,s=l);if((l+=r)>e.offset)break}return[o,s]},o.prototype.findAttachmentElementParentForNode=function(e){for(;e&&e!==this.element;){if(n(e))return e;e=e.parentNode}},o.prototype.getSignificantNodesForIndex=function(e){var t,n,i,r,o;for(i=[],o=h(this.element,{usingFilter:d}),r=!1;o.nextNode();)if(n=o.currentNode,s(n)){if(null!=t?t++:t=0,t===e)r=!0;else if(r)break}else r&&i.push(n);return i},p=function(e){return e.nodeType===Node.TEXT_NODE?a(e)?0:e.textContent.length:"br"===u(e)||n(e)?1:0},d=function(e){return m(e)===NodeFilter.FILTER_ACCEPT?f(e):NodeFilter.FILTER_REJECT},m=function(e){return l(e)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},f=function(e){return n(e.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},o}()}.call(this),function(){var e,t,n=[].slice;e=o.getDOMRange,t=o.setDOMRange,o.PointMapper=function(){function i(){}return i.prototype.createDOMRangeFromPoint=function(n){var i,r,o,s,a,l,c,u;if(c=n.x,u=n.y,document.caretPositionFromPoint)return o=(a=document.caretPositionFromPoint(c,u)).offsetNode,r=a.offset,(i=document.createRange()).setStart(o,r),i;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(c,u);if(document.body.createTextRange){s=e();try{(l=document.body.createTextRange()).moveToPoint(c,u),l.select()}catch(e){}return i=e(),t(s),i}},i.prototype.getClientRectsForDOMRange=function(e){var t;return[(t=n.call(e.getClientRects()))[0],t[t.length-1]]},i}()}.call(this),function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty,r=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};e=o.getDOMRange,o.SelectionChangeObserver=function(i){function o(){this.run=t(this.run,this),this.update=t(this.update,this),this.selectionManagers=[]}var s;return n(o,i),o.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},o.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},o.prototype.registerSelectionManager=function(e){return r.call(this.selectionManagers,e)<0?(this.selectionManagers.push(e),this.start()):void 0},o.prototype.unregisterSelectionManager=function(e){var t;return this.selectionManagers=function(){var n,i,r,o;for(o=[],n=0,i=(r=this.selectionManagers).length;i>n;n++)(t=r[n])!==e&&o.push(t);return o}.call(this),0===this.selectionManagers.length?this.stop():void 0},o.prototype.notifySelectionManagersOfSelectionChange=function(){var e,t,n,i,r;for(i=[],e=0,t=(n=this.selectionManagers).length;t>e;e++)r=n[e],i.push(r.selectionDidChange());return i},o.prototype.update=function(){var t;return t=e(),s(t,this.domRange)?void 0:(this.domRange=t,this.notifySelectionManagersOfSelectionChange())},o.prototype.reset=function(){return this.domRange=null,this.update()},o.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},s=function(e,t){return(null!=e?e.startContainer:void 0)===(null!=t?t.startContainer:void 0)&&(null!=e?e.startOffset:void 0)===(null!=t?t.startOffset:void 0)&&(null!=e?e.endContainer:void 0)===(null!=t?t.endContainer:void 0)&&(null!=e?e.endOffset:void 0)===(null!=t?t.endOffset:void 0)},o}(o.BasicObject),null==o.selectionChangeObserver&&(o.selectionChangeObserver=new o.SelectionChangeObserver)}.call(this),function(){var e,t,n,i,r,s,a,l,c,u,h=function(e,t){return function(){return e.apply(t,arguments)}},d=function(e,t){function n(){this.constructor=e}for(var i in t)p.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},p={}.hasOwnProperty;n=o.getDOMSelection,t=o.getDOMRange,u=o.setDOMRange,e=o.elementContainsNode,s=o.nodeIsCursorTarget,r=o.innerElementIsActive,i=o.handleEvent,a=o.normalizeRange,l=o.rangeIsCollapsed,c=o.rangesAreEqual,o.SelectionManager=function(p){function f(e){this.element=e,this.selectionDidChange=h(this.selectionDidChange,this),this.didMouseDown=h(this.didMouseDown,this),this.locationMapper=new o.LocationMapper(this.element),this.pointMapper=new o.PointMapper,this.lockCount=0,i("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return d(f,p),f.prototype.getLocationRange=function(e){var n;return null==e&&(e={}),!1===e.strict?this.createLocationRangeFromDOMRange(t(),{strict:!1}):e.ignoreLock?this.currentLocationRange:null!=(n=this.lockedLocationRange)?n:this.currentLocationRange},f.prototype.setLocationRange=function(e){var t;if(!this.lockedLocationRange)return e=a(e),(t=this.createDOMRangeFromLocationRange(e))?(u(t),this.updateCurrentLocationRange(e)):void 0},f.prototype.setLocationRangeFromPointRange=function(e){var t,n;return e=a(e),n=this.getLocationAtPoint(e[0]),t=this.getLocationAtPoint(e[1]),this.setLocationRange([n,t])},f.prototype.getClientRectAtLocationRange=function(e){var t;return(t=this.createDOMRangeFromLocationRange(e))?this.getClientRectsForDOMRange(t)[1]:void 0},f.prototype.locationIsCursorTarget=function(e){var t,n;return t=(n=this.findNodeAndOffsetFromLocation(e))[0],n[1],s(t)},f.prototype.lock=function(){return 0==this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},f.prototype.unlock=function(){var e;return 0==--this.lockCount&&(e=this.lockedLocationRange,this.lockedLocationRange=null,null!=e)?this.setLocationRange(e):void 0},f.prototype.clearSelection=function(){var e;return null!=(e=n())?e.removeAllRanges():void 0},f.prototype.selectionIsCollapsed=function(){var e;return!0===(null!=(e=t())?e.collapsed:void 0)},f.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},f.prototype.createLocationRangeFromDOMRange=function(e,t){var n,i;if(null!=e&&this.domRangeWithinElement(e)&&(i=this.findLocationFromContainerAndOffset(e.startContainer,e.startOffset,t)))return e.collapsed||(n=this.findLocationFromContainerAndOffset(e.endContainer,e.endOffset,t)),a([i,n])},f.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),f.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),f.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),f.proxyMethod("pointMapper.createDOMRangeFromPoint"),f.proxyMethod("pointMapper.getClientRectsForDOMRange"),f.prototype.didMouseDown=function(){return this.pauseTemporarily()},f.prototype.pauseTemporarily=function(){var t,n,r,o;return this.paused=!0,n=function(t){return function(){var n,i;for(t.paused=!1,clearTimeout(o),n=0,i=r.length;i>n;n++)r[n].destroy();return e(document,t.element)?t.selectionDidChange():void 0}}(this),o=setTimeout(n,200),r=function(){var e,r,o,s;for(s=[],e=0,r=(o=["mousemove","keydown"]).length;r>e;e++)t=o[e],s.push(i(t,{onElement:document,withCallback:n}));return s}()},f.prototype.selectionDidChange=function(){return this.paused||r(this.element)?void 0:this.updateCurrentLocationRange()},f.prototype.updateCurrentLocationRange=function(e){var n;return(null!=e?e:e=this.createLocationRangeFromDOMRange(t()))&&!c(e,this.currentLocationRange)?(this.currentLocationRange=e,null!=(n=this.delegate)&&"function"==typeof n.locationRangeDidChange?n.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},f.prototype.createDOMRangeFromLocationRange=function(e){var t,n,i,r;return i=this.findContainerAndOffsetFromLocation(e[0]),n=l(e)?i:null!=(r=this.findContainerAndOffsetFromLocation(e[1]))?r:i,null!=i&&null!=n?((t=document.createRange()).setStart.apply(t,i),t.setEnd.apply(t,n),t):void 0},f.prototype.getLocationAtPoint=function(e){var t,n;return(t=this.createDOMRangeFromPoint(e))&&null!=(n=this.createLocationRangeFromDOMRange(t))?n[0]:void 0},f.prototype.domRangeWithinElement=function(t){return t.collapsed?e(this.element,t.startContainer):e(this.element,t.startContainer)&&e(this.element,t.endContainer)},f}(o.BasicObject)}.call(this),function(){var e,t,n,i,r=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty,a=[].slice;n=o.rangeIsCollapsed,i=o.rangesAreEqual,t=o.objectsAreEqual,e=o.getBlockConfig,o.EditorController=function(s){function l(e){var t,n;this.editorElement=e.editorElement,t=e.document,n=e.html,this.selectionManager=new o.SelectionManager(this.editorElement),this.selectionManager.delegate=this,this.composition=new o.Composition,this.composition.delegate=this,this.attachmentManager=new o.AttachmentManager(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=new(o["Level"+o.config.input.getLevel()+"InputController"])(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new o.CompositionController(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new o.ToolbarController(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new o.Editor(this.composition,this.selectionManager,this.editorElement),null!=t?this.editor.loadDocument(t):this.editor.loadHTML(n)}var c;return r(l,s),l.prototype.registerSelectionManager=function(){return o.selectionChangeObserver.registerSelectionManager(this.selectionManager)},l.prototype.unregisterSelectionManager=function(){return o.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},l.prototype.render=function(){return this.compositionController.render()},l.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},l.prototype.compositionDidChangeDocument=function(){return this.notifyEditorElement("document-change"),this.handlingInput?void 0:this.render()},l.prototype.compositionDidChangeCurrentAttributes=function(e){return this.currentAttributes=e,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})},l.prototype.compositionDidPerformInsertionAtRange=function(e){return this.pasting?this.pastedRange=e:void 0},l.prototype.compositionShouldAcceptFile=function(e){return this.notifyEditorElement("file-accept",{file:e})},l.prototype.compositionDidAddAttachment=function(e){var t;return t=this.attachmentManager.manageAttachment(e),this.notifyEditorElement("attachment-add",{attachment:t})},l.prototype.compositionDidEditAttachment=function(e){var t;return this.compositionController.rerenderViewForObject(e),t=this.attachmentManager.manageAttachment(e),this.notifyEditorElement("attachment-edit",{attachment:t}),this.notifyEditorElement("change")},l.prototype.compositionDidChangeAttachmentPreviewURL=function(e){return this.compositionController.invalidateViewForObject(e),this.notifyEditorElement("change")},l.prototype.compositionDidRemoveAttachment=function(e){var t;return t=this.attachmentManager.unmanageAttachment(e),this.notifyEditorElement("attachment-remove",{attachment:t})},l.prototype.compositionDidStartEditingAttachment=function(e,t){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(e),this.compositionController.installAttachmentEditorForAttachment(e,t),this.selectionManager.setLocationRange(this.attachmentLocationRange)},l.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},l.prototype.compositionDidRequestChangingSelectionToLocationRange=function(e){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=e,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},l.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},l.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},l.prototype.getSelectionManager=function(){return this.selectionManager},l.proxyMethod("getSelectionManager().setLocationRange"),l.proxyMethod("getSelectionManager().getLocationRange"),l.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(e){return this.removeAttachment(e)},l.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},l.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")},l.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision},l.prototype.compositionControllerDidFocus=function(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")},l.prototype.compositionControllerDidBlur=function(){return this.notifyEditorElement("blur")},l.prototype.compositionControllerDidSelectAttachment=function(e,t){return this.toolbarController.hideDialog(),this.composition.editAttachment(e,t)},l.prototype.compositionControllerDidRequestDeselectingAttachment=function(e){var t,n;return t=null!=(n=this.attachmentLocationRange)?n:this.composition.document.getLocationRangeOfAttachment(e),this.selectionManager.setLocationRange(t[1])},l.prototype.compositionControllerWillUpdateAttachment=function(e){return this.editor.recordUndoEntry("Edit Attachment",{context:e.id,consolidatable:!0})},l.prototype.compositionControllerDidRequestRemovalOfAttachment=function(e){return this.removeAttachment(e)},l.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},l.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},l.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},l.prototype.inputControllerDidAllowUnhandledInput=function(){return this.notifyEditorElement("change")},l.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},l.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},l.prototype.inputControllerWillPerformFormatting=function(e){return this.recordFormattingUndoEntry(e)},l.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},l.prototype.inputControllerWillPaste=function(e){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:e})},l.prototype.inputControllerDidPaste=function(e){return e.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:e})},l.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},l.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},l.prototype.inputControllerWillPerformUndo=function(){return this.editor.undo()},l.prototype.inputControllerWillPerformRedo=function(){return this.editor.redo()},l.prototype.inputControllerDidReceiveKeyboardCommand=function(e){return this.toolbarController.applyKeyboardCommand(e)},l.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},l.prototype.inputControllerDidReceiveDragOverPoint=function(e){return this.selectionManager.setLocationRangeFromPointRange(e)},l.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},l.prototype.locationRangeDidChange=function(e){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!i(this.attachmentLocationRange,e)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")},l.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},l.prototype.toolbarDidInvokeAction=function(e){return this.invokeAction(e)},l.prototype.toolbarDidToggleAttribute=function(e){return this.recordFormattingUndoEntry(e),this.composition.toggleCurrentAttribute(e),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},l.prototype.toolbarDidUpdateAttribute=function(e,t){return this.recordFormattingUndoEntry(e),this.composition.setCurrentAttribute(e,t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},l.prototype.toolbarDidRemoveAttribute=function(e){return this.recordFormattingUndoEntry(e),this.composition.removeCurrentAttribute(e),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},l.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},l.prototype.toolbarDidShowDialog=function(e){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:e})},l.prototype.toolbarDidHideDialog=function(e){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:e})},l.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},l.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},l.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:function(){return!0},perform:function(){return o.config.input.pickFiles(this.editor.insertFiles)}}},l.prototype.canInvokeAction=function(e){var t,n;return!!this.actionIsExternal(e)||!!(null!=(t=this.actions[e])&&null!=(n=t.test)?n.call(this):void 0)},l.prototype.invokeAction=function(e){var t,n;return this.actionIsExternal(e)?this.notifyEditorElement("action-invoke",{actionName:e}):null!=(t=this.actions[e])&&null!=(n=t.perform)?n.call(this):void 0},l.prototype.actionIsExternal=function(e){return/^x-./.test(e)},l.prototype.getCurrentActions=function(){var e,t;for(e in t={},this.actions)t[e]=this.canInvokeAction(e);return t},l.prototype.updateCurrentActions=function(){var e;return e=this.getCurrentActions(),t(e,this.currentActions)?void 0:(this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions}))},l.prototype.runEditorFilters=function(){var e,t,n,i,r,o,s,a;for(a=this.composition.getSnapshot(),n=0,i=(r=this.editor.filters).length;i>n;n++)t=r[n],e=a.document,s=a.selectedRange,null==(a=null!=(o=t.call(this.editor,a))?o:{}).document&&(a.document=e),null==a.selectedRange&&(a.selectedRange=s);return c(a,this.composition.getSnapshot())?void 0:this.composition.loadSnapshot(a)},c=function(e,t){return i(e.selectedRange,t.selectedRange)&&e.document.isEqualTo(t.document)},l.prototype.updateInputElement=function(){var e,t;return e=this.compositionController.getSerializableElement(),t=o.serializeToContentType(e,"text/html"),this.editorElement.setInputElementValue(t)},l.prototype.notifyEditorElement=function(e,t){switch(e){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(e,t)},l.prototype.removeAttachment=function(e){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(e),this.render()},l.prototype.recordFormattingUndoEntry=function(t){var i,r;return i=e(t),r=this.selectionManager.getLocationRange(),i||!n(r)?this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0}):void 0},l.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},l.prototype.getUndoContext=function(){var e;return e=1<=arguments.length?a.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(a.call(e))},l.prototype.getLocationContext=function(){var e;return e=this.selectionManager.getLocationRange(),n(e)?e[0].index:e},l.prototype.getTimeContext=function(){return o.config.undoInterval>0?Math.floor((new Date).getTime()/o.config.undoInterval):0},l.prototype.isFocused=function(){var e;return this.editorElement===(null!=(e=this.editorElement.ownerDocument)?e.activeElement:void 0)},l.prototype.isFocusedInvisibly=function(){return this.isFocused()&&!this.getLocationRange()},l}(o.Controller)}.call(this),function(){var e,t,n,i,r,s,a,l,c,u,h,d,p,f,m,g,v=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t=o.browser,s=o.makeElement,a=o.triggerEvent,i=o.handleEvent,r=o.handleEventOnce,n=o.findClosestElementFromNode,e=o.AttachmentView.attachmentSelector,o.registerElement("trix-editor",(f=0,c=function(e){return!document.querySelector(":focus")&&e.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===e?e.focus():void 0},m=function(e){return e.hasAttribute("contenteditable")?void 0:(e.setAttribute("contenteditable",""),r("focus",{onElement:e,withCallback:function(){return u(e)}}))},u=function(e){return d(e),g(e)},d=function(e){return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("enableObjectResizing"):void 0)?(document.execCommand("enableObjectResizing",!1,!1),i("mscontrolselect",{onElement:e,preventDefault:!0})):void 0},g=function(){var e;return!("function"==typeof document.queryCommandSupported?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)||"div"!==(e=o.config.blockAttributes.default.tagName)&&"p"!==e?void 0:document.execCommand("DefaultParagraphSeparator",!1,e)},l=function(e){return e.hasAttribute("role")?void 0:e.setAttribute("role","textbox")},p=function(e){var t;if(!e.hasAttribute("aria-label")&&!e.hasAttribute("aria-labelledby"))return(t=function(){var t,n,i;return i=function(){var n,i,r,o;for(o=[],n=0,i=(r=e.labels).length;i>n;n++)(t=r[n]).contains(e)||o.push(t.textContent);return o}(),(n=i.join(" "))?e.setAttribute("aria-label",n):e.removeAttribute("aria-label")})(),i("focus",{onElement:e,withCallback:t})},{defaultCSS:"%t {\n  display: block;\n}\n\n%t:empty:not(:focus)::before {\n  content: attr(placeholder);\n  color: graytext;\n  cursor: text;\n  pointer-events: none;\n}\n\n%t a[contenteditable=false] {\n  cursor: text;\n}\n\n%t img {\n  max-width: 100%;\n  height: auto;\n}\n\n%t "+e+" figcaption textarea {\n  resize: none;\n}\n\n%t "+e+" figcaption textarea.trix-autoresize-clone {\n  position: absolute;\n  left: -9999px;\n  max-height: 0px;\n}\n\n%t "+e+" figcaption[data-trix-placeholder]:empty::before {\n  content: attr(data-trix-placeholder);\n  color: graytext;\n}\n\n%t [data-trix-cursor-target] {\n  display: "+(h=t.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"}).display+" !important;\n  width: "+h.width+" !important;\n  padding: 0 !important;\n  margin: 0 !important;\n  border: none !important;\n}\n\n%t [data-trix-cursor-target=left] {\n  vertical-align: top !important;\n  margin-left: -1px !important;\n}\n\n%t [data-trix-cursor-target=right] {\n  vertical-align: bottom !important;\n  margin-right: -1px !important;\n}",trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++f),this.trixId)}},labels:{get:function(){var e,t,i;return t=[],this.id&&this.ownerDocument&&t.push.apply(t,this.ownerDocument.querySelectorAll("label[for='"+this.id+"']")),(e=n(this,{matchingSelector:"label"}))&&((i=e.control)===this||null===i)&&t.push(e),t}},toolbarElement:{get:function(){var e,t,n;return this.hasAttribute("toolbar")?null!=(t=this.ownerDocument)?t.getElementById(this.getAttribute("toolbar")):void 0:this.parentNode?(n="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",n),e=s("trix-toolbar",{id:n}),this.parentNode.insertBefore(e,this),e):void 0}},inputElement:{get:function(){var e,t,n;return this.hasAttribute("input")?null!=(n=this.ownerDocument)?n.getElementById(this.getAttribute("input")):void 0:this.parentNode?(t="trix-input-"+this.trixId,this.setAttribute("input",t),e=s("input",{type:"hidden",id:t}),this.parentNode.insertBefore(e,this.nextElementSibling),e):void 0}},editor:{get:function(){var e;return null!=(e=this.editorController)?e.editor:void 0}},name:{get:function(){var e;return null!=(e=this.inputElement)?e.name:void 0}},value:{get:function(){var e;return null!=(e=this.inputElement)?e.value:void 0},set:function(e){var t;return this.defaultValue=e,null!=(t=this.editor)?t.loadHTML(this.defaultValue):void 0}},notify:function(e,t){return this.editorController?a("trix-"+e,{onElement:this,attributes:t}):void 0},setInputElementValue:function(e){var t;return null!=(t=this.inputElement)?t.value=e:void 0},initialize:function(){return this.hasAttribute("data-trix-internal")?void 0:(m(this),l(this),p(this))},connect:function(){return this.hasAttribute("data-trix-internal")?void 0:(this.editorController||(a("trix-before-initialize",{onElement:this}),this.editorController=new o.EditorController({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(function(e){return function(){return a("trix-initialize",{onElement:e})}}(this))),this.editorController.registerSelectionManager(),this.registerResetListener(),this.registerClickListener(),c(this))},disconnect:function(){var e;return null!=(e=this.editorController)&&e.unregisterSelectionManager(),this.unregisterResetListener(),this.unregisterClickListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},registerClickListener:function(){return this.clickListener=this.clickBubbled.bind(this),window.addEventListener("click",this.clickListener,!1)},unregisterClickListener:function(){return window.removeEventListener("click",this.clickListener,!1)},resetBubbled:function(e){var t;if(!e.defaultPrevented&&e.target===(null!=(t=this.inputElement)?t.form:void 0))return this.reset()},clickBubbled:function(e){var t;if(!(e.defaultPrevented||this.contains(e.target)||!(t=n(e.target,{matchingSelector:"label"}))||v.call(this.labels,t)<0))return this.focus()},reset:function(){return this.value=this.defaultValue}}))}.call(this),function(){}.call(this)}).call(this),e.exports?e.exports=o:void 0===(r="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=r)}.call(this)},3456:(e,t,n)=>{"use strict";function i(e){return void 0===e&&(e=document.body),!0===e?document.body:e instanceof window.Node?e:document.querySelector(e)}n.d(t,{Z:()=>r});const r={mounted(e,{value:t},n){if(e.dataset&&"true"!==e.dataset.transfer)return!1;e.className=e.className?e.className+" v-transfer-dom":"v-transfer-dom";const r=e.parentNode;if(!r)return;const o=document.createComment("");let s=!1;!1!==t&&(r.replaceChild(o,e),i(t).appendChild(e),s=!0),e.__transferDomData||(e.__transferDomData={parentNode:r,home:o,target:i(t),hasMovedOut:s})},updated(e,{value:t}){if(e.dataset&&"true"!==e.dataset.transfer)return!1;const n=e.__transferDomData;if(!n)return;const r=n.parentNode,o=n.home,s=n.hasMovedOut;!s&&t?(r.replaceChild(o,e),i(t).appendChild(e),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!0,target:i(t)})):s&&!1===t?(r.replaceChild(e,o),e.__transferDomData=Object.assign({},e.__transferDomData,{hasMovedOut:!1,target:i(t)})):t&&i(t).appendChild(e)},unmounted(e){if(e.dataset&&"true"!==e.dataset.transfer)return!1;e.className=e.className.replace("v-transfer-dom",""),e.__transferDomData&&(!0===e.__transferDomData.hasMovedOut&&e.__transferDomData.parentNode&&e.__transferDomData.parentNode.appendChild(e),e.__transferDomData=null)}}},9338:(e,t,n)=>{"use strict";n.d(t,{X:()=>u});const i=Object.create(null),r=Object.create(null),o=[i,r],s=function(e,t,n){const{target:i}=n,r=function(t){const{el:r}=t;if(r!==i&&!r.contains(i)){const{binding:i}=t;i.modifiers.stop&&n.stopPropagation(),i.modifiers.prevent&&n.preventDefault(),i.value.call(e,n)}};Object.keys(t).forEach((function(e){return t[e].forEach(r)}))},a=function(e){s(this,i,e)},l=function(e){s(this,r,e)},c=function(e){return e?a:l},u=Object.defineProperties({},{$_captureInstances:{value:i},$_nonCaptureInstances:{value:r},$_onCaptureEvent:{value:a},$_onNonCaptureEvent:{value:l},mounted:{value:function(e,t){if("function"!=typeof t.value)throw new TypeError("Binding value must be a function.");let n;const o=t.modifiers;n=o.click?"click":o.mousedown?"mousedown":o.touchstart?"touchstart":"click";const s=t.arg,a={...t,modifiers:{capture:!1,prevent:!1,stop:!1,...t.modifiers}},l=s?i:r;Array.isArray(l[n])||(l[n]=[]),1===l[n].push({el:e,binding:a})&&"object"==typeof document&&document&&document.addEventListener(n,c(s),s)}},unmount:{value:function(e){const t=function(t){return t.el!==e};o.forEach((function(e){const n=Object.keys(e);if(n.length){const r=e===i,o=function(n){const i=e[n].filter(t);i.length?e[n]=i:("object"==typeof document&&document&&document.removeEventListener(n,c(r),r),delete e[n])};n.forEach(o)}}))}},version:{enumerable:!0,value:"3.7.1"}})},8504:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const i={i:{locale:"en-US",select:{placeholder:"Select",noMatch:"No matching data",loading:"Loading"},table:{noDataText:"No Data",noFilteredDataText:"No filter data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},datepicker:{selectDate:"Select date",selectTime:"Select time",startTime:"Start Time",endTime:"End Time",clear:"Clear",ok:"OK",datePanelLabel:"[mmmm] [yyyy]",month:"Month",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",year:"Year",weekStartDay:"0",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},months:{m1:"Jan",m2:"Feb",m3:"Mar",m4:"Apr",m5:"May",m6:"Jun",m7:"Jul",m8:"Aug",m9:"Sep",m10:"Oct",m11:"Nov",m12:"Dec"}},transfer:{titles:{source:"Source",target:"Target"},filterPlaceholder:"Search here",notFoundText:"Not Found"},modal:{okText:"OK",cancelText:"Cancel"},poptip:{okText:"OK",cancelText:"Cancel"},page:{prev:"Previous Page",next:"Next Page",total:"Total",item:"item",items:"items",prev5:"Previous 5 Pages",next5:"Next 5 Pages",page:"/page",goto:"Goto",p:""},rate:{star:"Star",stars:"Stars"},time:{before:" ago",after:" after",just:"just now",seconds:" seconds",minutes:" minutes",hours:" hours",days:" days"},tree:{emptyText:"No Data"}}};var r;r=i,void 0!==window.iview&&("langs"in iview||(iview.langs={}),iview.langs[r.i.locale]=r);const o=i},2662:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(9652),r=n(6378);function o(e,t,n){(0,r.Hj)(this,e).forEach((e=>e.mitt.emit.apply(e,[t].concat(n))))}const s={computed:{mitt:()=>(0,i.Z)()},methods:{dispatch(e,t,n){let i=this.$parent||this.$root,r=i.$options.name;for(;i&&(!r||r!==e);)i=i.$parent,i&&(r=i.$options.name);i&&i.mitt.emit.apply(i,[t].concat(n))},broadcast(e,t,n){o.call(this,e,t,n)}}}},8251:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={inject:{FormInstance:{default:""}},computed:{itemDisabled(){let e=this.disabled;return!e&&this.FormInstance&&(e=this.FormInstance.disabled),e}}}},9560:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(6378);const r={props:{to:{type:[Object,String]},replace:{type:Boolean,default:!1},target:{type:String,validator:e=>(0,i.kw)(e,["_blank","_self","_parent","_top"]),default:"_self"},append:{type:Boolean,required:!1,default:!1}},computed:{linkUrl(){if(this.to,"string"==typeof this.to&&this.to.includes("//"))return this.to;const e=this.$router;if(e){const t=this.$route,n=e.resolve(this.to,t,this.append);return n.name?n.href:this.to}return this.to}},methods:{handleClick(e=!1){const t=this.$router;if(e){let e=this.to;if(t){const n=this.$route,i=t.resolve(this.to,n,this.append);e=i.name?i.href:this.to}window.open(e)}else t&&("string"!=typeof this.to||t.resolve(this.to,this.$route,this.append).name)?this.replace?this.$router.replace(this.to,(()=>{})):this.$router.push(this.to,(()=>{})):window.location.href=this.to},handleCheckClick(e,t=!1){if(this.to){if("_blank"===this.target)return!1;e.preventDefault(),this.handleClick(t)}}}}},3996:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(8504);const r=/(%|)\{([0-9a-zA-Z_]+)\}/g,o=function(e,...t){return 1===t.length&&"object"==typeof t[0]&&(t=t[0]),t&&t.hasOwnProperty||(t={}),e.replace(r,((n,i,r,o)=>{let s;return"{"===e[o-1]&&"}"===e[o+n.length]?r:(a=t,l=r,s=Object.prototype.hasOwnProperty.call(a,l)?t[r]:null,null==s?"":s);var a,l}))};let s=i.Z,a=function(){const e=Object.getPrototypeOf(this||Vue).$t;if("function"==typeof e&&Vue.locale)return e.apply(this,arguments)};const l=function(e,t){let n=a.apply(this,arguments);if(null!=n)return n;const i=e.split(".");let r=s;for(let e=0,s=i.length;e<s;e++){if(n=r[i[e]],e===s-1)return o(n,t);if(!n)return"";r=n}return""},c={methods:{t(...e){return l.apply(this,e)}}}},2075:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(6378);const r={props:{lockScroll:{type:Boolean,default:!0}},methods:{checkScrollBar(){let e=window.innerWidth;if(!e){const t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.bodyIsOverflowing&&(this.scrollBarWidth=(0,i.XM)())},checkMaskInVisible(){const e=document.getElementsByClassName("ivu-modal-mask")||[];return Array.from(e).every((e=>"none"===e.style.display||e.classList.contains("fade-leave-to")))},setScrollBar(){this.bodyIsOverflowing&&void 0!==this.scrollBarWidth&&(document.body.style.paddingRight=`${this.scrollBarWidth}px`)},resetScrollBar(){document.body.style.paddingRight=""},addScrollEffect(){this.lockScroll&&(this.checkScrollBar(),this.setScrollBar(),document.body.style.overflow="hidden")},removeScrollEffect(){this.lockScroll&&this.checkMaskInVisible()&&(document.body.style.overflow="",this.resetScrollBar())}}}},9585:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(9963),r=n(6252),o=n(7074);const s=function(e,t,n,s,a){let l;const c=n.slots||{};delete n.slots;const u=(0,i.ri)({methods:{remove(){setTimeout((()=>{this.destroy()}),300)},destroy(){document.body.removeChild(this.$el),a()}},render(){return l=(0,r.h)(t,{...n,onVisibleChange:e=>{e||this.remove()}},{...c,default:()=>s(r.h)}),l}});return(0,o.Z)(u,e),{component:l.component.proxy,show(){l.component.proxy.visible=!0},remove(){l.component.proxy.visible=!1}}}},675:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(9585),r=n(6252),o=n(9963),s=n(3577);const a=["data-transfer"],l=(0,r._)("div",{class:"ivu-drawer-drag-move-trigger"},[(0,r._)("div",{class:"ivu-drawer-drag-move-trigger-point"},[(0,r._)("i"),(0,r._)("i"),(0,r._)("i"),(0,r._)("i"),(0,r._)("i")])],-1);var c=n(2143),u=n(6378),h=n(3456),d=n(2662),p=n(2075),f=n(1980);const m={name:"Drawer",components:{Icon:c.Z},directives:{TransferDom:h.Z},mixins:[d.Z,p.Z],props:{modelValue:{type:Boolean,default:!1},title:{type:String},width:{type:[Number,String],default:256},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},mask:{type:Boolean,default:!0},maskStyle:{type:Object},styles:{type:Object},scrollable:{type:Boolean,default:!1},handleClickOutside:{type:Function,default(){this.close()}},placement:{validator:e=>(0,u.kw)(e,["left","right"]),default:"right"},zIndex:{type:Number,default:1e3},transfer:{type:Boolean,default:()=>!0},className:{type:String},inner:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},beforeClose:Function},emits:["visible-change","close","update:modelValue"],data(){return{prefixCls:"ivu-drawer",visible:this.modelValue,wrapShow:!1,showHead:!0,canMove:!1,dragWidth:this.width,wrapperWidth:this.width,wrapperLeft:0,minWidth:256,dataTitle:""}},computed:{wrapClasses(){return["ivu-drawer-wrap",{"ivu-drawer-hidden":!this.wrapShow,[`${this.className}`]:!!this.className,"ivu-drawer-no-mask":!this.mask,"ivu-drawer-wrap-inner":this.inner,"ivu-drawer-wrap-dragging":this.canMove}]},mainStyles(){const e={},t=parseInt(this.dragWidth),n={width:t<=100?`${t}%`:`${t}px`};return Object.assign(e,n),e},contentClasses(){return["ivu-drawer-content",{"ivu-drawer-content-no-mask":!this.mask}]},classes(){return["ivu-drawer",`ivu-drawer-${this.placement}`,{"ivu-drawer-no-header":!this.showHead,"ivu-drawer-inner":this.inner}]},maskClasses(){return["ivu-drawer-mask",{"ivu-drawer-mask-inner":this.inner}]}},watch:{modelValue(e){this.visible=e},visible(e){!1===e?this.timer=setTimeout((()=>{this.wrapShow=!1;const e=(0,u.L9)(this,"Drawer")||[],t=(0,u.VC)(this,"Drawer")||[];[].concat(e).concat(t).some((e=>e.visible&&!e.scrollable))||this.removeScrollEffect()}),300):(this.timer&&clearTimeout(this.timer),this.wrapShow=!0,this.scrollable||this.addScrollEffect()),this.broadcast("Table","on-visible-change",e),this.broadcast("Slider","on-visible-change",e),this.$emit("visible-change",e)},scrollable(e){e?this.removeScrollEffect():this.addScrollEffect()},title(e){void 0===this.$slots.header&&(this.showHead=!!e)},width(e){this.dragWidth=e}},mounted(){this.visible&&(this.wrapShow=!0);let e=!0;void 0!==this.$slots.header||this.title||(e=!1),this.showHead=e,(0,f.on)(document,"mousemove",this.handleMousemove),(0,f.on)(document,"mouseup",this.handleMouseup),this.handleSetWrapperWidth(),document.addEventListener("keydown",this.EscClose)},beforeUnmount(){(0,f.S)(document,"mousemove",this.handleMousemove),(0,f.S)(document,"mouseup",this.handleMouseup),document.removeEventListener("keydown",this.EscClose),this.removeScrollEffect()},methods:{setTitle(e){this.dataTitle=e,this.showHead=!!e},EscClose(e){this.visible&&27===e.keyCode&&this.handleClickOutside()},close(){if(!this.beforeClose)return this.handleClose();const e=this.beforeClose();e&&e.then?e.then((()=>{this.handleClose()})):this.handleClose()},handleClose(){this.visible=!1,this.$emit("update:modelValue",!1),this.$emit("close")},handleMask(){this.maskClosable&&this.mask&&!window.getSelection().toString()&&this.handleClickOutside()},handleWrapClick(e){const t=e.target.getAttribute("class");t&&t.indexOf("ivu-drawer-wrap")>-1&&this.handleMask()},handleMousemove(e){if(!this.canMove||!this.draggable)return;this.handleSetWrapperWidth();const t=e.pageX-this.wrapperLeft;let n="right"===this.placement?this.wrapperWidth-t:t;n=Math.max(n,parseFloat(this.minWidth)),e.atMin=n===parseFloat(this.minWidth),n<=100&&(n=n/this.wrapperWidth*100),this.dragWidth=n,this.$emit("on-resize-width",parseInt(this.dragWidth))},handleSetWrapperWidth(){const{width:e,left:t}=this.$el.getBoundingClientRect();this.wrapperWidth=e,this.wrapperLeft=t},handleMouseup(){this.draggable&&(this.canMove=!1)},handleTriggerMousedown(){this.canMove=!0,window.getSelection().removeAllRanges()}}},g=(0,n(3744).Z)(m,[["render",function(e,t,n,i,c,u){const h=(0,r.up)("Icon"),d=(0,r.Q2)("transfer-dom");return(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",{"data-transfer":n.transfer},[(0,r.Wm)(o.uT,{name:"fade"},{default:(0,r.w5)((()=>[n.mask?(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,s.C_)(u.maskClasses),style:(0,s.j5)(n.maskStyle),onClick:t[0]||(t[0]=(...e)=>u.handleMask&&u.handleMask(...e))},null,6)),[[o.F8,c.visible]]):(0,r.kq)("",!0)])),_:1}),(0,r._)("div",{class:(0,s.C_)(u.wrapClasses),onClick:t[3]||(t[3]=(...e)=>u.handleWrapClick&&u.handleWrapClick(...e))},[(0,r.Wm)(o.uT,{name:"move-"+n.placement},{default:(0,r.w5)((()=>[(0,r.wy)((0,r._)("div",{class:(0,s.C_)(u.classes),style:(0,s.j5)(u.mainStyles)},[(0,r._)("div",{ref:"content",class:(0,s.C_)(u.contentClasses)},[n.closable?((0,r.wg)(),(0,r.iD)("a",{key:0,class:"ivu-drawer-close",onClick:t[1]||(t[1]=(...e)=>u.close&&u.close(...e))},[(0,r.WI)(e.$slots,"close",{},(()=>[(0,r.Wm)(h,{type:"ios-close"})]))])):(0,r.kq)("",!0),c.showHead?((0,r.wg)(),(0,r.iD)("div",{key:1,class:(0,s.C_)([c.prefixCls+"-header"])},[(0,r.WI)(e.$slots,"header",{},(()=>[(0,r._)("div",{class:(0,s.C_)([c.prefixCls+"-header-inner"])},(0,s.zw)(c.dataTitle||n.title),3)]))],2)):(0,r.kq)("",!0),(0,r._)("div",{class:(0,s.C_)([c.prefixCls+"-body"]),style:(0,s.j5)(n.styles)},[(0,r.WI)(e.$slots,"default")],6)],2),n.draggable?((0,r.wg)(),(0,r.iD)("div",{key:0,class:(0,s.C_)(["ivu-drawer-drag",{"ivu-drawer-drag-left":"left"===n.placement}]),onMousedown:t[2]||(t[2]=(...e)=>u.handleTriggerMousedown&&u.handleTriggerMousedown(...e))},[(0,r.WI)(e.$slots,"trigger",{},(()=>[l]))],34)):(0,r.kq)("",!0)],6),[[o.F8,c.visible]])])),_:3},8,["name"])],2)],8,a)),[[d]])}]]),v={width:720,closable:!1},y={open(e,t,n){const i={...v,...n};this.getDrawerInstance(e,t,i).show(i)},get component(){return this.drawerInstance&&this.drawerInstance.component},remove(){this.drawerInstance&&(this.getDrawerInstance().remove(),this.drawerInstance=null)},getDrawerInstance(e,t,n){return this.drawerInstance=this.drawerInstance||(0,i.Z)(this.app,g,n,(n=>n(e,{...t})),(()=>{n.onClose&&n.onClose(),this.drawerInstance=null})),this.drawerInstance},install(e,t){this.app=e,e.config.globalProperties.$Drawer=this,e.config.globalProperties.$router&&e.config.globalProperties.$router.afterEach((()=>{this.remove()}))}}},6378:(e,t,n)=>{"use strict";function i(e,t){for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}let r;function o(e){if(e||void 0===r){const e=document.createElement("div");e.style.width="100%",e.style.height="200px";const t=document.createElement("div"),n=t.style;n.position="absolute",n.top=0,n.left=0,n.pointerEvents="none",n.visibility="hidden",n.width="200px",n.height="150px",n.overflow="hidden",t.appendChild(e),document.body.appendChild(t);const i=e.offsetWidth;t.style.overflow="scroll";let o=e.offsetWidth;i===o&&(o=t.clientWidth),document.body.removeChild(t),r=i-o}return r}n.d(t,{Ae:()=>w,C2:()=>l,Hj:()=>p,IV:()=>y,L9:()=>m,RI:()=>c,SM:()=>h,VC:()=>f,XM:()=>o,ah:()=>d,cn:()=>v,kw:()=>i,p$:()=>u,pp:()=>b}),window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;const s=/([:_-]+(.))/g,a=/^moz([A-Z])/;function l(e,t){if(!e||!t)return null;"float"===(t=t.replace(s,(function(e,t,n,i){return i?n.toUpperCase():n})).replace(a,"Moz$1"))&&(t="cssFloat");try{const n=document.defaultView.getComputedStyle(e,"");return e.style[t]||n?n[t]:null}catch(n){return e.style[t]}}function c(e){return e.toString()[0].toUpperCase()+e.toString().slice(1)}function u(e){const t=(n=e,{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[Object.prototype.toString.call(n)]);var n;let i;if("array"===t)i=[];else{if("object"!==t)return e;i={}}if("array"===t)for(let t=0;t<e.length;t++)i.push(u(e[t]));else if("object"===t)for(const t in e)i[t]=u(e[t]);return i}function h(e,t=0,n,i=500,r){window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)});const o=Math.abs(t-n);!function t(n,i,o){if(n===i)return void(r&&r());let s=n+o>i?i:n+o;n>i&&(s=n-o<i?i:n-o),e===window?window.scrollTo(s,s):e.scrollTop=s,window.requestAnimationFrame((()=>t(s,i,o)))}(t,n,Math.ceil(o/i*50))}function d(e,t,n){n="string"==typeof t?[t]:t;let i=e.$parent,r=i.$options.name;for(;i&&(!r||n.indexOf(r)<0);)i=i.$parent,i&&(r=i.$options.name);return i}function p(e,t){const n=e.$.subTree.children;if(Array.isArray(n))return n.reduce(((e,n)=>{const i=n.component&&n.component.proxy;return i?i.$options.name===t?e.concat(i):e.concat(p(i,t)):e.concat(p({$:{subTree:n}},t))}),[]);if(n&&"object"==typeof n){const n=e.$.subTree.component;return n&&n.proxy&&n.proxy.$options.name===t?p({$:{subTree:{children:[e.$.subTree]}}},t):n?p({$:n},t):[]}return[]}function f(e,t){const n=[],i=e.$parent;return i?(i.$options.name===t&&n.push(i),n.concat(f(i,t))):[]}function m(e,t,n=!0){const i=e.$parent.$.subTree.children;if(!i||!Array.isArray(i))return[];const r=e.$parent.$.subTree.children.filter((e=>{const n=e.component&&e.component.proxy;if(n)return n.$options.name===t}));if(n){const t=r.findIndex((t=>t._uid===e._uid));r.splice(t,1)}return[]}function g(e,t){if(!e||!t)return!1;if(-1!==t.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}function v(e,t){if(!e)return;let n=e.className;const i=(t||"").split(" ");for(let t=0,r=i.length;t<r;t++){const r=i[t];r&&(e.classList?e.classList.add(r):g(e,r)||(n+=" "+r))}e.classList||(e.className=n)}function y(e,t){if(!e||!t)return;const n=t.split(" ");let i=" "+e.className+" ";for(let t=0,r=n.length;t<r;t++){const r=n[t];r&&(e.classList?e.classList.remove(r):g(e,r)&&(i=i.replace(" "+r+" "," ")))}e.classList||(e.className=(i||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,""))}const b={xs:"480px",sm:"576px",md:"768px",lg:"992px",xl:"1200px",xxl:"1600px"};function w(){if("undefined"!=typeof window){const e=e=>({media:e,matches:!1,on(){},off(){}});window.matchMedia=window.matchMedia||e}}},1980:(e,t,n)=>{"use strict";n.d(t,{S:()=>r,on:()=>i});const i=document.addEventListener?function(e,t,n,i=!1){e&&t&&n&&e.addEventListener(t,n,i)}:function(e,t,n){e&&t&&n&&e.attachEvent("on"+t,n)},r=document.removeEventListener?function(e,t,n,i=!1){e&&t&&e.removeEventListener(t,n,i)}:function(e,t,n){e&&t&&e.detachEvent("on"+t,n)}},7074:(e,t,n)=>{"use strict";function i(e,t){e._context.components=t._context.components,e._context.directives=t._context.directives,e._context.provides=t._context.provides,e._context.config=t._context.config,e._context.mixins=t._context.mixins;const n=document.createElement("div"),i=e.mount(n).$el;return document.body.appendChild(i),i}n.d(t,{Z:()=>i})},7209:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e,t){let n,i,r,o,s=0;return function(){n=this,i=arguments;const e=new Date-s;return o||(e>=t?a():o=setTimeout(a,t-e)),r};function a(){o=0,s=+new Date,r=e.apply(n,i),n=null,i=null}}},3760:(e,t,n)=>{"use strict";n.d(t,{Iy:()=>i,Yg:()=>r,kC:()=>o,qZ:()=>s});let i=0,r=0;function o(){i++}function s(){r++}},3744:(e,t)=>{"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[e,i]of t)n[e]=i;return n}},9712:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(6252),r=n(3577);const o=(0,i.Uk)(" "+(0,r.zw)(" ")+" "),s={key:2,ref:"slot"};var a=n(2143),l=n(6378),c=n(9560),u=n(8251);const h={name:"VButton",components:{Icon:a.Z},mixins:[c.Z,u.Z],props:{type:{validator:e=>(0,l.kw)(e,["default","primary","dashed","text","info","success","warning","error"]),default:"default"},shape:{validator:e=>(0,l.kw)(e,["circle","circle-outline"]),required:!1,default:null},size:{validator:e=>(0,l.kw)(e,["small","large","default"]),required:!1,default:()=>"default"},loading:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},htmlType:{default:"button",validator:e=>(0,l.kw)(e,["button","submit","reset"])},icon:{type:String,default:""},customIcon:{type:String,default:""},long:{type:Boolean,default:!1},ghost:{type:Boolean,default:!1}},emits:["click"],emits:["click"],computed:{showSlot(){return!!this.$slots.default},classes(){return["ivu-btn",`ivu-btn-${this.type}`,{"ivu-btn-long":this.long,[`ivu-btn-${this.shape}`]:!!this.shape,[`ivu-btn-${this.size}`]:"default"!==this.size,"ivu-btn-loading":null!=this.loading&&this.loading,"ivu-btn-icon-only":!this.showSlot&&(!!this.icon||!!this.customIcon||this.loading),"ivu-btn-ghost":this.ghost}]},isHrefPattern(){return!!this.to},tagName(){const{isHrefPattern:e}=this;return e?"a":"button"},tagProps(){const{isHrefPattern:e}=this;let t={};if(e){const{linkUrl:e,target:n}=this;t={href:e,target:n}}else{const{htmlType:e}=this;t={type:e}}return this.itemDisabled&&(t.disabled=!0),t}},methods:{handleClickLink(e){this.$emit("click",e);const t=e.ctrlKey||e.metaKey;this.handleCheckClick(e,t)}}},d=(0,n(3744).Z)(h,[["render",function(e,t,n,r,a,l){const c=(0,i.up)("Icon");return(0,i.wg)(),(0,i.j4)((0,i.LL)(l.tagName),(0,i.dG)({class:l.classes},l.tagProps,{onClick:l.handleClickLink}),{default:(0,i.w5)((()=>[n.loading?((0,i.wg)(),(0,i.j4)(c,{key:0,class:"ivu-load-loop",type:"ios-loading"})):(0,i.kq)("",!0),!n.icon&&!n.customIcon||n.loading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:1,type:n.icon,custom:n.customIcon},null,8,["type","custom"])),o,l.showSlot?((0,i.wg)(),(0,i.iD)("span",s,[(0,i.WI)(e.$slots,"default")],512)):(0,i.kq)("",!0)])),_:3},16,["class","onClick"])}]])},2143:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(6252),r=n(3577);const o={name:"Icon",props:{type:{type:String,default:""},size:{type:[Number,String],required:!1,default:""},color:{type:String,default:""},custom:{type:String,default:""}},computed:{classes(){return["ion",{[`ion-${this.type}`]:""!==this.type,[`${this.custom}`]:""!==this.custom}]},styles(){const e={};return this.size&&(e["font-size"]=`${this.size}px`),this.color&&(e.color=this.color),e}}},s=(0,n(3744).Z)(o,[["render",function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("i",{class:(0,r.C_)(a.classes),style:(0,r.j5)(a.styles)},null,6)}]])},2983:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var i=n(6252),r=n(3577),o=n(9963);const s={key:4,class:"ivu-input-suffix"},a={key:5,class:"ivu-input-word-count"},l={key:0,class:"ion ion-ios-eye-off-outline"},c={key:1,class:"ion ion-ios-eye-outline"},u=["id","autocomplete","spellcheck","type","placeholder","disabled","maxlength","readonly","name","value","number","autofocus"],h={key:0,class:"ion ion-ios-search"},d={key:10,class:"ivu-input-prefix"},p=["id","wrap","autocomplete","spellcheck","placeholder","disabled","rows","maxlength","readonly","name","value","autofocus"],f={key:0,class:"ivu-input-word-count"};var m=n(6378);const g=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],v={};let y;var b=n(2662),w=n(8251);const _={name:"Input",mixins:[b.Z,w.Z],props:{type:{validator:e=>(0,m.kw)(e,["text","textarea","password","url","email","date","number","tel"]),default:"text"},modelValue:{type:[String,Number],default:""},size:{validator:e=>(0,m.kw)(e,["small","large","default"]),default:()=>"default"},placeholder:{type:String,default:""},maxlength:{type:[String,Number]},disabled:{type:Boolean,default:!1},icon:String,autosize:{type:[Boolean,Object],default:!1},rows:{type:Number,default:2},readonly:{type:Boolean,default:!1},name:{type:String},number:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},spellcheck:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},clearable:{type:Boolean,default:!1},elementId:{type:String},wrap:{validator:e=>(0,m.kw)(e,["hard","soft"]),default:"soft"},prefix:{type:String,default:""},suffix:{type:String,default:""},search:{type:Boolean,default:!1},enterButton:{type:[Boolean,String],default:!1},showWordLimit:{type:Boolean,default:!1},password:{type:Boolean,default:!1},border:{type:Boolean,default:!0}},emits:["update:modelValue","on-input-change","on-change","on-keydown","on-enter","on-search","on-keypress","on-keyup","on-click","on-focus","on-blur"],data(){return{currentValue:this.modelValue,prefixCls:"ivu-input",slotReady:!1,textareaStyles:{},isOnComposition:!1,showPassword:!1}},computed:{currentType(){let e=this.type;return"password"===e&&this.password&&this.showPassword&&(e="text"),e},prepend(){let e=!1;return"textarea"!==this.type&&(e=void 0!==this.$slots.prepend),e},append(){let e=!1;return"textarea"!==this.type&&(e=void 0!==this.$slots.append),e},showPrefix(){let e=!1;return"textarea"!==this.type&&(e=""!==this.prefix||void 0!==this.$slots.prefix),e},showSuffix(){let e=!1;return"textarea"!==this.type&&(e=""!==this.suffix||void 0!==this.$slots.suffix),e},wrapClasses(){return["ivu-input-wrapper",{[`ivu-input-wrapper-${this.size}`]:!!this.size,[`ivu-input-type-${this.type}`]:this.type,"ivu-input-group":this.prepend||this.append||this.search&&this.enterButton,[`ivu-input-group-${this.size}`]:(this.prepend||this.append||this.search&&this.enterButton)&&!!this.size,"ivu-input-group-with-prepend":this.prepend,"ivu-input-group-with-append":this.append||this.search&&this.enterButton,"ivu-input-hide-icon":this.append,"ivu-input-with-search":this.search&&this.enterButton,"ivu-input-wrapper-disabled":this.itemDisabled}]},inputClasses(){return["ivu-input",{[`ivu-input-${this.size}`]:!!this.size,"ivu-input-disabled":this.itemDisabled,"ivu-input-no-border":!this.border,"ivu-input-with-prefix":this.showPrefix,"ivu-input-with-suffix":this.showSuffix||this.search&&!1===this.enterButton}]},textareaClasses(){return["ivu-input",{"ivu-input-no-border":!this.border,"ivu-input-disabled":this.itemDisabled}]},upperLimit(){return this.maxlength},textLength(){return"number"==typeof this.modelValue?String(this.modelValue).length:(this.modelValue||"").length}},watch:{modelValue(e){this.setCurrentValue(e)}},mounted(){this.slotReady=!0,this.$nextTick((()=>{this.resizeTextarea()}))},methods:{handleEnter(e){this.$emit("on-enter",e),this.search&&this.$emit("on-search",this.currentValue)},handleKeydown(e){this.$emit("on-keydown",e)},handleKeypress(e){this.$emit("on-keypress",e)},handleKeyup(e){this.$emit("on-keyup",e)},handleIconClick(e){this.$emit("on-click",e)},handleFocus(e){this.$emit("on-focus",e)},handleBlur(e){this.$emit("on-blur",e),(0,m.ah)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-blur",this.currentValue)},handleComposition(e){"compositionstart"===e.type&&(this.isOnComposition=!0),"compositionend"===e.type&&(this.isOnComposition=!1,this.handleInput(e))},handleInput(e){if(this.isOnComposition)return;let t=e.target.value;this.number&&""!==t&&(t=Number.isNaN(Number(t))?t:Number(t)),this.$emit("update:modelValue",t),this.setCurrentValue(t),this.$emit("on-change",e)},handleChange(e){this.$emit("on-input-change",e)},setCurrentValue(e){e!==this.currentValue&&(this.$nextTick((()=>{this.resizeTextarea()})),this.currentValue=e,(0,m.ah)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-change",e))},resizeTextarea(){const e=this.autosize;if(!e||"textarea"!==this.type)return!1;const t=e.minRows,n=e.maxRows;this.textareaStyles=function(e,t=null,n=null,i=!1){y||(y=document.createElement("textarea"),document.body.appendChild(y)),e.getAttribute("wrap")?y.setAttribute("wrap",e.getAttribute("wrap")):y.removeAttribute("wrap");const{paddingSize:r,borderSize:o,boxSizing:s,sizingStyle:a}=function(e,t=!1){const n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&v[n])return v[n];const i=window.getComputedStyle(e),r=i.getPropertyValue("box-sizing")||i.getPropertyValue("-moz-box-sizing")||i.getPropertyValue("-webkit-box-sizing"),o=parseFloat(i.getPropertyValue("padding-bottom"))+parseFloat(i.getPropertyValue("padding-top")),s=parseFloat(i.getPropertyValue("border-bottom-width"))+parseFloat(i.getPropertyValue("border-top-width")),a={sizingStyle:g.map((e=>`${e}:${i.getPropertyValue(e)}`)).join(";"),paddingSize:o,borderSize:s,boxSizing:r};return t&&n&&(v[n]=a),a}(e,i);y.setAttribute("style",`${a};\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n`),y.value=e.value||e.placeholder||"";let l,c=Number.MIN_SAFE_INTEGER,u=Number.MAX_SAFE_INTEGER,h=y.scrollHeight;if("border-box"===s?h+=o:"content-box"===s&&(h-=r),null!==t||null!==n){y.value=" ";const e=y.scrollHeight-r;null!==t&&(c=e*t,"border-box"===s&&(c=c+r+o),h=Math.max(c,h)),null!==n&&(u=e*n,"border-box"===s&&(u=u+r+o),l=h>u?"":"hidden",h=Math.min(u,h))}return n||(l="hidden"),{height:`${h}px`,minHeight:`${c}px`,maxHeight:`${u}px`,overflowY:l}}(this.$refs.textarea,t,n)},focus(){"textarea"===this.type?this.$refs.textarea.focus():this.$refs.input.focus()},blur(){"textarea"===this.type?this.$refs.textarea.blur():this.$refs.input.blur()},handleClear(){this.$emit("update:modelValue",""),this.setCurrentValue(""),this.$emit("on-change",{target:{value:""}}),this.$emit("on-clear")},handleSearch(){if(this.itemDisabled)return!1;this.$refs.input.focus(),this.$emit("on-search",this.currentValue)},handleToggleShowPassword(){if(this.itemDisabled)return!1;this.showPassword=!this.showPassword,this.focus();const e=this.currentValue.length;setTimeout((()=>{this.$refs.input.setSelectionRange(e,e)}),0)}}},x=(0,n(3744).Z)(_,[["render",function(e,t,n,m,g,v){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(v.wrapClasses)},["textarea"!==n.type?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[v.prepend?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,r.C_)([g.prefixCls+"-group-prepend"])},[(0,i.WI)(e.$slots,"prepend")],2)),[[o.F8,g.slotReady]]):(0,i.kq)("",!0),n.clearable&&g.currentValue&&!e.itemDisabled?((0,i.wg)(),(0,i.iD)("i",{key:1,class:(0,r.C_)(["ion",["ion-ios-close-circle",g.prefixCls+"-icon",g.prefixCls+"-icon-clear",g.prefixCls+"-icon-normal"]]),onClick:t[0]||(t[0]=(...e)=>v.handleClear&&v.handleClear(...e))},null,2)):n.icon?((0,i.wg)(),(0,i.iD)("i",{key:2,class:(0,r.C_)(["ion",["ion-"+n.icon,g.prefixCls+"-icon",g.prefixCls+"-icon-normal"]]),onClick:t[1]||(t[1]=(...e)=>v.handleIconClick&&v.handleIconClick(...e))},null,2)):n.search&&!1===n.enterButton?((0,i.wg)(),(0,i.iD)("i",{key:3,class:(0,r.C_)(["ion ion-ios-search",[g.prefixCls+"-icon",g.prefixCls+"-icon-normal",g.prefixCls+"-search-icon"]]),onClick:t[2]||(t[2]=(...e)=>v.handleSearch&&v.handleSearch(...e))},null,2)):v.showSuffix?((0,i.wg)(),(0,i.iD)("span",s,[(0,i.WI)(e.$slots,"suffix",{},(()=>[n.suffix?((0,i.wg)(),(0,i.iD)("i",{key:0,class:(0,r.C_)(["ion",["ion-"+n.suffix]])},null,2)):(0,i.kq)("",!0)]))])):n.showWordLimit?((0,i.wg)(),(0,i.iD)("span",a,(0,r.zw)(v.textLength)+"/"+(0,r.zw)(v.upperLimit),1)):n.password?((0,i.wg)(),(0,i.iD)("span",{key:6,class:"ivu-input-suffix",onClick:t[3]||(t[3]=(...e)=>v.handleToggleShowPassword&&v.handleToggleShowPassword(...e))},[g.showPassword?((0,i.wg)(),(0,i.iD)("i",l)):((0,i.wg)(),(0,i.iD)("i",c))])):(0,i.kq)("",!0),(0,i.kq)("",!0),(0,i._)("input",{id:n.elementId,ref:"input",autocomplete:n.autocomplete,spellcheck:n.spellcheck,type:v.currentType,class:(0,r.C_)(v.inputClasses),placeholder:n.placeholder,disabled:e.itemDisabled,maxlength:n.maxlength,readonly:n.readonly,name:n.name,value:g.currentValue,number:n.number,autofocus:n.autofocus,onKeyup:[t[4]||(t[4]=(0,o.D2)(((...e)=>v.handleEnter&&v.handleEnter(...e)),["enter"])),t[5]||(t[5]=(...e)=>v.handleKeyup&&v.handleKeyup(...e))],onKeypress:t[6]||(t[6]=(...e)=>v.handleKeypress&&v.handleKeypress(...e)),onKeydown:t[7]||(t[7]=(...e)=>v.handleKeydown&&v.handleKeydown(...e)),onFocus:t[8]||(t[8]=(...e)=>v.handleFocus&&v.handleFocus(...e)),onBlur:t[9]||(t[9]=(...e)=>v.handleBlur&&v.handleBlur(...e)),onCompositionstart:t[10]||(t[10]=(...e)=>v.handleComposition&&v.handleComposition(...e)),onCompositionupdate:t[11]||(t[11]=(...e)=>v.handleComposition&&v.handleComposition(...e)),onCompositionend:t[12]||(t[12]=(...e)=>v.handleComposition&&v.handleComposition(...e)),onInput:t[13]||(t[13]=(...e)=>v.handleInput&&v.handleInput(...e)),onChange:t[14]||(t[14]=(...e)=>v.handleChange&&v.handleChange(...e))},null,42,u),v.append?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{key:8,class:(0,r.C_)([g.prefixCls+"-group-append"])},[(0,i.WI)(e.$slots,"append")],2)),[[o.F8,g.slotReady]]):n.search&&n.enterButton?((0,i.wg)(),(0,i.iD)("div",{key:9,class:(0,r.C_)([g.prefixCls+"-group-append",g.prefixCls+"-search"]),onClick:t[15]||(t[15]=(...e)=>v.handleSearch&&v.handleSearch(...e))},[!0===n.enterButton?((0,i.wg)(),(0,i.iD)("i",h)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,r.zw)(n.enterButton),1)],64))],2)):v.showPrefix?((0,i.wg)(),(0,i.iD)("span",d,[(0,i.WI)(e.$slots,"prefix",{},(()=>[n.prefix?((0,i.wg)(),(0,i.iD)("i",{key:0,class:(0,r.C_)(["ion",["ion-"+n.prefix]])},null,2)):(0,i.kq)("",!0)]))])):(0,i.kq)("",!0)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i._)("textarea",{id:n.elementId,ref:"textarea",wrap:n.wrap,autocomplete:n.autocomplete,spellcheck:n.spellcheck,class:(0,r.C_)(v.textareaClasses),style:(0,r.j5)(g.textareaStyles),placeholder:n.placeholder,disabled:e.itemDisabled,rows:n.rows,maxlength:n.maxlength,readonly:n.readonly,name:n.name,value:g.currentValue,autofocus:n.autofocus,onKeyup:[t[16]||(t[16]=(0,o.D2)(((...e)=>v.handleEnter&&v.handleEnter(...e)),["enter"])),t[17]||(t[17]=(...e)=>v.handleKeyup&&v.handleKeyup(...e))],onKeypress:t[18]||(t[18]=(...e)=>v.handleKeypress&&v.handleKeypress(...e)),onKeydown:t[19]||(t[19]=(...e)=>v.handleKeydown&&v.handleKeydown(...e)),onFocus:t[20]||(t[20]=(...e)=>v.handleFocus&&v.handleFocus(...e)),onBlur:t[21]||(t[21]=(...e)=>v.handleBlur&&v.handleBlur(...e)),onCompositionstart:t[22]||(t[22]=(...e)=>v.handleComposition&&v.handleComposition(...e)),onCompositionupdate:t[23]||(t[23]=(...e)=>v.handleComposition&&v.handleComposition(...e)),onCompositionend:t[24]||(t[24]=(...e)=>v.handleComposition&&v.handleComposition(...e)),onInput:t[25]||(t[25]=(...e)=>v.handleInput&&v.handleInput(...e))},null,46,p),n.showWordLimit?((0,i.wg)(),(0,i.iD)("span",f,(0,r.zw)(v.textLength)+"/"+(0,r.zw)(v.upperLimit),1)):(0,i.kq)("",!0)],64))],2)}]])},526:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(6252);const r={name:"RenderCell",functional:!0,props:{render:Function},render:({$props:e})=>e.render(i.h)}},5582:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(6252),r=n(3577),o=n(6378),s=n(3760),a=n(2662);const l=n(2975),c={name:"SelectDropdown",mixins:[a.Z],props:{placement:{type:String,default:"bottom-start"},className:{type:String},transfer:{type:Boolean}},data(){return{popper:null,width:"",popperStatus:!1,tIndex:this.handleGetIndex()}},computed:{styles(){const e={};return this.width&&(e.minWidth=`${this.width}px`),this.width&&(e.maxWidth=`${this.width}px`),this.transfer&&(e["z-index"]=1060+this.tIndex),e}},created(){this.mitt.on("on-update-popper",this.update),this.mitt.on("on-destroy-popper",this.destroy)},beforeUnmount(){this.mitt.off("on-update-popper",this.update),this.mitt.off("on-destroy-popper",this.destroy),this.popper&&(this.popper.destroy(),this.popper=null)},methods:{update(){this.$nextTick((()=>{this.popper?(this.popper.update(),this.popperStatus=!0):this.popper=new l(this.$parent.$parent.$refs.reference,this.$el,{eventsEnabled:!1,placement:this.placement,modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}},onCreate:()=>{this.resetTransformOrigin(),this.$nextTick(this.popper.update())},onUpdate:()=>{this.resetTransformOrigin()}}),"VSelect"===this.$parent.$options.name?this.width=parseInt((0,o.C2)(this.$parent.$el,"width")):"VSelect"===this.$parent.$parent.$options.name&&(this.width=parseInt((0,o.C2)(this.$parent.$parent.$el,"width"))),this.tIndex=this.handleGetIndex()}))},destroy(){this.popper&&setTimeout((()=>{this.popper&&!this.popperStatus&&(this.popper.destroy(),this.popper=null),this.popperStatus=!1}),300)},resetTransformOrigin(){if(!this.popper)return;const e=this.popper.popper.getAttribute("x-placement"),t=e.split("-")[0],n=e.split("-")[1];"left"===e||"right"===e||(this.popper.popper.style.transformOrigin="bottom"===t||"top"!==t&&"start"===n?"center top":"center bottom")},handleGetIndex:()=>((0,s.kC)(),s.Iy)}},u=(0,n(3744).Z)(c,[["render",function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(["ivu-select-dropdown",n.className]),style:(0,r.j5)(a.styles)},[(0,i.WI)(e.$slots,"default")],6)}]])},9422:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>ue}),n(8309),n(9753);var i=n(6252),r=n(3577),o={key:3,class:"d-flex my-2"};n(9653),n(7327),n(1539),n(2222),n(1249),n(2772),n(561),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(4916),n(9070),n(7941),n(5003),n(9554),n(4747),n(9337),n(3321);var s=n(9963),a={key:0,style:{"margin-bottom":"6px","font-size":"12px"}},l={class:"d-flex justify-content-between"},c=n(5763),u=n(5487);n(6699);var h=n(1699);const d={name:"FieldCondition",components:{FormInput:h.Z},props:{modelValue:{type:Object,required:!1,default:function(){return{}}},fields:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{selectedFieldOption:null}},computed:{actions:function(){return[{value:"eq",label:this.i18n.is},{value:"neq",label:this.i18n.is_not},{value:"empty",label:this.i18n.empty},{value:"nempty",label:this.i18n.not_empty},{value:"contains",label:this.i18n.contains},{value:"gt",label:this.i18n.greater_than},{value:"gte",label:this.i18n.greater_or_equal},{value:"lt",label:this.i18n.less_than},{value:"lte",label:this.i18n.less_or_equal}]}}};var p=n(3744);const f=(0,p.Z)(d,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("MSelect"),l=(0,i.up)("FormInput"),c=(0,i.up)("VInput");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(a,{modelValue:n.modelValue.field,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return n.modelValue.field=e}),t[2]||(t[2]=function(e){return n.modelValue.value=""})],"selected-option":o.selectedFieldOption,"onUpdate:selected-option":t[1]||(t[1]=function(e){return o.selectedFieldOption=e}),filterable:"","data-role":"condition-field",class:"mb-2",placeholder:e.i18n.field,options:n.fields,"with-deselect":!1},null,8,["modelValue","selected-option","placeholder","options"]),(0,i.Wm)(a,{modelValue:n.modelValue.action,"onUpdate:modelValue":t[3]||(t[3]=function(e){return n.modelValue.action=e}),"data-role":"condition-action",class:"mb-2",filterable:"","with-deselect":!1,placeholder:e.i18n.condition,options:s.actions},null,8,["modelValue","placeholder","options"]),["empty","nempty"].includes(n.modelValue.action)?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[o.selectedFieldOption?((0,i.wg)(),(0,i.j4)(l,{key:0,modelValue:n.modelValue.value,"onUpdate:modelValue":t[4]||(t[4]=function(e){return n.modelValue.value=e}),class:"mb-3",column:o.selectedFieldOption.field,placeholder:e.i18n.value,"data-role":"condition-value"},null,8,["modelValue","column","placeholder"])):((0,i.wg)(),(0,i.j4)(c,{key:1,modelValue:n.modelValue.value,"onUpdate:modelValue":t[5]||(t[5]=function(e){return n.modelValue.value=e}),class:"mb-3",placeholder:e.i18n.value,"data-role":"condition-value"},null,8,["modelValue","placeholder"]))],64))])}]]),m={name:"GroupForm",components:{FieldCondition:f},props:{group:{type:Object,required:!0},okText:{type:String,required:!1,default:u.c.ok},conditionFields:{type:Array,required:!1,default:function(){return[]}},focus:{type:Boolean,required:!1,default:!1},withRemove:{type:Boolean,required:!1,default:!1}},emits:["submit","remove","cancel"],data:function(){return{dataGroup:{},isCustomName:!1}},computed:{rules:function(){return{display_name:[{required:!0,message:(0,u.w)("name")}],name:[{required:!0,message:(0,u.w)("param_name")}]}},isConditional:function(){var e;return!(null===(e=this.dataGroup.conditions)||void 0===e||!e.length)},generatedParamName:function(){return(0,c.It)(this.dataGroup.display_name)}},mounted:function(){this.focus&&this.$refs.nameInput.$el.querySelector("input").focus()},created:function(){this.dataGroup=JSON.parse(JSON.stringify(this.group)),this.dataGroup.display_name&&(this.isCustomName=this.generatedParamName!==this.dataGroup.name)},methods:{submit:function(){var e=this;this.$refs.form.validate((function(t){var n;t&&(e.isCustomName||(e.dataGroup.name=e.generatedParamName),!e.dataGroup.conditions||null!==(n=e.dataGroup.conditions[0])&&void 0!==n&&n.field||(e.dataGroup.conditions=[]),e.$emit("submit",e.dataGroup))}))},toggleConditional:function(){var e;(e=this.dataGroup).conditions||(e.conditions=[]),this.isConditional?this.dataGroup.conditions=[]:this.dataGroup.conditions=[{field:"",action:"eq",value:""}]},toggleCustomParam:function(){this.isCustomName=!0,this.dataGroup.name=this.generatedParamName}}},g=(0,p.Z)(m,[["render",function(e,t,n,o,c,u){var h=(0,i.up)("VInput"),d=(0,i.up)("FormItem"),p=(0,i.up)("Icon"),f=(0,i.up)("Checkbox"),m=(0,i.up)("FieldCondition"),g=(0,i.up)("VForm"),v=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(g,{ref:"form",rules:u.rules,"label-position":"top",model:c.dataGroup,onSubmit:(0,s.iM)(u.submit,["prevent"])},{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{label:e.i18n.name,prop:"display_name",class:(0,r.C_)(c.dataGroup.display_name&&!c.isCustomName?"mb-0":"")},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{ref:"nameInput",modelValue:c.dataGroup.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.dataGroup.display_name=e}),placeholder:e.i18n.group_name,onDrag:t[1]||(t[1]=(0,s.iM)((function(){}),["stop"]))},null,8,["modelValue","placeholder"])]})),_:1},8,["label","class"]),!c.isCustomName&&u.generatedParamName?((0,i.wg)(),(0,i.iD)("p",a,[(0,i.Uk)((0,r.zw)(e.i18n.param_name)+": ",1),(0,i._)("code",null,(0,r.zw)(u.generatedParamName),1),(0,i.Wm)(p,{type:"md-create",class:"ms-1 cursor-pointer",onClick:u.toggleCustomParam},null,8,["onClick"])])):(0,i.kq)("",!0),c.isCustomName?((0,i.wg)(),(0,i.j4)(d,{key:1,label:e.i18n.param_name,prop:"name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(h,{modelValue:c.dataGroup.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.dataGroup.name=e}),placeholder:e.i18n.request_param,onDrag:t[3]||(t[3]=(0,s.iM)((function(){}),["stop"]))},null,8,["modelValue","placeholder"])]})),_:1},8,["label"])):(0,i.kq)("",!0),(0,i.Wm)(f,{modelValue:c.dataGroup.is_array,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.dataGroup.is_array=e}),class:"d-block"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.i18n.multiple),1)]})),_:1},8,["modelValue"]),(0,i.Wm)(f,{"model-value":u.isConditional,class:"d-block mb-3","onUpdate:modelValue":u.toggleConditional},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.i18n.conditional),1)]})),_:1},8,["model-value","onUpdate:modelValue"]),u.isConditional?((0,i.wg)(),(0,i.j4)(m,{key:2,modelValue:c.dataGroup.conditions[0],"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.dataGroup.conditions[0]=e}),fields:n.conditionFields},null,8,["modelValue","fields"])):(0,i.kq)("",!0)]})),_:1},8,["rules","model","onSubmit"]),(0,i._)("div",l,[(0,i._)("div",null,[n.withRemove?((0,i.wg)(),(0,i.j4)(v,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[6]||(t[6]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(v,{onClick:t[7]||(t[7]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(v,{type:"primary",onClick:u.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(n.okText),1)]})),_:1},8,["onClick"])])])}],["__scopeId","data-v-00d68c9c"]]);var v={key:0,style:{"margin-bottom":"6px","font-size":"12px"}},y={class:"d-flex justify-content-between"};n(9826),n(5306),n(3123);var b=n(48),w=n(8688),_=n(6383),x=n(8369),k=["input","number","select","reference","file","json","textarea"];const C={name:"FieldForm",components:{FormInput:h.Z,QuerySelect:_.Z,FieldCondition:f},props:{field:{type:Object,required:!0},okText:{type:String,required:!1,default:u.c.ok},focus:{type:Boolean,required:!1,default:!1},conditionFields:{type:Array,required:!1,default:function(){return[]}},withRemove:{type:Boolean,required:!1,default:!1}},emits:["submit","remove","cancel"],data:function(){return{dataField:{},isCustomName:!1}},computed:{filteredConditionFields:function(){var e=this;return this.conditionFields.filter((function(t){return t.value!==e.field.name}))},rules:function(){var e={display_name:[{required:!0,message:(0,u.w)("name")}],name:[{required:!0,message:(0,u.w)("param_name")}],field_type:[{required:!0,message:(0,u.w)("field_type")}]};return"json"===this.dataField.field_type&&(e.default_value=[{validator:x.Z.json,fullField:this.i18n.default_value}]),"reference"===this.dataField.field_type&&(e["reference.model_name"]=[{required:!0,message:(0,u.w)("reference")}]),"select"===this.dataField.field_type&&(e.select_query_id=[{required:!0,message:(0,u.w)("query")}]),e},generatedParamName:function(){var e,t=(0,c.It)(this.dataField.display_name);return t===(null===(e=this.dataField.reference)||void 0===e?void 0:e.model_name)&&(t+="_id"),t},referenceModels:function(){return b.fK},fieldTypes:function(){return[{label:this.i18n.text,value:"input"},{label:this.i18n.number,value:"number"},{label:this.i18n.reference,value:"reference"},{label:this.i18n.textarea,value:"textarea"},{label:this.i18n.richtext,value:"richtext"},{label:this.i18n.select,value:"select"},{label:this.i18n.date_and_time,value:"datetime"},{label:this.i18n.date,value:"date"},{label:this.i18n.checkbox,value:"checkbox"},{label:this.i18n.color,value:"color"},{label:this.i18n.file,value:"file"},{label:this.i18n.json,value:"json"}]},showMultiple:function(){return k.includes(this.dataField.field_type)},isRequired:function(){var e;return!(null===(e=this.dataField.validators)||void 0===e||!e.find((function(e){return e.required})))},isValidate:function(){return!!this.customValidator},isConditional:function(){var e;return!(null===(e=this.dataField.conditions)||void 0===e||!e.length)},customValidator:function(){var e;return null===(e=this.dataField.validators)||void 0===e?void 0:e.find((function(e){return"format"in e}))},validatorRegexpRule:function(){return[{required:!0,message:(0,u.w)("regexp")},{validator:x.Z.regexp,fullField:this.i18n.regexp}]},validatorMessageRule:function(){return[{required:!0,message:(0,u.w)("message")}]}},mounted:function(){this.focus&&this.$refs.nameInput.$el.querySelector("input").focus()},created:function(){this.dataField=JSON.parse(JSON.stringify(this.field)),this.dataField.reference&&(this.dataField.field_type="reference"),this.dataField.display_name&&(this.isCustomName=this.generatedParamName!==this.dataField.name)},methods:{onTypeChange:function(e){if(this.resetDefault(),k.includes(e)||(this.dataField.is_array=!1),"reference"===e){var t=(0,c.It)((0,w.Z)((this.dataField.display_name||"").toLowerCase())).replace(/_id$/,""),n=b.fK.find((function(e){return e.name===t||e.name===t.split("_").pop()}));this.dataField.reference={model_name:(null==n?void 0:n.name)||""}}else delete this.dataField.reference},resetDefault:function(){this.dataField.default_value=this.dataField.is_array?[]:""},submit:function(){var e=this;this.$refs.form.validate((function(t){var n;t&&(e.isCustomName||(e.dataField.name=e.generatedParamName),!e.dataField.conditions||null!==(n=e.dataField.conditions[0])&&void 0!==n&&n.field||(e.dataField.conditions=[]),e.$emit("submit",e.dataField))}))},toggleCustomParam:function(){this.isCustomName=!0,this.dataField.name=this.generatedParamName},toggleConditional:function(){var e;(e=this.dataField).conditions||(e.conditions=[]),this.isConditional?this.dataField.conditions=[]:this.dataField.conditions=[{field:"",action:"eq",value:""}]},toggleRequired:function(){var e;(e=this.dataField).validators||(e.validators=[]),this.isRequired?this.dataField.validators=this.dataField.validators.filter((function(e){return!e.required})):this.dataField.validators.push({required:!0})},toggleValidate:function(){var e;(e=this.dataField).validators||(e.validators=[]),this.isValidate?this.dataField.validators=this.dataField.validators.filter((function(e){return!("format"in e)})):this.dataField.validators.push({format:"",message:""})}}},S=(0,p.Z)(C,[["render",function(e,t,n,o,a,l){var c=(0,i.up)("VInput"),u=(0,i.up)("FormItem"),h=(0,i.up)("Icon"),d=(0,i.up)("MSelect"),p=(0,i.up)("QuerySelect"),f=(0,i.up)("FormInput"),m=(0,i.up)("Checkbox"),g=(0,i.up)("FieldCondition"),b=(0,i.up)("VForm"),w=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(b,{ref:"form",rules:l.rules,"label-position":"top",model:a.dataField,onSubmit:(0,s.iM)(l.submit,["prevent"])},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{label:e.i18n.name,prop:"display_name",class:(0,r.C_)(a.dataField.display_name&&!a.isCustomName?"mb-0":"")},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{ref:"nameInput",modelValue:a.dataField.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.dataField.display_name=e}),placeholder:e.i18n.field_name,onDrag:t[1]||(t[1]=(0,s.iM)((function(){}),["stop"]))},null,8,["modelValue","placeholder"])]})),_:1},8,["label","class"]),!a.isCustomName&&l.generatedParamName?((0,i.wg)(),(0,i.iD)("p",v,[(0,i.Uk)((0,r.zw)(e.i18n.param_name)+": ",1),(0,i._)("code",null,(0,r.zw)(l.generatedParamName),1),(0,i.Wm)(h,{type:"md-create",class:"ms-1 cursor-pointer",onClick:l.toggleCustomParam},null,8,["onClick"])])):(0,i.kq)("",!0),a.isCustomName?((0,i.wg)(),(0,i.j4)(u,{key:1,label:e.i18n.param_name,prop:"name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:a.dataField.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.dataField.name=e}),placeholder:e.i18n.request_param,onDrag:t[3]||(t[3]=(0,s.iM)((function(){}),["stop"]))},null,8,["modelValue","placeholder"])]})),_:1},8,["label"])):(0,i.kq)("",!0),(0,i.Wm)(u,{label:e.i18n.type,prop:"field_type"},{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{modelValue:a.dataField.field_type,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return a.dataField.field_type=e}),l.onTypeChange],options:l.fieldTypes,"with-deselect":!1,placeholder:e.i18n.input_type},null,8,["modelValue","options","placeholder","onUpdate:modelValue"])]})),_:1},8,["label"]),"reference"===a.dataField.field_type?((0,i.wg)(),(0,i.j4)(u,{key:2,label:e.i18n.reference,prop:"reference.model_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(d,{modelValue:a.dataField.reference.model_name,"onUpdate:modelValue":[t[5]||(t[5]=function(e){return a.dataField.reference.model_name=e}),t[6]||(t[6]=function(e){return a.dataField.default_value=""})],"value-key":"name","label-key":"display_name","with-deselect":!1,options:l.referenceModels,placeholder:e.i18n.select_resource_placeholder,filterable:""},null,8,["modelValue","options","placeholder"])]})),_:1},8,["label"])):(0,i.kq)("",!0),"select"===a.dataField.field_type?((0,i.wg)(),(0,i.j4)(u,{key:3,label:e.i18n.select_query,prop:"select_query_id"},{default:(0,i.w5)((function(){return[(0,i.Wm)(p,{modelValue:a.dataField.select_query_id,"onUpdate:modelValue":t[7]||(t[7]=function(e){return a.dataField.select_query_id=e})},null,8,["modelValue"])]})),_:1},8,["label"])):(0,i.kq)("",!0),(0,i.Wm)(u,{label:e.i18n.default_value,prop:"default_value"},{default:(0,i.w5)((function(){return[(0,i.Wm)(f,{modelValue:a.dataField.default_value,"onUpdate:modelValue":t[8]||(t[8]=function(e){return a.dataField.default_value=e}),column:a.dataField},null,8,["modelValue","column"])]})),_:1},8,["label"]),"file"===a.dataField.field_type?((0,i.wg)(),(0,i.j4)(m,{key:4,modelValue:a.dataField.file_direct_upload,"onUpdate:modelValue":t[9]||(t[9]=function(e){return a.dataField.file_direct_upload=e}),class:"d-block"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.i18n.send_file_url),1)]})),_:1},8,["modelValue"])):(0,i.kq)("",!0),l.showMultiple?((0,i.wg)(),(0,i.j4)(m,{key:5,modelValue:a.dataField.is_array,"onUpdate:modelValue":[t[10]||(t[10]=function(e){return a.dataField.is_array=e}),l.resetDefault],class:"d-block"},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.i18n.multiple),1)]})),_:1},8,["modelValue","onUpdate:modelValue"])):(0,i.kq)("",!0),(0,i.Wm)(m,{"model-value":l.isRequired,class:"d-block","onUpdate:modelValue":l.toggleRequired},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.i18n.required),1)]})),_:1},8,["model-value","onUpdate:modelValue"]),(0,i.Wm)(m,{"model-value":l.isConditional,class:"d-block","onUpdate:modelValue":l.toggleConditional},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.i18n.conditional),1)]})),_:1},8,["model-value","onUpdate:modelValue"]),l.isConditional?((0,i.wg)(),(0,i.j4)(g,{key:6,modelValue:a.dataField.conditions[0],"onUpdate:modelValue":t[11]||(t[11]=function(e){return a.dataField.conditions[0]=e}),fields:l.filteredConditionFields},null,8,["modelValue","fields"])):(0,i.kq)("",!0),(0,i.Wm)(m,{"model-value":l.isValidate,class:"d-block mb-3","onUpdate:modelValue":l.toggleValidate},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.i18n.validate),1)]})),_:1},8,["model-value","onUpdate:modelValue"]),l.isValidate?((0,i.wg)(),(0,i.iD)(i.HY,{key:7},[(0,i.Wm)(u,{label:e.i18n.validation_regexp,prop:"validators.".concat(a.dataField.validators.indexOf(l.customValidator),".format"),rules:l.validatorRegexpRule},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:l.customValidator.format,"onUpdate:modelValue":t[12]||(t[12]=function(e){return l.customValidator.format=e})},null,8,["modelValue"])]})),_:1},8,["label","prop","rules"]),(0,i.Wm)(u,{label:e.i18n.error_message,prop:"validators.".concat(a.dataField.validators.indexOf(l.customValidator),".message"),rules:l.validatorMessageRule},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:l.customValidator.message,"onUpdate:modelValue":t[13]||(t[13]=function(e){return l.customValidator.message=e})},null,8,["modelValue"])]})),_:1},8,["label","prop","rules"])],64)):(0,i.kq)("",!0)]})),_:1},8,["rules","model","onSubmit"]),(0,i._)("div",y,[(0,i._)("div",null,[n.withRemove?((0,i.wg)(),(0,i.j4)(w,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[14]||(t[14]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(w,{onClick:t[15]||(t[15]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(w,{type:"primary",onClick:l.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(n.okText),1)]})),_:1},8,["onClick"])])])}],["__scopeId","data-v-7fdf6a80"]]);var A={class:"ivu-card ivu-card-bordered"},T={class:"ivu-card-body py-0"},O={class:"d-flex align-items-center"},L={class:"fs-5 fw-bold"},E={class:"d-flex align-items-center"};const D={name:"FieldItem",components:{FieldForm:S},props:{field:{type:Object,required:!0},conditionFields:{type:Array,required:!1,default:function(){return[]}}},emits:["replace","remove"],data:function(){return{isForm:!1}},methods:{toggleForm:function(){var e=this;this.isForm=!this.isForm,this.isForm&&this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onRemove:function(){this.isForm=!1,this.$emit("remove",this.field)},onSubmit:function(e){this.isForm=!1,this.$emit("replace",[this.field,e])}}},P=(0,p.Z)(D,[["render",function(e,t,n,o,s,a){var l=(0,i.up)("Icon"),c=(0,i.up)("FieldForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",A,[(0,i._)("div",T,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",onClick:t[0]||(t[0]=function(){return a.toggleForm&&a.toggleForm.apply(a,arguments)})},[(0,i._)("div",O,[(0,i.Wm)(l,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,i._)("p",L,(0,r.zw)(n.field.display_name),1)]),(0,i._)("div",E,[(0,i.Wm)(l,{type:s.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])]),s.isForm?((0,i.wg)(),(0,i.j4)(c,{key:0,field:JSON.parse(JSON.stringify(n.field)),class:"py-3","condition-fields":n.conditionFields,"with-remove":!0,onCancel:a.toggleForm,onRemove:a.onRemove,onSubmit:a.onSubmit},null,8,["field","condition-fields","onCancel","onRemove","onSubmit"])):(0,i.kq)("",!0)])])])}]]);var M={class:"ivu-card ivu-card-bordered"},$={class:"ivu-card-body py-0"},R={class:"d-flex align-items-center"},I={class:"fs-5 fw-bold"},F={class:"d-flex align-items-center"};n(8674);const j={name:"FieldItem",components:{LayoutItems:(0,i.RC)((function(){return Promise.resolve().then(n.bind(n,9422))})),GroupForm:g},props:{group:{type:Object,required:!0},nestingLevel:{type:Number,required:!1,default:0},conditionFields:{type:Array,required:!1,default:function(){return[]}}},emits:["replace","remove"],data:function(){return{isForm:!1}},methods:{toggleForm:function(){var e=this;this.isForm=!this.isForm,this.isForm&&this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onRemove:function(){this.isForm=!1,this.$emit("remove",this.group)},onSubmit:function(e){this.isForm=!1,this.$emit("replace",[this.group,e])}}},N=(0,p.Z)(j,[["render",function(e,t,n,o,s,a){var l=(0,i.up)("Icon"),c=(0,i.up)("LayoutItems"),u=(0,i.up)("GroupForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",M,[(0,i._)("div",$,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",onClick:t[0]||(t[0]=function(){return a.toggleForm&&a.toggleForm.apply(a,arguments)})},[(0,i._)("div",R,[(0,i.Wm)(l,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,i._)("p",I,(0,r.zw)(n.group.display_name),1)]),(0,i._)("div",F,[(0,i.Wm)(l,{type:s.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])]),s.isForm?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(c,{key:0,items:n.group.items,"nesting-level":n.nestingLevel,"condition-fields":n.conditionFields,"with-min-height":!0},null,8,["items","nesting-level","condition-fields"])),s.isForm?((0,i.wg)(),(0,i.j4)(u,{key:1,group:JSON.parse(JSON.stringify(n.group)),class:"py-3","condition-fields":n.conditionFields,"with-remove":!0,onCancel:a.toggleForm,onRemove:a.onRemove,onSubmit:a.onSubmit},null,8,["group","condition-fields","onCancel","onRemove","onSubmit"])):(0,i.kq)("",!0)])])])}]]);var z={class:"ivu-card ivu-card-bordered"},q={class:"ivu-card-body py-0"},V={class:"d-flex align-items-center"},B={class:"fs-5 fw-bold"},W={class:"d-flex align-items-center"},U={class:"text-center"},H=(0,i.Uk)(" Open in markdown editor "),Z={class:"d-flex justify-content-between"},K=n(403),G=n(2822);const Y={name:"TextForm",components:{CodeEditor:K.Z,Markdown:G.Z},props:{modelValue:{type:String,required:!1,default:""},fields:{type:Array,required:!1,default:function(){return[]}}},emits:["submit"],data:function(){return{dataValue:""}},created:function(){this.dataValue=this.modelValue},methods:{submit:function(){this.$emit("submit",this.dataValue)}}},Q=(0,p.Z)(Y,[["render",function(e,t,n,o,s,a){var l=(0,i.up)("CodeEditor"),c=(0,i.up)("Markdown"),u=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(l,{modelValue:s.dataValue,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.dataValue=e}),language:"markdown",variables:n.fields,style:{height:"150px","line-height":"21px"},onRun:a.submit},null,8,["modelValue","variables","onRun"]),(0,i.Wm)(c,{style:{height:"150px",overflow:"scroll"},markdown:s.dataValue,"render-template":!1,"without-data":!0},null,8,["markdown"]),(0,i.Wm)(u,{size:"large",long:"",type:"primary",class:"mt-3",onClick:a.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.ok),1)]})),_:1},8,["onClick"])])}]]),J={name:"TextForm",components:{FieldCondition:f},props:{item:{type:Object,required:!0},okText:{type:String,required:!1,default:u.c.ok},focus:{type:Boolean,required:!1,default:!1},conditionFields:{type:Array,required:!1,default:function(){return[]}},withRemove:{type:Boolean,required:!1,default:!1}},emits:["submit","remove","cancel"],data:function(){return{dataItem:{}}},computed:{rules:function(){return{display_name:[{required:!0,message:(0,u.w)("title")}],markdown:[{required:!0,message:(0,u.w)("markdown")}]}},isConditional:function(){var e;return!(null===(e=this.dataItem.conditions)||void 0===e||!e.length)}},mounted:function(){this.focus&&this.$refs.titleInput.$el.querySelector("input").focus()},created:function(){this.dataItem=JSON.parse(JSON.stringify(this.item))},methods:{openMarkdownEditor:function(){var e=this;this.$Modal.open(Q,{modelValue:this.dataItem.markdown,fields:this.conditionFields.map((function(e){return{name:e.value}})),onSubmit:function(t){e.dataItem.markdown=t,e.$Modal.remove()}},{title:this.i18n.edit_markdown,closable:!0})},submit:function(){var e=this;this.$refs.form.validate((function(t){var n;t&&(e.dataItem.name=(0,c.It)(e.dataItem.display_name),!e.dataItem.conditions||null!==(n=e.dataItem.conditions[0])&&void 0!==n&&n.field||(e.dataItem.conditions=[]),e.$emit("submit",e.dataItem))}))},toggleConditional:function(){var e;(e=this.dataItem).conditions||(e.conditions=[]),this.isConditional?this.dataItem.conditions=[]:this.dataItem.conditions=[{field:"",action:"eq",value:""}]}}},X=(0,p.Z)(J,[["render",function(e,t,n,o,a,l){var c=(0,i.up)("VInput"),u=(0,i.up)("FormItem"),h=(0,i.up)("VButton"),d=(0,i.up)("Checkbox"),p=(0,i.up)("FieldCondition"),f=(0,i.up)("VForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(f,{ref:"form",rules:l.rules,"label-position":"top",model:a.dataItem,onSubmit:(0,s.iM)(l.submit,["prevent"])},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{ref:"titleInput",label:e.i18n.title,prop:"display_name"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:a.dataItem.display_name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return a.dataItem.display_name=e}),placeholder:e.i18n.field_name,onDrag:t[1]||(t[1]=(0,s.iM)((function(){}),["stop"]))},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,i.Wm)(u,{label:e.i18n.markdown,prop:"markdown"},{default:(0,i.w5)((function(){return[(0,i.Wm)(c,{modelValue:a.dataItem.markdown,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.dataItem.markdown=e}),type:"textarea",autosize:{minRows:4,maxRows:5},onDrag:t[3]||(t[3]=(0,s.iM)((function(){}),["stop"]))},null,8,["modelValue"]),(0,i._)("div",U,[(0,i.Wm)(h,{type:"text",icon:"logo-markdown",onClick:l.openMarkdownEditor},{default:(0,i.w5)((function(){return[H]})),_:1},8,["onClick"])])]})),_:1},8,["label"]),(0,i.Wm)(d,{"model-value":l.isConditional,class:"d-block mb-3","onUpdate:modelValue":l.toggleConditional},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(" ")+" "+(0,r.zw)(e.i18n.conditional),1)]})),_:1},8,["model-value","onUpdate:modelValue"]),l.isConditional?((0,i.wg)(),(0,i.j4)(p,{key:0,modelValue:a.dataItem.conditions[0],"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.dataItem.conditions[0]=e}),fields:n.conditionFields},null,8,["modelValue","fields"])):(0,i.kq)("",!0)]})),_:1},8,["rules","model","onSubmit"]),(0,i._)("div",Z,[(0,i._)("div",null,[n.withRemove?((0,i.wg)(),(0,i.j4)(h,{key:0,type:"error",ghost:"",class:"me-2",onClick:t[5]||(t[5]=function(t){return e.$emit("remove")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.remove),1)]})),_:1})):(0,i.kq)("",!0),(0,i.Wm)(h,{onClick:t[6]||(t[6]=function(t){return e.$emit("cancel")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.cancel),1)]})),_:1})]),(0,i.Wm)(h,{type:"primary",onClick:l.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(n.okText),1)]})),_:1},8,["onClick"])])])}]]),ee={name:"TextItem",components:{TextForm:X},props:{item:{type:Object,required:!0},conditionFields:{type:Array,required:!1,default:function(){return[]}}},emits:["replace","remove"],data:function(){return{isForm:!1}},methods:{toggleForm:function(){var e=this;this.isForm=!this.isForm,this.isForm&&this.$nextTick((function(){e.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})}))},onRemove:function(){this.isForm=!1,this.$emit("remove",this.item)},onSubmit:function(e){this.isForm=!1,this.$emit("replace",[this.item,e])}}};function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||re(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var se={display_name:"",name:"",field_type:"input",default_value:"",validators:[]},ae={display_name:"",name:"",items:[]},le={display_name:"",name:"",markdown:""};const ce={name:"LayoutItemsList",components:{GroupForm:g,FieldForm:S,FieldItem:P,GroupItem:N,TextItem:(0,p.Z)(ee,[["render",function(e,t,n,o,s,a){var l=(0,i.up)("Icon"),c=(0,i.up)("TextForm");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",z,[(0,i._)("div",q,[(0,i._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",onClick:t[0]||(t[0]=function(){return a.toggleForm&&a.toggleForm.apply(a,arguments)})},[(0,i._)("div",V,[(0,i.Wm)(l,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,i._)("p",B,(0,r.zw)(n.item.display_name),1)]),(0,i._)("div",W,[(0,i.Wm)(l,{type:s.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])]),s.isForm?((0,i.wg)(),(0,i.j4)(c,{key:0,item:JSON.parse(JSON.stringify(n.item)),class:"py-3","condition-fields":n.conditionFields,"with-remove":!0,onCancel:a.toggleForm,onRemove:a.onRemove,onSubmit:a.onSubmit},null,8,["item","condition-fields","onCancel","onRemove","onSubmit"])):(0,i.kq)("",!0)])])])}]]),TextForm:X},props:{items:{type:Array,required:!1,default:function(){return[]}},withButtons:{type:Boolean,required:!1,default:!0},nestingLevel:{type:Number,required:!1,default:0},conditionFields:{type:Array,required:!1,default:function(){return[]}},withMinHeight:{type:Boolean,required:!1,default:!1}},data:function(){return{newField:null,newGroup:null,newTextItem:null}},computed:{fieldItems:function(){return this.items.filter((function(e){return e.field_type}))},listConditionFieldOptions:function(){return[].concat(ie(this.items.map((function(e){return!!e.field_type&&{label:e.display_name,value:e.name,field:e}})).filter(Boolean)),ie(this.conditionFields))}},methods:{toggleNewField:function(){var e=this;this.newField?this.newField=null:(this.newField=JSON.parse(JSON.stringify(se)),this.$nextTick((function(){e.$refs.newFieldForm.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})})))},toggleNewTextItem:function(){var e=this;this.newTextItem?this.newTextItem=null:(this.newTextItem=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},le),this.$nextTick((function(){e.$refs.newTextForm.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})})))},toggleNewGroup:function(){var e=this;this.newGroup?this.newGroup=null:(this.newGroup=JSON.parse(JSON.stringify(ae)),this.$nextTick((function(){e.$refs.newGroupForm.$el.scrollIntoView({inline:"end",block:"center",behavior:"smooth"})})))},addField:function(e){this.items.push(e),this.newField=null},addTextItem:function(e){this.items.push(e),this.newTextItem=null},addGroup:function(e){this.items.push(e),this.newGroup=null},removeItem:function(e){var t=this.items.indexOf(e);this.items.splice(t,1)},replaceItem:function(e){var t,n,i=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(t,n)||re(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=i[0],o=i[1],s=this.items.indexOf(r);this.items.splice(s,1,o)}}},ue=(0,p.Z)(ce,[["render",function(e,t,n,s,a,l){var c=(0,i.up)("TextItem"),u=(0,i.up)("FieldItem"),h=(0,i.up)("GroupItem"),d=(0,i.up)("VueDraggableNext"),p=(0,i.up)("FieldForm"),f=(0,i.up)("Card"),m=(0,i.up)("GroupForm"),g=(0,i.up)("TextForm"),v=(0,i.up)("VButton"),y=(0,i.up)("DropdownItem"),b=(0,i.up)("DropdownMenu"),w=(0,i.up)("Dropdown");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(d,{list:n.items,handle:".handle",group:"form",style:(0,r.j5)(n.withMinHeight?"min-height: 15px":null)},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.items,(function(e){return(0,i.wg)(),(0,i.iD)("div",{key:e.name},[e.markdown?((0,i.wg)(),(0,i.j4)(c,{key:0,item:e,class:"mb-2","condition-fields":l.listConditionFieldOptions,onRemove:l.removeItem,onReplace:l.replaceItem},null,8,["item","condition-fields","onRemove","onReplace"])):(0,i.kq)("",!0),e.field_type?((0,i.wg)(),(0,i.j4)(u,{key:1,field:e,class:"mb-2","condition-fields":l.listConditionFieldOptions,onRemove:l.removeItem,onReplace:l.replaceItem},null,8,["field","condition-fields","onRemove","onReplace"])):(0,i.kq)("",!0),Array.isArray(e.items)?((0,i.wg)(),(0,i.j4)(h,{key:2,group:e,class:"mb-2","nesting-level":n.nestingLevel+1,"condition-fields":l.listConditionFieldOptions,onRemove:l.removeItem,onReplace:l.replaceItem},null,8,["group","nesting-level","condition-fields","onRemove","onReplace"])):(0,i.kq)("",!0)])})),128))]})),_:1},8,["list","style"]),a.newField?((0,i.wg)(),(0,i.j4)(f,{key:0,ref:"newFieldForm",class:"mb-2"},{default:(0,i.w5)((function(){return[(0,i.Wm)(p,{field:a.newField,focus:!0,"ok-text":e.i18n.add,"condition-fields":l.listConditionFieldOptions,onSubmit:l.addField,onCancel:t[0]||(t[0]=function(e){return a.newField=null})},null,8,["field","ok-text","condition-fields","onSubmit"])]})),_:1},512)):(0,i.kq)("",!0),a.newGroup?((0,i.wg)(),(0,i.j4)(f,{key:1,ref:"newGroupForm",class:"mb-2"},{default:(0,i.w5)((function(){return[(0,i.Wm)(m,{group:a.newGroup,focus:!0,"ok-text":e.i18n.add,"condition-fields":l.listConditionFieldOptions,onSubmit:l.addGroup,onCancel:t[1]||(t[1]=function(e){return a.newGroup=null})},null,8,["group","ok-text","condition-fields","onSubmit"])]})),_:1},512)):(0,i.kq)("",!0),a.newTextItem?((0,i.wg)(),(0,i.j4)(f,{key:2,ref:"newTextForm",class:"mb-2"},{default:(0,i.w5)((function(){return[(0,i.Wm)(g,{item:a.newTextItem,"condition-fields":l.listConditionFieldOptions,focus:!0,"ok-text":e.i18n.add,onSubmit:l.addTextItem,onCancel:t[2]||(t[2]=function(e){return a.newTextItem=null})},null,8,["item","condition-fields","ok-text","onSubmit"])]})),_:1},512)):(0,i.kq)("",!0),n.withButtons?((0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(v,{long:"",type:"text",icon:"md-add",class:"me-1",onClick:l.toggleNewField},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.add_field),1)]})),_:1},8,["onClick"]),n.nestingLevel<3?((0,i.wg)(),(0,i.j4)(v,{key:0,long:"",type:"text",icon:"md-add",class:"ms-1",onClick:l.toggleNewGroup},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.add_group),1)]})),_:1},8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(w,{trigger:"click",class:"ms-1 text-start float-end",placement:"bottom-end",style:{position:"absolute",bottom:"7px",right:"0px"}},{list:(0,i.w5)((function(){return[(0,i.Wm)(b,null,{default:(0,i.w5)((function(){return[n.nestingLevel>=3?((0,i.wg)(),(0,i.j4)(y,{key:0,onClick:l.toggleNewGroup},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.add_group),1)]})),_:1},8,["onClick"])):(0,i.kq)("",!0),(0,i.Wm)(y,{onClick:l.toggleNewTextItem},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.add_text),1)]})),_:1},8,["onClick"])]})),_:1})]})),default:(0,i.w5)((function(){return[(0,i.Wm)(v,{long:"",type:"text",icon:"md-more"})]})),_:1})])):(0,i.kq)("",!0)],64)}]])},5347:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>A}),n(8309),n(2222),n(6699);var i=n(6252);n(9070),n(7941),n(2526),n(7327),n(1539),n(5003),n(9554),n(4747),n(9337),n(3321);var r=n(7183),o=n(1699),s=n(2822),a=n(5763),l=n(1896),c=(n(561),n(3577));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={class:"ivu-card-body py-0"},f={class:"d-flex align-items-center justify-content-between py-2"},m={class:"d-flex align-items-center py-1"},g={class:"d-flex align-items-center py-1"},v={class:"text-center my-2"};n(6992),n(8674),n(8783),n(3948);const y={name:"GroupItem",components:{FormItems:(0,i.RC)((function(){return Promise.resolve().then(n.bind(n,5347))}))},props:{formData:{type:Object,required:!0},variablesData:{type:Object,required:!1,default:function(){return{}}},propPrefix:{type:String,required:!1,default:""},item:{type:Object,required:!0}},methods:{buildDefaultValues:l.J}};var b=n(3744);const w=(0,b.Z)(y,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("Icon"),l=(0,i.up)("FormItems"),u=(0,i.up)("VButton"),d=(0,i.up)("VueDraggableNext"),y=(0,i.up)("Panel"),b=(0,i.up)("Collapse");return(0,i.wg)(),(0,i.j4)(b,{simple:"",class:"mb-3",style:{margin:"0 -16px"},"model-value":"1"},{default:(0,i.w5)((function(){return[(0,i.Wm)(y,{name:"1"},{content:(0,i.w5)((function(){return[n.item.is_array?((0,i.wg)(),(0,i.j4)(d,{key:0,list:n.formData,handle:".handle"},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.formData,(function(e,t){return(0,i.wg)(),(0,i.iD)("div",{key:t,class:"ivu-card ivu-card-bordered mb-2"},[(0,i._)("div",p,[(0,i._)("div",f,[(0,i._)("div",m,[(0,i.Wm)(a,{type:"ios-menu",class:"me-3 cursor-grab handle"})]),(0,i._)("div",g,[(0,i.Wm)(a,{type:"md-trash",class:"cursor-pointer",onClick:function(e){return n.formData.splice(t,1)}},null,8,["onClick"])])]),(0,i.Wm)(l,{"form-data":n.formData[t],"onUpdate:form-data":function(e){return n.formData[t]=e},items:n.item.items,"variables-data":h(h({},n.variablesData),n.formData[t]),"prop-prefix":n.propPrefix?"".concat(n.propPrefix,".").concat(t):"".concat(n.item.name,".").concat(t)},null,8,["form-data","onUpdate:form-data","items","variables-data","prop-prefix"])])])})),128)),(0,i._)("div",v,[(0,i.Wm)(u,{long:"",type:"text",icon:"md-add",class:"me-1",onClick:t[0]||(t[0]=function(e){return n.formData.push(s.buildDefaultValues(n.item.items))})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,c.zw)(e.i18n.add_item),1)]})),_:1})])]})),_:1},8,["list"])):((0,i.wg)(),(0,i.j4)(l,{key:1,"form-data":n.formData,"onUpdate:form-data":t[1]||(t[1]=function(e){return n.formData=e}),items:n.item.items,"variables-data":h(h({},n.variablesData),n.formData),"prop-prefix":n.propPrefix?n.propPrefix:n.item.name},null,8,["form-data","items","variables-data","prop-prefix"]))]})),default:(0,i.w5)((function(){return[(0,i.Uk)((0,c.zw)(n.item.display_name)+" ",1)]})),_:1})]})),_:1})}],["__scopeId","data-v-4a25d3fb"]]);var _=n(645);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S={name:"FormItems",components:{FormListInput:r.Z,FormInput:o.Z,GroupItem:w,Markdown:s.Z},props:{formData:{type:Object,required:!0},variablesData:{type:Object,required:!1,default:function(){return{}}},propPrefix:{type:String,required:!1,default:""},items:{type:Array,required:!0}},emits:["update:form-data","edit"],computed:{mergedVariablesFormData:function(){return k(k({},this.variablesData),this.formData)}},watch:{items:{deep:!0,handler:function(e){this.$emit("update:form-data",(0,l.J)(this.items))}}},methods:{checkConditions:l.Q,interpolate:a.sX,buildValidationRules:function(e){return(0,_.j$)(e,{})}}},A=(0,b.Z)(S,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("Markdown"),l=(0,i.up)("GroupItem"),c=(0,i.up)("FormListInput"),u=(0,i.up)("FormInput"),h=(0,i.up)("FormItem");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.items,(function(r){return(0,i.wg)(),(0,i.iD)("div",{key:r.name},[s.checkConditions(r.conditions,s.mergedVariablesFormData)?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[r.markdown?((0,i.wg)(),(0,i.j4)(a,{key:0,markdown:r.markdown,data:s.mergedVariablesFormData,"without-data":!0},null,8,["markdown","data"])):r.items?((0,i.wg)(),(0,i.j4)(l,{key:1,"form-data":n.formData[r.name],"onUpdate:form-data":function(e){return n.formData[r.name]=e},item:r,"variables-data":n.variablesData,"prop-prefix":n.propPrefix?"".concat(n.propPrefix,".").concat(r.name):r.name},null,8,["form-data","onUpdate:form-data","item","variables-data","prop-prefix"])):((0,i.wg)(),(0,i.j4)(h,{key:2,ref_for:!0,ref:"formItem",label:s.interpolate(r.display_name,s.mergedVariablesFormData),rules:s.buildValidationRules(r),prop:n.propPrefix?"".concat(n.propPrefix,".").concat(r.name):r.name},{default:(0,i.w5)((function(){return[r.is_array&&["json","textarea"].includes(r.field_type)?((0,i.wg)(),(0,i.j4)(c,{key:0,modelValue:n.formData[r.name],"onUpdate:modelValue":[function(e){return n.formData[r.name]=e},t[0]||(t[0]=function(t){return e.$emit("edit")})],column:r,"form-data":s.mergedVariablesFormData},null,8,["modelValue","onUpdate:modelValue","column","form-data"])):((0,i.wg)(),(0,i.j4)(u,{key:1,modelValue:n.formData[r.name],"onUpdate:modelValue":[function(e){return n.formData[r.name]=e},t[1]||(t[1]=function(t){return e.$emit("edit")})],column:r,"form-data":s.mergedVariablesFormData},null,8,["modelValue","onUpdate:modelValue","column","form-data"]))]})),_:2},1032,["label","rules","prop"]))],64)):(0,i.kq)("",!0)])})),128)}]])},6117:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});var i=n(6252),r=n(3577),o={key:0,class:"sticky-footer"};n(9753),n(9653),n(4916),n(4723),n(1249),n(5306),n(7327),n(1539),n(2772),n(9554),n(4747),n(8674),n(7727),n(5212),n(6699),n(7941),n(6755),n(9600),n(2479),n(9070),n(2526),n(5003),n(9337),n(3321),n(1817),n(2165),n(6992),n(8783),n(3948),n(2443),n(3680),n(3706),n(2703),n(8011),n(489),n(8309),n(8304),n(5069),n(7042);var s=n(9963),a={key:0},l={class:"fs-2 fw-bold text-center mb-2"},c={key:0,class:"mb-2"},u={key:0,style:{"white-space":"break-spaces"}},h=["innerHTML"];n(2023),n(285),n(1637),n(2222);var d=n(5347),p=n(5763),f=n(1006),m=n(9476),g=n(1896),v=n(9669),y=n.n(v),b=n(7248),w=n(7856),_=n.n(w);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S={name:"DataForm",components:{FormItems:d.default},provide:function(){return{formComponent:this}},props:{data:{type:Object,required:!1,default:function(){return{}}},form:{type:Object,required:!0},withSuccessMessage:{type:Boolean,required:!1,default:!0},withSubmit:{type:Boolean,required:!1,default:!1},withGoBack:{type:Boolean,required:!1,default:!1},excludeFields:{type:Array,required:!1,default:function(){return[]}},submitButtonSize:{type:String,required:!1,default:"large"}},emits:["submit","success","error","reset","back"],data:function(){return{isEdited:!1,isLoading:!1,isSuccess:!1,isSubmitting:!1,successData:null,formData:{}}},computed:{safeSuccessData:function(){return _().sanitize(this.successData)},headers:function(){var e={},t=document.querySelector('[name="csrf-token"]');return t&&(e["X-CSRF-Token"]=t.content),e},isSubmitDisabled:function(){return!this.form.api_path&&!this.form.preferences.graphql_mutation},fields:function(){var e=this;return this.form.preferences.fields.filter((function(t){return!e.excludeFields.includes(t.name)}))}},watch:{data:function(){this.formData=k(k(k({},(0,g.J)(this.fields)),this.formData),this.data)},form:function(){this.formData=k(k(k({},(0,g.J)(this.fields)),this.formData),this.data)}},created:function(){this.formData=k(k({},(0,g.J)(this.fields)),this.data)},methods:{scrollToErrors:m.o,reset:function(){this.formData=k(k({},(0,g.J)(this.fields)),this.$parent.formData),this.$parent.resetData(),this.isSuccess=!1,this.successData=null},sendData:function(){var e=this,t=(0,p.sX)(this.form.api_path,this.formData),n=this.form.http_method.toLowerCase();return this.isLoading=!0,("origin"!==this.form.api_config_name?"graphql"===this.form.preferences.request_type?b.Z.post("run_graphql_request",{data:{query:this.form.preferences.graphql_mutation,api_config_name:this.form.api_config_name,variables:this.formData}},{responseType:"blob"}):b.Z.post("run_api_request",{data:{body:this.formData,api_config_name:this.form.api_config_name,path:t,method:n}},{responseType:"blob"}):(0,f.w)().then((function(i){return y()[n](t,k({},e.formData),{responseType:"blob",headers:k(k({},e.headers),i.headers)})}))).then((function(t){var n=t.data;n.text().then((function(i){var r;try{t.data=JSON.parse(i)}catch(e){t.data=i}if(null!==(r=t.data)&&void 0!==r&&r.errors)e.$refs.form.setErrors(t.data.errors),e.scrollToErrors(),e.$emit("error",t);else{var o,s,a,l=(null===(o=t.data)||void 0===o?void 0:o.redirect)||(null===(s=t.data)||void 0===s?void 0:s.redirect_to)||t.redirect||t.redirect_to;if("string"==typeof l){var c=e.$router.resolve({path:l.replace(location.origin,"")},e.$route);null!=c&&c.name?e.$router.push(c):location.href=l}else if(null!==(a=t.headers["content-disposition"])&&void 0!==a&&a.startsWith("attachment")){var u,h=null===(u=t.headers["content-disposition"].match(/filename="(.*?)"/))||void 0===u?void 0:u[1],d=URL.createObjectURL(n),p=document.createElement("a");p.setAttribute("href",d),p.setAttribute("download","".concat(h||"attachment")),p.click(),e.successData='<div class="text-center">File attachment has started downloading</div>'}else e.successData=t.data;e.isSuccess=!0,e.$emit("success",t)}}))})).catch((function(t){console.error(t),t.response.data.text().then((function(n){var i,r,o;try{t.response.data=JSON.parse(n)}catch(e){t.response.data=n}null!==(i=t.response)&&void 0!==i&&null!==(r=i.data)&&void 0!==r&&r.errors?(e.$refs.form.setErrors(t.response.data.errors),e.scrollToErrors()):e.$refs.form.setErrors(["".concat(e.i18n.unable_to_submit_form,": ").concat((null===(o=t.response)||void 0===o?void 0:o.status)||t.message)]),e.$emit("error",t)}))})).finally((function(){e.isLoading=!1,e.$emit("submit",e.formData)}))},validate:function(e){this.$refs.form.validate(e)},handleSubmit:function(){var e=this;this.isSubmitDisabled||this.validate((function(t){t?e.sendData():e.scrollToErrors()}))}}};var A=n(3744);function T(){T=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),s=new k(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===u)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function h(){}function d(){}function p(){}var f={};a(f,r,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==t&&n.call(g,r)&&(f=g);var v=p.prototype=h.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,s,a){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,a)}))}a(l.arg)}var r;this._invoke=function(e,n){function o(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,a(v,"constructor",p),a(p,"constructor",d),d.displayName=a(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),a(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new b(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(v),a(v,s,"Generator"),a(v,r,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function O(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const M={name:"CustomFormWrapper",components:{CustomForm:(0,A.Z)(S,[["render",function(e,t,n,o,d,p){var f=(0,i.up)("Icon"),m=(0,i.up)("VButton"),g=(0,i.up)("FormItems"),v=(0,i.up)("VForm"),y=(0,i.up)("Spin");return(0,i.wg)(),(0,i.iD)(i.HY,null,[d.isSuccess&&n.withSuccessMessage?((0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("p",l,[(0,i.Wm)(f,{type:"md-checkmark-circle-outline",class:"text-success"}),(0,i.Uk)(" "+(0,r.zw)(e.i18n.form_has_been_submitted_successfully),1)]),d.successData?((0,i.wg)(),(0,i.iD)("div",c,["object"==typeof d.successData?((0,i.wg)(),(0,i.iD)("pre",u,(0,r.zw)(JSON.stringify(d.successData,null,"  ")),1)):((0,i.wg)(),(0,i.iD)("div",{key:1,innerHTML:p.safeSuccessData},null,8,h))])):(0,i.kq)("",!0),(0,i.Wm)(m,{icon:"md-refresh",size:"large",ghost:"",long:"",type:"primary",onClick:p.reset},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.resubmit),1)]})),_:1},8,["onClick"]),n.withGoBack?((0,i.wg)(),(0,i.j4)(m,{key:1,icon:"md-arrow-back",size:"large",long:"",type:"primary",class:"mt-3",onClick:t[0]||(t[0]=function(t){return e.$emit("back")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.go_back),1)]})),_:1})):(0,i.kq)("",!0)])):((0,i.wg)(),(0,i.j4)(v,{key:1,ref:"form",model:d.formData,"label-position":"top","data-form-edited":d.isEdited,onSubmit:(0,s.iM)(p.handleSubmit,["prevent"])},{default:(0,i.w5)((function(){return[(0,i.Wm)(g,{"form-data":d.formData,"onUpdate:form-data":t[1]||(t[1]=function(e){return d.formData=e}),"variables-data":d.formData,items:p.fields,onEdit:t[2]||(t[2]=function(e){return d.isEdited=!0})},null,8,["form-data","variables-data","items"]),n.withSubmit?((0,i.wg)(),(0,i.j4)(m,{key:0,type:"primary",long:"",size:n.submitButtonSize,disabled:p.isSubmitDisabled||d.isSubmitting,loading:d.isSubmitting,onClick:p.handleSubmit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.submit),1)]})),_:1},8,["size","disabled","loading","onClick"])):(0,i.kq)("",!0)]})),_:1},8,["model","data-form-edited","onSubmit"])),d.isLoading?((0,i.wg)(),(0,i.j4)(y,{key:2,fix:""})):(0,i.kq)("",!0)],64)}]])},props:{data:{type:Object,required:!1,default:function(){return{}}},form:{type:Object,required:!1,default:null},withFooterSubmit:{type:Boolean,required:!1,default:!1},withSuccessMessage:{type:Boolean,required:!1,default:!0},formId:{type:[String,Number],required:!1,default:null},triggerRequest:{type:Boolean,required:!1,default:!0},excludeFields:{type:Array,required:!1,default:function(){return[]}},submitButtonSize:{type:String,required:!1,default:"large"},withGoBack:{type:Boolean,required:!1,default:!1}},emits:["submit","success","error","loaded","submitData","back"],data:function(){return{formData:{},dataForm:{},variableWatchers:{},isSuccess:!1,isLoading:!0,isSubmitting:!1}},computed:{intialDataVariables:function(){if(this.dataForm.preferences.default_values_api_path){var e=this.dataForm.preferences.default_values_api_path.match(/{{?(\w+)}}?/g);return e?e.map((function(e){return e.replace(/[{}]/g,"")})):[]}return this.dataForm.preferences.graphql_query?this.dataForm.preferences.graphql_query.match(/(\$\w+)/g).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return e.replace("$","")})):[]}},watch:{"dataForm.preferences.default_values_api_path":function(e){this.assignInitialDataVariablesWatchers()},"dataForm.preferences.graphql_query":function(e){this.assignInitialDataVariablesWatchers()},isLoading:function(e){var t=this;e||this.$nextTick((function(){t.assignInitialDataVariablesWatchers(),(0,i.YP)((function(){return t.$refs.form.formData}),(function(e){t.assignInitialDataVariablesWatchers()})),(0,i.YP)((function(){return t.$refs.form.isSubmitting}),(function(e){t.isSubmitting=e}))}))},data:function(){this.formData=E({},this.data),this.loadData()},form:function(){this.dataForm=E({},this.form),this.loadData()}},created:function(){var e,t=this;return(e=T().mark((function e(){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.formData=E({},t.data),t.form){e.next=6;break}return e.next=4,t.loadForm();case 4:e.next=7;break;case 6:t.dataForm=E({},t.form);case 7:return e.next=9,t.loadData();case 9:t.isLoading=!1,t.$emit("loaded",t.dataForm);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){O(o,i,r,s,a,"next",e)}function a(e){O(o,i,r,s,a,"throw",e)}s(void 0)}))})()},methods:{submit:function(){var e=this;this.triggerRequest?this.$refs.form.handleSubmit():this.$refs.form.validate((function(t){t?e.$emit("submitData",e.formData):e.$refs.form.scrollToErrors()}))},assignInitialDataVariablesWatchers:function(){var e,t=this,n=(null===(e=this.$refs.form)||void 0===e?void 0:e.formData)||this.formData;this.intialDataVariables.forEach((function(e){t.variableWatchers[e]=(0,i.YP)((function(){return n[e]}),(function(e){(e||!1===e||0===e)&&t.loadData()}))}))},resetData:function(){var e=this;this.isSuccess=!1,this.formData=E({},this.data),this.isLoading=!0,this.loadData().finally((function(){e.isLoading=!1}))},onSuccess:function(e){this.isSuccess=!0,this.$emit("success",e)},loadData:function(){var e,t=this,n=(null===(e=this.$refs.form)||void 0===e?void 0:e.formData)||this.formData,i=this.intialDataVariables.some((function(e){return![null,void 0,""].includes(n[e])}))||0===Object.keys(this.intialDataVariables).length;if((this.dataForm.preferences.default_values_api_path||this.dataForm.preferences.graphql_query)&&i){var r;if("graphql"===this.dataForm.preferences.request_type)r=b.Z.post("run_graphql_request",{data:{query:this.dataForm.preferences.graphql_query,api_config_name:this.dataForm.api_config_name,variables:n}});else{var o=(0,p.sX)(this.dataForm.preferences.default_values_api_path,n);r="origin"===this.dataForm.api_config_name||o.startsWith(location.origin)?(0,f.w)().then((function(e){return y().get(o,{headers:e.headers})})):b.Z.get("run_api_request",{params:{data:{api_config_name:this.dataForm.api_config_name,path:o}}})}return r.then((function(e){var n;null!==(n=e.data)&&void 0!==n&&n.errors?t.$Message.error((0,p.$G)(e.data.errors.map((function(e){return e.message})).join("\n"),70)):e.data.data&&1===Object.keys(e.data.data).length&&P(Object.values(e.data.data)[0])?t.formData=E(E({},t.data),Object.values(e.data.data)[0]):P(e.data.data)?t.formData=E(E({},t.data),e.data.data):t.formData=E(E({},t.data),e.data)})).catch((function(e){var n;console.error(e),null!==(n=e.response.data)&&void 0!==n&&n.errors?t.$Message.error((0,p.$G)(e.response.data.errors.join("\n"),70)):t.$Message.error(t.i18n.unable_to_load_form_data)}))}return Promise.resolve({})},loadForm:function(){var e=this;return b.Z.get("forms/".concat(this.formId),{}).then((function(t){e.dataForm=t.data.data})).catch((function(t){var n;console.error(t),null!==(n=t.response.data)&&void 0!==n&&n.errors&&e.$Message.error(t.response.data.errors.join("\n"))}))}}},$=(0,A.Z)(M,[["render",function(e,t,n,s,a,l){var c=(0,i.up)("Spin"),u=(0,i.up)("CustomForm"),h=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",null,[a.isLoading?((0,i.wg)(),(0,i.j4)(c,{key:0,fix:""})):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Wm)(u,{ref:"form",form:a.dataForm,data:a.formData,"with-submit":!n.withFooterSubmit,"with-success-message":n.withSuccessMessage,"with-go-back":n.withGoBack,"exclude-fields":n.excludeFields,"submit-button-size":n.submitButtonSize,onSuccess:l.onSuccess,onError:t[0]||(t[0]=function(t){return e.$emit("error",t)}),onReset:l.resetData,onSubmit:t[1]||(t[1]=function(t){return e.$emit("submit",t)}),onBack:t[2]||(t[2]=function(t){return e.$emit("back")})},null,8,["form","data","with-submit","with-success-message","with-go-back","exclude-fields","submit-button-size","onSuccess","onReset"]),n.withFooterSubmit&&!a.isSuccess?((0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(h,{type:"primary",long:"",size:n.submitButtonSize,disabled:a.isSubmitting,loading:a.isSubmitting,style:{position:"sticky",bottom:"0"},onClick:l.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.submit),1)]})),_:1},8,["size","disabled","loading","onClick"])])):(0,i.kq)("",!0)],64))])}]])},9347:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(6252);n(9653);var r=n(8424);const o={name:"DashboardSelect",props:{modelValue:{type:[String,Number],required:!1,default:""},size:{type:String,required:!1,default:"default"},withDeselect:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue"],computed:{dashboards:function(){return r.n3}},created:function(){(0,r.jc)()},methods:{}},s=(0,n(3744).Z)(o,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("MSelect");return(0,i.wg)(),(0,i.j4)(a,{"model-value":n.modelValue,filterable:"",size:n.size,options:s.dashboards,"label-key":"title","value-key":"id","with-deselect":n.withDeselect,placeholder:e.i18n.select_dashboard,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value","size","options","with-deselect","placeholder"])}]])},5757:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ye});var i=n(6252);n(9653),n(3710),n(1539),n(9714),n(4916),n(4723);var r=n(3577),o={key:0},s=n(1308);const a={name:"DateTime",props:{value:{type:String,required:!1,default:""},displayTime:{type:Boolean,required:!1,default:!0},isDate:{type:Boolean,required:!1,default:!1}},computed:{formattedDate:function(){return(0,s.p)(this.value,null,this.displayTime,this.isDate)},timeAgo:function(){return(0,s.q)(this.value,new Date)}},methods:{copyToClipboard:function(){return navigator.clipboard.writeText(this.formattedDate)}}};var l=n(3744);const c=(0,l.Z)(a,[["render",function(e,t,n,s,a,l){return n.value?((0,i.wg)(),(0,i.iD)("span",o,(0,r.zw)(l.formattedDate),1)):(0,i.kq)("",!0)}]]);var u=[(0,i.Uk)("...")];n(7042),n(2222);const h={props:{truncate:{type:Boolean,required:!1,default:!0}},computed:{isTruncated:function(){return!!this.truncate&&this.value.length>60},truncatedValue:function(){if(this.isTruncated){var e=this.value.slice(0,60);return this.truncateWithoutDots||(e=e.concat("...")),e}return this.value}}};function d(){return navigator.clipboard.writeText(this.value.toString())}const p={name:"TextCell",mixins:[h],props:{value:{type:[String],required:!1,default:""}},data:function(){return{truncateWithoutDots:!0}},computed:{popoverParams:function(){return{content:this.value,trigger:"mouseenter",disabled:!this.isTruncated,bodyStyle:{maxWidth:"350px",overflowY:"auto",maxHeight:"200px",whiteSpace:"pre-wrap",lineBreak:"anywhere"}}}},methods:{copyToClipboard:d}},f=(0,l.Z)(p,[["render",function(e,t,n,o,s,a){var l=(0,i.Q2)("popover");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(["text-cell",{"pre-wrap":!e.truncate}])},[(0,i.Uk)((0,r.zw)(e.truncatedValue),1),e.isTruncated?(0,i.wy)(((0,i.wg)(),(0,i.iD)("span",{key:n.value},u)),[[l,a.popoverParams]]):(0,i.kq)("",!0)],2)}]]);var m=n(9963);n(3123),n(6755),n(8309);const g={name:"TextCell",mixins:[h],props:{value:{type:[String],required:!1,default:""},format:{type:Object,required:!1,default:function(){return{}}}},computed:{truncatedValue:function(){var e=this.value.match(/^\/rails/)?this.value.split("/").pop():this.value;return this.isTruncated?e.slice(0,60)+"...":e},linkParams:function(){var e={};if(this.value.match(/^(https?:|\/rails)/))e.target="_blank",e.is="a",e.href=this.value;else if(this.value.startsWith("/")){var t=this.$router.resolve({path:this.value},this.$route);null!=t&&t.name?(e.is="RouterLink",e.to=t):(e.is="a",e.href=this.value)}else e.is="a",e.target="_blank",e.href="https://"+this.value;return e}},methods:{copyToClipboard:function(){var e="/"===this.value[0]?document.location.origin+this.value:this.value;return navigator.clipboard.writeText(e)}}},v=(0,l.Z)(g,[["render",function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.j4)((0,i.LL)(a.linkParams.is),{href:a.linkParams.href,target:a.linkParams.target,rel:"nofollow",class:(0,r.C_)(n.format.link_text?"ivu-btn ivu-btn-primary ivu-btn-ghost":"text-break-all"),onClick:t[0]||(t[0]=(0,m.iM)((function(){}),["stop"]))},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(n.format.link_text||a.truncatedValue),1)]})),_:1},8,["href","target","class"])}]]);n(9753);var y=[function(e){return(0,i.dD)("data-v-684a3338"),e=e(),(0,i.Cn)(),e}((function(){return(0,i._)("span",{style:{"vertical-align":"middle","margin-bottom":"2px"},class:"ion ion-ios-funnel"},null,-1)}))];n(6699),n(2023),n(1249),n(3210);var b=n(2871),w=n(5763),_={ok:"ivu-tag-green",done:"ivu-tag-green",available:"ivu-tag-green",completed:"ivu-tag-green",valid:"ivu-tag-green",fail:"ivu-tag-red",failed:"ivu-tag-red",undone:"ivu-tag-orange",interrupt:"ivu-tag-orange",interrupted:"ivu-tag-orange",unavailable:"ivu-tag-orange",progress:"ivu-tag-orange",in_progress:"ivu-tag-blue",pending:"ivu-tag-blue",enabled:"ivu-tag-green",resolved:"ivu-tag-green",disabled:"ivu-tag-red",invalid:"ivu-tag-red"};const x={name:"DataTag",props:{value:{type:[String,Array,Number],required:!1,default:function(){return[]}},format:{type:Object,required:!1,default:function(){return{}}},withFilterButton:{type:Boolean,required:!1,default:!1}},emits:["tag-click"],computed:{colorClass:function(){return _[this.value]},options:function(){return this.format.select_options||{}},normalizedValue:function(){return"string"==typeof this.value&&this.format.split_tags_by&&this.value.includes(this.format.split_tags_by)?this.value.split(this.format.split_tags_by).map((function(e){return e.trim()})):this.value},tagColors:function(){return(0,b.i)(this.value)},bgStyle:function(){return this.colorClass?"":"background: ".concat(this.tagColors[0],"; border: 1px solid ").concat(this.tagColors[1])},textStyle:function(){return this.colorClass?"":"color: ".concat(this.tagColors[1]," !important")}},methods:{titleize:w.MI,copyToClipboard:d}},k=(0,l.Z)(x,[["render",function(e,t,n,o,s,a){var l=(0,i.up)("DataTag");return Array.isArray(a.normalizedValue)?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(a.normalizedValue,(function(e,t){return(0,i.wg)(),(0,i.j4)(l,{key:t,value:e,format:n.format},null,8,["value","format"])})),128)):n.value||0==n.value?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,r.C_)(["ivu-tag ivu-tag-size-default ivu-tag-checked cursor-unset position-relative",a.colorClass]),style:(0,r.j5)(a.bgStyle)},[(0,i._)("span",{class:"ivu-tag-text ivu-tag-color-white cursor-unset",style:(0,r.j5)(a.textStyle)},(0,r.zw)(a.options[n.value]||a.titleize(n.value.toString())),5),n.withFilterButton?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,r.C_)(["filter-popup",a.colorClass]),style:(0,r.j5)(a.bgStyle),onClick:t[0]||(t[0]=(0,m.iM)((function(t){return e.$emit("tag-click",n.value)}),["stop"]))},y,6)):(0,i.kq)("",!0)],6)):(0,i.kq)("",!0)}],["__scopeId","data-v-684a3338"]]);var C={key:0,class:"photoswipe"},S=["href"],A=["src"],T=["src"],O=n(9276),L=n(5826);const E={name:"DataImage",props:{value:{type:String,required:!0},photoswipe:{type:Boolean,required:!1,default:!1}},methods:{initPhotoswipe:function(e){if(this.$refs.container.dataset.pswpWidth=100*e.target.width,this.$refs.container.dataset.pswpHeight=100*e.target.height,this.photoswipe){var t={gallerySelector:".photoswipe a",pswpModule:L.Z};new O.Z(t).init()}},copyToClipboard:function(){var e="/"===this.value[0]?document.location.origin+this.value:this.value;return navigator.clipboard.writeText(e)}}},D=(0,l.Z)(E,[["render",function(e,t,n,r,o,s){return n.photoswipe&&n.value?((0,i.wg)(),(0,i.iD)("div",C,[(0,i._)("a",{ref:"container",href:n.value,target:"_blank",class:"cursor-zoom-in"},[(0,i._)("img",{ref:"image",class:"info-image",src:n.value,onLoad:t[0]||(t[0]=function(){return s.initPhotoswipe&&s.initPhotoswipe.apply(s,arguments)})},null,40,A)],8,S)])):n.value?((0,i.wg)(),(0,i.iD)("img",{key:1,class:"table-image",src:n.value},null,8,T)):(0,i.kq)("",!0)}]]),P={name:"DataBoolean",props:{value:{type:[Boolean,String],required:!1,default:!1}},computed:{},mounted:function(){},methods:{copyToClipboard:d}},M=(0,l.Z)(P,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("Icon");return"true"===n.value||!0===n.value?((0,i.wg)(),(0,i.j4)(a,{key:0,type:"md-checkmark-circle",class:"text-success fs-2"})):((0,i.wg)(),(0,i.j4)(a,{key:1,type:"md-close-circle",class:"text-danger fs-2"}))}]]);var $=["href"];const R={name:"TextCell",mixins:[h],props:{value:{type:[String],required:!1,default:""}},computed:{},methods:{copyToClipboard:d}},I=(0,l.Z)(R,[["render",function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("a",{href:"mailto:".concat(n.value),target:"_blank",rel:"nofollow",onClick:t[0]||(t[0]=(0,m.iM)((function(){}),["stop"]))},(0,r.zw)(e.truncatedValue),9,$)}]]);var F=["href"];const j={name:"DataPhone",mixins:[h],props:{value:{type:[String],required:!1,default:""}},computed:{},methods:{copyToClipboard:d}},N=(0,l.Z)(j,[["render",function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("a",{href:"tel:".concat(n.value),target:"_blank",rel:"nofollow",onClick:t[0]||(t[0]=(0,m.iM)((function(){}),["stop"]))},(0,r.zw)(e.truncatedValue),9,F)}]]),z={name:"CurrencyCell",props:{value:{type:[String,Number],required:!1,default:""},format:{type:Object,required:!1,default:function(){return{}}}},computed:{formattedValue:function(){var e="cents"===this.format.currency_base?this.value/100:this.value;return Intl.NumberFormat(navigator.language||"en-US",{style:"currency",currency:this.format.currency||"USD"}).format(e)}},methods:{copyToClipboard:function(){return navigator.clipboard.writeText(this.formattedValue)}}},q=(0,l.Z)(z,[["render",function(e,t,n,i,o,s){return(0,r.zw)(s.formattedValue)}]]);var V=["innerHTML"];n(9554),n(4747);var B=n(7856),W=n.n(B),U=n(6250),H=n.n(U);const Z={name:"RichtextCell",props:{value:{type:[String],required:!1,default:""},truncate:{type:Boolean,required:!1,default:!0}},computed:{safeHtml:function(){var e;return null!==(e=this.value)&&void 0!==e&&e.includes("data-trix-attachment")?H().DocumentView.render(H().Document.fromHTML(this.value)).innerHTML:W().sanitize(this.value)},truncatedValue:function(){return this.rawText.length>60?this.rawText.slice(0,60)+"...":this.rawText},rawText:function(){return W().sanitize(this.value,{ALLOWED_TAGS:[],KEEP_CONTENT:!0})},popoverParams:function(){return{content:this.safeHtml,trigger:"mouseenter",disabled:!0,bodyStyle:{maxWidth:"350px",overflowY:"auto",maxHeight:"200px",whiteSpace:"pre-wrap",lineBreak:"anywhere"}}}},mounted:function(){this.$el.querySelectorAll(".attachment__name").forEach((function(e){var t,n,i,r=null===(t=e.parentElement)||void 0===t||null===(n=t.parentElement)||void 0===n||null===(i=n.dataset)||void 0===i?void 0:i.trixAttachment;if(r){var o=JSON.parse(r),s=document.createElement("a");s.href=o.url,s.innerHTML=o.filename,e.innerHTML=s.outerHTML}}))},methods:{copyToClipboard:d}},K=(0,l.Z)(Z,[["render",function(e,t,n,r,o,s){return(0,i.wg)(),(0,i.iD)("div",{class:"richtext richtext-cell trix-content",innerHTML:n.truncate?s.truncatedValue:s.safeHtml},null,8,V)}]]);n(1058);const G={name:"PercentageCell",props:{value:{type:[String,Number,Array],required:!1,default:0}},computed:{percent:function(){var e,t=100;return"string"==typeof this.value?e=parseInt(this.value):Array.isArray(this.value)?(e=parseInt(this.value[0]),t=parseInt(this.value[1])||t):e=this.value,parseInt(e/t*100)}},methods:{copyToClipboard:function(){return navigator.clipboard.writeText(this.percent+"%")}}},Y=(0,l.Z)(G,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("Progress");return(0,i.wg)(),(0,i.j4)(a,{percent:s.percent,"stroke-width":20,"text-inside":""},null,8,["percent"])}],["__scopeId","data-v-3afb9c5a"]]),Q={name:"ChangeCell",props:{value:{type:[String,Number],required:!1,default:0}},computed:{isPositiveChange:function(){return!this.value.toString().match(/^-/)}},methods:{copyToClipboard:d}},J=(0,l.Z)(Q,[["render",function(e,t,n,o,s,a){var l=(0,i.up)("Icon");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(a.isPositiveChange?"text-success":"text-danger")},[(0,i.Wm)(l,{type:a.isPositiveChange?"md-arrow-round-up":"md-arrow-round-down"},null,8,["type"]),(0,i.Uk)(" "+(0,r.zw)(n.value),1)],2)}]]);var X={key:0,viewBox:"0 0 300 105",width:"100%",style:{"max-width":"200px"}},ee=["points"];function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(9600),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(1038);const ne={name:"ChartCell",props:{value:{type:[String,Number,Array],required:!1,default:0}},computed:{stepX:function(){return parseInt(300/(this.value.length-1))},maxValue:function(){return Math.max.apply(Math,function(e){if(Array.isArray(e))return te(e)}(e=this.value)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var e},points:function(){var e=this;return this.value.map((function(t,n){return"".concat(n*e.stepX,",").concat(102-(e.maxValue?parseInt(100*t/e.maxValue):0))})).join("\n")}},methods:{copyToClipboard:d}},ie=(0,l.Z)(ne,[["render",function(e,t,n,r,o,s){return Array.isArray(n.value)?((0,i.wg)(),(0,i.iD)("svg",X,[(0,i._)("polyline",{fill:"none",stroke:"#408ccf","stroke-width":"4",points:s.points},null,8,ee)])):(0,i.kq)("",!0)}]]);var re={class:"d-flex"};const oe={name:"ColorCell",props:{value:{type:String,required:!1,default:""}},computed:{},methods:{copyToClipboard:d}};var se=["src"];const ae={name:"AudioCell",props:{value:{type:[String],required:!1,default:""}},computed:{},methods:{copyToClipboard:function(){var e="/"===this.value[0]?document.location.origin+this.value:this.value;return navigator.clipboard.writeText(e)}}};var le=["src"],ce=["src"];const ue={name:"DataVideo",props:{value:{type:String,required:!0},isTable:{type:Boolean,required:!1,default:!0}},methods:{copyToClipboard:function(){var e="/"===this.value[0]?document.location.origin+this.value:this.value;return navigator.clipboard.writeText(e)}}},he={name:"NumberCell",props:{value:{type:[String,Number,Array],required:!1,default:""},withFormat:{type:Boolean,required:!1,default:!1}},computed:{formattedValue:function(){return Array.isArray(this.value)?null!==this.value?JSON.stringify(this.value,null," "):this.value:this.withFormat&&this.value&&"number"==typeof this.value?Intl.NumberFormat(navigator.language||"en-US").format(this.value):null===(e=this.value)||void 0===e?void 0:e.toString();var e}},methods:{copyToClipboard:d}},de={name:"DataRating",props:{value:{type:[String,Number],required:!1,default:""}},computed:{},methods:{copyToClipboard:d}},pe="text",fe="datetime",me="tag",ge="date",ve={name:"DataCell",components:{DataText:f,DateTime:c,DataLink:v,DataTag:k,DataImage:D,DataBoolean:M,DataEmail:I,DataPhone:N,DataCurrency:q,DataRichtext:K,DataPercentage:Y,DataChange:J,DataChart:ie,DataColor:(0,l.Z)(oe,[["render",function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",re,[(0,i._)("span",{style:(0,r.j5)({backgroundColor:n.value,width:"20px",height:"20px",marginRight:"5px"})},null,4),(0,i.Uk)(" "+(0,r.zw)(n.value),1)])}]]),DataAudio:(0,l.Z)(ae,[["render",function(e,t,n,r,o,s){return n.value?((0,i.wg)(),(0,i.iD)("audio",{key:0,controls:"",preload:"metadata",class:"align-middle my-1",src:n.value},null,8,se)):(0,i.kq)("",!0)}]]),DataVideo:(0,l.Z)(ue,[["render",function(e,t,n,r,o,s){return n.isTable&&n.value?((0,i.wg)(),(0,i.iD)("video",{key:0,src:n.value,class:"table-image"},null,8,le)):n.value?((0,i.wg)(),(0,i.iD)("video",{key:1,src:n.value,style:{width:"100%"},controls:""},null,8,ce)):(0,i.kq)("",!0)}]]),DataNumber:(0,l.Z)(he,[["render",function(e,t,n,i,o,s){return(0,r.zw)(s.formattedValue)}]]),DataRating:(0,l.Z)(de,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("Rate");return(0,i.wg)(),(0,i.j4)(a,{value:n.value,disabled:"",count:5},null,8,["value"])}]])},props:{value:{type:[String,Number,Object,Boolean],required:!1,default:""},type:{type:String,required:!1,default:pe},format:{type:Object,required:!1,default:function(){return{}}},isTable:{type:Boolean,required:!1,default:!1},textTruncate:{type:Boolean,required:!1,default:!0}},emits:["tag-click"],computed:{stringValue:function(){return this.value&&"object"==typeof this.value?JSON.stringify(this.value,null,"  "):"number"==typeof this.value?this.value.toString():(null!==(e=this.value)&&void 0!==e?e:"").toString();var e},isDateTime:function(){return this.type===fe||this.type===ge},isTag:function(){return this.type===me},isPhone:function(){return!!this.stringValue.match(/^\+[\d\s()-]{5,}$/)},isEmail:function(){return!!this.stringValue.match(/^[\w.]+@[\w-]+\.\w{2,3}/)},isBoolean:function(){return"boolean"===this.type},isPercentage:function(){return"percentage"===this.type},isChange:function(){return"change"===this.type},isNumber:function(){return"integer"===this.type||"float"===this.type||"number"===this.type},isChart:function(){return"chart"===this.type},isImage:function(){return"image"===this.type||this.isPath&&!!this.stringValue.match(/\.(jpg|png|jpeg|webp|svg|gif|heic|heif)$/i)},isAudio:function(){return"audio"===this.type||this.isPath&&!!this.stringValue.match(/\.(mp3|ogg|wav|aif)$/i)},isVideo:function(){return"video"===this.type||this.isPath&&!!this.stringValue.match(/\.(mp4|mov|flv|webm)$/i)},isCurrency:function(){return"currency"===this.type},isColor:function(){return"color"===this.type},isRichtext:function(){return"richtext"===this.type},isUrl:function(){return"link"===this.type||!!this.stringValue.match(/^https?:\/\//i)},isPath:function(){return!!this.stringValue.match(/^\/[^\s]+$/i)}}},ye=(0,l.Z)(ve,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("DateTime"),l=(0,i.up)("DataRichtext"),c=(0,i.up)("DataPercentage"),u=(0,i.up)("DataColor"),h=(0,i.up)("DataChange"),d=(0,i.up)("DataChart"),p=(0,i.up)("DataCurrency"),f=(0,i.up)("DataTag"),m=(0,i.up)("DataImage"),g=(0,i.up)("DataAudio"),v=(0,i.up)("DataVideo"),y=(0,i.up)("DataLink"),b=(0,i.up)("DataBoolean"),w=(0,i.up)("DataEmail"),_=(0,i.up)("DataPhone"),x=(0,i.up)("DataNumber"),k=(0,i.up)("DataRating"),C=(0,i.up)("DataText");return s.isDateTime?((0,i.wg)(),(0,i.j4)(a,{key:0,ref:"cell",value:s.stringValue,"display-time":"date"!==n.type,"is-date":"date"===n.type},null,8,["value","display-time","is-date"])):s.isRichtext?((0,i.wg)(),(0,i.j4)(l,{key:1,ref:"cell",truncate:n.textTruncate,value:n.value},null,8,["truncate","value"])):s.isPercentage?((0,i.wg)(),(0,i.j4)(c,{key:2,ref:"cell",value:n.value},null,8,["value"])):s.isColor?((0,i.wg)(),(0,i.j4)(u,{key:3,ref:"cell",value:n.value},null,8,["value"])):s.isChange?((0,i.wg)(),(0,i.j4)(h,{key:4,ref:"cell",value:n.value},null,8,["value"])):s.isChart?((0,i.wg)(),(0,i.j4)(d,{key:5,ref:"cell",value:n.value},null,8,["value"])):s.isCurrency?((0,i.wg)(),(0,i.j4)(p,{key:6,ref:"cell",value:n.value,format:n.format},null,8,["value","format"])):s.isTag?((0,i.wg)(),(0,i.j4)(f,{key:7,ref:"cell",value:n.value,format:n.format,"with-filter-button":n.isTable,onTagClick:t[0]||(t[0]=function(t){return e.$emit("tag-click",t)})},null,8,["value","format","with-filter-button"])):s.isImage?((0,i.wg)(),(0,i.j4)(m,{key:8,ref:"cell",photoswipe:!n.textTruncate,value:s.stringValue},null,8,["photoswipe","value"])):s.isAudio?((0,i.wg)(),(0,i.j4)(g,{key:9,ref:"cell",value:s.stringValue},null,8,["value"])):s.isVideo?((0,i.wg)(),(0,i.j4)(v,{key:10,ref:"cell","is-table":n.textTruncate,value:s.stringValue},null,8,["is-table","value"])):s.isUrl||s.isPath?((0,i.wg)(),(0,i.j4)(y,{key:11,ref:"cell",truncate:n.textTruncate,format:n.format,value:s.stringValue},null,8,["truncate","format","value"])):s.isBoolean?((0,i.wg)(),(0,i.j4)(b,{key:12,ref:"cell",value:n.value},null,8,["value"])):s.isEmail?((0,i.wg)(),(0,i.j4)(w,{key:13,ref:"cell",truncate:n.textTruncate,value:n.value},null,8,["truncate","value"])):s.isPhone?((0,i.wg)(),(0,i.j4)(_,{key:14,ref:"cell",truncate:n.textTruncate,value:n.value},null,8,["truncate","value"])):s.isNumber?((0,i.wg)(),(0,i.j4)(x,{key:15,ref:"cell",value:n.value,"with-format":n.format.number_format},null,8,["value","with-format"])):"rating"===n.type?((0,i.wg)(),(0,i.j4)(k,{key:16,ref:"cell",value:n.value},null,8,["value"])):((0,i.wg)(),(0,i.j4)(C,{key:17,ref:"cell",truncate:n.textTruncate,value:s.stringValue},null,8,["truncate","value"]))}]])},5954:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m}),n(7327),n(1539),n(3710),n(9714);var i=n(6252),r=n(9963),o=n(3577),s=(0,i.Uk)(),a={key:2,class:"info-popup"},l={style:{"vertical-align":"middle","font-size":"16px","margin-bottom":"2px"},class:"ion ion-ios-information-circle-outline"};n(9653),n(4916),n(4723),n(9600),n(9826),n(8309),n(9070),n(7941),n(2526),n(5003),n(9554),n(4747),n(9337),n(3321);var c=n(48),u=n(5763);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const f={name:"ResourceReference",props:{resourceId:{type:[String,Number],required:!0},referenceName:{type:String,required:!1,default:""},referenceData:{type:[String,Object],required:!1,default:function(){return{}}},polymorphicModel:{type:Object,required:!1,default:null},maxLength:{type:Number,required:!1,default:20},alwaysRefer:{type:Boolean,required:!1,default:!1},showPopover:{type:Boolean,required:!1,default:!1}},computed:{isNumberId:function(){return!!this.resourceId.toString().match(/^\d+$/)},referenceId:function(){return this.referenceData[this.model.primary_key]},isCanRead:function(){return this.$can("read",this.model.class_name,this.referenceData)},displayText:function(){return this.referenceData.first_name&&this.referenceData.last_name?[this.referenceData.first_name,this.referenceData.last_name].join(" "):this.referenceData[this.model.display_column]},popoverParams:function(){var e=this,t=this.model.tabs.find((function(e){return"details"===e.name}));return{trigger:"mouseenter",render:function(i){return"query"===(null==t?void 0:t.tab_type)?i(n(7387).Z,{tab:t,style:"min-width: 250px",class:"richtext-no-padding",variables:d(p({id:e.referenceId},"".concat(e.model.name,"_id"),e.referenceId),e.referenceData)}):i(n(299).Z,{resourceName:e.model.name,resourceId:e.referenceId,oneColumn:!0,referencePopover:!1})},disabled:!this.showPopover||!this.referenceId||!this.isCanRead,placement:"right",bodyStyle:{whiteSpace:"query"===(null==t?void 0:t.tab_type)?"":"break-spaces",overflowY:"auto",minHeight:"50px",maxHeight:"300px",maxWidth:"300px"}}},model:function(){return this.polymorphicModel?this.polymorphicModel:c.r3[this.referenceName]},resourceSlug:function(){return this.model.slug}},methods:{truncate:u.$G,copyToClipboard:function(){return navigator.clipboard.writeText(this.referenceId)}}},m=(0,n(3744).Z)(f,[["render",function(e,t,n,c,u,h){var d=(0,i.up)("VButton"),p=(0,i.Q2)("popover");return(0,i.wg)(),(0,i.j4)(d,{to:h.referenceId||n.resourceId||n.alwaysRefer?{name:"resources",params:{fragments:[h.resourceSlug,h.referenceId||n.resourceId].filter(Boolean)}}:null,type:"primary",ghost:"",shape:"circle",class:"position-relative",onClick:t[0]||(t[0]=(0,r.iM)((function(){}),["stop"]))},{default:(0,i.w5)((function(){return[h.isNumberId?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[n.alwaysRefer||h.model.display_primary_key||!h.displayText?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)(" #"+(0,o.zw)(n.resourceId),1)],64)):(0,i.kq)("",!0),s,n.resourceId!==h.displayText?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(h.truncate(h.displayText,n.maxLength)),1)],64)):(0,i.kq)("",!0)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,o.zw)(h.truncate(h.model.display_primary_key?n.resourceId.toString():h.displayText,n.maxLength)),1)],64)),h.popoverParams.disabled?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",a,[(0,i.wy)((0,i._)("span",l,null,512),[[p,h.popoverParams]])]))]})),_:1},8,["to"])}],["__scopeId","data-v-476a8fb8"]])},1699:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Xe}),n(8309),n(9753),n(7941),n(9720),n(3710),n(1539),n(9714),n(9600);var i=n(6252),r=n(9963),o=["multiple"];n(9653),n(6699),n(4916),n(4723),n(2023),n(1249),n(3123),n(3210),n(8674),n(7727),n(6992),n(8783),n(3948),n(5306),n(2526),n(1817),n(2165),n(1038),n(7042);var s={exports:{}};s.exports=function(e){var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],r=e[2],o=e[3];i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&i)+t[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&i)+t[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&i)+t[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&i)+t[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|o>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|o>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[14]-1416354905|0)<<15|r>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[10]-1051523|0)<<15|r>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[6]-1560198380|0)<<15|r>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[2]+718787259|0)<<15|r>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=o+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,r,o,s,a,l,c=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(u,i(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(u,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),l=parseInt(s[1],16)||0,o[14]=a,o[15]=l,n(u,o),u}function s(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function l(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function c(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function u(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(t,n){var i,r,o,s,a=this.byteLength,l=e(t,a),c=a;return undefined!==n&&(c=e(n,a)),l>c?new ArrayBuffer(0):(i=c-l,r=new ArrayBuffer(i),o=new Uint8Array(r),s=new Uint8Array(this,l,i),o.set(s),r)}}(),u.prototype.append=function(e){return this.appendBinary(l(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=c(n)),this.reset(),n},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var i,r,o,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,e),s=0;s<16;s+=1)e[s]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,e[14]=r,e[15]=o,n(this._hash,e)},u.hash=function(e,t){return u.hashBinary(l(e),t)},u.hashBinary=function(e,t){var n=a(o(e));return t?c(n):n},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(e){var t,i,o,s,a,l=(i=this._buff.buffer,o=e,s=!0,(a=new Uint8Array(i.byteLength+o.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(o),i.byteLength),s?a:a.buffer),c=l.length;for(this._length+=e.byteLength,t=64;t<=c;t+=64)n(this._hash,r(l.subarray(t-64,t)));return this._buff=t-64<c?new Uint8Array(l.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i[t]<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=c(n)),this.reset(),n},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,i=e.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=e.charCodeAt(n);return t?o:r}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var i=a(function(e){var t,i,o,s,a,l,c=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=c;t+=64)n(u,r(e.subarray(t-64,t)));for(i=(e=t-64<c?e.subarray(t-64):new Uint8Array(0)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(u,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*c).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),l=parseInt(s[1],16)||0,o[14]=a,o[15]=l,n(u,o),u}(new Uint8Array(e)));return t?c(i):i},u}();var a=s.exports;const l=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice;class c{static create(e,t){new c(e).create(t)}constructor(e){this.file=e,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}create(e){this.callback=e,this.md5Buffer=new a.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",(e=>this.fileReaderDidLoad(e))),this.fileReader.addEventListener("error",(e=>this.fileReaderDidError(e))),this.readNextChunk()}fileReaderDidLoad(e){if(this.md5Buffer.append(e.target.result),!this.readNextChunk()){const e=this.md5Buffer.end(!0),t=btoa(e);this.callback(null,t)}}fileReaderDidError(e){this.callback(`Error reading ${this.file.name}`)}readNextChunk(){if(this.chunkIndex<this.chunkCount||0==this.chunkIndex&&0==this.chunkCount){const e=this.chunkIndex*this.chunkSize,t=Math.min(e+this.chunkSize,this.file.size),n=l.call(this.file,e,t);return this.fileReader.readAsArrayBuffer(n),this.chunkIndex++,!0}return!1}}function u(e,t){return"string"==typeof e&&(t=e,e=document),e.querySelector(t)}function h(e,t,n={}){const{disabled:i}=e,{bubbles:r,cancelable:o,detail:s}=n,a=document.createEvent("Event");a.initEvent(t,r||!0,o||!0),a.detail=s||{};try{e.disabled=!1,e.dispatchEvent(a)}finally{e.disabled=i}return a}function d(e){return Array.isArray(e)?e:Array.from?Array.from(e):[].slice.call(e)}class p{constructor(e,t,n){this.file=e,this.attributes={filename:e.name,content_type:e.type||"application/octet-stream",byte_size:e.size,checksum:t},this.xhr=new XMLHttpRequest,this.xhr.open("POST",n,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");const i=function(e){const t=u(document.head,'meta[name="csrf-token"]');if(t)return t.getAttribute("content")}();null!=i&&this.xhr.setRequestHeader("X-CSRF-Token",i),this.xhr.addEventListener("load",(e=>this.requestDidLoad(e))),this.xhr.addEventListener("error",(e=>this.requestDidError(e)))}get status(){return this.xhr.status}get response(){const{responseType:e,response:t}=this.xhr;return"json"==e?t:JSON.parse(t)}create(e){this.callback=e,this.xhr.send(JSON.stringify({blob:this.attributes}))}requestDidLoad(e){if(this.status>=200&&this.status<300){const{response:e}=this,{direct_upload:t}=e;delete e.direct_upload,this.attributes=e,this.directUploadData=t,this.callback(null,this.toJSON())}else this.requestDidError(e)}requestDidError(e){this.callback(`Error creating Blob for "${this.file.name}". Status: ${this.status}`)}toJSON(){const e={};for(const t in this.attributes)e[t]=this.attributes[t];return e}}class f{constructor(e){this.blob=e,this.file=e.file;const{url:t,headers:n}=e.directUploadData;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",t,!0),this.xhr.responseType="text";for(const e in n)this.xhr.setRequestHeader(e,n[e]);this.xhr.addEventListener("load",(e=>this.requestDidLoad(e))),this.xhr.addEventListener("error",(e=>this.requestDidError(e)))}create(e){this.callback=e,this.xhr.send(this.file.slice())}requestDidLoad(e){const{status:t,response:n}=this.xhr;t>=200&&t<300?this.callback(null,n):this.requestDidError(e)}requestDidError(e){this.callback(`Error storing "${this.file.name}". Status: ${this.xhr.status}`)}}let m=0;class g{constructor(e,t,n){this.id=++m,this.file=e,this.url=t,this.delegate=n}create(e){c.create(this.file,((t,n)=>{if(t)return void e(t);const i=new p(this.file,n,this.url);v(this.delegate,"directUploadWillCreateBlobWithXHR",i.xhr),i.create((t=>{if(t)e(t);else{const t=new f(i);v(this.delegate,"directUploadWillStoreFileWithXHR",t.xhr),t.create((t=>{t?e(t):e(null,i.toJSON())}))}}))}))}}function v(e,t,...n){if(e&&"function"==typeof e[t])return e[t](...n)}class y{constructor(e,t){this.input=e,this.file=t,this.directUpload=new g(this.file,this.url,this),this.dispatch("initialize")}start(e){const t=document.createElement("input");t.type="hidden",t.name=this.input.name,this.input.insertAdjacentElement("beforebegin",t),this.dispatch("start"),this.directUpload.create(((n,i)=>{n?(t.parentNode.removeChild(t),this.dispatchError(n)):t.value=i.signed_id,this.dispatch("end"),e(n)}))}uploadRequestDidProgress(e){const t=e.loaded/e.total*100;t&&this.dispatch("progress",{progress:t})}get url(){return this.input.getAttribute("data-direct-upload-url")}dispatch(e,t={}){return t.file=this.file,t.id=this.directUpload.id,h(this.input,`direct-upload:${e}`,{detail:t})}dispatchError(e){this.dispatch("error",{error:e}).defaultPrevented||alert(e)}directUploadWillCreateBlobWithXHR(e){this.dispatch("before-blob-request",{xhr:e})}directUploadWillStoreFileWithXHR(e){this.dispatch("before-storage-request",{xhr:e}),e.upload.addEventListener("progress",(e=>this.uploadRequestDidProgress(e)))}}class b{constructor(e){var t,n;this.form=e,this.inputs=(t=e,n="input[type=file][data-direct-upload-url]:not([disabled])","string"==typeof t&&(n=t,t=document),d(t.querySelectorAll(n))).filter((e=>e.files.length))}start(e){const t=this.createDirectUploadControllers(),n=()=>{const i=t.shift();i?i.start((t=>{t?(e(t),this.dispatch("end")):n()})):(e(),this.dispatch("end"))};this.dispatch("start"),n()}createDirectUploadControllers(){const e=[];return this.inputs.forEach((t=>{d(t.files).forEach((n=>{const i=new y(t,n);e.push(i)}))})),e}dispatch(e,t={}){return h(this.form,`direct-uploads:${e}`,{detail:t})}}const w="data-direct-uploads-processing",_=new WeakMap;let x=!1;function k(e){const{target:t}=e;"INPUT"!=t.tagName&&"BUTTON"!=t.tagName||"submit"!=t.type||!t.form||_.set(t.form,t)}function C(e){A(e)}function S(e){"FORM"==e.target.tagName&&A(e)}function A(e){const t=e.target;if(t.hasAttribute(w))return void e.preventDefault();const n=new b(t),{inputs:i}=n;i.length&&(e.preventDefault(),t.setAttribute(w,""),i.forEach(T),n.start((e=>{t.removeAttribute(w),e?i.forEach(O):function(e){let t=_.get(e)||u(e,"input[type=submit], button[type=submit]");if(t){const{disabled:e}=t;t.disabled=!1,t.focus(),t.click(),t.disabled=e}else t=document.createElement("input"),t.type="submit",t.style.display="none",e.appendChild(t),t.click(),e.removeChild(t);_.delete(e)}(t)})))}function T(e){e.disabled=!0}function O(e){e.disabled=!1}setTimeout((function(){window.ActiveStorage&&(x||(x=!0,document.addEventListener("click",k,!0),document.addEventListener("submit",C,!0),document.addEventListener("ajax:before",S)))}),1);var L=n(2662);n(9826),n(2479),n(2222),n(7327),n(9070);var E=n(7248),D=n(48),P=n(645),M=n(5763),$=n(2734),R=n(8688);function I(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var j=(0,i.RC)((function(){return Promise.resolve().then(n.bind(n,9328))})),N=(0,i.RC)((function(){return Promise.resolve().then(n.bind(n,6117))}));const z={name:"ResourceSelect",props:{modelValue:{type:[String,Number,Array],required:!1,default:""},resourceName:{type:String,required:!0},multiple:{type:Boolean,required:!1,default:!1},primaryKey:{type:String,required:!1,default:""},selectedResource:{type:Object,required:!1,default:null},selectedResources:{type:Array,required:!1,default:function(){return[]}}},emits:["update:modelValue","select"],data:function(){return{options:[],selectedOptions:[],selectedOption:null,isLoading:!1,value:this.multiple?[]:""}},computed:{model:function(){return D.r3[this.resourceName]},canCreateNew:function(){var e;return!(null===(e=this.createAction)||void 0===e||!e.visible)},createAction:function(){return this.model.actions.find((function(e){return"create"===e.name}))},valueKey:function(){return this.primaryKey||this.model.primary_key},customCreateActionProps:function(){var e=this;return{data:(0,P.JG)(this.model),formId:this.createAction.preferences.form_id,withFooterSubmit:!0,withSuccessMessage:!1,onClose:function(){e.$Modal.remove()},onSuccess:function(t){e.onCreateSuccess(t.data.data||t.data[e.model.name]||t.data),e.$Modal.remove()}}},defaultCreateProps:function(){var e=this;return{action:"new",resource:(0,P.JG)(this.model),resourceName:this.model.name,withSaveAndCreateNew:!1,onClose:function(){e.$Modal.remove()},onSuccess:function(t){e.onCreateSuccess(t.data.data)}}}},watch:{modelValue:function(e){var t=this;this.multiple?null!=e&&e.length&&JSON.stringify(e)!==JSON.stringify(this.value)?this.loadMultipleResourceoptionsById(e).then((function(){t.value=e||[]})):e&&e.length||(this.selectedOptions=[]):this.value!==e&&this.assignSelectedOption()},multiple:function(){this.resetData()},selectedResource:function(){this.selectedOption=this.selectedResource},selectedResources:function(){this.selectedOptions=this.selectedResources},resourceName:function(){this.resetData(),this.loadResources("")}},created:function(){var e,t,n;this.multiple?null!==(e=this.selectedResources)&&void 0!==e&&e.length?(this.selectedOptions=I(this.selectedResources),this.options=I(this.selectedResources),this.value=this.modelValue):null!==(t=this.value)&&void 0!==t&&t.length?this.loadMultipleResourceoptionsById(this.value):this.modelValue&&"object"==typeof this.modelValue?(this.value=Object.values(this.modelValue),this.loadMultipleResourceoptionsById(this.value)):this.value||(this.value=[]):(this.selectedOption=this.selectedResource,this.selectedOption?this.value=null!==(n=this.modelValue)&&void 0!==n?n:"":this.assignSelectedOption())},methods:{handleValueUpdate:function(e){e!==this.value&&(this.value=e,this.$emit("update:modelValue",e))},onCreateSuccess:function(e){this.selectedOption=e,this.multiple?this.value.push(e[this.valueKey]):this.value=e[this.valueKey],this.$emit("update:modelValue",this.value)},onCreateClick:function(){var e="default"===this.createAction.action_type?j:N,t="default"===this.createAction.action_type?this.defaultCreateProps:this.customCreateActionProps;this.$Modal.open(e,t,{title:"".concat(this.createAction.display_name," ").concat((0,R.Z)(this.model.display_name)),closable:!0})},resetData:function(){this.value=this.multiple?[]:"",this.selectedOption=null,this.selectedOptions=[]},assignSelectedOption:function(){var e,t=this;this.modelValue?this.loadMultipleResourceoptionsById([this.modelValue]).then((function(e){var n;t.selectedOption=e.data.data[0],t.value=null!==(n=t.modelValue)&&void 0!==n?n:""})):(this.value=null!==(e=this.modelValue)&&void 0!==e?e:"",this.selectedOption=null)},labelFunction:function(e){var t=e[this.model.display_column];return"id"===this.valueKey?t?(0,M.$G)("#".concat(e[this.valueKey]," ").concat(t),200):"#".concat(e[this.valueKey]):(0,M.$G)(t,220)},loadMultipleResourceoptionsById:function(e){var t,n=this;this.isLoading=!0;var i,r,o,s=this.model.slug+(Array.isArray(e)?e.join():e);return this.resourcesRespCache||(this.resourcesRespCache={}),(t=this.resourcesRespCache)[s]||(t[s]=E.Z.get("data/".concat(this.model.slug),{params:{fields:(0,$.n)(this.model),filter:(i={},r=this.valueKey,o=e,r in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,i)}})),this.resourcesRespCache[s].then((function(e){return n.selectedOptions=e.data.data,e})).catch((function(e){console.error(e)})).finally((function(){n.isLoading=!1}))},loadResources:function(e){var t,n=this,i=this.model.slug+e;return this.isLoading=!0,this.resourcesRespCache||(this.resourcesRespCache={}),(t=this.resourcesRespCache)[i]||(t[i]=E.Z.get("data/".concat(this.model.slug),{params:{q:e.includes(" ")?e.replace(/^#\d+\s/,""):e.replace(/^#/,""),fields:(0,$.n)(this.model),page:{limit:100}}})),this.resourcesRespCache[i].then((function(t){!e&&n.multiple?n.options=[].concat(I(n.selectedOptions),I(t.data.data.filter((function(e){return!n.value.includes(e[n.model.primary_key])})))):n.options=t.data.data})).catch((function(e){console.error(e)})).finally((function(){n.isLoading=!1}))}}};var q=n(3744);const V=(0,q.Z)(z,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("MSelect");return(0,i.wg)(),(0,i.j4)(a,{key:n.resourceName,"selected-options":o.selectedOptions,"onUpdate:selected-options":t[0]||(t[0]=function(e){return o.selectedOptions=e}),"selected-option":o.selectedOption,"onUpdate:selected-option":t[1]||(t[1]=function(e){return o.selectedOption=e}),"model-value":o.value,filterable:"","remote-function":s.loadResources,options:o.options,loading:o.isLoading,multiple:n.multiple,"with-create-button":s.canCreateNew,"value-key":s.valueKey,"label-function":s.labelFunction,"onUpdate:modelValue":s.handleValueUpdate,onSelect:t[2]||(t[2]=function(t){return e.$emit("select",t)}),onClickCreate:s.onCreateClick},null,8,["selected-options","selected-option","model-value","remote-function","options","loading","multiple","with-create-button","value-key","label-function","onUpdate:modelValue","onClickCreate"])}]]);n(5827),n(4765),n(4553),n(5003),n(9554),n(4747),n(9337),n(3321);var B=n(9813);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const K={name:"QueryValueSelect",props:{modelValue:{type:[String,Number,Array],required:!1,default:""},queryId:{type:[String,Number],required:!0},multiple:{type:Boolean,required:!1,default:!1},formData:{type:Object,required:!1,default:function(){return{}}},size:{type:String,required:!1,default:"default"}},emits:["update:modelValue","select"],data:function(){return{isLoading:!1,labelColumnIndex:1,valueColumnIndex:0,dataValue:null,data:[],columns:[],selectedOptions:[],selectedOption:null,query:null}},computed:{variablesData:function(){var e=this;return this.query&&this.formData?this.query.preferences.variables.reduce((function(t,n){return"search"!==n.name&&(t[n.name]=e.formData[n.name]),t}),{}):null},isSearchableQuery:function(){return this.query&&this.query.preferences.variables.find((function(e){return"search"===e.name}))}},watch:{multiple:function(){this.dataValue=null,this.selectedOption=null,this.selectedOptions=[]},queryId:function(){var e=this;this.data=[],this.loadQuery().then((function(){e.loadOptions()}))},modelValue:function(e){var t=this;JSON.stringify(this.dataValue)!==JSON.stringify(this.modelValue)&&(this.modelValue.length&&this.isSearchableQuery&&this.columns.length?this.loadSelectedOptions().then((function(){t.dataValue=JSON.parse(JSON.stringify(t.modelValue))})):this.dataValue=JSON.parse(JSON.stringify(this.modelValue)))}},mounted:function(){var e=this;(0,i.YP)((function(){return[e.variablesData,e.modelValue]}),(function(t,n){var i=H(t,2),r=i[0],o=i[1],s=H(n,2),a=s[0],l=s[1];JSON.stringify(a)!==JSON.stringify(r)&&(JSON.stringify(l)===JSON.stringify(o)&&null!==r&&null!==a&&(Array.isArray(e.modelValue)?e.modelValue.length:e.modelValue)&&e.$emit("update:modelValue",e.multiple?[]:""),e.loadOptions())}),{deep:!0})},created:function(){var e=this;this.dataValue=JSON.parse(JSON.stringify(this.modelValue)),this.loadQuery().then((function(){e.loadOptions().then((function(){e.modelValue.length&&e.isSearchableQuery&&e.loadSelectedOptions()}))}))},methods:{loadSelectedOptions:function(){var e=this;return E.Z.get("run_queries/".concat(this.queryId),{params:{filter:U({},this.columns[this.valueColumnIndex].name,this.modelValue)}}).then((function(t){e.columns=t.data.meta.columns,e.selectedOptions=t.data.data,e.assignOptionIndexesFromColumns(e.columns)})).catch((function(e){console.error(e)}))},onUpdateValue:function(e){this.$emit("update:modelValue",e),this.$emit("select",e)},loadOptions:function(e){var t,n,i=this;this.isLoading=!0;var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.variablesData);this.isSearchableQuery&&(r.search=e);var o,s,a=JSON.stringify(r)+this.queryId;return this.optionsRespCache||(this.optionsRespCache={}),"api"===(null===(t=this.query)||void 0===t||null===(n=t.preferences)||void 0===n?void 0:n.query_type)?(o=this.optionsRespCache)[a]||(o[a]=(0,B.L)(this.query,r)):(s=this.optionsRespCache)[a]||(s[a]=E.Z.get("run_queries/".concat(this.queryId),{params:{variables:r,limit:this.isSearchableQuery?100:null}}).then((function(e){return{data:e.data.data,columns:e.data.meta.columns}}))),this.optionsRespCache[a].then((function(e){i.columns=e.columns,i.data=e.data,i.assignOptionIndexesFromColumns(i.columns)})).catch((function(e){console.error(e)})).finally((function(){i.isLoading=!1}))},assignOptionIndexesFromColumns:function(e){var t=e.findIndex((function(e){return"value"===e.name})),n=e.findIndex((function(e){return"label"===e.name}));-1===t&&(t=e.findIndex((function(e){return"id"===e.name}))),-1===n&&(n=e.findIndex((function(e){return"name"===e.name}))),this.valueColumnIndex=-1===t?0:t,this.labelColumnIndex=-1===n?1:n,1===e.length&&(this.labelColumnIndex=0)},loadQuery:function(){var e=this;return E.Z.get("queries/".concat(this.queryId),{params:{include:"tags"}}).then((function(t){e.query=t.data.data})).catch((function(t){var n;console.error(t),null!==(n=t.response.data)&&void 0!==n&&n.errors&&e.$Message.error(t.response.data.errors.join("\n"))}))}}},G=(0,q.Z)(K,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("MSelect");return(0,i.wg)(),(0,i.j4)(a,{"selected-options":o.selectedOptions,"onUpdate:selected-options":t[0]||(t[0]=function(e){return o.selectedOptions=e}),"selected-option":o.selectedOption,"onUpdate:selected-option":t[1]||(t[1]=function(e){return o.selectedOption=e}),modelValue:o.dataValue,"onUpdate:modelValue":[t[2]||(t[2]=function(e){return o.dataValue=e}),s.onUpdateValue],filterable:"",size:n.size,options:o.data,loading:o.isLoading,multiple:n.multiple,"remote-function":s.isSearchableQuery?s.loadOptions:null,"label-key":o.labelColumnIndex,"value-key":o.valueColumnIndex,placeholder:e.i18n.select_placeholder,onSelect:t[3]||(t[3]=function(t){return e.$emit("select",t)})},null,8,["selected-options","selected-option","modelValue","size","options","loading","multiple","remote-function","label-key","value-key","placeholder","onUpdate:modelValue"])}]]);var Y={class:"trix-container"},Q=["contenteditable","input","placeholder"],J=["id","name","value"];n(9601);var X=n(6250),ee=n.n(X);class te{constructor(e,t){this.attachment=e,this.element=t,this.directUpload=new g(e.file,this.directUploadUrl,this)}start(){this.directUpload.create(this.directUploadDidComplete.bind(this))}directUploadWillStoreFileWithXHR(e){e.upload.addEventListener("progress",(e=>{const t=e.loaded/e.total*100;this.attachment.setUploadProgress(t)}))}directUploadDidComplete(e,t){if(e)throw new Error(`Direct upload failed: ${e}`);this.attachment.setAttributes({sgid:t.attachable_sgid,url:this.createBlobUrl(t.signed_id,t.filename)})}createBlobUrl(e,t){return this.blobUrlTemplate.replace(":signed_id",e).replace(":filename",encodeURIComponent(t))}get directUploadUrl(){return this.element.dataset.directUploadUrl}get blobUrlTemplate(){return this.element.dataset.blobUrlTemplate}}const ne={name:"VueTrix",props:{disabledEditor:{type:Boolean,required:!1,default:!1},inputId:{type:String,required:!1,default:""},inputName:{type:String,required:!1,default:"content"},placeholder:{type:String,required:!1,default:""},modelValue:{type:String,required:!1,default:""},localStorage:{type:Boolean,required:!1,default:!1},autofocus:{type:Boolean,required:!1,default:!1},config:{type:Object,required:!1,default:function(){return{}}}},emits:["trix-attachment-add","trix-attachment-remove","trix-attachment-add","trix-file-accept","trix-initialize","trix-selection-change","trix-focus","trix-blur","trix-initialize","update:modelValue"],data:function(){return{editorContent:this.modelValue,isActived:null}},computed:{generateId:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},computedId:function(){return this.inputId||this.generateId},isDisabled:function(){return this.disabledEditor}},watch:{modelValue:function(){this.modelValue!==this.editorContent&&(this.reloadEditorContent(this.modelValue),this.editorContent=this.modelValue)},editorContent:function(){this.localStorage&&localStorage.setItem(this.storageId("VueTrix"),JSON.stringify(this.$refs.trix.editor)),this.$emit("update:modelValue",this.editorContent)},isDisabled:function(e){this.decorateDisabledEditor(e)}},mounted:function(){var e=this;this.overrideConfig(this.config),this.decorateDisabledEditor(this.disabledEditor),this.$nextTick((function(){if(e.localStorage){var t=localStorage.getItem(e.storageId("VueTrix"));t&&!e.modelValue&&e.$refs.trix.editor.loadJSON(JSON.parse(t))}}))},methods:{emitAttachmentAdd:function(e){var t=e.attachment,n=e.target;t.file&&new te(t,n).start(),this.$emit("trix-attachment-add",e)},emitAttachmentRemove:function(e){this.$emit("trix-attachment-remove",e)},emitHandleFile:function(e){this.$emit("trix-attachment-add",e)},emitFileAccept:function(e){this.$emit("trix-file-accept",e)},emitInitialize:function(e){this.$emit("trix-initialize",this.$refs.trix.editor,event)},emitSelectionChange:function(e){this.$emit("trix-selection-change",this.$refs.trix.editor,e)},processTrixFocus:function(e){this.$refs.trix&&(this.isActived=!0,this.$emit("trix-focus",this.$refs.trix.editor,e))},processTrixBlur:function(e){this.$refs.trix&&(this.isActived=!1,this.$emit("trix-blur",this.$refs.trix.editor,e))},handleContentChange:function(e){this.editorContent=e.srcElement?e.srcElement.value:e.target.value,this.$emit("update:modelValue",this.editorContent)},handleInitialize:function(e){this.autofocus&&this.$refs.trix.editor.setSelectedRange(0),this.$emit("trix-initialize",this.emitInitialize)},storageId:function(e){return this.inputId?"".concat(e,".").concat(this.inputId,".content"):"".concat(e,".content")},reloadEditorContent:function(e){this.$refs.trix.editor.loadHTML(e),this.$refs.trix.editor.setSelectedRange(this.getContentEndPosition())},getContentEndPosition:function(){return this.$refs.trix.editor.getDocument().toString().length-1},decorateDisabledEditor:function(e){e?(this.$refs.trix.toolbarElement.style["pointer-events"]="none",this.$refs.trix.contentEditable=!1,this.$refs.trix.style.background="#e9ecef"):(this.$refs.trix.toolbarElement.style["pointer-events"]="unset",this.$refs.trix.style["pointer-events"]="unset",this.$refs.trix.style.background="transparent")},overrideConfig:function(e){ee().config=Object.assign(ee().config,e)}}},ie=(0,q.Z)(ne,[["render",function(e,t,n,r,o,s){return(0,i.wg)(),(0,i.iD)("div",Y,[(0,i._)("trix-editor",{ref:"trix",contenteditable:!n.disabledEditor,class:"richtext trix-content ivu-input",input:s.computedId,placeholder:n.placeholder,"data-direct-upload-url":"/rails/active_storage/direct_uploads","data-blob-url-template":"/rails/active_storage/blobs/redirect/:signed_id/:filename",onTrixChange:t[0]||(t[0]=function(){return s.handleContentChange&&s.handleContentChange.apply(s,arguments)}),onTrixFileAccept:t[1]||(t[1]=function(){return s.emitFileAccept&&s.emitFileAccept.apply(s,arguments)}),onTrixAttachmentAdd:t[2]||(t[2]=function(){return s.emitAttachmentAdd&&s.emitAttachmentAdd.apply(s,arguments)}),onTrixAttachmentRemove:t[3]||(t[3]=function(){return s.emitAttachmentRemove&&s.emitAttachmentRemove.apply(s,arguments)}),onTrixSelectionChange:t[4]||(t[4]=function(){return s.emitSelectionChange&&s.emitSelectionChange.apply(s,arguments)}),onTrixInitialize:t[5]||(t[5]=function(){return s.handleInitialize&&s.handleInitialize.apply(s,arguments)}),onTrixFocus:t[6]||(t[6]=function(){return s.processTrixFocus&&s.processTrixFocus.apply(s,arguments)}),onTrixBlur:t[7]||(t[7]=function(){return s.processTrixBlur&&s.processTrixBlur.apply(s,arguments)})},null,40,Q),(0,i._)("input",{id:s.computedId,type:"hidden",name:n.inputName,value:o.editorContent},null,8,J)])}]]);var re=n(649),oe=n(733),se=n(3577);const ae=["name","value"],le=["tabindex"],ce=(0,i.Uk)(" "+(0,se.zw)(" ")+" ");var ue=n(7621),he=n.n(ue),de=n(9338),pe=n(3456),fe=n(5582);const me=["data-color-id"],ge={key:0},ve={methods:{handleEscape(e){this.dispatch("ColorPicker","on-escape-keydown",e)}}},ye={data:()=>({prefixCls:"ivu-color-picker",inputPrefixCls:"ivu-input",iconPrefixCls:"ion",transferPrefixCls:"ivu-transfer"})};var be=n(6378);function we(e,t){const n=he()(e),{_a:i}=n;return null==i&&n.setAlpha(t||1),n}function _e(e,t){const n=""===e?"#2d8cf0":e,i=function(e,t){const n=t&&t.a;if(t){if(t.hsl)return we(t.hsl,n);if(t.hex&&t.hex.length>0)return we(t.hex,n)}return we(t,n)}(0,n),r=i.toHsl(),o=i.toHsv();return 0===r.s&&(r.h=n.h||n.hsl&&n.hsl.h||t||0,o.h=r.h),o.v<.0164&&(o.h=n.h||n.hsv&&n.hsv.h||0,o.s=n.s||n.hsv&&n.hsv.s||0),r.l<.01&&(r.h=n.h||n.hsl&&n.hsl.h||0,r.s=n.s||n.hsl&&n.hsl.s||0),{hsl:r,hex:i.toHexString().toUpperCase(),rgba:i.toRgb(),hsv:o,oldHue:n.h||t||r.h,source:n.source,a:n.a||i.getAlpha()}}function xe(e,t,n){return e<t?t:e>n?n:e}function ke(e,t,n){return(0,be.kw)(e,t)?n:0}function Ce(e,t){return e.touches?e.touches[0][t]:0}function Se(e){const{r:t,g:n,b:i,a:r}=e;return`rgba(${[t,n,i,r].join(",")})`}const Ae={name:"RecommendedColors",mixins:[L.Z,ve,ye],props:{list:{type:Array,default:void 0}},data(){return{left:-1,right:1,up:-1,down:1,powerKey:"shiftKey",grid:{x:1,y:1},rows:Math.ceil(this.list.length/12),columns:12}},computed:{hideClass(){return`${this.prefixCls}-hide`},linearIndex(){return this.getLinearIndex(this.grid)},currentCircle(){return this.$refs[`color-circle-${this.linearIndex}`][0]}},methods:{getLinearIndex(e){return this.columns*(e.y-1)+e.x-1},getMaxLimit(e){return"x"===e?this.columns:this.rows},handleArrow(e,t,n){e.preventDefault(),e.stopPropagation(),this.blurColor();const i={...this.grid};e[this.powerKey]?i[t]=n<0?1:this.getMaxLimit(t):i[t]+=n;const r=this.getLinearIndex(i);r>=0&&r<this.list.length&&(this.grid[t]=xe(i[t],1,this.getMaxLimit(t))),this.focusColor()},blurColor(){this.currentCircle.classList.add(this.hideClass)},focusColor(){this.currentCircle.classList.remove(this.hideClass)},handleEnter(e){this.handleClick(e,this.currentCircle)},handleClick(e,t){e.preventDefault(),e.stopPropagation(),this.$refs.reference.focus();const n=t||e.target,i=n.dataset.colorId||n.parentElement.dataset.colorId;if(i){this.blurColor();const e=Number(i)+1;this.grid.x=e%this.columns||this.columns,this.grid.y=Math.ceil(e/this.columns),this.focusColor(),this.$emit("picker-color",this.list[i]),this.$emit("change",{hex:this.list[i],source:"hex"})}},lineBreak(e,t){if(!t)return!1;const n=t+1;return n<e.length&&n%this.columns==0}}},Te=(0,q.Z)(Ae,[["render",function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",{ref:"reference",tabindex:"0",onClick:t[0]||(t[0]=(...e)=>a.handleClick&&a.handleClick(...e)),onKeydown:[t[1]||(t[1]=(0,r.D2)(((...t)=>e.handleEscape&&e.handleEscape(...t)),["esc"])),t[2]||(t[2]=(0,r.D2)(((...e)=>a.handleEnter&&a.handleEnter(...e)),["enter"])),t[3]||(t[3]=(0,r.D2)((e=>a.handleArrow(e,"x",s.left)),["left"])),t[4]||(t[4]=(0,r.D2)((e=>a.handleArrow(e,"x",s.right)),["right"])),t[5]||(t[5]=(0,r.D2)((e=>a.handleArrow(e,"y",s.up)),["up"])),t[6]||(t[6]=(0,r.D2)((e=>a.handleArrow(e,"y",s.down)),["down"]))],onBlur:t[7]||(t[7]=(...e)=>a.blurColor&&a.blurColor(...e)),onFocus:t[8]||(t[8]=(...e)=>a.focusColor&&a.focusColor(...e))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.list,((t,r)=>((0,i.wg)(),(0,i.iD)(i.HY,{key:t+":"+r},[(0,i._)("div",{class:(0,se.C_)([e.prefixCls+"-picker-colors-wrapper"])},[(0,i._)("div",{"data-color-id":r},[(0,i._)("div",{style:(0,se.j5)({background:t}),class:(0,se.C_)([e.prefixCls+"-picker-colors-wrapper-color"])},null,6),(0,i._)("div",{ref_for:!0,ref:"color-circle-"+r,class:(0,se.C_)([e.prefixCls+"-picker-colors-wrapper-circle",a.hideClass])},null,2)],8,me)],2),a.lineBreak(n.list,r)?((0,i.wg)(),(0,i.iD)("br",ge)):(0,i.kq)("",!0)],64)))),128))],544)}]]);var Oe=n(1980);const Le={mixins:[L.Z,ve],props:{focused:{type:Boolean,default:!1},modelValue:{type:Object,default:void 0}},beforeUnmount(){this.unbindEventListeners()},created(){this.focused&&setTimeout((()=>this.$el.focus()),1)},methods:{handleLeft(e){this.handleSlide(e,this.left,"left")},handleRight(e){this.handleSlide(e,this.right,"right")},handleUp(e){this.handleSlide(e,this.up,"up")},handleDown(e){this.handleSlide(e,this.down,"down")},handleMouseDown(e){this.dispatch("ColorPicker","on-dragging",!0),this.handleChange(e,!0),(0,Oe.on)(window,"mousemove",this.handleChange),(0,Oe.on)(window,"mouseup",this.handleMouseUp)},handleMouseUp(){this.unbindEventListeners()},unbindEventListeners(){(0,Oe.S)(window,"mousemove",this.handleChange),(0,Oe.S)(window,"mouseup",this.handleMouseUp),setTimeout((()=>this.dispatch("ColorPicker","on-dragging",!1)),1)},getLeft(e){const{container:t}=this.$refs,n=t.getBoundingClientRect().left+window.pageXOffset;return(e.pageX||Ce(e,"PageX"))-n},getTop(e){const{container:t}=this.$refs,n=t.getBoundingClientRect().top+window.pageYOffset;return(e.pageY||Ce(e,"PageY"))-n}}},Ee={name:"Saturation",mixins:[Le,ye],emits:["change"],data:()=>({left:-.01,right:.01,up:.01,down:-.01,multiplier:10,powerKey:"shiftKey"}),computed:{bgColorStyle(){return{background:`hsl(${this.modelValue.hsv.h}, 100%, 50%)`}},pointerStyle(){return{top:-100*this.modelValue.hsv.v+1+100+"%",left:100*this.modelValue.hsv.s+"%"}}},methods:{change(e,t,n,i){this.$emit("change",{h:e,s:t,v:n,a:i,source:"hsva"})},handleSlide(e,t,n){e.preventDefault(),e.stopPropagation();const i=e[this.powerKey]?t*this.multiplier:t,{h:r,s:o,v:s,a}=this.modelValue.hsv,l=xe(o+ke(n,["left","right"],i),0,1),c=xe(s+ke(n,["up","down"],i),0,1);this.change(r,l,c,a)},handleChange(e){e.preventDefault(),e.stopPropagation();const{clientWidth:t,clientHeight:n}=this.$refs.container,i=xe(this.getLeft(e),0,t),r=xe(this.getTop(e),0,n),o=i/t,s=xe(1-r/n,0,1);this.change(this.modelValue.hsv.h,o,s,this.modelValue.hsv.a)},handleMouseDown(e){Le.methods.handleMouseDown.call(this,e),(0,Oe.on)(window,"mouseup",this.handleChange)},unbindEventListeners(e){Le.methods.unbindEventListeners.call(this,e),(0,Oe.S)(window,"mouseup",this.handleChange)}}},De=(0,q.Z)(Ee,[["render",function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,se.C_)([e.prefixCls+"-saturation-wrapper"]),tabindex:"0",onKeydown:[t[1]||(t[1]=(0,r.D2)(((...t)=>e.handleEscape&&e.handleEscape(...t)),["esc"])),t[3]||(t[3]=(0,r.D2)(((...t)=>e.handleLeft&&e.handleLeft(...t)),["left"])),t[4]||(t[4]=(0,r.D2)(((...t)=>e.handleRight&&e.handleRight(...t)),["right"])),t[5]||(t[5]=(0,r.D2)(((...t)=>e.handleUp&&e.handleUp(...t)),["up"])),t[6]||(t[6]=(0,r.D2)(((...t)=>e.handleDown&&e.handleDown(...t)),["down"]))],onClick:t[2]||(t[2]=t=>e.$el.focus())},[(0,i._)("div",{ref:"container",style:(0,se.j5)(a.bgColorStyle),class:(0,se.C_)([e.prefixCls+"-saturation"]),onMousedown:t[0]||(t[0]=(...e)=>a.handleMouseDown&&a.handleMouseDown(...e))},[(0,i._)("div",{class:(0,se.C_)([e.prefixCls+"-saturation--white"])},null,2),(0,i._)("div",{class:(0,se.C_)([e.prefixCls+"-saturation--black"])},null,2),(0,i._)("div",{style:(0,se.j5)(a.pointerStyle),class:(0,se.C_)([e.prefixCls+"-saturation-pointer"])},[(0,i._)("div",{class:(0,se.C_)([e.prefixCls+"-saturation-circle"])},null,2)],6)],38)],34)}]]),Pe={name:"Hue",mixins:[Le,ye],emits:["change"],data(){const e=1/360*25,t=20*e;return{left:-e,right:e,up:t,down:-t,powerKey:"shiftKey",percent:xe(100*this.modelValue.hsl.h/360,0,100)}},watch:{modelValue(){this.percent=xe(100*this.modelValue.hsl.h/360,0,100)}},methods:{change(e){this.percent=xe(e,0,100);const{h:t,s:n,l:i,a:r}=this.modelValue.hsl,o=xe(e/100*360,0,360);t!==o&&this.$emit("change",{h:o,s:n,l:i,a:r,source:"hsl"})},handleSlide(e,t){e.preventDefault(),e.stopPropagation(),e[this.powerKey]?this.change(t<0?0:100):this.change(this.percent+t)},handleChange(e){e.preventDefault(),e.stopPropagation();const t=this.getLeft(e);if(t<0)return void this.change(0);const{clientWidth:n}=this.$refs.container;t>n?this.change(100):this.change(100*t/n)}}},Me=(0,q.Z)(Pe,[["render",function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,se.C_)([e.prefixCls+"-hue"]),tabindex:"0",onClick:t[3]||(t[3]=t=>e.$el.focus()),onKeydown:[t[4]||(t[4]=(0,r.D2)(((...t)=>e.handleEscape&&e.handleEscape(...t)),["esc"])),t[5]||(t[5]=(0,r.D2)(((...t)=>e.handleLeft&&e.handleLeft(...t)),["left"])),t[6]||(t[6]=(0,r.D2)(((...t)=>e.handleRight&&e.handleRight(...t)),["right"])),t[7]||(t[7]=(0,r.D2)(((...t)=>e.handleUp&&e.handleUp(...t)),["up"])),t[8]||(t[8]=(0,r.D2)(((...t)=>e.handleDown&&e.handleDown(...t)),["down"]))]},[(0,i._)("div",{ref:"container",class:(0,se.C_)([e.prefixCls+"-hue-container"]),onMousedown:t[0]||(t[0]=(...t)=>e.handleMouseDown&&e.handleMouseDown(...t)),onTouchmove:t[1]||(t[1]=(...e)=>a.handleChange&&a.handleChange(...e)),onTouchstart:t[2]||(t[2]=(...e)=>a.handleChange&&a.handleChange(...e))},[(0,i._)("div",{style:(0,se.j5)({top:0,left:`${s.percent}%`}),class:(0,se.C_)([e.prefixCls+"-hue-pointer"])},[(0,i._)("div",{class:(0,se.C_)([e.prefixCls+"-hue-picker"])},null,2)],6)],34)],34)}]]),$e={name:"Alpha",mixins:[Le,ye],data:()=>({left:-1,right:1,up:10,down:-10,powerKey:"shiftKey"}),computed:{gradientStyle(){const{r:e,g:t,b:n}=this.value.rgba;return{background:`linear-gradient(to right, ${Se({r:e,g:t,b:n,a:0})} 0%, ${Se({r:e,g:t,b:n,a:1})} 100%)`}}},methods:{change(e){const{h:t,s:n,l:i}=this.value.hsl,{a:r}=this.value;r!==e&&this.$emit("change",{h:t,s:n,l:i,a:e,source:"rgba"})},handleSlide(e,t){e.preventDefault(),e.stopPropagation(),this.change(xe(e[this.powerKey]?t:Math.round(100*this.value.hsl.a+t)/100,0,1))},handleChange(e){e.preventDefault(),e.stopPropagation();const t=this.getLeft(e);if(t<0)return void this.change(0);const{clientWidth:n}=this.$refs.container;t>n?this.change(1):this.change(Math.round(100*t/n)/100)}}},Re=(0,q.Z)($e,[["render",function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,se.C_)([e.prefixCls+"-alpha"]),tabindex:"0",onClick:t[3]||(t[3]=t=>e.$el.focus()),onKeydown:[t[4]||(t[4]=(0,r.D2)(((...t)=>e.handleEscape&&e.handleEscape(...t)),["esc"])),t[5]||(t[5]=(0,r.D2)(((...t)=>e.handleLeft&&e.handleLeft(...t)),["left"])),t[6]||(t[6]=(0,r.D2)(((...t)=>e.handleRight&&e.handleRight(...t)),["right"])),t[7]||(t[7]=(0,r.D2)(((...t)=>e.handleUp&&e.handleUp(...t)),["up"])),t[8]||(t[8]=(0,r.D2)(((...t)=>e.handleDown&&e.handleDown(...t)),["down"]))]},[(0,i._)("div",{class:(0,se.C_)([e.prefixCls+"-alpha-checkboard-wrap"])},[(0,i._)("div",{class:(0,se.C_)([e.prefixCls+"-alpha-checkerboard"])},null,2)],2),(0,i._)("div",{style:(0,se.j5)(a.gradientStyle),class:(0,se.C_)([e.prefixCls+"-alpha-gradient"])},null,6),(0,i._)("div",{ref:"container",class:(0,se.C_)([e.prefixCls+"-alpha-container"]),onMousedown:t[0]||(t[0]=(...t)=>e.handleMouseDown&&e.handleMouseDown(...t)),onTouchmove:t[1]||(t[1]=(...e)=>a.handleChange&&a.handleChange(...e)),onTouchstart:t[2]||(t[2]=(...e)=>a.handleChange&&a.handleChange(...e))},[(0,i._)("div",{style:(0,se.j5)({top:0,left:100*e.value.a+"%"}),class:(0,se.C_)([e.prefixCls+"-alpha-pointer"])},[(0,i._)("div",{class:(0,se.C_)([e.prefixCls+"-alpha-picker"])},null,2)],6)],34)],34)}]]);var Ie=n(2983),Fe=n(9712),je=n(2143),Ne=n(3996),ze=n(8251);const qe={name:"ColorPicker",components:{Drop:fe.Z,RecommendColors:Te,Saturation:De,Hue:Me,Alpha:Re,VInput:Ie.Z,VButton:Fe.Z,Icon:je.Z},directives:{clickOutside:de.X,TransferDom:pe.Z},mixins:[L.Z,Ne.Z,ye,ze.Z],emits:["on-open-change","on-active-change","update:modelValue","on-pick-success","on-pick-clear","on-change"],props:{modelValue:{type:String,default:void 0},hue:{type:Boolean,default:!0},alpha:{type:Boolean,default:!1},recommend:{type:Boolean,default:!1},format:{type:String,validator:e=>(0,be.kw)(e,["hsl","hsv","hex","rgb"]),default:void 0},colors:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},size:{validator:e=>(0,be.kw)(e,["small","large","default"]),default:()=>"default"},hideDropDown:{type:Boolean,default:!1},placement:{type:String,validator:e=>(0,be.kw)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"]),default:"bottom"},transfer:{type:Boolean,default:()=>!1},name:{type:String,default:void 0},editable:{type:Boolean,default:!0},capture:{type:Boolean,default:()=>!0},transferClassName:{type:String}},data(){return{val:_e(this.modelValue),currentValue:this.modelValue,dragging:!1,visible:!1,recommendedColor:["#2d8cf0","#19be6b","#ff9900","#ed4014","#00b5ff","#19c919","#f9e31c","#ea1a1a","#9b1dea","#00c2b1","#ac7a33","#1d35ea","#8bc34a","#f16b62","#ea4ca3","#0d94aa","#febd79","#5d4037","#00bcd4","#f06292","#cddc39","#607d8b","#000000","#ffffff"]}},computed:{arrowClasses(){return[`${this.inputPrefixCls}-icon`,`${this.inputPrefixCls}-icon-normal`]},transition(){return(0,be.kw)(this.placement,["bottom-start","bottom","bottom-end"])?"slide-up":"fade"},saturationColors:{get(){return this.val},set(e){this.val=e,this.$emit("on-active-change",this.formatColor)}},classes(){return[`${this.prefixCls}`,{[`${this.prefixCls}-transfer`]:this.transfer}]},wrapClasses(){return[`${this.prefixCls}-rel`,`${this.prefixCls}-${this.size}`,`${this.inputPrefixCls}-wrapper`,`${this.inputPrefixCls}-wrapper-${this.size}`,{[`${this.prefixCls}-disabled`]:this.itemDisabled}]},inputClasses(){return[`${this.prefixCls}-input`,`${this.inputPrefixCls}`,`${this.inputPrefixCls}-${this.size}`,{[`${this.prefixCls}-focused`]:this.visible,[`${this.prefixCls}-disabled`]:this.itemDisabled}]},dropClasses(){return[`${this.transferPrefixCls}-no-max-height`,{[`${this.prefixCls}-transfer`]:this.transfer,[`${this.prefixCls}-hide-drop`]:this.hideDropDown,[this.transferClassName]:this.transferClassName}]},displayedColorStyle(){return{backgroundColor:Se(this.visible?this.saturationColors.rgba:he()(this.modelValue).toRgb())}},formatColor(){const{format:e,saturationColors:t}=this;if(e){if("hsl"===e)return he()(t.hsl).toHslString();if("hsv"===e)return he()(t.hsv).toHsvString();if("hex"===e)return t.hex;if("rgb"===e)return Se(t.rgba)}else if(this.alpha)return Se(t.rgba);return t.hex},confirmColorClasses(){return[`${this.prefixCls}-confirm-color`,{[`${this.prefixCls}-confirm-color-editable`]:this.editable}]},arrowType:()=>"ios-arrow-down",customArrowType:()=>"",arrowSize:()=>""},watch:{modelValue(e){this.val=_e(e)},visible(e){this.val=_e(this.modelValue),this.$refs.drop[e?"update":"destroy"](),this.$emit("on-open-change",Boolean(e))}},mounted(){this.mitt.on("on-escape-keydown",this.closer),this.mitt.on("on-dragging",this.setDragging)},methods:{setDragging(e){this.dragging=e},handleClose(e){if(this.visible){if(this.dragging||"mousedown"===e.type)return void(this.$refs.editColorInput&&e.target!==this.$refs.editColorInput.$el.querySelector("input")&&e.preventDefault());if(this.transfer){const{$el:t}=this.$refs.drop;if(t===e.target||t.contains(e.target))return}this.closer(e)}else this.visible=!1},toggleVisible(){this.itemDisabled||(this.visible=!this.visible,this.$refs.input.focus())},childChange(e){this.colorChange(e)},colorChange(e,t){this.oldHue=this.saturationColors.hsl.h,this.saturationColors=_e(e,t||this.oldHue)},closer(e){e&&(e.preventDefault(),e.stopPropagation()),this.visible=!1,this.$refs.input.focus()},handleButtons(e,t){this.currentValue=t,this.$emit("update:modelValue",t),this.$emit("on-change",t),this.dispatch("FormItem","on-form-change",t),this.closer(e)},handleSuccess(e){this.handleButtons(e,this.formatColor),this.$emit("on-pick-success")},handleClear(e){this.handleButtons(e,""),this.$emit("on-pick-clear")},handleSelectColor(e){this.val=_e(e),this.$emit("on-active-change",this.formatColor)},handleEditColor(e){const t=e.target.value;this.handleSelectColor(t)},handleFirstTab(e){e.shiftKey&&(e.preventDefault(),e.stopPropagation(),this.$refs.ok.$el.focus())},handleLastTab(e){e.shiftKey||(e.preventDefault(),e.stopPropagation(),this.$refs.saturation.$el.focus())},onTab(e){this.visible&&e.preventDefault()},onEscape(e){this.visible&&this.closer(e)},onArrow(e){this.visible||(e.preventDefault(),e.stopPropagation(),this.visible=!0)}}},Ve=(0,q.Z)(qe,[["render",function(e,t,n,o,s,a){const l=(0,i.up)("Icon"),c=(0,i.up)("Saturation"),u=(0,i.up)("Hue"),h=(0,i.up)("Alpha"),d=(0,i.up)("recommend-colors"),p=(0,i.up)("VInput"),f=(0,i.up)("VButton"),m=(0,i.up)("Drop"),g=(0,i.Q2)("transfer-dom"),v=(0,i.Q2)("click-outside");return(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",{class:(0,se.C_)(a.classes)},[(0,i._)("div",{ref:"reference",class:(0,se.C_)(a.wrapClasses),onClick:t[4]||(t[4]=(...e)=>a.toggleVisible&&a.toggleVisible(...e))},[(0,i._)("input",{name:n.name,value:s.currentValue,type:"hidden"},null,8,ae),(0,i.Wm)(l,{type:a.arrowType,custom:a.customArrowType,size:a.arrowSize,class:(0,se.C_)(a.arrowClasses)},null,8,["type","custom","size","class"]),(0,i._)("div",{ref:"input",tabindex:e.itemDisabled?void 0:0,class:(0,se.C_)(a.inputClasses),onKeydown:[t[0]||(t[0]=(0,r.D2)(((...e)=>a.onTab&&a.onTab(...e)),["tab"])),t[1]||(t[1]=(0,r.D2)(((...e)=>a.onEscape&&a.onEscape(...e)),["esc"])),t[2]||(t[2]=(0,r.D2)(((...e)=>a.onArrow&&a.onArrow(...e)),["up"])),t[3]||(t[3]=(0,r.D2)(((...e)=>a.onArrow&&a.onArrow(...e)),["down"]))]},[(0,i._)("div",{class:(0,se.C_)([e.prefixCls+"-color"])},[(0,i.wy)((0,i._)("div",{class:(0,se.C_)([e.prefixCls+"-color-empty"])},[(0,i._)("i",{class:(0,se.C_)([e.iconPrefixCls,e.iconPrefixCls+"-ios-close"])},null,2)],2),[[r.F8,""===n.modelValue&&!s.visible]]),(0,i.wy)((0,i._)("div",{style:(0,se.j5)(a.displayedColorStyle)},null,4),[[r.F8,n.modelValue||s.visible]])],2)],42,le)],2),(0,i.Wm)(r.uT,{name:"transition-drop"},{default:(0,i.w5)((()=>[(0,i.wy)(((0,i.wg)(),(0,i.j4)(m,{ref:"drop",placement:n.placement,"data-transfer":n.transfer,transfer:n.transfer,class:(0,se.C_)(a.dropClasses)},{default:(0,i.w5)((()=>[(0,i.Wm)(r.uT,{name:"fade"},{default:(0,i.w5)((()=>[s.visible?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,se.C_)([e.prefixCls+"-picker"])},[(0,i._)("div",{class:(0,se.C_)([e.prefixCls+"-picker-wrapper"])},[(0,i._)("div",{class:(0,se.C_)([e.prefixCls+"-picker-panel"])},[(0,i.Wm)(c,{ref:"saturation",modelValue:a.saturationColors,"onUpdate:modelValue":t[5]||(t[5]=e=>a.saturationColors=e),focused:s.visible,onChange:a.childChange,onKeydown:(0,r.D2)(a.handleFirstTab,["native","tab"])},null,8,["modelValue","focused","onChange","onKeydown"])],2),n.hue?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,se.C_)([e.prefixCls+"-picker-hue-slider"])},[(0,i.Wm)(u,{modelValue:a.saturationColors,"onUpdate:modelValue":t[6]||(t[6]=e=>a.saturationColors=e),onChange:a.childChange},null,8,["modelValue","onChange"])],2)):(0,i.kq)("",!0),n.alpha?((0,i.wg)(),(0,i.iD)("div",{key:1,class:(0,se.C_)([e.prefixCls+"-picker-alpha-slider"])},[(0,i.Wm)(h,{modelValue:a.saturationColors,"onUpdate:modelValue":t[7]||(t[7]=e=>a.saturationColors=e),onChange:a.childChange},null,8,["modelValue","onChange"])],2)):(0,i.kq)("",!0),n.colors.length?((0,i.wg)(),(0,i.j4)(d,{key:2,list:n.colors,class:(0,se.C_)([e.prefixCls+"-picker-colors"]),onPickerColor:a.handleSelectColor},null,8,["list","class","onPickerColor"])):(0,i.kq)("",!0),!n.colors.length&&n.recommend?((0,i.wg)(),(0,i.j4)(d,{key:3,list:s.recommendedColor,class:(0,se.C_)([e.prefixCls+"-picker-colors"]),onPickerColor:a.handleSelectColor},null,8,["list","class","onPickerColor"])):(0,i.kq)("",!0)],2),(0,i._)("div",{class:(0,se.C_)([e.prefixCls+"-confirm"])},[(0,i._)("span",{class:(0,se.C_)(a.confirmColorClasses)},[n.editable?((0,i.wg)(),(0,i.j4)(p,{key:0,ref:"editColorInput","model-value":a.formatColor,size:"small",onOnEnter:a.handleEditColor,onOnBlur:a.handleEditColor},null,8,["model-value","onOnEnter","onOnBlur"])):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,se.zw)(a.formatColor),1)],64))],2),(0,i.Wm)(f,{ref:"clear",tabindex:0,size:"small",onClick:a.handleClear,onKeydown:[(0,r.D2)(a.handleClear,["enter"]),(0,r.D2)(a.closer,["native","esc"])]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,se.zw)(e.t("i.datepicker.clear")),1)])),_:1},8,["onClick","onKeydown"]),ce,(0,i.Wm)(f,{ref:"ok",tabindex:0,size:"small",type:"primary",onClick:a.handleSuccess,onKeydown:[(0,r.D2)(a.handleLastTab,["native","tab"]),(0,r.D2)(a.handleSuccess,["enter"]),(0,r.D2)(a.closer,["native","esc"])]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,se.zw)(e.t("i.datepicker.ok")),1)])),_:1},8,["onClick","onKeydown"])],2)],2)):(0,i.kq)("",!0)])),_:1})])),_:1},8,["placement","data-transfer","transfer","class"])),[[r.F8,s.visible],[g]])])),_:1})],2)),[[v,a.handleClose,n.capture]])}]]);function Be(e,t){return void 0===t&&(t=15),+parseFloat(Number(e).toPrecision(t))}function We(e){var t=e.toString().split(/[eE]/),n=(t[0].split(".")[1]||"").length-+(t[1]||0);return n>0?n:0}function Ue(e){if(-1===e.toString().indexOf("e"))return Number(e.toString().replace(".",""));var t=We(e);return t>0?Be(Number(e)*Math.pow(10,t)):Number(e)}function He(e){Ye&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn(e+" is beyond boundary when transfer to integer, the results may not be accurate")}function Ze(e,t){var n=e[0],i=e[1],r=e.slice(2),o=t(n,i);return r.forEach((function(e){o=t(o,e)})),o}function Ke(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>2)return Ze(e,Ke);var n=e[0],i=e[1],r=Ue(n),o=Ue(i),s=We(n)+We(i),a=r*o;return He(a),a/Math.pow(10,s)}function Ge(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length>2)return Ze(e,Ge);var n=e[0],i=e[1],r=Ue(n),o=Ue(i);return He(r),He(o),Ke(r/o,Be(Math.pow(10,We(i)-We(n))))}var Ye=!0;function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const Je={name:"FormInput",components:{ResourceSelect:V,QueryValueSelect:G,VueTrix:ie,OptionsInput:oe.Z,ColorPicker:Ve},mixins:[L.Z],inject:["formComponent"],props:{modelValue:{type:[String,Number,Boolean,Date,Object],required:!1,default:""},column:{type:Object,required:!0},formData:{type:Object,required:!1,default:null}},emits:["update:modelValue","select","enter"],data:function(){return{isLoading:!1,dataValue:this.modelValue}},computed:{selectQueryId:function(){var e;return this.column.select_query_id||(null===(e=this.column.format)||void 0===e?void 0:e.select_query_id)},valueType:function(){return typeof this.modelValue},type:function(){return this.column.column_type||this.column.field_type},isTagSelect:function(){return"tag"===this.type||this.tagOptions.length||this.column.is_array&&["input","number","string","float","integer"].includes(this.type)},tagOptions:function(){var e;return(null===(e=this.column.format)||void 0===e?void 0:e.select_options)||[]},isBoolean:function(){return"boolean"==typeof this.modelValue||"boolean"===this.type||"checkbox"===this.type},isDateTime:function(){return"datetime"===this.type},isDate:function(){return"date"===this.type},isFile:function(){var e;return"file"===this.type||"image"===this.type||"active_storage/attachment"===(null===(e=this.column.reference)||void 0===e?void 0:e.model_name)},isNumber:function(){return["integer","bigint","int","float","decimal","double","number","currency","change","percentage","rating"].includes(this.type)},isRichtext:function(){return"richtext"===this.type},isColor:function(){return"color"===this.type&&(!this.modelValue||this.modelValue.match(/#\w{3,6}/))},isTextarea:function(){return"json"===this.type||"textarea"===this.type||"string"===this.valueType&&this.modelValue.includes("\n")},isTextareaList:function(){return"chart"===this.type}},watch:{type:function(){this.dataValue="",this.$emit("update:modelValue","")},modelValue:function(){this.assignDataValue()}},created:function(){this.assignDataValue()},methods:{titleize:M.MI,assignDataValue:function(){var e,t;if(this.modelValue)if(this.isDateTime)this.dataValue=new Date(new Date(this.modelValue).getTime());else if(this.isDate){var n=new Date(this.modelValue);this.dataValue=new Date(n.getTime()+6e4*n.getTimezoneOffset())}else this.isTagSelect&&null!==(t=this.column.format)&&void 0!==t&&t.split_tags_by?this.dataValue=this.modelValue.split(this.column.format.split_tags_by).map((function(e){return e.trim()})):this.dataValue=this.modelValue;else this.isTagSelect&&null!==(e=this.column.format)&&void 0!==e&&e.split_tags_by&&(this.dataValue=[])},onFile:function(e){var t,n=this,i=(t=e.target.files,function(e){if(Array.isArray(e))return Qe(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return new Promise((function(t,i){var r=new FileReader;r.readAsArrayBuffer(e),r.onload=function(){n.column.file_direct_upload?E.Z.post("data/active_storage__attachments",{fields:{attachment:"id,path,created_at,updated_at,name"},data:{name:"attachments",file:{filename:e.name,io:r.result}}}).then((function(e){t(location.origin+e.data.data.path)})).catch((function(e){i(e)})):re.Xp?new g(e,"/rails/active_storage/direct_uploads").create((function(e,n){e?i(e):t(n.signed_id)})):t({filename:e.name,io:r.result})}}))}));this.isLoading=!0,this.formComponent&&(this.formComponent.isSubmitting=!0),Promise.all(i).then((function(e){n.column.is_array?n.$emit("update:modelValue",e):n.$emit("update:modelValue",e[0])})).finally((function(){n.isLoading=!1,n.formComponent&&(n.formComponent.isSubmitting=!1)}))},numberFormatter:function(e){return"currency"===this.type?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):e},numberParser:function(e){return"currency"===this.type?e.replace(/\$\s?|(,*)/g,""):e},onNumberUpdate:function(e){var t;"currency"===this.type&&"cents"===(null===(t=this.column.format)||void 0===t?void 0:t.currency_base)?this.$emit("update:modelValue",Ke(e||0,100)):this.$emit("update:modelValue",null!=e?e:"")},maybeAdjustCurrencyNumber:function(e){var t;return"currency"===this.type&&"cents"===(null===(t=this.column.format)||void 0===t?void 0:t.currency_base)?Ge(e||0,100):e},onSelect:function(e){var t=this;this.$nextTick((function(){t.$emit("select"),t.dispatch("FormItem","on-form-change",e)}))},onRichtextUpdate:function(e){this.$emit("update:modelValue",e),this.dispatch("FormItem","on-form-change",e)},updateDateTime:function(e){e?this.isDateTime?this.$emit("update:modelValue",e):this.$emit("update:modelValue",new Date(e.getTime()-6e4*e.getTimezoneOffset())):this.dataValue&&this.$emit("update:modelValue",""),this.$emit("select")}}},Xe=(0,q.Z)(Je,[["render",function(e,t,n,s,a,l){var c,u=(0,i.up)("Spin"),h=(0,i.up)("VueTrix"),d=(0,i.up)("ColorPicker"),p=(0,i.up)("ResourceSelect"),f=(0,i.up)("QueryValueSelect"),m=(0,i.up)("MSelect"),g=(0,i.up)("OptionsInput"),v=(0,i.up)("Checkbox"),y=(0,i.up)("InputNumber"),b=(0,i.up)("DatePicker"),w=(0,i.up)("VInput");return(0,i.wg)(),(0,i.iD)(i.HY,null,[a.isLoading?((0,i.wg)(),(0,i.j4)(u,{key:0,fix:""})):(0,i.kq)("",!0),l.isFile?((0,i.wg)(),(0,i.iD)("input",(0,i.dG)({key:1,type:"file"},e.$attrs,{multiple:n.column.is_array,onChange:t[0]||(t[0]=function(){return l.onFile&&l.onFile.apply(l,arguments)})}),null,16,o)):l.isRichtext?((0,i.wg)(),(0,i.j4)(h,(0,i.dG)({key:2,"model-value":n.modelValue},e.$attrs,{"onUpdate:modelValue":l.onRichtextUpdate}),null,16,["model-value","onUpdate:modelValue"])):l.isColor?((0,i.wg)(),(0,i.j4)(d,(0,i.dG)({key:3,"model-value":n.modelValue||"#ffffff",placement:"bottom-start"},e.$attrs,{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.$emit("update:modelValue",t)})}),null,16,["model-value"])):n.column.reference&&n.column.reference.model_name?((0,i.wg)(),(0,i.j4)(p,(0,i.dG)({key:4,"model-value":n.modelValue,"resource-name":n.column.reference.model_name},e.$attrs,{"selected-resource":n.formData&&!n.column.is_array?n.formData[n.column.reference.name]:null,"selected-resources":n.formData&&n.column.is_array?n.formData[n.column.reference.name]:null,multiple:n.column.is_array,"primary-key":n.column.reference.primary_key,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.$emit("update:modelValue",t)}),onSelect:l.onSelect}),null,16,["model-value","resource-name","selected-resource","selected-resources","multiple","primary-key","onSelect"])):"select"===l.type&&l.selectQueryId?((0,i.wg)(),(0,i.j4)(f,(0,i.dG)({key:5,"model-value":n.modelValue,"query-id":l.selectQueryId,"form-data":n.formData,multiple:n.column.is_array},e.$attrs,{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.$emit("update:modelValue",t)}),onSelect:l.onSelect}),null,16,["model-value","query-id","form-data","multiple","onSelect"])):l.isTagSelect?((0,i.wg)(),(0,i.j4)(m,(0,i.dG)({key:6,"model-value":a.dataValue,options:Array.isArray(l.tagOptions)?l.tagOptions:Object.keys(l.tagOptions)},e.$attrs,{"allow-create":!Object.entries(l.tagOptions).length,multiple:n.column.is_array||!(null===(c=n.column.format)||void 0===c||!c.split_tags_by),"label-function":Object.entries(l.tagOptions).length?function(e){return l.tagOptions[e.value.toString()]||l.titleize(e.value.toString())}:function(e){return e.value.toString()},"onUpdate:modelValue":t[4]||(t[4]=function(t){var i;return e.$emit("update:modelValue",null!==(i=n.column.format)&&void 0!==i&&i.split_tags_by?t.join(n.column.format.split_tags_by):t)}),onSelect:l.onSelect}),null,16,["model-value","options","allow-create","multiple","label-function","onSelect"])):l.isTextareaList?((0,i.wg)(),(0,i.j4)(g,(0,i.dG)({key:7,"model-value":n.modelValue},e.$attrs),null,16,["model-value"])):l.isBoolean?((0,i.wg)(),(0,i.j4)(v,(0,i.dG)({key:8},e.$attrs,{"model-value":n.modelValue,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.$emit("update:modelValue",t)})}),null,16,["model-value"])):l.isNumber?((0,i.wg)(),(0,i.j4)(y,(0,i.dG)({key:9,"model-value":l.maybeAdjustCurrencyNumber(n.modelValue),parser:l.numberParser,formatter:l.numberFormatter},e.$attrs,{onKeydown:t[6]||(t[6]=(0,r.D2)((function(t){return e.$emit("enter")}),["enter"])),"onUpdate:modelValue":l.onNumberUpdate}),null,16,["model-value","parser","formatter","onUpdate:modelValue"])):l.isDateTime||l.isDate?((0,i.wg)(),(0,i.j4)(b,(0,i.dG)({key:10,type:l.type,"model-value":a.dataValue},e.$attrs,{"onUpdate:modelValue":l.updateDateTime}),null,16,["type","model-value","onUpdate:modelValue"])):l.isTextarea?((0,i.wg)(),(0,i.j4)(w,(0,i.dG)({key:11},e.$attrs,{"model-value":n.modelValue,type:"textarea",autosize:{minRows:1,maxRows:7},"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.$emit("update:modelValue",t)})}),null,16,["model-value"])):((0,i.wg)(),(0,i.j4)(w,(0,i.dG)({key:12,"model-value":n.modelValue},e.$attrs,{type:"password"===n.column.name?"password":"text",onKeydown:t[8]||(t[8]=(0,r.D2)((function(t){return e.$emit("enter")}),["enter"])),"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.$emit("update:modelValue",t)})}),null,16,["model-value","type"]))],64)}],["__scopeId","data-v-7e954e94"]])},7183:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(6252),r=n(3577);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(7327),n(1539),n(561),n(9753),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(1038),n(7042),n(8309),n(4916);const s={name:"ListInput",components:{FormInput:n(1699).Z},props:{modelValue:{type:Array,required:!1,default:function(){return[]}},formData:{type:Object,required:!1,default:function(){return{}}},column:{type:Object,required:!0}},emits:["update:modelValue"],data:function(){return{value:(e=this.modelValue||[],function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())};var e},mounted:function(){this.value.length||this.addNew()},methods:{emitUpdate:function(){var e=this.value.filter((function(e){return""!==e}));this.$emit("update:modelValue",e)},removeItem:function(e){this.value.splice(e,1),this.emitUpdate(),this.value.length||this.addNew()},addNew:function(){this.value.push("")}}},a=(0,n(3744).Z)(s,[["render",function(e,t,n,o,s,a){var l=(0,i.up)("FormInput"),c=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.value,(function(e,t){return(0,i.wg)(),(0,i.iD)("div",{key:t,class:"mb-2 d-flex"},[(0,i.Wm)(l,{modelValue:s.value[t],"onUpdate:modelValue":[function(e){return s.value[t]=e},a.emitUpdate],column:n.column,"form-data":n.formData,class:"me-2 w-100"},null,8,["modelValue","onUpdate:modelValue","column","form-data"]),(0,i.Wm)(c,{icon:"md-trash",onClick:function(e){return a.removeItem(t)}},null,8,["onClick"])])})),128)),(0,i.Wm)(c,{long:"",icon:"md-add",onClick:a.addNew},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.add),1)]})),_:1},8,["onClick"])],64)}]])},2583:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O}),n(8309),n(2772);var i=n(6252),r=n(3577);n(7042),n(5827),n(1539),n(9826),n(5212),n(7327),n(6699),n(9554),n(4747),n(2222),n(8674),n(7727),n(6992),n(8783),n(3948),n(1249),n(9600),n(6755),n(4916),n(4723),n(285),n(1637),n(5306),n(9753),n(2526),n(1817),n(2165),n(1038),n(9070),n(7941),n(5003),n(9337),n(3321);var o=n(7248),s=n(48),a=n(9328),l=n(2639),c=n(5763),u=n(6117);function h(){h=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof d?t:d,o=Object.create(r.prototype),s=new C(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=_(s,n);if(a){if(a===u)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function p(){}function f(){}var m={};a(m,r,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(S([])));v&&v!==t&&n.call(v,r)&&(m=v);var y=f.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,s,a){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,a)}))}a(l.arg)}var r;this._invoke=function(e,n){function o(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(o,o):o()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=f,a(y,"constructor",f),a(f,"constructor",p),p.displayName=a(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),a(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new w(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(y),a(y,s,"Generator"),a(y,r,(function(){return this})),a(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function d(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){d(o,i,r,s,a,"next",e)}function a(e){d(o,i,r,s,a,"throw",e)}s(void 0)}))}}n(9601),n(2443),n(3680),n(3706),n(2703),n(8011),n(489),n(8304),n(5069);var f=(0,n(2262).qj)({}),m=null;function g(){return(g=p(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f[t]){e.next=5;break}return e.next=3,v([t]);case 3:e.next=6;break;case 5:v([t]);case 6:return e.abrupt("return",f[t]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return m||(m=o.Z.get("forms",{params:{include:"tags",filter:{id:Array.isArray(e)?e:[e]},fields:{form:"id,name,api_path,http_method,preferences,api_config_name,tags,updated_at"}}}).then((function(e){e.data.data.forEach((function(e){return function(e){f[e.id]?Object.assign(f[e.id],e):f[e.id]=e}(e)}))})).finally((function(){m=null}))),m}var y=n(8688),b=n(649),w=n(1006),_=n(9669),x=n.n(_);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const T={name:"ResourceActions",props:{resources:{type:Array,required:!0},actions:{type:Array,required:!1,default:null},buttonIcon:{type:String,required:!1,default:"ios-arrow-down"},buttonType:{type:String,required:!1,default:"primary"},buttonSize:{type:String,required:!1,default:"default"},buttonGhost:{type:Boolean,required:!1,default:!0},withDeselect:{type:Boolean,required:!1,default:!1},withButtons:{type:Boolean,required:!1,default:!1},withDropdown:{type:Boolean,required:!1,default:!0},placement:{type:String,required:!1,default:"bottom"},resourceName:{type:String,required:!0},label:{type:String,required:!1,default:b.cR.actions}},emits:["start-action","finish-action"],computed:{formsCache:function(){return f},dropdownLabel:function(){return this.i18n.actions!==this.label?this.label:this.buttonActions.length?this.i18n.more:this.i18n.actions},requestHeaders:function(){var e={},t=document.querySelector('[name="csrf-token"]');return t&&(e["X-CSRF-Token"]=t.content),e},buttonTypes:function(){return{edit:"primary",remove:"error"}},partitionedActions:function(){return this.permittedActions.reduce((function(e,t){var n,i,r=(i=3,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(n,i)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],s=r[1],a=r[2];return a<50?(a+=t.display_name.length+6,o.push(t)):s.push(t),[o,s,a]}),[[],[],0]).slice(0,2)},buttonActions:function(){return this.withButtons?this.partitionedActions[1].length>1?this.partitionedActions[0]:this.permittedActions:[]},dropdownActions:function(){return this.withButtons?this.partitionedActions[1].length>1?this.partitionedActions[1]:[]:this.permittedActions},resource:function(){return this.resources[0]},editAction:function(){return this.model.actions.find((function(e){return"edit"===e.name&&e.visible}))},removeAction:function(){return this.model.actions.find((function(e){return"remove"===e.name&&e.visible}))},canEdit:function(){var e=this;return this.model.primary_key&&this.resources.some((function(t){return e.$can("edit",e.model.class_name,t)}))},canRemove:function(){var e=this;return this.model.primary_key&&this.resources.some((function(t){return e.$can("destroy",e.model.class_name,t)}))},hasActions:function(){return this.canEdit||this.canRemove||this.customActions.length>0},customActions:function(){return this.permittedActions.filter((function(e){return!["create","edit","remove"].includes(e.name)}))},permittedActions:function(){var e=this;return(this.actions||this.model.actions).filter((function(t){return(!t.apply_on||"member"===t.apply_on)&&t.visible&&e.resources.some((function(n){return e.$can(t.name,e.model.class_name,n)}))}))},model:function(){return s.r3[this.resourceName]}},methods:{shouldRenderAction:function(e){return!window.MotorAdmin.hooks.shouldRenderAction||"function"!=typeof window.MotorAdmin.hooks.shouldRenderAction||window.MotorAdmin.hooks.shouldRenderAction(e,this.resource)},deselect:function(){this.resources.forEach((function(e){e._selected=!1}))},methodRequest:function(e,t){return o.Z.put("data/".concat(this.model.slug,"/").concat(e[this.model.primary_key],"/").concat(t.preferences.method_name),{},{responseType:"blob"})},isActionWithBatchAllowed:function(e){var t,n;return!(null!==(t=f[e.preferences.form_id])&&void 0!==t&&null!==(n=t.preferences)&&void 0!==n&&n.default_values_api_path)},removeRequest:function(e){return o.Z.delete("data/".concat(this.model.slug,"/").concat(e[this.model.primary_key]))},applyAction:function(e){var t=this;return"edit"===e.name&&"default"===e.action_type?this.edit():"remove"===e.name&&"default"===e.action_type?this.remove():"form"===e.action_type&&this.resources.length>1&&!this.isActionWithBatchAllowed(e)?void 0:"method"===e.action_type?Promise.all(this.resources.map((function(n){return t.methodRequest(n,e)}))).then((function(e){t.$Message.info(t.i18n.action_has_been_applied)})).catch((function(e){t.onApiError(e)})).finally((function(){t.$emit("finish-action",e.name)})):void function(e){return g.apply(this,arguments)}(e.preferences.form_id).then((function(n){return n?1!==n.preferences.fields.length?t.openForm(t.resources,n,e):void(e.preferences.with_confirm?t.$Dialog.confirm({title:t.i18n.are_you_sure,closable:!0,onOk:function(){t.applyRequest(e,n)}}):t.applyRequest(e,n)):t.$Message.warning(t.i18n.action_has_been_removed)}))},applyRequest:function(e,t){var n=this;return this.$emit("start-action",e.name),Promise.all(this.resources.map((function(e){return n.apiRequest(e,t)}))).then((function(e){var t=e[0].data;t.text().then((function(i){var r;try{e[0].data=JSON.parse(i)}catch(t){e[0].data=i}if(null!==(r=e[0].data)&&void 0!==r&&r.errors)n.$Message.error((0,c.$G)(e.data.errors.map((function(e){return e.message})).join("\n"),70));else if(1===e.length){var o,s,a,l=e[0].data,u=(null==l||null===(o=l.data)||void 0===o?void 0:o.redirect)||(null==l||null===(s=l.data)||void 0===s?void 0:s.redirect_to)||(null==l?void 0:l.redirect)||(null==l?void 0:l.redirect_to);if("string"==typeof u)n.redirectTo(u);else if(null!==(a=e[0].headers["content-disposition"])&&void 0!==a&&a.startsWith("attachment")){var h,d=null===(h=e[0].headers["content-disposition"].match(/filename="(.*?)"/))||void 0===h?void 0:h[1],p=URL.createObjectURL(t),f=document.createElement("a");f.setAttribute("href",p),f.setAttribute("download","".concat(d||"attachment")),f.click()}else"string"==typeof l?n.$Dialog.success({title:n.i18n.action_has_been_applied,content:l}):n.$Message.info(n.i18n.action_has_been_applied)}else n.$Message.info(n.i18n.action_has_been_applied)}))})).catch((function(e){n.onApiError(e)})).finally((function(){n.$emit("finish-action",e.name)}))},onApiError:function(e){var t=this;e.response.data.text().then((function(n){var i,r,o;try{e.response.data=JSON.parse(n)}catch(t){e.response.data=n}null!==(i=e.response)&&void 0!==i&&null!==(r=i.data)&&void 0!==r&&r.errors?t.$Message.error((0,c.$G)(e.response.data.errors.join("\n"),70)):null!=e&&null!==(o=e.response)&&void 0!==o&&o.status?t.$Message.error("".concat(t.i18n.action_has_failed_with_code," ").concat(e.response.status)):t.$Message.error(e.message)}))},redirectTo:function(e){var t=this.$router.resolve({path:e.replace(location.origin,"")},this.$route);null!=t&&t.name?(this.$router.push(t),this.$Message.info(this.i18n.action_has_been_applied)):location.href=e},apiRequest:function(e,t){var n=this,i=C(S({},this.model.name+"_"+this.model.primary_key,e[this.model.primary_key]),e),r=(0,c.sX)(t.api_path,i);return"origin"!==t.api_config_name?"graphql"===t.preferences.request_type?o.Z.post("run_graphql_request",{data:{query:t.preferences.graphql_mutation,api_config_name:t.api_config_name,variables:i}},{responseType:"blob"}):o.Z.post("run_api_request",{data:{method:t.http_method,body:i,api_config_name:t.api_config_name,path:r}},{responseType:"blob"}):(0,w.w)().then((function(e){return x()[t.http_method.toLowerCase()](r,C({},i),{responseType:"blob",headers:C(C({},n.requestHeaders),e.headers)})}))},openForm:function(e,t,n){var r=this,o=1===e.length?e[0]:{};this.$Drawer.open(u.default,{data:o,withFooterSubmit:!0,form:t,triggerRequest:1===e.length,excludeFields:["id","".concat(this.model.name,"_").concat(this.model.primary_key)],onSuccess:function(e){r.$emit("finish-action",n.name)},onSubmitData:function(i){Promise.all(e.map((function(e){return r.apiRequest(e,t)}))).then((function(e){r.$Message.info(r.i18n.action_has_been_applied)})).catch((function(e){r.onApiError(e)})).finally((function(){r.$emit("finish-action",n.name),r.$Drawer.remove()}))}},{slots:{header:function(){return(0,i.h)(l.Z,{resource:o,resourceName:r.resourceName,action:n.name})}},handleClickOutside:function(){var e=this;this.$el.querySelector('form[data-form-edited="true"]')?this.$Dialog.confirm({title:this.i18n.there_are_unsaved_changes_close_form,closable:!0,onOk:function(){e.close()}}):this.close()},closable:!0})},edit:function(){var e=this;if(1===this.resources.length){var t="".concat((0,y.Z)(this.model.display_name)," #").concat(this.resource[this.model.primary_key]);this.$Drawer.open(a.default,{resource:this.resource,action:"edit",resourceName:this.resourceName,onClose:function(){e.$Drawer.remove()},onSuccess:function(n){e.$Message.info("".concat(t," ").concat(e.i18n.has_been_updated)),e.$emit("finish-action","edit")}},{slots:{header:function(){return(0,i.h)(l.Z,{resource:e.resource,resourceName:e.resourceName,action:"edit"})}},handleClickOutside:function(){var e=this;this.$el.querySelector('form[data-form-edited="true"]')?this.$Dialog.confirm({title:this.i18n.there_are_unsaved_changes_close_form,closable:!0,onOk:function(){e.close()}}):this.close()},className:"drawer-no-bottom-padding",closable:!0})}},onDropdownVisibleChange:function(e){e&&v(this.permittedActions.map((function(e){return e.preferences.form_id})))},remove:function(){var e=this;this.$Dialog.confirm({title:this.resources.length>1?[this.i18n.items_will_be_removed.replace("%{count}",this.resources.length),this.i18n.are_you_sure].join(". "):[this.i18n.selected_item_will_be_removed,this.i18n.are_you_sure].join(". "),closable:!0,onOk:function(){e.$emit("start-action","remove"),Promise.all(e.resources.map(e.removeRequest)).then((function(t){e.resources.length>1?e.$Message.info("".concat(e.resources.length," ").concat(e.i18n.items_have_been_removed)):e.$Message.info(e.i18n.selected_item_has_been_removed)})).catch((function(t){var n;console.error(t),null!==(n=t.response.data)&&void 0!==n&&n.errors?e.$Message.error((0,c.$G)(t.response.data.errors.join("\n"),70)):e.$Message.error(e.i18n.unable_to_remove_items)})).finally((function(){e.$emit("finish-action","remove")}))}})}}},O=(0,n(3744).Z)(T,[["render",function(e,t,n,o,s,a){var l=(0,i.up)("VButton"),c=(0,i.up)("Icon"),u=(0,i.up)("DropdownItem"),h=(0,i.up)("DropdownMenu"),d=(0,i.up)("Dropdown");return(0,i.wg)(),(0,i.iD)(i.HY,null,[n.withButtons?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:0},(0,i.Ko)(a.buttonActions,(function(e,t){return(0,i.wg)(),(0,i.iD)("span",null,[a.shouldRenderAction(e)?((0,i.wg)(),(0,i.j4)(l,{key:e.name,class:(0,r.C_)(t!==a.buttonActions.length-1||n.withDropdown&&a.dropdownActions.length?"me-2":""),type:a.buttonTypes[e.name],ghost:!!a.buttonTypes[e.name],size:n.buttonSize,onClick:function(t){return a.applyAction(e)}},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.display_name),1)]})),_:2},1032,["class","type","ghost","size","onClick"])):(0,i.kq)("",!0)])})),256)):(0,i.kq)("",!0),(n.withDeselect||a.hasActions)&&n.withDropdown&&a.dropdownActions.length?((0,i.wg)(),(0,i.j4)(d,{key:1,trigger:"click",placement:n.placement,class:(0,r.C_)(e.$attrs.class),onOnVisibleChange:a.onDropdownVisibleChange},{list:(0,i.w5)((function(){return[(0,i.Wm)(h,null,{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.customActions,(function(e){return(0,i.wg)(),(0,i.iD)(i.HY,{key:e.name},[-1!==a.dropdownActions.indexOf(e)?((0,i.wg)(),(0,i.j4)(u,{key:0,disabled:n.resources.length>1&&(!a.isActionWithBatchAllowed(e)||e.preferences.flow_id),onClick:function(t){return a.applyAction(e)}},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.display_name),1)]})),_:2},1032,["disabled","onClick"])):(0,i.kq)("",!0)],64)})),128)),a.editAction&&a.canEdit&&-1!==a.dropdownActions.indexOf(a.editAction)?((0,i.wg)(),(0,i.j4)(u,{key:0,disabled:n.resources.length>1,onClick:t[0]||(t[0]=function(e){return a.applyAction(a.editAction)})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.edit),1)]})),_:1},8,["disabled"])):(0,i.kq)("",!0),a.removeAction&&a.canRemove&&-1!==a.dropdownActions.indexOf(a.removeAction)?((0,i.wg)(),(0,i.j4)(u,{key:1,divided:!!a.editAction,class:"text-danger",onClick:t[1]||(t[1]=function(e){return a.applyAction(a.removeAction)})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.remove),1)]})),_:1},8,["divided"])):(0,i.kq)("",!0),n.withDeselect?((0,i.wg)(),(0,i.j4)(u,{key:2,divided:a.hasActions,onClick:a.deselect},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.deselect_all),1)]})),_:1},8,["divided","onClick"])):(0,i.kq)("",!0)]})),_:1})]})),default:(0,i.w5)((function(){return[(0,i.Wm)(l,{ghost:n.buttonGhost,type:n.buttonType,class:(0,r.C_)(["w-100",{"bg-white":n.buttonGhost}]),size:n.buttonSize},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(a.dropdownLabel)+" ",1),(0,i.Wm)(c,{type:n.buttonIcon},null,8,["type"])]})),_:1},8,["ghost","type","size","class"])]})),_:1},8,["placement","class","onOnVisibleChange"])):(0,i.kq)("",!0)],64)}]])},1511:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D}),n(9753),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948),n(7042),n(8309),n(1038),n(4916);var i=n(6252),r=n(3577);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var s={class:"pt-2"},a={style:{"max-width":"42px","text-align":"center"}},l={class:"pb-2 pt-3 text-center"};n(1249),n(561),n(4553),n(2772),n(9070),n(7941),n(7327),n(5003),n(9554),n(4747),n(9337),n(3321),n(6699);var c={class:"row","data-role":"filter-item"},u={class:"col-5 pe-2 ps-0"},h={class:"col-2 p-0"},d={class:"d-flex col-5 ps-2 pe-0"};n(9826),n(2222),n(4944),n(3792),n(2023),n(3123),n(9720);var p=n(1699),f=n(48);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var x=["eq","neq","eqnull","neqnull","contains","gt","gte","lt","lte","starts_with","ends_with","includes","excludes"];const k={name:"FilterItem",components:{FormInput:p.Z},props:{filter:{type:Object,required:!0},model:{type:Object,required:!0}},emits:["remove","update:filter"],data:function(){return{dataFilter:{key:"",action:"eq",value:""}}},computed:{selectedColumn:function(){var e=this;return this.columns.find((function(t){return t.value===e.dataFilter.key}))},columns:function(){return[].concat(b(this.model.columns.map((function(e){return e.virtual||e.reference||!["read_write","read_only"].includes(e.access_type)?null:v(v({},e),{},{value:e.name,label:e.display_name})})).filter(Boolean)),b(this.model.columns.map((function(e){if(e.reference&&!e.reference.polymorphic&&["read_write","read_only"].includes(e.access_type)){var t=f.r3[e.reference.model_name];return t&&t.columns.map((function(t){return!t.virtual&&"query"!==t.column_source&&["read_write","read_only"].includes(t.access_type)?v(v({},t.name===e.reference.primary_key?e:t),{},{value:"".concat(e.reference.name,".").concat(t.name),label:"".concat(e.reference.display_name," - ").concat(t.display_name)}):null})).filter(Boolean)}return[]})).flat()),b(this.model.associations.map((function(e){if(e.visible){var t=f.r3[e.model_name];return t&&t.columns.map((function(t){return!t.virtual&&"query"!==t.column_source&&["read_write","read_only"].includes(t.access_type)?v(v({},t),{},{value:"".concat(e.name,".").concat(t.name),label:"".concat(e.display_name," - ").concat(t.display_name)}):null})).filter(Boolean)}return[]})).flat())).filter(Boolean)},actions:function(){var e=[{value:"eq",label:this.i18n.is},{value:"neq",label:this.i18n.is_not},{value:"eqnull",label:this.i18n.is_null},{value:"neqnull",label:this.i18n.is_not_null}];return this.selectedColumn?this.selectedColumn.is_array?(e.push({value:"includes",label:this.i18n.includes},{value:"excludes",label:this.i18n.excludes}),e):(["link","image","audio","video","file","textarea","richtext","string","tag"].includes(this.selectedColumn.column_type)?e.push({value:"contains",label:this.i18n.contains},{value:"starts_with",label:this.i18n.starts_with},{value:"ends_with",label:this.i18n.ends_with}):["change","percentage","integer","float","date","datetime","currency"].includes(this.selectedColumn.column_type)&&e.push({value:"gt",label:this.i18n.greater_than},{value:"gte",label:this.i18n.greater_or_equal},{value:"lt",label:this.i18n.less_than},{value:"lte",label:this.i18n.less_or_equal}),e):e}},watch:{dataFilter:{deep:!0,handler:function(e){var t=e.key,n=e.value,i=e.action,r=m(t.split("."),2),o=r[0],s=r[1];s?this.$emit("update:filter",y({},o,y({},s,y({},i,n)))):this.$emit("update:filter",y({},t,y({},i,n)))}}},mounted:function(){this.assignDataFilter()},methods:{assignDataFilter:function(){var e=m(Object.entries(this.filter),1),t=m(e[0],2),n=t[0],i=t[1],r=m(Object.entries(i),1),o=m(r[0],2),s=o[0],a=o[1];if(x.includes(s))this.dataFilter={key:n,action:s,value:a};else{var l=m(Object.entries(a),1),c=m(l[0],2),u=c[0],h=c[1];this.dataFilter={key:"".concat(n,".").concat(s),action:u,value:h}}},onKeyChange:function(e){var t=this;this.actions.find((function(e){return e.value===t.dataFilter.action}))||(this.dataFilter.action="eq"),this.dataFilter.value=""}}};var C=n(3744);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L={"":{eq:""}};const E={name:"ResourceFilters",components:{FilterItem:(0,C.Z)(k,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("MSelect"),l=(0,i.up)("FormInput"),p=(0,i.up)("VInput"),f=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",c,[(0,i._)("div",u,[(0,i.Wm)(a,{modelValue:o.dataFilter.key,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return o.dataFilter.key=e}),s.onKeyChange],"data-role":"filter-field",filterable:"","with-deselect":!1,style:{"margin-left":"50px",width:"calc(100% - 50px)"},options:s.columns},null,8,["modelValue","options","onUpdate:modelValue"]),(0,i.WI)(e.$slots,"default")]),(0,i._)("div",h,[(0,i.Wm)(a,{modelValue:o.dataFilter.action,"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.dataFilter.action=e}),"data-role":"filter-condition","with-deselect":!1,options:s.actions},null,8,["modelValue","options"])]),(0,i._)("div",d,[s.selectedColumn&&!["contains","starts_with","ends_with","eqnull","neqnull"].includes(o.dataFilter.action)&&"richtext"!==s.selectedColumn.column_type?((0,i.wg)(),(0,i.j4)(l,{key:0,modelValue:o.dataFilter.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return o.dataFilter.value=e}),"data-role":"filter-value",column:s.selectedColumn},null,8,["modelValue","column"])):((0,i.wg)(),(0,i.j4)(p,{key:1,modelValue:o.dataFilter.value,"onUpdate:modelValue":t[3]||(t[3]=function(e){return o.dataFilter.value=e}),disabled:["eqnull","neqnull"].includes(o.dataFilter.action),"data-role":"filter-value"},null,8,["modelValue","disabled"])),(0,i.Wm)(f,{icon:"md-close",class:"ms-1",type:"text",onClick:t[4]||(t[4]=function(t){return e.$emit("remove",n.filter)})})])])}]])},props:{model:{type:Object,required:!0},filters:{type:[Array,Object],required:!1,default:function(){return[]}}},emits:["update:filters"],data:function(){return{filtersWithKeys:[]}},created:function(){this.filtersWithKeys=this.filters.map((function(e){return[e,Math.random()]})),this.filters.length||this.addFilter()},methods:{updateFilters:function(){this.$emit("update:filters",this.filtersWithKeys.map((function(e){return e[0]})))},addFilter:function(){this.filtersWithKeys.push([T({},L),Math.random()]),this.updateFilters()},toggleOr:function(e){"OR"===this.filtersWithKeys[e][0]?this.filtersWithKeys.splice(e,1):this.filtersWithKeys.splice(e+1,0,["OR",Math.random()]),this.updateFilters()},updateFilter:function(e,t){var n=this.filtersWithKeys.findIndex((function(t){var n,i,r=(i=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(n,i)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return r[0],r[1]===e}));this.filtersWithKeys.splice(n,1,[t,e]),this.updateFilters()},removeFilter:function(e){var t,n,i,r=this.filters.indexOf(e);this.filtersWithKeys.splice(r,1),"OR"===(null===(t=this.filtersWithKeys[r])||void 0===t?void 0:t[0])&&this.filtersWithKeys.splice(r,1),"OR"===(null===(n=this.filtersWithKeys[0])||void 0===n?void 0:n[0])&&this.filtersWithKeys.splice(0,1),"OR"===(null===(i=this.filtersWithKeys[this.filtersWithKeys.length-1])||void 0===i?void 0:i[0])&&this.filtersWithKeys.splice(this.filtersWithKeys.length-1,1),this.updateFilters()}}},D=(0,C.Z)(E,[["render",function(e,t,n,c,u,h){var d=(0,i.up)("FilterItem"),p=(0,i.up)("Tag"),f=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",s,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(u.filtersWithKeys,(function(t,s){var l,c,u=(c=2,function(e){if(Array.isArray(e))return e}(l=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(l,c)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(l,c)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=u[0],m=u[1];return(0,i.wg)(),(0,i.iD)(i.HY,{key:m},["OR"!==f?((0,i.wg)(),(0,i.j4)(d,{key:0,filter:f,model:n.model,style:{margin:"-4px 0"},onRemove:h.removeFilter,"onUpdate:filter":function(e){return h.updateFilter(m,e)}},null,8,["filter","model","onRemove","onUpdate:filter"])):(0,i.kq)("",!0),(0,i._)("div",a,["OR"===f?((0,i.wg)(),(0,i.j4)(p,{key:0,color:"volcano",class:"ms-1 my-0",onClick:function(e){return h.toggleOr(s)}},{default:(0,i.w5)((function(){var t;return[(0,i.Uk)((0,r.zw)(null===(t=e.i18n[f.toLowerCase()])||void 0===t?void 0:t.toUpperCase()),1)]})),_:2},1032,["onClick"])):s!==n.filters.length-1&&"OR"!==n.filters[s+1]?((0,i.wg)(),(0,i.j4)(p,{key:1,color:"blue",class:"m-0",onClick:function(e){return h.toggleOr(s)}},{default:(0,i.w5)((function(){var t;return[(0,i.Uk)((0,r.zw)(null===(t=e.i18n.and)||void 0===t?void 0:t.toUpperCase()),1)]})),_:2},1032,["onClick"])):(0,i.kq)("",!0)])],64)})),128)),(0,i._)("div",l,[(0,i.Wm)(f,{icon:"md-add",type:"text",onClick:h.addFilter},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.add_filter),1)]})),_:1},8,["onClick"])])])}]])},9328:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x}),n(8309),n(2526),n(1817),n(6699),n(2023);var i=n(6252),r=n(3577),o=n(9963),s={key:0,class:"ion ion-md-information-circle me-1 cursor-pointer"},a={class:"sticky-footer"};n(9653),n(5827),n(1539),n(9554),n(4747),n(4916),n(5306),n(2222),n(9826),n(1249),n(7327),n(5212),n(8674),n(7727),n(9600),n(9070),n(7941),n(5003),n(9337),n(3321),n(2165),n(6992),n(8783),n(3948),n(2443),n(3680),n(3706),n(2703),n(8011),n(489),n(8304),n(5069),n(7042);var l=n(7248),c=n(48),u=n(645),h=n(9476),d=n(2734),p=n(8688),f=n(1699),m=n(7183);function g(){g=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),s=new C(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=_(s,n);if(a){if(a===u)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function h(){}function d(){}function p(){}var f={};a(f,r,(function(){return this}));var m=Object.getPrototypeOf,v=m&&m(m(S([])));v&&v!==t&&n.call(v,r)&&(f=v);var y=p.prototype=h.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,s,a){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,a)}))}a(l.arg)}var r;this._invoke=function(e,n){function o(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(o,o):o()}}function _(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,a(y,"constructor",p),a(p,"constructor",d),d.displayName=a(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),a(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new w(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(y),a(y,s,"Generator"),a(y,r,(function(){return this})),a(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function v(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){v(o,i,r,s,a,"next",e)}function a(e){v(o,i,r,s,a,"throw",e)}s(void 0)}))}}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _={name:"ResourceForm",components:{FormInput:f.Z,FormListInput:m.Z},provide:function(){return{formComponent:this}},props:{resource:{type:Object,required:!1,default:function(){return{}}},action:{type:String,required:!1,default:"new",validator:function(e){return["edit","new"].includes(e)}},withSaveAndCreateNew:{type:Boolean,required:!1,default:!0},resourceName:{type:String,required:!0},parentResourceName:{type:String,required:!1,default:null},parentResourceId:{type:[Number,String],required:!1,default:null},associationName:{type:String,required:!1,default:null}},emits:["close","success"],data:function(){return{isLoading:!1,isEdited:!1,isSaveAndNewLoading:!1,isSaveLoading:!1,resourceData:{}}},computed:{multipleValuesSelectorColumnTypes:function(){return["string","integer","float","tag","select"]},rules:function(){var e=this;return this.columns.reduce((function(t,n){return t[n.name]=(0,u.j$)(n,e.resource),t}),{})},model:function(){return c.r3[this.resourceName]},requestParams:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.resourceData);return this.columns.forEach((function(n){var i,r;(0,u.om)(n,e.resource)&&(t[n.name]=JSON.parse(t[n.name])),"edit"!==e.action||(null!==(i=e.resource[n.name])&&void 0!==i?i:"")!==t[n.name]&&JSON.stringify(e.resource[n.name])!==JSON.stringify(t[n.name])?"active_storage/attachment"===(null===(r=n.reference)||void 0===r?void 0:r.model_name)&&(t[n.name.replace(/_attachment$/,"")]=t[n.name],delete t[n.name]):delete t[n.name]})),{data:t}},apiRequest:function(){var e=this;if("edit"===this.action)return l.Z.put("data/".concat(this.model.slug,"/").concat(this.resource[this.model.primary_key]),this.requestParams);if("new"===this.action&&this.parentResourceName){var t=c.r3[this.parentResourceName];return"active_storage/attachment"===t.associations.find((function(t){return t.name===e.associationName})).model_name?l.Z.post("data/active_storage__attachments",this.requestParams):l.Z.post("data/".concat(t.slug,"/").concat(this.parentResourceId,"/").concat(this.associationName),this.requestParams)}return"new"===this.action?l.Z.post("data/".concat(this.model.slug),this.requestParams):null},hasNewEditColumnsToLoad:function(){var e=this.model.columns.filter((function(e){return["read_write","read_only"].includes(e.access_type)})).map((function(e){return e.name}));return this.columns.some((function(t){return!e.includes(t.name)}))},columns:function(){var e=["read_write","write_only"];return this.model.columns.filter((function(t){return e.includes(t.access_type)}))}},created:function(){this.resourceData=this.normalizeResourceData(this.resource),"edit"===this.action&&this.hasNewEditColumnsToLoad&&this.loadData()},methods:{scrollToErrors:h.o,onSaveClick:function(){var e=this;this.$refs.form.validate((function(t){t?(e.isSaveLoading=!0,e.handleSubmit({button:"save"})):e.scrollToErrors()}))},onSaveAndCreateClick:function(){var e=this;this.$refs.form.validate((function(t){t?(e.isSaveAndNewLoading=!0,e.handleSubmit({button:"save_and_create"})):e.scrollToErrors()}))},associationColumn:function(e){var t=this.model.associations.find((function(t){return t.name===e.format.association_name})),n=c.r3[t.model_name];return{name:"".concat((0,p.Z)(t.name),"_").concat(n.primary_key,"s"),display_name:e.display_name,reference:{name:t.name,model_name:n.name,primary_key:n.primary_key},is_array:!0}},isAssociationColumn:function(e){return"association"===e.column_type},normalizeResourceData:function(e){var t=this,n={};return this.columns.forEach((function(i){var r=e[i.name];if(t.isAssociationColumn(i)){var o=t.associationColumn(i);n[o.name]=r.map((function(e){return e[o.reference.primary_key]}))}else(0,u.om)(i,t.resource)?n[i.name]=JSON.stringify(null!=r?r:{},null,"  "):n[i.name]=r&&"object"==typeof r?JSON.parse(JSON.stringify(r)):r})),n},loadData:function(){var e=this;this.isLoading=!0;var t=["read_only","read_write","write_only"];return l.Z.get("data/".concat(this.model.slug,"/").concat(this.resource[this.model.primary_key]),{params:{fields:(0,d.n)(this.model,t),include:(0,d.p)(this.model,t)}}).then((function(t){e.resourceData=e.normalizeResourceData(t.data.data)})).catch((function(t){var n,i;null!==(n=t.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message)})).finally((function(){e.isLoading=!1}))},handleSubmit:function(){var e=arguments,t=this;return y(g().mark((function n(){var i,r,o,s;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.length>0&&void 0!==e[0]?e[0]:{},n.prev=1,n.next=4,t.apiRequest;case 4:r=n.sent,t.$emit("success",r),"save_and_create"===i.button?t.resourceData=t.normalizeResourceData(t.resource):t.$emit("close"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),null!==(o=n.t0.response)&&void 0!==o&&null!==(s=o.data)&&void 0!==s&&s.errors?t.$refs.form.setErrors(n.t0.response.data.errors):n.t0.message&&t.$refs.form.setErrors([n.t0.message]),t.scrollToErrors();case 13:return n.prev=13,t.isSaveAndNewLoading=!1,t.isSaveLoading=!1,n.finish(13);case 17:case"end":return n.stop()}}),n,null,[[1,9,13,17]])})))()}}},x=(0,n(3744).Z)(_,[["render",function(e,t,n,l,c,u){var h=(0,i.up)("Spin"),d=(0,i.up)("FormListInput"),p=(0,i.up)("FormInput"),f=(0,i.up)("FormItem"),m=(0,i.up)("VForm"),g=(0,i.up)("VButton"),v=(0,i.Q2)("popover");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(m,{ref:"form",model:c.resourceData,rules:u.rules,"data-form-edited":c.isEdited,"label-position":"top",onSubmit:u.handleSubmit},{default:(0,i.w5)((function(){return[c.isLoading?((0,i.wg)(),(0,i.j4)(h,{key:0,fix:""})):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(u.columns,(function(e){return(0,i.wg)(),(0,i.j4)(f,{key:e.name,label:e.display_name,prop:e.name},{label:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.display_name)+" ",1),e.description?(0,i.wy)(((0,i.wg)(),(0,i.iD)("i",s,null,512)),[[v,{content:e.description,trigger:"mouseenter",placement:"left-end",bodyStyle:{maxWidth:"350px",overflowY:"auto",maxHeight:"200px",whiteSpace:"pre-wrap",lineBreak:"anywhere"}}]]):(0,i.kq)("",!0)]})),default:(0,i.w5)((function(){return[e.is_array&&!u.multipleValuesSelectorColumnTypes.includes(e.column_type)?((0,i.wg)(),(0,i.j4)(d,{key:0,modelValue:c.resourceData[e.name],"onUpdate:modelValue":[function(t){return c.resourceData[e.name]=t},t[0]||(t[0]=function(e){return c.isEdited=!0})],column:e},null,8,["modelValue","onUpdate:modelValue","column"])):u.isAssociationColumn(e)?((0,i.wg)(),(0,i.j4)(p,{key:1,modelValue:c.resourceData[u.associationColumn(e).name],"onUpdate:modelValue":[function(t){return c.resourceData[u.associationColumn(e).name]=t},t[1]||(t[1]=function(e){return c.isEdited=!0})],column:u.associationColumn(e),"form-data":n.resource},null,8,["modelValue","onUpdate:modelValue","column","form-data"])):((0,i.wg)(),(0,i.j4)(p,{key:2,modelValue:c.resourceData[e.name],"onUpdate:modelValue":[function(t){return c.resourceData[e.name]=t},t[2]||(t[2]=function(e){return c.isEdited=!0})],column:e,"form-data":n.resource},null,8,["modelValue","onUpdate:modelValue","column","form-data"]))]})),_:2},1032,["label","prop"])})),128))]})),_:1},8,["model","rules","data-form-edited","onSubmit"]),(0,i._)("div",a,[(0,i.Wm)(g,{style:{float:"left"},onClick:t[3]||(t[3]=(0,o.iM)((function(t){return e.$emit("close")}),["stop"]))},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.cancel),1)]})),_:1}),n.withSaveAndCreateNew&&"new"===n.action?((0,i.wg)(),(0,i.j4)(g,{key:0,type:"primary",ghost:"",class:"bg-white me-2",loading:c.isSaveAndNewLoading,onClick:(0,o.iM)(u.onSaveAndCreateClick,["stop"])},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.save_and_create_new),1)]})),_:1},8,["loading","onClick"])):(0,i.kq)("",!0),(0,i.Wm)(g,{type:"primary",loading:c.isSaveLoading,onClick:(0,o.iM)(u.onSaveClick,["stop"])},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])])],64)}],["__scopeId","data-v-321a8c60"]])},2639:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d}),n(8309);var i=n(6252),r=n(3577),o={class:"d-flex"},s={class:"ivu-drawer-header-inner"};n(9826),n(1539),n(3710),n(9714),n(2222);var a=n(48),l=n(8688),c=n(2345),u=n(1995);const h={name:"FormHeader",props:{resource:{type:Object,required:!1,default:function(){return{}}},resourceName:{type:String,required:!0},action:{type:String,required:!0}},computed:{canEditCustomForm:function(){return this.customForm&&this.$can("update","Motor::Form",this.customForm)},canBuildCustomForm:function(){return!this.customForm&&this.$can("create","Motor::Form")},canAdjustColumns:function(){return!this.customForm&&this.$can("update","Motor::Resource",this.model)},customForm:function(){var e,t,n=null===(e=this.modelAction)||void 0===e||null===(t=e.preferences)||void 0===t?void 0:t.form_id;return n?c.r.find((function(e){return e.id.toString()===n.toString()})):null},model:function(){return a.r3[this.resourceName]},modelAction:function(){var e=this;return this.model.actions.find((function(t){return t.name===e.action}))},headerTitle:function(){return"".concat(this.modelAction.display_name," ").concat(this.resourceTitle)},resourceTitle:function(){return this.model.primary_key in this.resource?"".concat((0,l.Z)(this.model.display_name)," #").concat(this.resource[this.model.primary_key]):(0,l.Z)(this.model.display_name)}},methods:{openColumnSettings:function(){this.$Drawer.remove(),(0,u.r)({selectedResource:this.model,settingsType:"columns"})}}},d=(0,n(3744).Z)(h,[["render",function(e,t,n,a,l,c){var u=(0,i.up)("Icon"),h=(0,i.up)("VButton"),d=(0,i.up)("DropdownItem"),p=(0,i.up)("DropdownMenu"),f=(0,i.up)("Dropdown");return(0,i.wg)(),(0,i.iD)("div",o,[c.canEditCustomForm||c.canBuildCustomForm||c.canAdjustColumns?((0,i.wg)(),(0,i.j4)(f,{key:0,trigger:"click",placement:"bottom-start"},{list:(0,i.w5)((function(){return[(0,i.Wm)(p,null,{default:(0,i.w5)((function(){return[c.canEditCustomForm?((0,i.wg)(),(0,i.j4)(d,{key:0,onClick:t[0]||(t[0]=function(t){return e.$router.push({name:"form",params:{id:c.customForm.id}})})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.adjust_form),1)]})),_:1})):(0,i.kq)("",!0),c.canAdjustColumns?((0,i.wg)(),(0,i.j4)(d,{key:1,onClick:c.openColumnSettings},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.adjust_fields),1)]})),_:1},8,["onClick"])):(0,i.kq)("",!0),c.canBuildCustomForm?((0,i.wg)(),(0,i.j4)(d,{key:2,onClick:t[1]||(t[1]=function(t){return e.$router.push({name:"new_form",query:{resource:c.model.name,action:n.action}})})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.build_custom_form),1)]})),_:1})):(0,i.kq)("",!0)]})),_:1})]})),default:(0,i.w5)((function(){return[(0,i.Wm)(h,{type:"text",size:"large",class:"header-btn"},{default:(0,i.w5)((function(){return[(0,i.Wm)(u,{type:"md-more",size:"large"})]})),_:1})]})),_:1})):(0,i.kq)("",!0),(0,i._)("div",s,(0,r.zw)(c.headerTitle),1)])}],["__scopeId","data-v-7f9bfb99"]])},299:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L}),n(8309),n(2526),n(1817);var i=n(6252),r=n(3577),o={key:1,class:"d-flex flex-column h-100"},s={key:0,ref:"observerElement",style:{height:"7px"}},a={ref:"title",class:"d-flex",style:{"z-index":"1"}},l={key:0,class:"text-center mt-2"},c={key:3,class:"settings-mask"},u={ref:"columnsWrapper",class:"row"},h={key:0,class:"ion ion-md-information-circle me-1 cursor-pointer"},d=(0,i._)("br",null,null,-1);n(9653),n(3710),n(1539),n(9714),n(4916),n(4723),n(2222),n(9826),n(7327),n(6699),n(9600),n(8674),n(7727),n(2165),n(6992),n(8783),n(3948),n(2443),n(3680),n(3706),n(2703),n(9070),n(8011),n(489),n(9554),n(4747),n(8304),n(5069),n(7042),n(9753),n(1038);var p=n(7248),f=n(48),m=n(8688),g=n(8911),v=n(2583),y=n(8104),b=n(2734),w=n(7605),_=n(8564),x=n(2368),k=n(7209);function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function S(){S=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),s=new k(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===u)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function h(){}function d(){}function p(){}var f={};a(f,r,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==t&&n.call(g,r)&&(f=g);var v=p.prototype=h.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,s,a){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,a)}))}a(l.arg)}var r;this._invoke=function(e,n){function o(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,a(v,"constructor",p),a(p,"constructor",d),d.displayName=a(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),a(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new b(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(v),a(v,s,"Generator"),a(v,r,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function A(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){A(o,i,r,s,a,"next",e)}function a(e){A(o,i,r,s,a,"throw",e)}s(void 0)}))}}const O={name:"ResourceInfo",components:{InfoCell:g.Z,ResourceActions:v.Z,SettingsMask:x.Z},props:{resourceName:{type:String,required:!0},resourceId:{type:[String,Number],required:!0},withActions:{type:Boolean,required:!1,default:!1},withStickyTitle:{type:Boolean,required:!1,default:!1},editable:{type:Boolean,required:!1,default:!1},oneColumn:{type:Boolean,required:!1,default:!0},referencePopover:{type:Boolean,required:!1,default:!0}},emits:["remove","update"],data:function(){return{resource:{},notFound:!1,isLoading:!0,isReloading:!0}},computed:{isShowSettings:_.Qy,title:function(){var e,t=this.resource[this.model.primary_key],n=null==t||null===(e=t.toString())||void 0===e?void 0:e.match(/^\d+$/);return"".concat((0,m.Z)(this.model.display_name)).concat(n?" #":": ").concat(t)},displayColumn:function(){var e=this;return this.model.columns.find((function(t){return t.name===e.model.display_column}))},model:function(){return f.r3[this.resourceName]},columns:function(){var e=this;return this.model.columns.filter((function(t){return"id"!==t.name&&(e.model.display_primary_key||t.name!==e.displayColumn.name)&&["read_only","read_write"].includes(t.access_type)}))},includeParams:function(){return(0,b.p)(this.model)},fieldsParams:function(){return(0,b.n)(this.model)},queryParams:function(){var e={fields:this.fieldsParams};return this.includeParams&&(e.include=this.includeParams),e}},watch:{columns:{deep:!0,handler:(0,k.Z)(T(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadData();case 1:case"end":return e.stop()}}),e,this)}))),3e3)},"model.display_column":function(){this.assignBreadcrumbLabel()},"model.display_primary_key":function(){this.assignBreadcrumbLabel()}},beforeUnmount:function(){var e;null===(e=this.titleObserver)||void 0===e||e.disconnect()},mounted:function(){var e=this;this.loadData().then((function(){e.withStickyTitle&&e.initializeTitleObserver()}))},methods:{widthLessThan:w.aJ,initializeTitleObserver:function(){var e=this;this.titleObserver=new IntersectionObserver((function(t){var n,i,r=(n=t,i=1,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(n,i)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];return e.$refs.title.classList.toggle("pinned-resource-title",r.intersectionRatio<1)}),{threshold:1}),this.$refs.observerElement&&this.titleObserver.observe(this.$refs.observerElement)},onFinisAction:function(e){"remove"===e?this.$emit("remove",this.resource):this.loadData()},assignResource:function(e){this.resource=e,this.assignBreadcrumbLabel(),this.$emit("update",e)},assignBreadcrumbLabel:function(){var e=this.model.display_primary_key?["".concat(this.resourceId.toString().match(/^\d+$/)?"#":"").concat(this.resourceId)]:[];this.model.display_column&&this.resource[this.model.display_column]&&this.resourceId.toString()!==this.resource[this.model.display_column].toString()&&e.push("".concat(this.resource[this.model.display_column])),(0,y.y)(this.resourceName,this.resourceId,e.join(" "))},loadData:function(){var e=this;return this.isReloading=!0,p.Z.get("data/".concat(this.model.slug,"/").concat(this.resourceId),{params:this.queryParams}).then((function(t){e.assignResource(t.data.data)})).catch((function(t){var n,i,r,o;404===(null===(n=t.response)||void 0===n?void 0:n.status)?e.notFound=!0:(console.error(t),403===(null===(i=t.response)||void 0===i?void 0:i.status)&&(e.notFound=!0),null!==(r=t.response)&&void 0!==r&&null!==(o=r.data)&&void 0!==o&&o.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message))})).finally((function(){e.isLoading=!1,e.isReloading=!1}))}}},L=(0,n(3744).Z)(O,[["render",function(e,t,n,p,f,m){var g=(0,i.up)("Spin"),v=(0,i.up)("InfoCell"),y=(0,i.up)("SettingsMask"),b=(0,i.up)("ResourceActions"),w=(0,i.Q2)("popover");return(0,i.wg)(),(0,i.iD)("div",{style:{position:"relative"},class:(0,r.C_)({"h-100":f.isLoading})},[f.isLoading||f.isReloading?((0,i.wg)(),(0,i.j4)(g,{key:0,fix:""})):(0,i.kq)("",!0),f.isLoading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",o,[n.withStickyTitle?((0,i.wg)(),(0,i.iD)("div",s,null,512)):(0,i.kq)("",!0),(0,i._)("div",a,[(0,i._)("div",{class:"position-relative",style:(0,r.j5)([{"min-width":"250px"},n.withActions&&!f.notFound?m.widthLessThan("lg")?"width: calc(100% - 100px)":"width: 50%":"width: 100%"])},[f.notFound?((0,i.wg)(),(0,i.iD)("p",l,(0,r.zw)(e.i18n.not_found),1)):m.model.display_primary_key?((0,i.wg)(),(0,i.iD)("p",{key:1,class:"fs-2 fw-bold",style:(0,r.j5)(n.withStickyTitle?"margin: 9px 0":"margin-bottom: 9px")},(0,r.zw)(m.title),5)):((0,i.wg)(),(0,i.j4)(v,{key:2,resource:f.resource,column:m.displayColumn,style:(0,r.j5)(n.withStickyTitle?"margin: 9px 0":"margin-bottom: 9px"),"resource-name":n.resourceName,editable:n.editable&&e.$can("edit",m.model.class_name,f.resource),"reference-popover":n.referencePopover,class:"fs-2 fw-bold",onUpdate:m.assignResource},null,8,["resource","column","style","resource-name","editable","reference-popover","onUpdate"])),m.isShowSettings?((0,i.wg)(),(0,i.iD)("div",c)):(0,i.kq)("",!0)],4),n.withActions&&!f.notFound?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"d-flex justify-content-end align-items-center",style:(0,r.j5)([{"z-index":"0"},m.widthLessThan("lg")?"width: 100px":"width: 50%"])},[m.isShowSettings?((0,i.wg)(),(0,i.j4)(y,{key:0,"button-only":!0,"settings-type":"actions",resource:m.model},null,8,["resource"])):((0,i.wg)(),(0,i.j4)(b,{key:1,resources:[f.resource],"resource-name":m.model.name,"button-type":"primary","button-ghost":!1,label:e.i18n.actions,"with-buttons":!m.widthLessThan("lg"),placement:"bottom-end",onStartAction:t[0]||(t[0]=function(e){return f.isReloading=!0}),onFinishAction:m.onFinisAction},null,8,["resources","resource-name","label","with-buttons","onFinishAction"]))],4)):(0,i.kq)("",!0)],512),f.notFound?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:1,class:"position-relative",style:(0,r.j5)({maxWidth:n.oneColumn&&!f.notFound?"500px":"",overflow:m.isShowSettings?"hidden":"",height:m.isShowSettings?Math.min(e.$refs.columnsWrapper.offsetHeight,e.$parent.$parent.$el.offsetHeight-110)+"px":"auto"})},[m.isShowSettings?((0,i.wg)(),(0,i.j4)(y,{key:0,resource:m.model,"settings-type":"columns"},null,8,["resource"])):(0,i.kq)("",!0),(0,i._)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(m.columns,(function(t){return(0,i.wg)(),(0,i.iD)("div",{key:t.name,class:(0,r.C_)([n.oneColumn?"col-12":"col-xxl-3 col-xl-6 col-md-12 col-12","mb-3"])},[t.description?(0,i.wy)(((0,i.wg)(),(0,i.iD)("i",h,null,512)),[[w,{content:t.description,trigger:"mouseenter",placement:"top-left",bodyStyle:{maxWidth:"350px",overflowY:"auto",maxHeight:"200px",whiteSpace:"pre-wrap",lineBreak:"anywhere"}}]]):(0,i.kq)("",!0),(0,i._)("b",null,(0,r.zw)(t.display_name)+": ",1),d,(0,i.Wm)(v,{resource:f.resource,column:t,"resource-name":n.resourceName,editable:n.editable&&e.$can("edit",m.model.class_name,f.resource),"reference-popover":n.referencePopover,"reference-size":n.oneColumn?30:20,onUpdate:m.assignResource},null,8,["resource","column","resource-name","editable","reference-popover","reference-size","onUpdate"])],2)})),128))],512)],4))]))],2)}]])},8911:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A}),n(8309),n(6699),n(2023),n(9070),n(7941),n(2526),n(7327),n(1539),n(5003),n(9554),n(4747),n(9337),n(3321);var i=n(6252),r=n(3577),o=n(9963);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={key:3},u={key:3,class:"d-inline-flex"};n(9653),n(2222),n(4916),n(5306),n(9753),n(9826),n(9600),n(1249),n(8674),n(1817),n(2165),n(6992),n(8783),n(3948),n(2443),n(3680),n(3706),n(2703),n(8011),n(489),n(8304),n(5069),n(7042);var h=n(5757),d=n(1699),p=n(5954),f=n(7183),m=n(48),g=n(645),v=n(2734),y=n(5763),b=n(8688),w=n(7248);function _(){_=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),s=new C(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===u)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function h(){}function d(){}function p(){}var f={};a(f,r,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(S([])));g&&g!==t&&n.call(g,r)&&(f=g);var v=p.prototype=h.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,s,a){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,a)}))}a(l.arg)}var r;this._invoke=function(e,n){function o(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function S(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,a(v,"constructor",p),a(p,"constructor",d),d.displayName=a(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),a(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new b(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(v),a(v,s,"Generator"),a(v,r,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=S,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function x(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const S={name:"InfoCell",components:{DataCell:h.Z,FormInput:d.Z,FormListInput:f.Z,Reference:p.Z},props:{column:{type:Object,required:!0},resource:{type:Object,required:!0},resourceName:{type:String,required:!0},referencePopover:{type:Boolean,required:!1,default:!0},referenceSize:{type:Number,required:!1,default:30},isKanban:{type:Boolean,required:!1,default:!1},editable:{type:Boolean,required:!1,default:!1}},emits:["update"],data:function(){return{isEdit:!1,isLoading:!1,resourceData:{}}},computed:{associationColumn:function(){var e=this.associationColumnAssociation,t=this.associationColumnModel;return{name:"".concat((0,b.Z)(e.name),"_").concat(t.primary_key,"s"),display_name:this.column.display_name,reference:{name:e.name,model_name:t.name,primary_key:t.primary_key},is_array:!0}},isAssociationColumn:function(){return"association"===this.column.column_type},cellColumn:function(){return this.isAssociationColumn?this.associationColumn:this.column},withClipboard:function(){return!!navigator.clipboard},multipleValuesSelectorColumnTypes:function(){return["string","integer","float","tag"]},model:function(){return m.r3[this.resourceName]},rules:function(){return C({},this.column.name,(0,g.j$)(this.column,this.resource))},requestData:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.resourceData);return this.isJsonColumn&&(e[this.column.name]=JSON.parse(e[this.column.name])),this.isActiveStorage&&(e[this.column.name.replace(/_attachment$/,"")]=e[this.column.name],delete e[this.column.name]),{fields:(0,v.n)(this.model),include:(0,v.p)(this.model),data:e}},isRichtext:function(){return"richtext"===this.column.column_type},isBottomControl:function(){return this.isRichtext||this.isKanban&&this.isActiveStorage},isJsonColumn:function(){return(0,g.om)(this.column,this.resource)},value:function(){return this.isAssociationColumn?this.resource[this.column.format.association_name]:this.resource[this.column.name]},isEditable:function(){return this.editable&&"read_write"===this.column.access_type},columnType:function(){return this.column.column_type},referenceId:function(){var e=m.r3[this.column.reference.model_name];return e&&this.value[e.primary_key]||this.value},polymorphicModel:function(){var e;if(null!==(e=this.column.reference)&&void 0!==e&&e.polymorphic){var t=this.resource[this.column.reference.foreign_key.replace(/_id$/,"_type")];return m.r3[(0,y.It)(t).replace(/:{2}/g,"/")]}return null},isActiveStorage:function(){var e;return"active_storage/attachment"===(null===(e=this.column.reference)||void 0===e?void 0:e.model_name)},isEmpty:function(){return[null,void 0,""].includes(this.value)||Array.isArray(this.value)&&!this.value.length},associationColumnAssociation:function(){var e=this;return this.model.associations.find((function(t){return t.name===e.column.format.association_name}))},associationColumnModel:function(){var e;return m.r3[null===(e=this.associationColumnAssociation)||void 0===e?void 0:e.model_name]}},methods:{copyToClipboard:function(){var e,t=this;if(this.$refs.dataCell)e=this.$refs.dataCell.$refs.cell.copyToClipboard();else if(this.$refs.dataReference)e=this.$refs.dataReference.copyToClipboard();else if("association"===this.column.column_type){var n=this.resource[this.column.format.association_name].map((function(e){return e[t.associationColumnModel.display_column]})).join(", ");e=navigator.clipboard.writeText(n)}e.then((function(){t.$Message.info(t.i18n.copied_to_the_clipboard)}))},toggleEdit:function(){this.isEdit||this.assignResourceData(),this.isEdit=!this.isEdit},assignResourceData:function(){var e=this;this.isAssociationColumn?this.resourceData[this.cellColumn.name]=this.value.map((function(t){return t[e.associationColumn.reference.primary_key]})):this.isJsonColumn?this.resourceData[this.column.name]=JSON.stringify(this.value||{},null,"  "):this.value&&"object"==typeof this.value?this.resourceData[this.column.name]=JSON.parse(JSON.stringify(this.value)):this.resourceData[this.column.name]=this.value},handleSubmit:function(){var e,t=this;return(e=_().mark((function e(){var n,i,r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,w.Z.put("data/".concat(t.model.slug,"/").concat(t.resource[t.model.primary_key]),t.requestData);case 4:n=e.sent,t.isEdit=!1,t.$emit("update",n.data.data),t.$Message.info("".concat(t.column.display_name," ").concat(t.i18n.has_been_updated)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),null!==(i=e.t0.response)&&void 0!==i&&null!==(r=i.data)&&void 0!==r&&r.errors?"string"==typeof e.t0.response.data.errors[0]?t.$refs.form.setErrors(C({},t.column.name,e.t0.response.data.errors)):t.$refs.form.setErrors(e.t0.response.data.errors):e.t0.message&&t.$refs.form.setErrors(C({},t.column.name,e.t0.message));case 13:return e.prev=13,t.isLoading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})),function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){x(o,i,r,s,a,"next",e)}function a(e){x(o,i,r,s,a,"throw",e)}s(void 0)}))})()},submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.handleSubmit()}))}}},A=(0,n(3744).Z)(S,[["render",function(e,t,n,s,l,h){var d,p,f=(0,i.up)("Spin"),m=(0,i.up)("FormListInput"),g=(0,i.up)("FormInput"),v=(0,i.up)("FormItem"),y=(0,i.up)("VForm"),b=(0,i.up)("DataCell"),w=(0,i.up)("Reference"),_=(0,i.up)("VButton"),x=(0,i.up)("Icon");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(["d-flex align-items-center info-cell position-relative",h.isBottomControl&&l.isEdit?"flex-column":!l.isEdit&&h.isAssociationColumn?"flex-wrap":"flex-row"])},[l.isLoading?((0,i.wg)(),(0,i.j4)(f,{key:0,fix:""})):(0,i.kq)("",!0),l.isEdit?((0,i.wg)(),(0,i.j4)(y,{key:1,ref:"form",model:l.resourceData,class:"w-100",rules:h.rules,"label-position":"top",onSubmit:t[2]||(t[2]=(0,o.iM)((function(){}),["prevent"]))},{default:(0,i.w5)((function(){return[(0,i.Wm)(v,{prop:n.column.name,class:"m-0"},{default:(0,i.w5)((function(){return[n.column.is_array&&!h.multipleValuesSelectorColumnTypes.includes(n.column.column_type)?((0,i.wg)(),(0,i.j4)(m,{key:0,modelValue:l.resourceData[n.column.name],"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.resourceData[n.column.name]=e}),column:n.column},null,8,["modelValue","column"])):((0,i.wg)(),(0,i.j4)(g,{key:1,modelValue:l.resourceData[h.cellColumn.name],"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.resourceData[h.cellColumn.name]=e}),"form-data":n.resource,column:h.cellColumn,onEnter:h.submit},null,8,["modelValue","form-data","column","onEnter"]))]})),_:1},8,["prop"])]})),_:1},8,["model","rules"])):((0,i.wg)(),(0,i.iD)(i.HY,{key:2},[h.isActiveStorage?((0,i.wg)(),(0,i.j4)(b,{key:0,ref:"dataCell",value:null===(d=h.value)||void 0===d?void 0:d.path,"text-truncate":!1,type:"string"},null,8,["value"])):n.column.reference&&h.value&&(null===(p=n.column.reference)||void 0===p||!p.polymorphic||h.polymorphicModel)?((0,i.wg)(),(0,i.j4)(w,{key:1,ref:"dataReference","resource-id":h.referenceId,"reference-name":n.column.reference.model_name,"max-length":n.referenceSize,"show-popover":n.referencePopover,"reference-data":n.resource[n.column.reference.name],"polymorphic-model":h.polymorphicModel},null,8,["resource-id","reference-name","max-length","show-popover","reference-data","polymorphic-model"])):"association"===n.column.column_type&&!h.isEmpty&&h.associationColumnModel?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:2},(0,i.Ko)(n.resource[n.column.format.association_name],(function(e){return(0,i.wg)(),(0,i.j4)(w,{key:e[h.associationColumnModel.primary_key],"resource-id":e[h.associationColumnModel.primary_key],"reference-name":h.associationColumnModel.name,"max-length":n.referenceSize,class:"me-1 mb-1","show-popover":!1,"reference-data":e},null,8,["resource-id","reference-name","max-length","reference-data"])})),128)):h.isEmpty?((0,i.wg)(),(0,i.iD)("span",c," - ")):"currency"===n.column.column_type?((0,i.wg)(),(0,i.j4)(b,{key:4,ref:"dataCell",value:h.value,format:a(a({},n.column.format),{},{currency:n.resource["".concat(n.column.name,"_currency")]||n.resource.currency||n.column.format.currency}),"text-truncate":!1,type:h.columnType},null,8,["value","format","type"])):((0,i.wg)(),(0,i.j4)(b,{key:5,ref:"dataCell",value:h.value,format:n.column.format,"text-truncate":!1,type:h.columnType},null,8,["value","format","type"]))],64)),l.isEdit?((0,i.wg)(),(0,i.iD)("div",u,[h.isBottomControl?((0,i.wg)(),(0,i.j4)(_,{key:0,icon:"md-close",type:"text",onClick:h.toggleEdit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.cancel),1)]})),_:1},8,["onClick"])):((0,i.wg)(),(0,i.j4)(_,{key:1,icon:"md-close",type:"text",onClick:h.toggleEdit},null,8,["onClick"])),h.isBottomControl?((0,i.wg)(),(0,i.j4)(_,{key:2,icon:"md-checkmark",type:"text",onClick:h.submit},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.submit),1)]})),_:1},8,["onClick"])):((0,i.wg)(),(0,i.j4)(_,{key:3,icon:"md-checkmark",type:"text",onClick:h.submit},null,8,["onClick"]))])):h.isEditable?((0,i.wg)(),(0,i.j4)(x,{key:4,type:"md-create","data-role":"edit",class:"cursor-pointer action-button",onClick:h.toggleEdit},null,8,["onClick"])):(0,i.kq)("",!0),l.isEdit||h.isEmpty||!h.withClipboard?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(x,{key:5,type:"md-clipboard","data-role":"copy",class:"cursor-pointer action-button",onClick:h.copyToClipboard},null,8,["onClick"]))],2)}],["__scopeId","data-v-b28bf6ea"]])},7387:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p}),n(8309);var i=n(6252),r=n(3577),o={key:2,class:"d-flex justify-content-center align-items-center",style:{height:"100%"}};n(7327),n(1539),n(8674),n(7727),n(5827),n(9070),n(7941),n(2526),n(5003),n(9554),n(4747),n(9337),n(3321);var s=n(7716),a=n(9724),l=n(7248);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={name:"QueryTab",components:{QueryResult:s.Z,VariablesForm:a.Z},props:{variables:{type:Object,required:!1,default:function(){return{}}},tab:{type:Object,required:!0}},data:function(){return{isLoading:!1,isLoadingQuery:!0,dataVariables:u({},this.variables),errors:[],data:[],columns:[],query:{}}},computed:{queryId:function(){return this.tab.preferences.query_id},style:function(){return this.isLoadingQuery||!this.showVariablesForm?"height: 100%":"height: calc(100% - 78px)"},variablesToRender:function(){var e=this;return(this.query.preferences.variables||[]).filter((function(t){return!e.variables[t.name]}))},showVariablesForm:function(){return!!this.variablesToRender.length}},mounted:function(){this.loadQuery(),this.runQuery()},methods:{loadQuery:function(){var e=this;return l.Z.get("queries/".concat(this.queryId),{}).then((function(t){e.query=t.data.data,e.assignDataVariables()})).catch((function(e){console.error(e)})).finally((function(){e.isLoadingQuery=!1}))},assignDataVariables:function(){this.dataVariables=(this.query.preferences.variables||[]).reduce((function(e,t){return e[t.name]=t.default_value,e}),{})},runQuery:function(){var e=this;return this.isLoading=!0,l.Z.get("run_queries/".concat(this.queryId),{params:{variables:u(u({},this.dataVariables),this.variables)}}).then((function(t){e.errors=[],e.data=t.data.data,e.columns=t.data.meta.columns})).catch((function(t){var n;e.errors=null===(n=t.response.data)||void 0===n?void 0:n.errors})).finally((function(){e.isLoading=!1}))}}},p=(0,n(3744).Z)(d,[["render",function(e,t,n,s,a,l){var c=(0,i.up)("Spin"),u=(0,i.up)("VariablesForm"),h=(0,i.up)("QueryResult");return(0,i.wg)(),(0,i.iD)("div",{style:(0,r.j5)(l.style)},[a.isLoadingQuery?((0,i.wg)(),(0,i.j4)(c,{key:0,fix:""})):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[l.showVariablesForm?((0,i.wg)(),(0,i.j4)(u,{key:0,data:a.dataVariables,"onUpdate:data":t[0]||(t[0]=function(e){return a.dataVariables=e}),variables:l.variablesToRender,class:"mx-2 pb-3",onSubmit:l.runQuery},null,8,["data","variables","onSubmit"])):(0,i.kq)("",!0),a.isLoading?((0,i.wg)(),(0,i.j4)(c,{key:1,fix:""})):a.data.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",o,(0,r.zw)(e.i18n.no_data),1)),a.data.length?((0,i.wg)(),(0,i.j4)(h,{key:3,data:a.data,errors:a.errors,title:a.query.name,columns:a.columns,"query-id":a.query.id,"with-footer":"markdown"!==a.query.preferences.visualization,"with-settings":!1,"header-border":l.showVariablesForm,preferences:a.query.preferences},null,8,["data","errors","title","columns","query-id","with-footer","header-border","preferences"])):(0,i.kq)("",!0)],64))],4)}]])},3900:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var i=n(6252),r=n(3577),o=n(9963),s={class:"ivu-table-header"},a={class:"ivu-table-cell ivu-table-cell-with-selection"},l={key:0,class:"ivu-table-tbody"},c=["data-id","onClick"],u={class:"ivu-table-cell ivu-table-cell-with-selection"},h={class:"ivu-table-cell"},d={key:1,style:{margin:"auto"}};n(9826),n(1539),n(2564),n(3710),n(9714),n(9554),n(4747),n(2526),n(1817);var p={class:"ivu-table-column"},f={class:"ivu-table-cell"},m={key:0,class:"ion ion-md-information-circle me-1 cursor-pointer"},g=(0,i.Uk)(" "+(0,r.zw)(" ")+" "),v={key:1,class:"ivu-table-sort"};n(2222);var y=n(48);const b={name:"DataTableHeaderCell",props:{column:{type:Object,required:!0},sortParams:{type:Object,required:!0},withSorting:{type:Boolean,required:!0}},emits:["update:sortParams"],computed:{popoverParams:function(){return{content:this.column.description,trigger:"mouseenter",bodyStyle:{maxWidth:"350px",overflowY:"auto",maxHeight:"200px",whiteSpace:"pre-wrap",lineBreak:"anywhere"}}},sortKey:function(){var e;if("has_one"===(null===(e=this.column.reference)||void 0===e?void 0:e.reference_type)){var t=y.r3[this.column.reference.model_name];return t?"".concat(this.column.key,".").concat(t.primary_key):this.column.key}return this.column.key}},methods:{applySort:function(e){!e||this.sortKey===this.sortParams.key&&e===this.sortParams.order?this.$emit("update:sortParams",{}):this.$emit("update:sortParams",{key:this.sortKey,order:e})},toggleSort:function(){!1!==this.column.sortable&&(this.sortParams.key===this.sortKey?""===this.sortParams.order?this.applySort("asc"):"asc"===this.sortParams.order?this.applySort("desc"):"desc"===this.sortParams.order&&this.applySort():this.applySort("asc"))}}};var w=n(3744);const _=(0,w.Z)(b,[["render",function(e,t,n,s,a,l){var c=(0,i.Q2)("popover");return(0,i.wg)(),(0,i.iD)("th",p,[(0,i._)("div",f,[n.column.description?(0,i.wy)(((0,i.wg)(),(0,i.iD)("i",m,null,512)),[[c,l.popoverParams]]):(0,i.kq)("",!0),(0,i._)("span",{class:(0,r.C_)({"ivu-table-cell-sort":n.withSorting}),onClick:t[0]||(t[0]=(0,o.iM)((function(){return l.toggleSort&&l.toggleSort.apply(l,arguments)}),["prevent"]))},(0,r.zw)(n.column.title),3),g,n.withSorting&&!1!==n.column.sortable?((0,i.wg)(),(0,i.iD)("span",v,[(0,i._)("i",{class:(0,r.C_)(["ion ion-md-arrow-dropup",{on:n.sortParams.key===l.sortKey&&"asc"===n.sortParams.order}]),onClick:t[1]||(t[1]=(0,o.iM)((function(e){return l.applySort("asc")}),["prevent"]))},null,2),(0,i._)("i",{class:(0,r.C_)(["ion ion-md-arrow-dropdown",{on:n.sortParams.key===l.sortKey&&"desc"===n.sortParams.order}]),onClick:t[2]||(t[2]=(0,o.iM)((function(e){return l.applySort("desc")}),["prevent"]))},null,2)])):(0,i.kq)("",!0)])])}],["__scopeId","data-v-3b084462"]]);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(8309),n(4916),n(4723),n(9070),n(7941),n(7327),n(5003),n(9337),n(3321);var S={class:"ivu-table-column"},A={class:"ivu-table-cell"};n(5306);var T=n(5757),O=n(5954),L=n(5763);const E={name:"TableColumn",components:{Reference:O.Z,DataCell:T.Z},props:{row:{type:[Object,Array],required:!0},column:{type:Object,required:!0},withHtml:{type:Boolean,required:!1,default:!1},alwaysRefer:{type:Boolean,required:!1,default:!1}},emits:["tag-click"],computed:{polymorphicModel:function(){var e;if(null!==(e=this.column.reference)&&void 0!==e&&e.polymorphic){var t=this.row[this.column.reference.foreign_key.replace(/_id$/,"_type")];return y.r3[(0,L.It)(t).replace(/:{2}/g,"/")]}return null},associationColumnModel:function(){return y.r3[this.column.format.association_model_name]},referenceId:function(){var e=y.r3[this.column.reference.model_name];return e&&this.row[this.column.key][e.primary_key]||this.row[this.column.key]}}},D=(0,w.Z)(E,[["render",function(e,t,n,r,s,a){var l,c,u,h,d=(0,i.up)("DataCell"),p=(0,i.up)("Reference");return(0,i.wg)(),(0,i.iD)("td",S,[(0,i._)("div",A,["id"!==n.column.key&&"active_storage/attachment"===(null===(l=n.column.reference)||void 0===l?void 0:l.model_name)?((0,i.wg)(),(0,i.j4)(d,{key:0,value:null===(c=n.row[n.column.key])||void 0===c?void 0:c.path,type:"string"},null,8,["value"])):n.column.reference&&n.row[n.column.key]&&(null===(u=n.column.reference)||void 0===u||!u.polymorphic||a.polymorphicModel)?((0,i.wg)(),(0,i.j4)(p,{key:1,"resource-id":a.referenceId,"reference-name":n.column.reference.model_name,"reference-data":n.row[n.column.reference.name],"always-refer":n.alwaysRefer,"show-popover":!0,"polymorphic-model":a.polymorphicModel},null,8,["resource-id","reference-name","reference-data","always-refer","polymorphic-model"])):"association"===n.column.type?((0,i.wg)(!0),(0,i.iD)(i.HY,{key:2},(0,i.Ko)(n.row[n.column.format.association_name],(function(e){return(0,i.wg)(),(0,i.j4)(p,{key:e[a.associationColumnModel.primary_key],"resource-id":e[a.associationColumnModel.primary_key],"reference-name":a.associationColumnModel.name,class:"me-1 mb-1","show-popover":!0,"reference-data":e},null,8,["resource-id","reference-name","reference-data"])})),128)):n.withHtml&&"string"===n.column.type&&null!==(h=n.row[n.column.key])&&void 0!==h&&h.match(/^\<.*\>$/)?((0,i.wg)(),(0,i.j4)(d,{key:3,value:n.row[n.column.key],type:"richtext","text-truncate":!1,onClick:t[0]||(t[0]=(0,o.iM)((function(){}),["stop"]))},null,8,["value"])):"currency"===n.column.type?((0,i.wg)(),(0,i.j4)(d,{key:4,value:n.row[n.column.key],format:k(k({},n.column.format),{},{currency:n.row["".concat(n.column.key,"_currency")]||n.row.currency||n.column.format.currency}),type:n.column.type},null,8,["value","format","type"])):((0,i.wg)(),(0,i.j4)(d,{key:5,value:n.row[n.column.key],format:n.column.format,"is-table":!0,type:n.column.type,onTagClick:t[1]||(t[1]=function(t){return e.$emit("tag-click",{key:n.column.key,value:t})})},null,8,["value","format","type"]))])])}]]),P={name:"DataTable",components:{HeaderCell:_,RenderCell:n(526).Z,TableColumn:D},props:{data:{type:Array,required:!1,default:function(){return[]}},sortParams:{type:Object,required:!1,default:function(){return{}}},columns:{type:Array,required:!1,default:function(){return[]}},withSelect:{type:Boolean,required:!1,default:!0},renderActions:{type:Function,required:!1,default:null},renderContextMenu:{type:Function,required:!1,default:null},alwaysRefer:{type:Boolean,required:!1,default:!1},clickRows:{type:Boolean,required:!1,default:!0},withSorting:{type:Boolean,required:!1,default:!0},withHtml:{type:Boolean,required:!1,default:!1},borderless:{type:Boolean,required:!1,default:!1},headerBorder:{type:Boolean,required:!1,default:!0},scrollToTopOnDataUpdate:{type:Boolean,required:!1,default:!0},compact:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1}},emits:["row-meta-click","row-shift-meta-click","row-click","sort-change","update:sortParams","tag-click","row-alt-click"],data:function(){return{dataSort:{}}},computed:{isSelectedAll:function(){return 0!==this.data.length&&!this.data.find((function(e){return!e._selected}))}},watch:{sortParams:function(e){this.dataSort=e},data:function(){this.scrollToTopOnDataUpdate&&this.scrollToTop()}},mounted:function(){this.dataSort=this.sortParams},methods:{scrollToTop:function(){this.scrollTo(0)},scrollTo:function(e,t){this.$refs.wrapper.scrollTop=e,"number"==typeof t&&(this.$refs.wrapper.scrollLeft=t)},onRowClick:function(e){var t=this;setTimeout((function(){0===window.getSelection().toString().length&&t.$emit("row-click",e)}),0)},toggleSelectAll:function(e){this.data.forEach((function(t){t._selected=e}))},applySort:function(e){this.dataSort=e,this.$emit("update:sortParams",this.dataSort),this.$emit("sort-change",this.dataSort)}}},M=(0,w.Z)(P,[["render",function(e,t,n,p,f,m){var g=(0,i.up)("Checkbox"),v=(0,i.up)("HeaderCell"),y=(0,i.up)("Spin"),b=(0,i.up)("TableColumn"),w=(0,i.up)("RenderCell");return(0,i.wg)(),(0,i.iD)("div",{ref:"wrapper",class:"table-wrapper",style:(0,r.j5)({overflowX:"auto",overflowY:n.compact?"hidden":"auto",height:"100%"})},[(0,i._)("table",{cellspacing:"0",cellpadding:"0",border:"0",class:(0,r.C_)(["ivu-table ivu-table-default",{"ivu-table-clickable-rows":n.clickRows,"ivu-table-borderless":n.borderless,"ivu-table-compact":n.compact}]),style:{position:"relative"}},[(0,i._)("thead",s,[(0,i._)("tr",null,[n.withSelect&&n.columns.length?((0,i.wg)(),(0,i.iD)("th",{key:0,class:(0,r.C_)(["ivu-table-column ivu-table-column-center",{"border-top":!n.borderless&&n.headerBorder}]),style:{position:"sticky",top:0,left:0,zIndex:2}},[(0,i._)("div",a,[(0,i.Wm)(g,{"model-value":m.isSelectedAll,disabled:0===n.data.length,onOnChange:m.toggleSelectAll},null,8,["model-value","disabled","onOnChange"])])],2)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.columns,(function(e){return(0,i.wg)(),(0,i.j4)(v,{key:e.key,"sort-params":f.dataSort,column:e,class:(0,r.C_)(["ivu-table-column",{"border-top":!n.borderless&&n.headerBorder}]),"with-sorting":n.withSorting,"onUpdate:sortParams":m.applySort},null,8,["sort-params","column","with-sorting","class","onUpdate:sortParams"])})),128)),n.renderActions?((0,i.wg)(),(0,i.iD)("th",{key:1,class:(0,r.C_)(["ivu-table-column ivu-table-column-center actions sticky",{"border-top":!n.borderless&&n.headerBorder}])},(0,r.zw)(e.i18n.actions),3)):(0,i.kq)("",!0),n.renderContextMenu?((0,i.wg)(),(0,i.iD)("th",{key:2,class:(0,r.C_)(["ivu-table-column ivu-table-column-center",{"border-top":!n.borderless&&n.headerBorder}]),style:{position:"sticky",top:0,zIndex:2}},null,2)):(0,i.kq)("",!0)])]),n.data.length?((0,i.wg)(),(0,i.iD)("tbody",l,[n.loading?((0,i.wg)(),(0,i.j4)(y,{key:0,fix:""})):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.data,(function(s,a){return(0,i.wg)(),(0,i.iD)("tr",{key:s.id||a,"data-id":s.id,class:"ivu-table-row",draggable:"false",onClick:[(0,o.iM)((function(e){return m.onRowClick(s)}),["exact","prevent"]),(0,o.iM)((function(t){return e.$emit("row-alt-click",s)}),["alt","exact","prevent"]),(0,o.iM)((function(t){return e.$emit("row-meta-click",s)}),["meta","exact","prevent"]),(0,o.iM)((function(t){return e.$emit("row-shift-meta-click",s)}),["shift","meta","prevent"])]},[n.withSelect?((0,i.wg)(),(0,i.iD)("td",{key:0,class:"ivu-table-column ivu-table-column-center",style:{position:"sticky",left:0,zIndex:1},onClick:t[0]||(t[0]=(0,o.iM)((function(){}),["stop"]))},[(0,i._)("div",u,[(0,i.Wm)(g,{modelValue:s._selected,"onUpdate:modelValue":function(e){return s._selected=e}},null,8,["modelValue","onUpdate:modelValue"])])])):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.columns,(function(r){return(0,i.wg)(),(0,i.j4)(b,{key:r.key,row:s,"with-html":n.withHtml,"always-refer":n.alwaysRefer,column:r,onTagClick:t[1]||(t[1]=function(t){return e.$emit("tag-click",t)})},null,8,["row","with-html","always-refer","column"])})),128)),n.renderContextMenu?((0,i.wg)(),(0,i.iD)("td",{key:1,style:{position:"sticky",right:0,zIndex:1},onClick:t[2]||(t[2]=(0,o.iM)((function(){}),["stop"]))},[(0,i._)("span",{class:"table-context-menu",style:(0,r.j5)({position:"absolute",top:"calc(50% - 14px)",right:"10px"})},[(0,i.Wm)(w,{render:n.renderContextMenu(s)},null,8,["render"])],4)])):(0,i.kq)("",!0),n.renderActions?((0,i.wg)(),(0,i.iD)("td",{key:2,class:"ivu-table-column ivu-table-column-center actions sticky",onClick:t[3]||(t[3]=(0,o.iM)((function(){}),["stop"]))},[(0,i._)("div",h,[(0,i.Wm)(w,{render:n.renderActions(s)},null,8,["render"])])])):(0,i.kq)("",!0)],8,c)})),128))])):(0,i.kq)("",!0)],2),0===n.data.length?((0,i.wg)(),(0,i.iD)("div",{key:0,style:(0,r.j5)({margin:"auto",height:n.columns.length?"calc(100% - 40px)":"100%",display:"flex",position:"relative"})},[n.loading?((0,i.wg)(),(0,i.j4)(y,{key:0,fix:""})):((0,i.wg)(),(0,i.iD)("div",d,(0,r.zw)(e.i18n.no_data),1))],4)):(0,i.kq)("",!0)],4)}]])},7716:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ca});var i=n(6252),r=n(3577),o={key:6,class:"d-flex justify-content-center text-center border-top bg-white p-1"},s={class:"d-flex justify-content-start",style:{width:"15%"}},a={style:{width:"70%",whiteSpace:"nowrap"}},l={class:"d-flex justify-content-end",style:{width:"15%"}};n(9653),n(5827),n(1539),n(6699),n(8309),n(2707),n(4916),n(5306),n(7042),n(1249),n(4723),n(3710),n(9714),n(6992),n(8783),n(3948),n(285),n(1637),n(2222),n(9753),n(2526),n(1817),n(2165),n(1038);var c=n(3900),u={key:0,ref:"canvas",class:"bg-white p-2"},h={key:1,class:"d-flex justify-content-center align-items-center",style:{height:"100%"}};n(7327),n(9600),n(4678),n(6541),n(2023),n(9070),n(7941),n(5003),n(9554),n(4747),n(9337),n(3321);const d="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function p(e,t,n){const i=n||(e=>Array.prototype.slice.call(e));let r=!1,o=[];return function(...n){o=i(n),r||(r=!0,d.call(window,(()=>{r=!1,e.apply(t,o)})))}}const f=e=>"start"===e?"left":"end"===e?"right":"center",m=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function g(){}const v=function(){let e=0;return function(){return e++}}();function y(e){return null==e}function b(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function w(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}const _=e=>("number"==typeof e||e instanceof Number)&&isFinite(+e);function x(e,t){return _(e)?e:t}function k(e,t){return void 0===e?t:e}const C=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function S(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function A(e,t,n,i){let r,o,s;if(b(e))if(o=e.length,i)for(r=o-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<o;r++)t.call(n,e[r],r);else if(w(e))for(s=Object.keys(e),o=s.length,r=0;r<o;r++)t.call(n,e[s[r]],s[r])}function T(e,t){let n,i,r,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],o=t[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function O(e){if(b(e))return e.map(O);if(w(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=O(e[n[r]]);return t}return e}function L(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function E(e,t,n,i){if(!L(e))return;const r=t[e],o=n[e];w(r)&&w(o)?D(r,o,i):t[e]=O(o)}function D(e,t,n){const i=b(t)?t:[t],r=i.length;if(!w(e))return e;const o=(n=n||{}).merger||E;for(let s=0;s<r;++s){if(!w(t=i[s]))continue;const r=Object.keys(t);for(let i=0,s=r.length;i<s;++i)o(r[i],e,t,n)}return e}function P(e,t){return D(e,t,{merger:M})}function M(e,t,n){if(!L(e))return;const i=t[e],r=n[e];w(i)&&w(r)?P(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=O(r))}function $(e,t){const n=e.indexOf(".",t);return-1===n?e.length:n}function R(e,t){if(""===t)return e;let n=0,i=$(t,n);for(;e&&i>n;)e=e[t.slice(n,i)],n=i+1,i=$(t,n);return e}function I(e){return e.charAt(0).toUpperCase()+e.slice(1)}const F=e=>void 0!==e,j=e=>"function"==typeof e,N=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0},z=Math.PI,q=2*z,V=q+z,B=Number.POSITIVE_INFINITY,W=z/180,U=z/2,H=z/4,Z=2*z/3,K=Math.log10,G=Math.sign;function Y(e){const t=Math.round(e);e=J(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(K(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Q(e){return!isNaN(parseFloat(e))&&isFinite(e)}function J(e,t,n){return Math.abs(e-t)<n}function X(e,t,n){let i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ee(e){return e*(z/180)}function te(e){return e*(180/z)}function ne(e){if(!_(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function ie(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let o=Math.atan2(i,n);return o<-.5*z&&(o+=q),{angle:o,distance:r}}function re(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function oe(e,t){return(e-t+V)%q-z}function se(e){return(e%q+q)%q}function ae(e,t,n,i){const r=se(e),o=se(t),s=se(n),a=se(o-r),l=se(s-r),c=se(r-o),u=se(r-s);return r===o||r===s||i&&o===s||a>l&&c<u}function le(e,t,n){return Math.max(t,Math.min(n,e))}function ce(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}const ue=e=>0===e||1===e,he=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*q/n),de=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*q/n)+1,pe={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*U),easeOutSine:e=>Math.sin(e*U),easeInOutSine:e=>-.5*(Math.cos(z*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>ue(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ue(e)?e:he(e,.075,.3),easeOutElastic:e=>ue(e)?e:de(e,.075,.3),easeInOutElastic(e){const t=.1125;return ue(e)?e:e<.5?.5*he(2*e,t,.45):.5+.5*de(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-pe.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*pe.easeInBounce(2*e):.5*pe.easeOutBounce(2*e-1)+.5};function fe(e){return e+.5|0}const me=(e,t,n)=>Math.max(Math.min(e,n),t);function ge(e){return me(fe(2.55*e),0,255)}function ve(e){return me(fe(255*e),0,255)}function ye(e){return me(fe(e/2.55)/100,0,1)}function be(e){return me(fe(100*e),0,100)}const we={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},_e=[..."0123456789ABCDEF"],xe=e=>_e[15&e],ke=e=>_e[(240&e)>>4]+_e[15&e],Ce=e=>(240&e)>>4==(15&e);const Se=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ae(e,t,n){const i=t*Math.min(n,1-n),r=(t,r=(t+e/30)%12)=>n-i*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function Te(e,t,n){const i=(i,r=(i+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Oe(e,t,n){const i=Ae(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function Le(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),o=Math.min(t,n,i),s=(r+o)/2;let a,l,c;return r!==o&&(c=r-o,l=s>.5?c/(2-r-o):c/(r+o),a=function(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}(t,n,i,c,r),a=60*a+.5),[0|a,l||0,s]}function Ee(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(ve)}function De(e,t,n){return Ee(Ae,e,t,n)}function Pe(e){return(e%360+360)%360}const Me={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},$e={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Re;const Ie=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Fe=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,je=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Ne(e,t,n){if(e){let i=Le(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=De(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function ze(e,t){return e?Object.assign(t||{},e):e}function qe(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ve(e[3]))):(t=ze(e,{r:0,g:0,b:0,a:1})).a=ve(t.a),t}function Ve(e){return"r"===e.charAt(0)?function(e){const t=Ie.exec(e);let n,i,r,o=255;if(t){if(t[7]!==n){const e=+t[7];o=t[8]?ge(e):me(255*e,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?ge(n):me(n,0,255)),i=255&(t[4]?ge(i):me(i,0,255)),r=255&(t[6]?ge(r):me(r,0,255)),{r:n,g:i,b:r,a:o}}}(e):function(e){const t=Se.exec(e);let n,i=255;if(!t)return;t[5]!==n&&(i=t[6]?ge(+t[5]):ve(+t[5]));const r=Pe(+t[2]),o=+t[3]/100,s=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Ee(Oe,e,t,n)}(r,o,s):"hsv"===t[1]?function(e,t,n){return Ee(Te,e,t,n)}(r,o,s):De(r,o,s),{r:n[0],g:n[1],b:n[2],a:i}}(e)}class Be{constructor(e){if(e instanceof Be)return e;const t=typeof e;let n;var i,r,o;"object"===t?n=qe(e):"string"===t&&(o=(i=e).length,"#"===i[0]&&(4===o||5===o?r={r:255&17*we[i[1]],g:255&17*we[i[2]],b:255&17*we[i[3]],a:5===o?17*we[i[4]]:255}:7!==o&&9!==o||(r={r:we[i[1]]<<4|we[i[2]],g:we[i[3]]<<4|we[i[4]],b:we[i[5]]<<4|we[i[6]],a:9===o?we[i[7]]<<4|we[i[8]]:255})),n=r||function(e){Re||(Re=function(){const e={},t=Object.keys($e),n=Object.keys(Me);let i,r,o,s,a;for(i=0;i<t.length;i++){for(s=a=t[i],r=0;r<n.length;r++)o=n[r],a=a.replace(o,Me[o]);o=parseInt($e[s],16),e[a]=[o>>16&255,o>>8&255,255&o]}return e}(),Re.transparent=[0,0,0,0]);const t=Re[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||Ve(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=ze(this._rgb);return e&&(e.a=ye(e.a)),e}set rgb(e){this._rgb=qe(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ye(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?(e=this._rgb,t=(e=>Ce(e.r)&&Ce(e.g)&&Ce(e.b)&&Ce(e.a))(e)?xe:ke,e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0):void 0;var e,t}hslString(){return this._valid?function(e){if(!e)return;const t=Le(e),n=t[0],i=be(t[1]),r=be(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${ye(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const o=t===r?.5:t,s=2*o-1,a=n.a-i.a,l=((s*a==-1?s:(s+a)/(1+s*a))+1)/2;r=1-l,n.r=255&l*n.r+r*i.r+.5,n.g=255&l*n.g+r*i.g+.5,n.b=255&l*n.b+r*i.b+.5,n.a=o*n.a+(1-o)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const i=je(ye(e.r)),r=je(ye(e.g)),o=je(ye(e.b));return{r:ve(Fe(i+n*(je(ye(t.r))-i))),g:ve(Fe(r+n*(je(ye(t.g))-r))),b:ve(Fe(o+n*(je(ye(t.b))-o))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Be(this.rgb)}alpha(e){return this._rgb.a=ve(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=fe(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ne(this._rgb,2,e),this}darken(e){return Ne(this._rgb,2,-e),this}saturate(e){return Ne(this._rgb,1,e),this}desaturate(e){return Ne(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Le(e);n[0]=Pe(n[0]+t),n=De(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function We(e){return new Be(e)}function Ue(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function He(e){return Ue(e)?e:We(e)}function Ze(e){return Ue(e)?e:We(e).saturate(.5).darken(.1).hexString()}const Ke=Object.create(null),Ge=Object.create(null);function Ye(e,t){if(!t)return e;const n=t.split(".");for(let t=0,i=n.length;t<i;++t){const i=n[t];e=e[i]||(e[i]=Object.create(null))}return e}function Qe(e,t,n){return"string"==typeof t?D(Ye(e,t),n):D(Ye(e,""),t)}var Je=new class{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Ze(t.backgroundColor),this.hoverBorderColor=(e,t)=>Ze(t.borderColor),this.hoverColor=(e,t)=>Ze(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return Qe(this,e,t)}get(e){return Ye(this,e)}describe(e,t){return Qe(Ge,e,t)}override(e,t){return Qe(Ke,e,t)}route(e,t,n,i){const r=Ye(this,e),o=Ye(this,n),s="_"+t;Object.defineProperties(r,{[s]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[s],t=o[i];return w(e)?Object.assign({},t,e):k(e,t)},set(e){this[s]=e}}})}}({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function Xe(e,t,n,i,r){let o=t[r];return o||(o=t[r]=e.measureText(r).width,n.push(r)),o>i&&(i=o),i}function et(e,t,n,i){let r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let s=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],null!=h&&!0!==b(h))s=Xe(e,r,o,s,h);else if(b(h))for(c=0,u=h.length;c<u;c++)d=h[c],null==d||b(d)||(s=Xe(e,r,o,s,d));e.restore();const p=o.length/2;if(p>n.length){for(l=0;l<p;l++)delete r[o[l]];o.splice(0,p)}return s}function tt(e,t,n){const i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function nt(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function it(e,t,n,i){let r,o,s,a,l;const c=t.pointStyle,u=t.rotation,h=t.radius;let d=(u||0)*W;if(c&&"object"==typeof c&&(r=c.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return e.save(),e.translate(n,i),e.rotate(d),e.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void e.restore();if(!(isNaN(h)||h<=0)){switch(e.beginPath(),c){default:e.arc(n,i,h,0,q),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(d)*h,i-Math.cos(d)*h),d+=Z,e.lineTo(n+Math.sin(d)*h,i-Math.cos(d)*h),d+=Z,e.lineTo(n+Math.sin(d)*h,i-Math.cos(d)*h),e.closePath();break;case"rectRounded":l=.516*h,a=h-l,o=Math.cos(d+H)*a,s=Math.sin(d+H)*a,e.arc(n-o,i-s,l,d-z,d-U),e.arc(n+s,i-o,l,d-U,d),e.arc(n+o,i+s,l,d,d+U),e.arc(n-s,i+o,l,d+U,d+z),e.closePath();break;case"rect":if(!u){a=Math.SQRT1_2*h,e.rect(n-a,i-a,2*a,2*a);break}d+=H;case"rectRot":o=Math.cos(d)*h,s=Math.sin(d)*h,e.moveTo(n-o,i-s),e.lineTo(n+s,i-o),e.lineTo(n+o,i+s),e.lineTo(n-s,i+o),e.closePath();break;case"crossRot":d+=H;case"cross":o=Math.cos(d)*h,s=Math.sin(d)*h,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s),e.moveTo(n+s,i-o),e.lineTo(n-s,i+o);break;case"star":o=Math.cos(d)*h,s=Math.sin(d)*h,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s),e.moveTo(n+s,i-o),e.lineTo(n-s,i+o),d+=H,o=Math.cos(d)*h,s=Math.sin(d)*h,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s),e.moveTo(n+s,i-o),e.lineTo(n-s,i+o);break;case"line":o=Math.cos(d)*h,s=Math.sin(d)*h,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(d)*h,i+Math.sin(d)*h)}e.fill(),t.borderWidth>0&&e.stroke()}}function rt(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ot(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function st(e){e.restore()}function at(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else"after"===r!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function lt(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function ct(e,t,n,i,r,o={}){const s=b(t)?t:[t],a=o.strokeWidth>0&&""!==o.strokeColor;let l,c;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),y(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,o),l=0;l<s.length;++l)c=s[l],a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),y(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,n,i,o.maxWidth)),e.fillText(c,n,i,o.maxWidth),ut(e,n,i,c,o),i+=r.lineHeight;e.restore()}function ut(e,t,n,i,r){if(r.strikethrough||r.underline){const o=e.measureText(i),s=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(s,u),e.lineTo(a,u),e.stroke()}}function ht(e,t){const{x:n,y:i,w:r,h:o,radius:s}=t;e.arc(n+s.topLeft,i+s.topLeft,s.topLeft,-U,z,!0),e.lineTo(n,i+o-s.bottomLeft),e.arc(n+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,z,U,!0),e.lineTo(n+r-s.bottomRight,i+o),e.arc(n+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,U,0,!0),e.lineTo(n+r,i+s.topRight),e.arc(n+r-s.topRight,i+s.topRight,s.topRight,0,-U,!0),e.lineTo(n+s.topLeft,i)}const dt=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),pt=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function ft(e,t){const n=(""+e).match(dt);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function mt(e,t){const n={},i=w(t),r=i?Object.keys(t):t,o=w(e)?i?n=>k(e[n],e[t[n]]):t=>e[t]:()=>e;for(const e of r)n[e]=+o(e)||0;return n}function gt(e){return mt(e,{top:"y",right:"x",bottom:"y",left:"x"})}function vt(e){return mt(e,["topLeft","topRight","bottomLeft","bottomRight"])}function yt(e){const t=gt(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function bt(e,t){e=e||{},t=t||Je.font;let n=k(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));let i=k(e.style,t.style);i&&!(""+i).match(pt)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:k(e.family,t.family),lineHeight:ft(k(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:k(e.weight,t.weight),string:""};return r.string=function(e){return!e||y(e.size)||y(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function wt(e,t,n,i){let r,o,s,a=!0;for(r=0,o=e.length;r<o;++r)if(s=e[r],void 0!==s&&(void 0!==t&&"function"==typeof s&&(s=s(t),a=!1),void 0!==n&&b(s)&&(s=s[n%s.length],a=!1),void 0!==s))return i&&!a&&(i.cacheable=!1),s}function _t(e,t){return Object.assign(Object.create(e),t)}function xt(e,t,n){n=n||(n=>e[n]<t);let i,r=e.length-1,o=0;for(;r-o>1;)i=o+r>>1,n(i)?o=i:r=i;return{lo:o,hi:r}}const kt=(e,t,n)=>xt(e,n,(i=>e[i][t]<n)),Ct=(e,t,n)=>xt(e,n,(i=>e[i][t]>=n)),St=["push","pop","shift","splice","unshift"];function At(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(St.forEach((t=>{delete e[t]})),delete e._chartjs)}function Tt(e){const t=new Set;let n,i;for(n=0,i=e.length;n<i;++n)t.add(e[n]);return t.size===i?e:Array.from(t)}function Ot(e,t=[""],n=e,i,r=(()=>e[0])){F(i)||(i=Nt("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:i,_getTarget:r,override:r=>Ot([r,...e],t,n,i)};return new Proxy(o,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,i)=>Mt(n,i,(()=>function(e,t,n,i){let r;for(const o of t)if(r=Nt(Dt(o,e),n),F(r))return Pt(e,r)?Ft(n,i,e,r):r}(i,t,e,n))),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>zt(e).includes(t),ownKeys:e=>zt(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function Lt(e,t,n,i){const r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Et(e,i),setContext:t=>Lt(e,t,n,i),override:r=>Lt(e.override(r),t,n,i)};return new Proxy(r,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>Mt(e,t,(()=>function(e,t,n){const{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=e;let a=i[t];return j(a)&&s.isScriptable(t)&&(a=function(e,t,n,i){const{_proxy:r,_context:o,_subProxy:s,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);return a.add(e),t=t(o,s||i),a.delete(e),Pt(e,t)&&(t=Ft(r._scopes,r,e,t)),t}(t,a,e,n)),b(a)&&a.length&&(a=function(e,t,n,i){const{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=n;if(F(o.index)&&i(e))t=t[o.index%t.length];else if(w(t[0])){const n=t,i=r._scopes.filter((e=>e!==n));t=[];for(const l of n){const n=Ft(i,r,e,l);t.push(Lt(n,o,s&&s[e],a))}}return t}(t,a,e,s.isIndexable)),Pt(t,a)&&(a=Lt(a,r,o&&o[t],s)),a}(e,t,n))),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,i)=>(e[n]=i,delete t[n],!0)})}function Et(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:j(n)?n:()=>n,isIndexable:j(i)?i:()=>i}}const Dt=(e,t)=>e?e+I(t):t,Pt=(e,t)=>w(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Mt(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function $t(e,t,n){return j(e)?e(t,n):e}const Rt=(e,t)=>!0===e?t:"string"==typeof e?R(t,e):void 0;function It(e,t,n,i,r){for(const o of t){const t=Rt(n,o);if(t){e.add(t);const o=$t(t._fallback,n,r);if(F(o)&&o!==n&&o!==i)return o}else if(!1===t&&F(i)&&n!==i)return null}return!1}function Ft(e,t,n,i){const r=t._rootScopes,o=$t(t._fallback,n,i),s=[...e,...r],a=new Set;a.add(i);let l=jt(a,s,n,o||n,i);return null!==l&&(!F(o)||o===n||(l=jt(a,s,o,l,i),null!==l))&&Ot(Array.from(a),[""],r,o,(()=>function(e,t,n){const i=e._getTarget();t in i||(i[t]={});const r=i[t];return b(r)&&w(n)?n:r}(t,n,i)))}function jt(e,t,n,i,r){for(;n;)n=It(e,t,n,i,r);return n}function Nt(e,t){for(const n of t){if(!n)continue;const t=n[e];if(F(t))return t}}function zt(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter((e=>!e.startsWith("_"))))t.add(e);return Array.from(t)}(e._scopes)),t}function qt(e,t,n,i){const{iScale:r}=e,{key:o="r"}=this._parsing,s=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],s[a]={r:r.parse(R(u,o),c)};return s}const Vt=Number.EPSILON||1e-14,Bt=(e,t)=>t<e.length&&!e[t].skip&&e[t],Wt=e=>"x"===e?"y":"x";function Ut(e,t,n,i){const r=e.skip?t:e,o=t,s=n.skip?t:n,a=re(o,r),l=re(s,o);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,d=i*u;return{previous:{x:o.x-h*(s.x-r.x),y:o.y-h*(s.y-r.y)},next:{x:o.x+d*(s.x-r.x),y:o.y+d*(s.y-r.y)}}}function Ht(e,t,n){return Math.max(Math.min(e,n),t)}function Zt(e,t,n,i,r){let o,s,a,l;if(t.spanGaps&&(e=e.filter((e=>!e.skip))),"monotone"===t.cubicInterpolationMode)!function(e,t="x"){const n=Wt(t),i=e.length,r=Array(i).fill(0),o=Array(i);let s,a,l,c=Bt(e,0);for(s=0;s<i;++s)if(a=l,l=c,c=Bt(e,s+1),l){if(c){const e=c[t]-l[t];r[s]=0!==e?(c[n]-l[n])/e:0}o[s]=a?c?G(r[s-1])!==G(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}!function(e,t,n){const i=e.length;let r,o,s,a,l,c=Bt(e,0);for(let u=0;u<i-1;++u)l=c,c=Bt(e,u+1),l&&c&&(J(t[u],0,Vt)?n[u]=n[u+1]=0:(r=n[u]/t[u],o=n[u+1]/t[u],a=Math.pow(r,2)+Math.pow(o,2),a<=9||(s=3/Math.sqrt(a),n[u]=r*s*t[u],n[u+1]=o*s*t[u])))}(e,r,o),function(e,t,n="x"){const i=Wt(n),r=e.length;let o,s,a,l=Bt(e,0);for(let c=0;c<r;++c){if(s=a,a=l,l=Bt(e,c+1),!a)continue;const r=a[n],u=a[i];s&&(o=(r-s[n])/3,a[`cp1${n}`]=r-o,a[`cp1${i}`]=u-o*t[c]),l&&(o=(l[n]-r)/3,a[`cp2${n}`]=r+o,a[`cp2${i}`]=u+o*t[c])}}(e,o,t)}(e,r);else{let n=i?e[e.length-1]:e[0];for(o=0,s=e.length;o<s;++o)a=e[o],l=Ut(n,a,e[Math.min(o+1,s-(i?0:1))%s],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}t.capBezierPoints&&function(e,t){let n,i,r,o,s,a=rt(e[0],t);for(n=0,i=e.length;n<i;++n)s=o,o=a,a=n<i-1&&rt(e[n+1],t),o&&(r=e[n],s&&(r.cp1x=Ht(r.cp1x,t.left,t.right),r.cp1y=Ht(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=Ht(r.cp2x,t.left,t.right),r.cp2y=Ht(r.cp2y,t.top,t.bottom)))}(e,n)}function Kt(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Gt(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function Yt(e,t,n){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const Qt=e=>window.getComputedStyle(e,null),Jt=["top","right","bottom","left"];function Xt(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const o=Jt[r];i[o]=parseFloat(e[t+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function en(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=Qt(n),o="border-box"===r.boxSizing,s=Xt(r,"padding"),a=Xt(r,"border","width"),{x:l,y:c,box:u}=function(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:o}=i;let s,a,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(r,o,e.target))s=r,a=o;else{const e=t.getBoundingClientRect();s=i.clientX-e.left,a=i.clientY-e.top,l=!0}return{x:s,y:a,box:l}}(e,n),h=s.left+(u&&a.left),d=s.top+(u&&a.top);let{width:p,height:f}=t;return o&&(p-=s.width+a.width,f-=s.height+a.height),{x:Math.round((l-h)/p*n.width/i),y:Math.round((c-d)/f*n.height/i)}}const tn=e=>Math.round(10*e)/10;function nn(e,t,n){const i=t||1,r=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=r/i,e.width=o/i;const s=e.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${e.height}px`,s.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==i||s.height!==r||s.width!==o)&&(e.currentDevicePixelRatio=i,s.height=r,s.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0)}const rn=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function on(e,t){const n=function(e,t){return Qt(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function sn(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function an(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function ln(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},s=sn(e,r,n),a=sn(r,o,n),l=sn(o,t,n),c=sn(s,a,n),u=sn(a,l,n);return sn(c,u,n)}const cn=new Map;function un(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let i=cn.get(n);return i||(i=new Intl.NumberFormat(e,t),cn.set(n,i)),i}(t,n).format(e)}function hn(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function dn(e,t){let n,i;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function pn(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function fn(e){return"angle"===e?{between:ae,compare:oe,normalize:se}:{between:ce,compare:(e,t)=>e-t,normalize:e=>e}}function mn({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n==0,style:r}}function gn(e,t,n){if(!n)return[e];const{property:i,start:r,end:o}=n,s=t.length,{compare:a,between:l,normalize:c}=fn(i),{start:u,end:h,loop:d,style:p}=function(e,t,n){const{property:i,start:r,end:o}=n,{between:s,normalize:a}=fn(i),l=t.length;let c,u,{start:h,end:d,loop:p}=e;if(p){for(h+=l,d+=l,c=0,u=l;c<u&&s(a(t[h%l][i]),r,o);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:p,style:e.style}}(e,t,n),f=[];let m,g,v,y=!1,b=null;for(let e=u,n=u;e<=h;++e)g=t[e%s],g.skip||(m=c(g[i]),m!==v&&(y=l(m,r,o),null===b&&(y||l(r,v,m)&&0!==a(r,v))&&(b=0===a(m,r)?e:n),null!==b&&(!y||0===a(o,m)||l(o,v,m))&&(f.push(mn({start:b,end:e,loop:d,count:s,style:p})),b=null),n=e,v=m));return null!==b&&f.push(mn({start:b,end:h,loop:d,count:s,style:p})),f}function vn(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const o=gn(i[r],e.points,t);o.length&&n.push(...o)}return n}function yn(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function bn(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}var wn=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],o=t.duration;r.forEach((i=>i({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)})))}_refresh(){this._request||(this._running=!0,this._request=d.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(e=Date.now()){let t=0;this._charts.forEach(((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let o,s=r.length-1,a=!1;for(;s>=0;--s)o=r[s],o._active?(o._total>n.duration&&(n.duration=o._total),o.tick(e),a=!0):(r[s]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length})),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce(((e,t)=>Math.max(e,t._duration)),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};const _n="transparent",xn={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=He(e||_n),r=i.valid&&He(t||_n);return r&&r.valid?r.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class kn{constructor(e,t,n,i){const r=t[n];i=wt([e.to,i,r,e.from]);const o=wt([e.from,r,i]);this._active=!0,this._fn=e.fn||xn[e.type||typeof o],this._easing=pe[e.easing]||pe.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=wt([e.to,t,i,e.from]),this._from=wt([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,o=this._loop,s=this._to;let a;if(this._active=r!==s&&(o||t<n),!this._active)return this._target[i]=s,void this._notify(!0);t<0?this._target[i]=r:(a=t/n%2,a=o&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[i]=this._fn(r,s,a))}wait(){const e=this._promises||(this._promises=[]);return new Promise(((t,n)=>{e.push({res:t,rej:n})}))}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let e=0;e<n.length;e++)n[e][t]()}}Je.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Cn=Object.keys(Je.animation);Je.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),Je.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Je.describe("animations",{_fallback:"animation"}),Je.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}});class Sn{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!w(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach((n=>{const i=e[n];if(!w(i))return;const r={};for(const e of Cn)r[e]=i[e];(b(i.properties)&&i.properties||[n]).forEach((e=>{e!==n&&t.has(e)||t.set(e,r)}))}))}_animateOptions(e,t){const n=t.options,i=function(e,t){if(!t)return;let n=e.options;if(n)return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;e.options=t}(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(e,t){const n=[],i=Object.keys(t);for(let t=0;t<i.length;t++){const r=e[i[t]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}(e.options.$animations,n).then((()=>{e.options=n}),(()=>{})),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),o=Object.keys(t),s=Date.now();let a;for(a=o.length-1;a>=0;--a){const l=o[a];if("$"===l.charAt(0))continue;if("options"===l){i.push(...this._animateOptions(e,t));continue}const c=t[l];let u=r[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,s);continue}u.cancel()}h&&h.duration?(r[l]=u=new kn(h,e,l,c),i.push(u)):e[l]=c}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(wn.add(this._chart,n),!0):void 0}}function An(e,t){const n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:i?o:r,end:i?r:o}}function Tn(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function On(e,t,n,i={}){const r=e.keys,o="single"===i.mode;let s,a,l,c;if(null!==t){for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===n){if(i.all)continue;break}c=e.values[l],_(c)&&(o||0===t||G(t)===G(c))&&(t+=c)}return t}}function Ln(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function En(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function Dn(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const t=e[r.index];if(n&&t>0||!n&&t<0)return r.index}return null}function Pn(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,c=s.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(o,s,i),h=t.length;let d;for(let e=0;e<h;++e){const n=t[e],{[l]:o,[c]:h}=n;d=(n._stacks||(n._stacks={}))[c]=En(r,u,o),d[a]=h,d._top=Dn(d,s,!0,i.type),d._bottom=Dn(d,s,!1,i.type)}}function Mn(e,t){const n=e.scales;return Object.keys(n).filter((e=>n[e].axis===t)).shift()}function $n(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][n])return;delete t[i][n]}}}const Rn=e=>"reset"===e||"none"===e,In=(e,t)=>t?e:Object.assign({},e);class Fn{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ln(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&$n(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,i)=>"x"===e?t:"r"===e?i:n,r=t.xAxisID=k(n.xAxisID,Mn(e,"x")),o=t.yAxisID=k(n.yAxisID,Mn(e,"y")),s=t.rAxisID=k(n.rAxisID,Mn(e,"r")),a=t.indexAxis,l=t.iAxisID=i(a,r,o,s),c=t.vAxisID=i(a,o,r,s);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(s),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&At(this._data,this),e._stacked&&$n(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(w(t))this._data=function(e){const t=Object.keys(e),n=new Array(t.length);let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i],n[i]={x:o,y:e[o]};return n}(t);else if(n!==t){if(n){At(n,this);const e=this._cachedMeta;$n(e),e._parsed=[]}t&&Object.isExtensible(t)&&(this,(i=t)._chartjs?i._chartjs.listeners.push(this):(Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[this]}}),St.forEach((e=>{const t="_onData"+I(e),n=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...e){const r=n.apply(this,e);return i._chartjs.listeners.forEach((n=>{"function"==typeof n[t]&&n[t](...e)})),r}})})))),this._syncList=[],this._data=t}var i}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=Ln(t.vScale,t),t.stack!==n.stack&&(i=!0,$n(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&Pn(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:i}=this,{iScale:r,_stacked:o}=n,s=r.axis;let a,l,c,u=0===e&&t===i.length||n._sorted,h=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=i,n._sorted=!0,c=i;else{c=b(i[e])?this.parseArrayData(n,i,e,t):w(i[e])?this.parseObjectData(n,i,e,t):this.parsePrimitiveData(n,i,e,t);const r=()=>null===l[s]||h&&l[s]<h[s];for(a=0;a<t;++a)n._parsed[a+e]=l=c[a],u&&(r()&&(u=!1),h=l);n._sorted=u}o&&Pn(this,c)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:o}=e,s=r.axis,a=o.axis,l=r.getLabels(),c=r===o,u=new Array(i);let h,d,p;for(h=0,d=i;h<d;++h)p=h+n,u[h]={[s]:c||r.parse(l[p],p),[a]:o.parse(t[p],p)};return u}parseArrayData(e,t,n,i){const{xScale:r,yScale:o}=e,s=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],s[a]={x:r.parse(u[0],c),y:o.parse(u[1],c)};return s}parseObjectData(e,t,n,i){const{xScale:r,yScale:o}=e,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l=new Array(i);let c,u,h,d;for(c=0,u=i;c<u;++c)h=c+n,d=t[h],l[c]={x:r.parse(R(d,s),h),y:o.parse(R(d,a),h)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,o=t[e.axis];return On({keys:Tn(i,!0),values:t._stacks[e.axis]},o,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let o=null===r?NaN:r;const s=i&&n._stacks[t.axis];i&&s&&(i.values=s,o=On(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,o=i.length,s=this._getOtherScale(e),a=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Tn(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(s);let h,d;function p(){d=i[h];const t=d[s.axis];return!_(d[e.axis])||c>t||u<t}for(h=0;h<o&&(p()||(this.updateRangeFromParsed(l,e,d,a),!r));++h);if(r)for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(l,e,d,a);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i][e.axis],_(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,i,r;return w(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:!1===e}}(k(this.options.clip,function(e,t,n){if(!1===n)return!1;const i=An(e,n),r=An(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,o=[],s=this._drawStart||0,a=this._drawCount||i.length-s,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,r,s,a),c=s;c<s+a;++c){const t=i[c];t.hidden||(t.active&&l?o.push(t):t.draw(e,r))}for(c=0;c<o.length;++c)o[c].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,n){return _t(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return _t(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i="active"===t,r=this._cachedDataOpts,o=e+"-"+t,s=r[o],a=this.enableOptionSharing&&F(n);if(s)return In(s,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),u=i?[`${e}Hover`,"hover",e,""]:[e,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(Je.elements[e]),p=l.resolveNamedOptions(h,d,(()=>this.getContext(n,i)),u);return p.$shared&&(p.$shared=a,r[o]=Object.freeze(In(p,a))),p}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,o=`animation-${t}`,s=r[o];if(s)return s;let a;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,t),o=i.getOptionScopes(this.getDataset(),r);a=i.createResolver(o,this.getContext(e,n,t))}const l=new Sn(i,a&&a.animations);return a&&a._cacheable&&(r[o]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Rn(e)||this.chart._animationsDisabled}updateElement(e,t,n,i){Rn(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!Rn(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[e,t,n]of this._syncList)this[e](t,n);this._syncList=[];const i=n.length,r=t.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t,n=!0){const i=this._cachedMeta,r=i.data,o=e+t;let s;const a=e=>{for(e.length+=t,s=e.length-1;s>=o;s--)e[s]=e[s-t]};for(a(r),s=e;s<o;++s)r[s]=new this.dataElementType;this._parsing&&a(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&$n(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function jn(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,r=n.length;t<r;t++)i=i.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=Tt(i.sort(((e,t)=>e-t)))}return e._cache.$bar}(t,e.type);let i,r,o,s,a=t._length;const l=()=>{32767!==o&&-32768!==o&&(F(s)&&(a=Math.min(a,Math.abs(o-s)||a)),s=o)};for(i=0,r=n.length;i<r;++i)o=t.getPixelForValue(n[i]),l();for(s=void 0,i=0,r=t.ticks.length;i<r;++i)o=t.getPixelForTick(i),l();return a}function Nn(e,t,n,i){return b(e)?function(e,t,n,i){const r=n.parse(e[0],i),o=n.parse(e[1],i),s=Math.min(r,o),a=Math.max(r,o);let l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:o,min:s,max:a}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function zn(e,t,n,i){const r=e.iScale,o=e.vScale,s=r.getLabels(),a=r===o,l=[];let c,u,h,d;for(c=n,u=n+i;c<u;++c)d=t[c],h={},h[r.axis]=a||r.parse(s[c],c),l.push(Nn(d,h,o,c));return l}function qn(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Vn(e,t,n,i){let r=t.borderSkipped;const o={};if(!r)return void(e.borderSkipped=o);const{start:s,end:a,reverse:l,top:c,bottom:u}=function(e){let t,n,i,r,o;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:t,top:r,bottom:o}}(e);"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(o[Bn(u,s,a,l)]=!0,r=c)),o[Bn(r,s,a,l)]=!0,e.borderSkipped=o}function Bn(e,t,n,i){var r,o,s;return i?(s=n,e=Wn(e=(r=e)===(o=t)?s:r===s?o:r,n,t)):e=Wn(e,t,n),e}function Wn(e,t,n){return"start"===e?t:"end"===e?n:e}function Un(e,{inflateAmount:t},n){e.inflateAmount="auto"===t?1===n?.33:0:t}Fn.defaults={},Fn.prototype.datasetElementType=null,Fn.prototype.dataElementType=null;class Hn extends Fn{parsePrimitiveData(e,t,n,i){return zn(e,t,n,i)}parseArrayData(e,t,n,i){return zn(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:o}=e,{xAxisKey:s="x",yAxisKey:a="y"}=this._parsing,l="x"===r.axis?s:a,c="x"===o.axis?s:a,u=[];let h,d,p,f;for(h=n,d=n+i;h<d;++h)f=t[h],p={},p[r.axis]=r.parse(R(f,l),h),u.push(Nn(R(f,c),p,o,h));return u}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),o=r._custom,s=qn(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:s}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,i){const r="reset"===i,{index:o,_cachedMeta:{vScale:s}}=this,a=s.getBasePixel(),l=s.isHorizontal(),c=this._getRuler(),u=this.resolveDataElementOptions(t,i),h=this.getSharedOptions(u),d=this.includeOptions(i,h);this.updateSharedOptions(h,i,u);for(let u=t;u<t+n;u++){const t=this.getParsed(u),n=r||y(t[s.axis])?{base:a,head:a}:this._calculateBarValuePixels(u),p=this._calculateBarIndexPixels(u,c),f=(t._stacks||{})[s.axis],m={horizontal:l,base:n.base,enableBorderRadius:!f||qn(t._custom)||o===f._top||o===f._bottom,x:l?n.head:p.center,y:l?p.center:n.head,height:l?p.size:Math.abs(n.size),width:l?Math.abs(n.size):p.size};d&&(m.options=h||this.resolveDataElementOptions(u,e[u].active?"active":i));const g=m.options||e[u].options;Vn(m,g,f,o),Un(m,g,c.ratio),this.updateElement(e[u],u,m,i)}}_getStacks(e,t){const n=this._cachedMeta.iScale,i=n.getMatchingVisibleMetas(this._type),r=n.options.stacked,o=i.length,s=[];let a,l;for(a=0;a<o;++a)if(l=i[a],l.controller.options.grouped){if(void 0!==t){const e=l.controller.getParsed(t)[l.controller._cachedMeta.vScale.axis];if(y(e)||isNaN(e))continue}if((!1===r||-1===s.indexOf(l.stack)||void 0===r&&void 0===l.stack)&&s.push(l.stack),l.index===e)break}return s.length||s.push(void 0),s}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,o;for(r=0,o=t.data.length;r<o;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const s=e.barThickness;return{min:s||jn(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:s?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n},options:{base:i,minBarLength:r}}=this,o=i||0,s=this.getParsed(e),a=s._custom,l=qn(a);let c,u,h=s[t.axis],d=0,p=n?this.applyStack(t,s,n):h;p!==h&&(d=p-h,p=h),l&&(h=a.barStart,p=a.barEnd-a.barStart,0!==h&&G(h)!==G(a.barEnd)&&(d=0),d+=h);const f=y(i)||l?d:i;let m=t.getPixelForValue(f);if(c=this.chart.getDataVisibility(e)?t.getPixelForValue(d+p):m,u=c-m,Math.abs(u)<r){u=function(e,t,n){return 0!==e?G(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(u,t,o)*r,h===o&&(m-=u/2);const e=t.getPixelForDecimal(0),n=t.getPixelForDecimal(1),i=Math.min(e,n),s=Math.max(e,n);m=Math.max(Math.min(m,s),i),c=m+u}if(m===t.getPixelForValue(o)){const e=G(u)*t.getLineWidthForValue(o)/2;m+=e,u-=e}return{size:u,base:m,head:c,center:c+u/2}}_calculateBarIndexPixels(e,t){const n=t.scale,i=this.options,r=i.skipNull,o=k(i.maxBarThickness,1/0);let s,a;if(t.grouped){const n=r?this._getStackCount(e):t.stackCount,l="flex"===i.barThickness?function(e,t,n,i){const r=t.pixels,o=r[e];let s=e>0?r[e-1]:null,a=e<r.length-1?r[e+1]:null;const l=n.categoryPercentage;null===s&&(s=o-(null===a?t.end-t.start:a-o)),null===a&&(a=o+o-s);const c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:n.barPercentage,start:c}}(e,t,i,n):function(e,t,n,i){const r=n.barThickness;let o,s;return y(r)?(o=t.min*n.categoryPercentage,s=n.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:t.pixels[e]-o/2}}(e,t,i,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);s=l.start+l.chunk*c+l.chunk/2,a=Math.min(o,l.chunk*l.ratio)}else s=n.getPixelForValue(this.getParsed(e)[n.axis],e),a=Math.min(o,t.min*t.ratio);return{base:s-a/2,head:s+a/2,center:s,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)null!==this.getParsed(r)[t.axis]&&n[r].draw(this._ctx)}}Hn.id="bar",Hn.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Hn.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Zn extends Fn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const r=super.parsePrimitiveData(e,t,n,i);for(let e=0;e<r.length;e++)r[e]._custom=this.resolveDataElementOptions(e+n).radius;return r}parseArrayData(e,t,n,i){const r=super.parseArrayData(e,t,n,i);for(let e=0;e<r.length;e++){const i=t[n+e];r[e]._custom=k(i[2],this.resolveDataElementOptions(e+n).radius)}return r}parseObjectData(e,t,n,i){const r=super.parseObjectData(e,t,n,i);for(let e=0;e<r.length;e++){const i=t[n+e];r[e]._custom=k(i&&i.r&&+i.r,this.resolveDataElementOptions(e+n).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:n,yScale:i}=t,r=this.getParsed(e),o=n.getLabelForValue(r.x),s=i.getLabelForValue(r.y),a=r._custom;return{label:t.label,value:"("+o+", "+s+(a?", "+a:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:o,vScale:s}=this._cachedMeta,a=this.resolveDataElementOptions(t,i),l=this.getSharedOptions(a),c=this.includeOptions(i,l),u=o.axis,h=s.axis;for(let a=t;a<t+n;a++){const t=e[a],n=!r&&this.getParsed(a),l={},d=l[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(n[u]),p=l[h]=r?s.getBasePixel():s.getPixelForValue(n[h]);l.skip=isNaN(d)||isNaN(p),c&&(l.options=this.resolveDataElementOptions(a,t.active?"active":i),r&&(l.options.radius=0)),this.updateElement(t,a,l,i)}this.updateSharedOptions(l,i,a)}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==t&&(i.radius=0),i.radius+=k(n&&n._custom,r),i}}Zn.id="bubble",Zn.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Zn.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class Kn extends Fn{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let r,o,s=e=>+n[e];if(w(n[e])){const{key:e="value"}=this._parsing;s=t=>+R(n[t],e)}for(r=e,o=e+t;r<o;++r)i._parsed[r]=s(r)}}_getRotation(){return ee(this.options.rotation-90)}_getCircumference(){return ee(this.options.circumference)}_getRotationExtents(){let e=q,t=-q;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+o)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,r=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,s=Math.max((Math.min(n.width,n.height)-o)/2,0),a=Math.min(((e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:e/t)(this.options.cutout,s),1),l=this._getRingWeight(this.index),{circumference:c,rotation:u}=this._getRotationExtents(),{ratioX:h,ratioY:d,offsetX:p,offsetY:f}=function(e,t,n){let i=1,r=1,o=0,s=0;if(t<q){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),p=(e,t,i)=>ae(e,a,l,!0)?1:Math.max(t,t*n,i,i*n),f=(e,t,i)=>ae(e,a,l,!0)?-1:Math.min(t,t*n,i,i*n),m=p(0,c,h),g=p(U,u,d),v=f(z,c,h),y=f(z+U,u,d);i=(m-v)/2,r=(g-y)/2,o=-(m+v)/2,s=-(g+y)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}(u,c,a),m=(n.width-o)/h,g=(n.height-o)/d,v=Math.max(Math.min(m,g)/2,0),y=C(this.options.radius,v),b=(y-Math.max(y*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=p*y,this.offsetY=f*y,i.total=this.calculateTotal(),this.outerRadius=y-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*l,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/q)}updateElements(e,t,n,i){const r="reset"===i,o=this.chart,s=o.chartArea,a=o.options.animation,l=(s.left+s.right)/2,c=(s.top+s.bottom)/2,u=r&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,p=this.resolveDataElementOptions(t,i),f=this.getSharedOptions(p),m=this.includeOptions(i,f);let g,v=this._getRotation();for(g=0;g<t;++g)v+=this._circumference(g,r);for(g=t;g<t+n;++g){const t=this._circumference(g,r),n=e[g],o={x:l+this.offsetX,y:c+this.offsetY,startAngle:v,endAngle:v+t,circumference:t,outerRadius:d,innerRadius:h};m&&(o.options=f||this.resolveDataElementOptions(g,n.active?"active":i)),v+=t,this.updateElement(n,g,o,i)}this.updateSharedOptions(f,i,p)}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,i=0;for(n=0;n<t.length;n++){const r=e._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||t[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?q*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=un(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,r,o,s,a;if(!e)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){o=n.getDatasetMeta(i),e=o.data,s=o.controller;break}if(!e)return 0;for(i=0,r=e.length;i<r;++i)a=s.resolveDataElementOptions(i),"inner"!==a.borderAlign&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(k(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Kn.id="doughnut",Kn.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Kn.descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e},Kn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map(((t,i)=>{const r=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(e){let t=e.label;const n=": "+e.formattedValue;return b(t)?(t=t.slice(),t[0]+=n):t+=n,t}}}}};class Gn extends Fn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,o=this.chart._animationsDisabled;let{start:s,count:a}=function(e,t,n){const i=t.length;let r=0,o=i;if(e._sorted){const{iScale:s,_parsed:a}=e,l=s.axis,{min:c,max:u,minDefined:h,maxDefined:d}=s.getUserBounds();h&&(r=le(Math.min(kt(a,s.axis,c).lo,n?i:kt(t,l,s.getPixelForValue(c)).lo),0,i-1)),o=d?le(Math.max(kt(a,s.axis,u).hi+1,n?0:kt(t,l,s.getPixelForValue(u)).hi+1),r,i)-r:i-r}return{start:r,count:o}}(t,i,o);this._drawStart=s,this._drawCount=a,function(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}(t)&&(s=0,a=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:l},e),this.updateElements(i,s,a,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:o,vScale:s,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(c),h=this.includeOptions(i,u),d=o.axis,p=s.axis,{spanGaps:f,segment:m}=this.options,g=Q(f)?f:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===i;let b=t>0&&this.getParsed(t-1);for(let c=t;c<t+n;++c){const t=e[c],n=this.getParsed(c),f=v?t:{},w=y(n[p]),_=f[d]=o.getPixelForValue(n[d],c),x=f[p]=r||w?s.getBasePixel():s.getPixelForValue(a?this.applyStack(s,n,a):n[p],c);f.skip=isNaN(_)||isNaN(x)||w,f.stop=c>0&&Math.abs(n[d]-b[d])>g,m&&(f.parsed=n,f.raw=l.data[c]),h&&(f.options=u||this.resolveDataElementOptions(c,t.active?"active":i)),v||this.updateElement(t,c,f,i),b=n}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Gn.id="line",Gn.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Gn.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Yn extends Fn{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=un(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,n,i){return qt.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach(((e,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))})),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),o=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,n,i){const r="reset"===i,o=this.chart,s=o.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*z;let h,d=u;const p=360/this.countVisibleElements();for(h=0;h<t;++h)d+=this._computeAngle(h,i,p);for(h=t;h<t+n;h++){const t=e[h];let n=d,f=d+this._computeAngle(h,i,p),m=o.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=f,r&&(s.animateScale&&(m=0),s.animateRotate&&(n=f=u));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:f,options:this.resolveDataElementOptions(h,t.active?"active":i)};this.updateElement(t,h,g,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach(((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++})),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?ee(this.resolveDataElementOptions(e,t).angle||n):0}}Yn.id="polarArea",Yn.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},Yn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map(((t,i)=>{const r=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}}))}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:e=>e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class Qn extends Kn{}Qn.id="pie",Qn.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Jn extends Fn{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return qt.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(n.points=i,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const o={_loop:!0,_fullLoop:r.length===i.length,options:t};this.updateElement(n,void 0,o,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const r=this._cachedMeta.rScale,o="reset"===i;for(let s=t;s<t+n;s++){const t=e[s],n=this.resolveDataElementOptions(s,t.active?"active":i),a=r.getPointPositionForValue(s,this.getParsed(s).r),l=o?r.xCenter:a.x,c=o?r.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,s,u,i)}}}Jn.id="radar",Jn.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Jn.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Xn extends Gn{}function ei(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}Xn.id="scatter",Xn.defaults={showLine:!1,fill:!1},Xn.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:e=>"("+e.label+", "+e.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};class ti{constructor(e){this.options=e||{}}formats(){return ei()}parse(e,t){return ei()}format(e,t){return ei()}add(e,t,n){return ei()}diff(e,t,n){return ei()}startOf(e,t,n){return ei()}endOf(e,t){return ei()}}ti.override=function(e){Object.assign(ti.prototype,e)};var ni={_date:ti};function ii(e,t,n,i){const{controller:r,data:o,_sorted:s}=e,a=r._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&s&&o.length){const e=a._reversePixels?Ct:kt;if(!i)return e(o,t,n);if(r._sharedOptions){const i=o[0],r="function"==typeof i.getRange&&i.getRange(t);if(r){const i=e(o,t,n-r),s=e(o,t,n+r);return{lo:i.lo,hi:s.hi}}}}return{lo:0,hi:o.length-1}}function ri(e,t,n,i,r){const o=e.getSortedVisibleDatasetMetas(),s=n[t];for(let e=0,n=o.length;e<n;++e){const{index:n,data:a}=o[e],{lo:l,hi:c}=ii(o[e],t,s,r);for(let e=l;e<=c;++e){const t=a[e];t.skip||i(t,n,e)}}}function oi(e,t,n,i,r){const o=[];return r||e.isPointInArea(t)?(ri(e,n,t,(function(n,s,a){(r||rt(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&o.push({element:n,datasetIndex:s,index:a})}),!0),o):o}function si(e,t,n,i,r,o){return o||e.isPointInArea(t)?"r"!==n||i?function(e,t,n,i,r,o){let s=[];const a=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){const r=t?Math.abs(e.x-i.x):0,o=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}(n);let l=Number.POSITIVE_INFINITY;return ri(e,n,t,(function(n,c,u){const h=n.inRange(t.x,t.y,r);if(i&&!h)return;const d=n.getCenterPoint(r);if(!o&&!e.isPointInArea(d)&&!h)return;const p=a(t,d);p<l?(s=[{element:n,datasetIndex:c,index:u}],l=p):p===l&&s.push({element:n,datasetIndex:c,index:u})})),s}(e,t,n,i,r,o):function(e,t,n,i){let r=[];return ri(e,n,t,(function(e,n,o){const{startAngle:s,endAngle:a}=e.getProps(["startAngle","endAngle"],i),{angle:l}=ie(e,{x:t.x,y:t.y});ae(l,s,a)&&r.push({element:e,datasetIndex:n,index:o})})),r}(e,t,n,r):[]}function ai(e,t,n,i,r){const o=[],s="x"===n?"inXRange":"inYRange";let a=!1;return ri(e,n,t,((e,i,l)=>{e[s](t[n],r)&&(o.push({element:e,datasetIndex:i,index:l}),a=a||e.inRange(t.x,t.y,r))})),i&&!a?[]:o}var li={evaluateInteractionItems:ri,modes:{index(e,t,n,i){const r=en(t,e),o=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?oi(e,r,o,i,s):si(e,r,o,!1,i,s),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((e=>{const t=a[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset(e,t,n,i){const r=en(t,e),o=n.axis||"xy",s=n.includeInvisible||!1;let a=n.intersect?oi(e,r,o,i,s):si(e,r,o,!1,i,s);if(a.length>0){const t=a[0].datasetIndex,n=e.getDatasetMeta(t).data;a=[];for(let e=0;e<n.length;++e)a.push({element:n[e],datasetIndex:t,index:e})}return a},point:(e,t,n,i)=>oi(e,en(t,e),n.axis||"xy",i,n.includeInvisible||!1),nearest(e,t,n,i){const r=en(t,e),o=n.axis||"xy",s=n.includeInvisible||!1;return si(e,r,o,n.intersect,i,s)},x:(e,t,n,i)=>ai(e,en(t,e),"x",n.intersect,i),y:(e,t,n,i)=>ai(e,en(t,e),"y",n.intersect,i)}};const ci=["left","top","right","bottom"];function ui(e,t){return e.filter((e=>e.pos===t))}function hi(e,t){return e.filter((e=>-1===ci.indexOf(e.pos)&&e.box.axis===t))}function di(e,t){return e.sort(((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function pi(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function fi(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function mi(e,t,n,i){const{pos:r,box:o}=n,s=e.maxPadding;if(!w(r)){n.size&&(e[r]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?o.height:o.width),n.size=t.size/t.count,e[r]+=n.size}o.getPadding&&fi(s,o.getPadding());const a=Math.max(0,t.outerWidth-pi(s,e,"left","right")),l=Math.max(0,t.outerHeight-pi(s,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function gi(e,t){const n=t.maxPadding;return function(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach((e=>{i[e]=Math.max(t[e],n[e])})),i}(e?["left","right"]:["top","bottom"])}function vi(e,t,n,i){const r=[];let o,s,a,l,c,u;for(o=0,s=e.length,c=0;o<s;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,gi(a.horizontal,t));const{same:s,other:h}=mi(t,n,a,i);c|=s&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&vi(r,t,n,i)||u}function yi(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function bi(e,t,n,i){const r=n.padding;let{x:o,y:s}=t;for(const a of e){const e=a.box,l=i[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const i=t.w*c,o=l.size||e.height;F(l.start)&&(s=l.start),e.fullSize?yi(e,r.left,s,n.outerWidth-r.right-r.left,o):yi(e,t.left+l.placed,s,i,o),l.start=s,l.placed+=i,s=e.bottom}else{const i=t.h*c,s=l.size||e.width;F(l.start)&&(o=l.start),e.fullSize?yi(e,o,r.top,s,n.outerHeight-r.bottom-r.top):yi(e,o,t.top+l.placed,s,i),l.start=o,l.placed+=i,o=e.right}}t.x=o,t.y=s}Je.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var wi={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=yt(e.options.layout.padding),o=Math.max(t-r.width,0),s=Math.max(n-r.height,0),a=function(e){const t=function(e){const t=[];let n,i,r,o,s,a;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],({position:o,options:{stack:s,stackWeight:a=1}}=r),t.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return t}(e),n=di(t.filter((e=>e.box.fullSize)),!0),i=di(ui(t,"left"),!0),r=di(ui(t,"right")),o=di(ui(t,"top"),!0),s=di(ui(t,"bottom")),a=hi(t,"x"),l=hi(t,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:ui(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}(e.boxes),l=a.vertical,c=a.horizontal;A(e.boxes,(e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()}));const u=l.reduce(((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),d=Object.assign({},r);fi(d,yt(i));const p=Object.assign({maxPadding:d,w:o,h:s,x:r.left,y:r.top},r),f=function(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:i,stackWeight:r}=n;if(!e||!ci.includes(i))continue;const o=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,s,a;for(o=0,s=e.length;o<s;++o){a=e[o];const{fullSize:s}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*i:s&&t.availableWidth,a.height=r):(a.width=i,a.height=c?c*r:s&&t.availableHeight)}return n}(l.concat(c),h);vi(a.fullSize,p,h,f),vi(l,p,h,f),vi(c,p,h,f)&&vi(l,p,h,f),function(e){const t=e.maxPadding;function n(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),bi(a.leftAndTop,p,h,f),p.x+=p.w,p.y+=p.h,bi(a.rightAndBottom,p,h,f),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},A(a.chartArea,(t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})}))}};class _i{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class xi extends _i{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ki={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ci=e=>null===e||""===e,Si=!!rn&&{passive:!0};function Ai(e,t,n){e.canvas.removeEventListener(t,n,Si)}function Ti(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Oi(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Ti(n.addedNodes,i),t=t&&!Ti(n.removedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function Li(e,t,n){const i=e.canvas,r=new MutationObserver((e=>{let t=!1;for(const n of e)t=t||Ti(n.removedNodes,i),t=t&&!Ti(n.addedNodes,i);t&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}const Ei=new Map;let Di=0;function Pi(){const e=window.devicePixelRatio;e!==Di&&(Di=e,Ei.forEach(((t,n)=>{n.currentDevicePixelRatio!==e&&t()})))}function Mi(e,t,n){const i=e.canvas,r=i&&Gt(i);if(!r)return;const o=p(((e,t)=>{const i=r.clientWidth;n(e,t),i<r.clientWidth&&n()}),window),s=new ResizeObserver((e=>{const t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||o(n,i)}));return s.observe(r),function(e,t){Ei.size||window.addEventListener("resize",Pi),Ei.set(e,t)}(e,o),s}function $i(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Ei.delete(e),Ei.size||window.removeEventListener("resize",Pi)}(e)}function Ri(e,t,n){const i=e.canvas,r=p((t=>{null!==e.ctx&&n(function(e,t){const n=ki[e.type]||e.type,{x:i,y:r}=en(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(t,e))}),e,(e=>{const t=e[0];return[t,t.offsetX,t.offsetY]}));return function(e,t,n){e.addEventListener(t,n,Si)}(i,t,r),r}class Ii extends _i{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e.$chartjs={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Ci(r)){const t=on(e,"width");void 0!==t&&(e.width=t)}if(Ci(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=on(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t.$chartjs)return!1;const n=t.$chartjs.initial;["height","width"].forEach((e=>{const i=n[e];y(i)?t.removeAttribute(e):t.setAttribute(e,i)}));const i=n.style||{};return Object.keys(i).forEach((e=>{t.style[e]=i[e]})),t.width=t.width,delete t.$chartjs,!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),r={attach:Oi,detach:Li,resize:Mi}[t]||Ri;i[t]=r(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];i&&(({attach:$i,detach:$i,resize:$i}[t]||Ai)(e,t,i),n[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return function(e,t,n,i){const r=Qt(e),o=Xt(r,"margin"),s=Yt(r.maxWidth,e,"clientWidth")||B,a=Yt(r.maxHeight,e,"clientHeight")||B,l=function(e,t,n){let i,r;if(void 0===t||void 0===n){const o=Gt(e);if(o){const e=o.getBoundingClientRect(),s=Qt(o),a=Xt(s,"border","width"),l=Xt(s,"padding");t=e.width-l.width-a.width,n=e.height-l.height-a.height,i=Yt(s.maxWidth,o,"clientWidth"),r=Yt(s.maxHeight,o,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||B,maxHeight:r||B}}(e,t,n);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const e=Xt(r,"border","width"),t=Xt(r,"padding");c-=t.width+e.width,u-=t.height+e.height}return c=Math.max(0,c-o.width),u=Math.max(0,i?Math.floor(c/i):u-o.height),c=tn(Math.min(c,s,l.maxWidth)),u=tn(Math.min(u,a,l.maxHeight)),c&&!u&&(u=tn(c/2)),{width:c,height:u}}(e,t,n,i)}isAttached(e){const t=Gt(e);return!(!t||!t.isConnected)}}class Fi{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Q(this.x)&&Q(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach((e=>{i[e]=n[e]&&n[e].active()?n[e]._to:this[e]})),i}}Fi.defaults={},Fi.defaultRoutes=void 0;const ji={values:e=>b(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let r,o=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),o=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}(e,n)}const s=K(Math.abs(o)),a=Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),un(e,i,l)},logarithmic(e,t,n){if(0===e)return"0";const i=e/Math.pow(10,Math.floor(K(e)));return 1===i||2===i||5===i?ji.numeric.call(this,e,t,n):""}};var Ni={formatters:ji};function zi(e,t,n,i,r){const o=k(i,0),s=Math.min(k(r,e.length),e.length);let a,l,c,u=0;for(n=Math.ceil(n),r&&(a=r-i,n=a/Math.floor(a/n)),c=o;c<0;)u++,c=Math.round(o+u*n);for(l=Math.max(o,0);l<s;l++)l===c&&(t.push(e[l]),u++,c=Math.round(o+u*n))}Je.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ni.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Je.route("scale.ticks","color","","color"),Je.route("scale.grid","color","","borderColor"),Je.route("scale.grid","borderColor","","borderColor"),Je.route("scale.title","color","","color"),Je.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e}),Je.describe("scales",{_fallback:"scale"}),Je.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e});const qi=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n;function Vi(e,t){const n=[],i=e.length/t,r=e.length;let o=0;for(;o<r;o+=i)n.push(e[Math.floor(o)]);return n}function Bi(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),o=e._startPixel,s=e._endPixel,a=1e-6;let l,c=e.getPixelForTick(r);if(!(n&&(l=1===i?Math.max(c-o,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(r-1))/2,c+=r<t?l:-l,c<o-a||c>s+a)))return c}function Wi(e){return e.drawTicks?e.tickLength:0}function Ui(e,t){if(!e.display)return 0;const n=bt(e.font,t),i=yt(e.padding);return(b(e.text)?e.text.length:1)*n.lineHeight+i.height}function Hi(e,t,n){let i=f(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class Zi extends Fi{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=x(e,Number.POSITIVE_INFINITY),t=x(t,Number.NEGATIVE_INFINITY),n=x(n,Number.POSITIVE_INFINITY),i=x(i,Number.NEGATIVE_INFINITY),{min:x(e,n),max:x(t,i),minDefined:_(e),maxDefined:_(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:r,maxDefined:o}=this.getUserBounds();if(r&&o)return{min:n,max:i};const s=this.getMatchingVisibleMetas();for(let a=0,l=s.length;a<l;++a)t=s[a].controller.getMinMax(this,e),r||(n=Math.min(n,t.min)),o||(i=Math.max(i,t.max));return n=o&&n>i?i:n,i=r&&n>i?n:i,{min:x(n,x(i,n)),max:x(i,x(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){S(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:o}=this.options,s=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:i,max:r}=e,o=C(t,(r-i)/2),s=(e,t)=>n&&0===e?0:e+t;return{min:s(i,-Math.abs(o)),max:s(r,o)}}(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=s<this.ticks.length;this._convertTicksToLabels(a?Vi(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function(e,t){const n=e.options.ticks,i=n.maxTicksLimit||function(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),r=n.major.enabled?function(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],o=r.length,s=r[0],a=r[o-1],l=[];if(o>i)return function(e,t,n,i){let r,o=0,s=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===s&&(t.push(e[r]),o++,s=n[o*i])}(t,l,r,o/i),l;const c=function(e,t,n){const i=function(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),r=t.length/n;if(!i)return Math.max(r,1);const o=function(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i==0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort(((e,t)=>e-t)).pop(),t}(i);for(let e=0,t=o.length-1;e<t;e++){const t=o[e];if(t>r)return t}return Math.max(r,1)}(r,t,i);if(o>0){let e,n;const i=o>1?Math.round((a-s)/(o-1)):null;for(zi(t,l,c,y(i)?0:s-i,s),e=0,n=o-1;e<n;e++)zi(t,l,c,r[e],r[e+1]);return zi(t,l,c,a,y(i)?t.length:a+i),l}return zi(t,l,c),l}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){S(this.options.afterUpdate,[this])}beforeSetDimensions(){S(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){S(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),S(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){S(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=S(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){S(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){S(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=this.ticks.length,i=t.minRotation||0,r=t.maxRotation;let o,s,a,l=i;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=le(this.chart.width-u,0,this.maxWidth);o=e.offset?this.maxWidth/n:d/(n-1),u+6>o&&(o=d/(n-(e.offset?.5:1)),s=this.maxHeight-Wi(e.grid)-t.padding-Ui(e.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=te(Math.min(Math.asin(le((c.highest.height+6)/o,-1,1)),Math.asin(le(s/a,-1,1))-Math.asin(le(h/a,-1,1)))),l=Math.max(i,Math.min(r,l))),this.labelRotation=l}afterCalculateLabelRotation(){S(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){S(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,o=this._isVisible(),s=this.isHorizontal();if(o){const o=Ui(i,t.options.font);if(s?(e.width=this.maxWidth,e.height=Wi(r)+o):(e.height=this.maxHeight,e.width=Wi(r)+o),n.display&&this.ticks.length){const{first:t,last:i,widest:r,highest:o}=this._getLabelSizes(),a=2*n.padding,l=ee(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(s){const t=n.mirror?0:u*r.width+c*o.height;e.height=Math.min(this.maxHeight,e.height+t+a)}else{const t=n.mirror?0:c*r.width+u*o.height;e.width=Math.min(this.maxWidth,e.width+t+a)}this._calculatePadding(t,i,u,c)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:o},position:s}=this.options,a=0!==this.labelRotation,l="top"!==s&&"x"===this.axis;if(this.isHorizontal()){const s=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=i*e.width,h=n*t.height):(u=n*e.height,h=i*t.width):"start"===r?h=t.width:"end"===r?u=e.width:"inner"!==r&&(u=e.width/2,h=t.width/2),this.paddingLeft=Math.max((u-s+o)*this.width/(this.width-s),0),this.paddingRight=Math.max((h-c+o)*this.width/(this.width-c),0)}else{let n=t.height/2,i=e.height/2;"start"===r?(n=0,i=e.height):"end"===r&&(n=t.height,i=0),this.paddingTop=n+o,this.paddingBottom=i+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){S(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)y(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=Vi(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}_computeLabelSizes(e,t){const{ctx:n,_longestTextCache:i}=this,r=[],o=[];let s,a,l,c,u,h,d,p,f,m,g,v=0,w=0;for(s=0;s<t;++s){if(c=e[s].label,u=this._resolveTickFontOptions(s),n.font=h=u.string,d=i[h]=i[h]||{data:{},gc:[]},p=u.lineHeight,f=m=0,y(c)||b(c)){if(b(c))for(a=0,l=c.length;a<l;++a)g=c[a],y(g)||b(g)||(f=Xe(n,d.data,d.gc,f,g),m+=p)}else f=Xe(n,d.data,d.gc,f,c),m=p;r.push(f),o.push(m),v=Math.max(f,v),w=Math.max(m,w)}!function(e,t){A(e,(e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}}))}(i,t);const _=r.indexOf(v),x=o.indexOf(w),k=e=>({width:r[e]||0,height:o[e]||0});return{first:k(0),last:k(t-1),widest:k(_),highest:k(x),widths:r,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return function(e){return le(e,-32768,32767)}(this._alignToPixels?tt(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return _t(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=_t(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=ee(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,s=r?r.widest.width+o:0,a=r?r.highest.height+o:0;return this.isHorizontal()?a*n>s*i?s/n:a/i:a*i<s*n?a/n:s/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:r,position:o}=i,s=r.offset,a=this.isHorizontal(),l=this.ticks.length+(s?1:0),c=Wi(r),u=[],h=r.setContext(this.getContext()),d=h.drawBorder?h.borderWidth:0,p=d/2,f=function(e){return tt(n,e,d)};let m,g,v,y,b,_,x,C,S,A,T,O;if("top"===o)m=f(this.bottom),_=this.bottom-c,C=m-p,A=f(e.top)+p,O=e.bottom;else if("bottom"===o)m=f(this.top),A=e.top,O=f(e.bottom)-p,_=m+p,C=this.top+c;else if("left"===o)m=f(this.right),b=this.right-c,x=m-p,S=f(e.left)+p,T=e.right;else if("right"===o)m=f(this.left),S=e.left,T=f(e.right)-p,b=m+p,x=this.left+c;else if("x"===t){if("center"===o)m=f((e.top+e.bottom)/2+.5);else if(w(o)){const e=Object.keys(o)[0],t=o[e];m=f(this.chart.scales[e].getPixelForValue(t))}A=e.top,O=e.bottom,_=m+p,C=_+c}else if("y"===t){if("center"===o)m=f((e.left+e.right)/2);else if(w(o)){const e=Object.keys(o)[0],t=o[e];m=f(this.chart.scales[e].getPixelForValue(t))}b=m-p,x=b-c,S=e.left,T=e.right}const L=k(i.ticks.maxTicksLimit,l),E=Math.max(1,Math.ceil(l/L));for(g=0;g<l;g+=E){const e=r.setContext(this.getContext(g)),t=e.lineWidth,i=e.color,o=r.borderDash||[],l=e.borderDashOffset,c=e.tickWidth,h=e.tickColor,d=e.tickBorderDash||[],p=e.tickBorderDashOffset;v=Bi(this,g,s),void 0!==v&&(y=tt(n,v,t),a?b=x=S=T=y:_=C=A=O=y,u.push({tx1:b,ty1:_,tx2:x,ty2:C,x1:S,y1:A,x2:T,y2:O,width:t,color:i,borderDash:o,borderDashOffset:l,tickWidth:c,tickColor:h,tickBorderDash:d,tickBorderDashOffset:p}))}return this._ticksLength=l,this._borderValue=m,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:i,ticks:r}=n,o=this.isHorizontal(),s=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=r,h=Wi(n.grid),d=h+c,p=u?-c:d,f=-ee(this.labelRotation),m=[];let g,v,y,_,x,k,C,S,A,T,O,L,E="middle";if("top"===i)k=this.bottom-p,C=this._getXAxisLabelAlignment();else if("bottom"===i)k=this.top+p,C=this._getXAxisLabelAlignment();else if("left"===i){const e=this._getYAxisLabelAlignment(h);C=e.textAlign,x=e.x}else if("right"===i){const e=this._getYAxisLabelAlignment(h);C=e.textAlign,x=e.x}else if("x"===t){if("center"===i)k=(e.top+e.bottom)/2+d;else if(w(i)){const e=Object.keys(i)[0],t=i[e];k=this.chart.scales[e].getPixelForValue(t)+d}C=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===i)x=(e.left+e.right)/2-d;else if(w(i)){const e=Object.keys(i)[0],t=i[e];x=this.chart.scales[e].getPixelForValue(t)}C=this._getYAxisLabelAlignment(h).textAlign}"y"===t&&("start"===a?E="top":"end"===a&&(E="bottom"));const D=this._getLabelSizes();for(g=0,v=s.length;g<v;++g){y=s[g],_=y.label;const e=r.setContext(this.getContext(g));S=this.getPixelForTick(g)+r.labelOffset,A=this._resolveTickFontOptions(g),T=A.lineHeight,O=b(_)?_.length:1;const t=O/2,n=e.color,a=e.textStrokeColor,c=e.textStrokeWidth;let h,d=C;if(o?(x=S,"inner"===C&&(d=g===v-1?this.options.reverse?"left":"right":0===g?this.options.reverse?"right":"left":"center"),L="top"===i?"near"===l||0!==f?-O*T+T/2:"center"===l?-D.highest.height/2-t*T+T:-D.highest.height+T/2:"near"===l||0!==f?T/2:"center"===l?D.highest.height/2-t*T:D.highest.height-O*T,u&&(L*=-1)):(k=S,L=(1-O)*T/2),e.showLabelBackdrop){const t=yt(e.backdropPadding),n=D.heights[g],i=D.widths[g];let r=k+L-t.top,o=x-t.left;switch(E){case"middle":r-=n/2;break;case"bottom":r-=n}switch(C){case"center":o-=i/2;break;case"right":o-=i}h={left:o,top:r,width:i+t.width,height:n+t.height,color:e.backdropColor}}m.push({rotation:f,label:_,font:A,color:n,strokeColor:a,strokeWidth:c,textOffset:L,textAlign:d,textBaseline:E,translation:[x,k],backdrop:h})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ee(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,o=e+r,s=this._getLabelSizes().widest.width;let a,l;return"left"===t?i?(l=this.right+r,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l+=s)):(l=this.right-o,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l=this.left)):"right"===t?i?(l=this.left+r,"near"===n?a="right":"center"===n?(a="center",l-=s/2):(a="left",l-=s)):(l=this.left+o,"near"===n?a="left":"center"===n?(a="center",l+=s/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:o}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,o),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex((t=>t.value===e));return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,o;const s=(e,t,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(r=0,o=i.length;r<o;++r){const e=i[r];t.drawOnChartArea&&s({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&s({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:n}}=this,i=n.setContext(this.getContext()),r=n.drawBorder?i.borderWidth:0;if(!r)return;const o=n.setContext(this.getContext(0)).lineWidth,s=this._borderValue;let a,l,c,u;this.isHorizontal()?(a=tt(e,this.left,r)-r/2,l=tt(e,this.right,o)+o/2,c=u=s):(c=tt(e,this.top,r)-r/2,u=tt(e,this.bottom,o)+o/2,a=l=s),t.save(),t.lineWidth=i.borderWidth,t.strokeStyle=i.borderColor,t.beginPath(),t.moveTo(a,c),t.lineTo(l,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&ot(t,n);const i=this._labelItems||(this._labelItems=this._computeLabelItems(e));let r,o;for(r=0,o=i.length;r<o;++r){const e=i[r],n=e.font,o=e.label;e.backdrop&&(t.fillStyle=e.backdrop.color,t.fillRect(e.backdrop.left,e.backdrop.top,e.backdrop.width,e.backdrop.height)),ct(t,o,0,e.textOffset,n,e)}n&&st(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:i}}=this;if(!n.display)return;const r=bt(n.font),o=yt(n.padding),s=n.align;let a=r.lineHeight/2;"bottom"===t||"center"===t||w(t)?(a+=o.bottom,b(n.text)&&(a+=r.lineHeight*(n.text.length-1))):a+=o.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(e,t,n,i){const{top:r,left:o,bottom:s,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h,d,p,f=0;const g=s-r,v=a-o;if(e.isHorizontal()){if(d=m(i,o,a),w(n)){const e=Object.keys(n)[0],i=n[e];p=u[e].getPixelForValue(i)+g-t}else p="center"===n?(c.bottom+c.top)/2+g-t:qi(e,n,t);h=a-o}else{if(w(n)){const e=Object.keys(n)[0],i=n[e];d=u[e].getPixelForValue(i)-v+t}else d="center"===n?(c.left+c.right)/2-v+t:qi(e,n,t);p=m(i,s,r),f="left"===n?-U:U}return{titleX:d,titleY:p,maxWidth:h,rotation:f}}(this,a,t,s);ct(e,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:h,textAlign:Hi(s,t,i),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=k(e.grid&&e.grid.z,-1);return this._isVisible()&&this.draw===Zi.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,o;for(r=0,o=t.length;r<o;++r){const o=t[r];o[n]!==this.id||e&&o.type!==e||i.push(o)}return i}_resolveTickFontOptions(e){return bt(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Ki{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,function(e,t,n){const i=D(Object.create(null),[n?Je.get(n):{},Je.get(t),e.defaults]);Je.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((n=>{const i=n.split("."),r=i.pop(),o=[e].concat(i).join("."),s=t[n].split("."),a=s.pop(),l=s.join(".");Je.route(o,r,l,a)}))}(t,e.defaultRoutes),e.descriptors&&Je.describe(t,e.descriptors)}(e,o,n),this.override&&Je.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in Je[i]&&(delete Je[i][n],this.override&&delete Ke[n])}}var Gi=new class{constructor(){this.controllers=new Ki(Fn,"datasets",!0),this.elements=new Ki(Fi,"elements"),this.plugins=new Ki(Object,"plugins"),this.scales=new Ki(Zi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach((t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):A(t,(t=>{const i=n||this._getRegistryForType(t);this._exec(e,i,t)}))}))}_exec(e,t,n){const i=I(e);S(n["before"+i],[],n),t[e](n),S(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}};class Yi{constructor(){this._init=[]}notify(e,t,n,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,t,n);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,t,n,i){i=i||{};for(const r of e){const e=r.plugin;if(!1===S(e[n],[t,i,r.options],e)&&i.cancelable)return!1}return!0}invalidate(){y(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=k(n.options&&n.options.plugins,{}),r=function(e){const t=[],n=Object.keys(Gi.plugins.items);for(let e=0;e<n.length;e++)t.push(Gi.getPlugin(n[e]));const i=e.plugins||[];for(let e=0;e<i.length;e++){const n=i[e];-1===t.indexOf(n)&&t.push(n)}return t}(n);return!1!==i||t?function(e,t,n,i){const r=[],o=e.getContext();for(let s=0;s<t.length;s++){const a=t[s],l=Qi(n[a.id],i);null!==l&&r.push({plugin:a,options:Ji(e.config,a,l,o)})}return r}(e,r,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(e,t)=>e.filter((e=>!t.some((t=>e.plugin.id===t.plugin.id))));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function Qi(e,t){return t||!1!==e?!0===e?{}:e:null}function Ji(e,t,n,i){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(n,r);return e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xi(e,t){const n=Je.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function er(e,t){return"x"===e||"y"===e?e:t.axis||("top"===(n=t.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||e.charAt(0).toLowerCase();var n}function tr(e){const t=e.options||(e.options={});t.plugins=k(t.plugins,{}),t.scales=function(e,t){const n=Ke[e.type]||{scales:{}},i=t.scales||{},r=Xi(e.type,t),o=Object.create(null),s=Object.create(null);return Object.keys(i).forEach((e=>{const t=i[e];if(!w(t))return console.error(`Invalid scale configuration for scale: ${e}`);if(t._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const a=er(e,t),l=function(e,t){return e===t?"_index_":"_value_"}(a,r),c=n.scales||{};o[a]=o[a]||e,s[e]=P(Object.create(null),[{axis:a},t,c[a],c[l]])})),e.data.datasets.forEach((n=>{const r=n.type||e.type,a=n.indexAxis||Xi(r,t),l=(Ke[r]||{}).scales||{};Object.keys(l).forEach((e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),r=n[t+"AxisID"]||o[t]||t;s[r]=s[r]||Object.create(null),P(s[r],[{axis:t},i[r],l[e]])}))})),Object.keys(s).forEach((e=>{const t=s[e];P(t,[Je.scales[t.type],Je.scale])})),s}(e,t)}function nr(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const ir=new Map,rr=new Set;function or(e,t){let n=ir.get(e);return n||(n=t(),ir.set(e,n),rr.add(n)),n}const sr=(e,t,n)=>{const i=R(t,n);void 0!==i&&e.add(i)};class ar{constructor(e){this._config=function(e){return(e=e||{}).data=nr(e.data),tr(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=nr(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),tr(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return or(e,(()=>[[`datasets.${e}`,""]]))}datasetAnimationScopeKeys(e,t){return or(`${e}.transition.${t}`,(()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]]))}datasetElementScopeKeys(e,t){return or(`${e}-${t}`,(()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]]))}pluginScopeKeys(e){const t=e.id;return or(`${this.type}-plugin-${t}`,(()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]]))}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,o=this._cachedScopes(e,n),s=o.get(t);if(s)return s;const a=new Set;t.forEach((t=>{e&&(a.add(e),t.forEach((t=>sr(a,e,t)))),t.forEach((e=>sr(a,i,e))),t.forEach((e=>sr(a,Ke[r]||{},e))),t.forEach((e=>sr(a,Je,e))),t.forEach((e=>sr(a,Ge,e)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),rr.has(t)&&o.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,Ke[t]||{},Je.datasets[t]||{},{type:t},Je,Ge]}resolveNamedOptions(e,t,n,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:s}=lr(this._resolverCache,e,i);let a=o;(function(e,t){const{isScriptable:n,isIndexable:i}=Et(e);for(const r of t){const t=n(r),o=i(r),s=(o||t)&&e[r];if(t&&(j(s)||cr(s))||o&&b(s))return!0}return!1})(o,t)&&(r.$shared=!1,a=Lt(o,n=j(n)?n():n,this.createResolver(e,n,s)));for(const e of t)r[e]=a[e];return r}createResolver(e,t,n=[""],i){const{resolver:r}=lr(this._resolverCache,e,n);return w(t)?Lt(r,t,void 0,i):r}}function lr(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let o=i.get(r);return o||(o={resolver:Ot(t,n),subPrefixes:n.filter((e=>!e.toLowerCase().includes("hover")))},i.set(r,o)),o}const cr=e=>w(e)&&Object.getOwnPropertyNames(e).reduce(((t,n)=>t||j(e[n])),!1),ur=["top","bottom","left","right","chartArea"];function hr(e,t){return"top"===e||"bottom"===e||-1===ur.indexOf(e)&&"x"===t}function dr(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function pr(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),S(n&&n.onComplete,[e],t)}function fr(e){const t=e.chart,n=t.options.animation;S(n&&n.onProgress,[e],t)}function mr(e){return Kt()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const gr={},vr=e=>{const t=mr(e);return Object.values(gr).filter((e=>e.canvas===t)).pop()};function yr(e,t,n){const i=Object.keys(e);for(const r of i){const i=+r;if(i>=t){const o=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=o)}}}class br{constructor(e,t){const n=this.config=new ar(t),i=mr(e),r=vr(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!Kt()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?xi:Ii}(i)),this.platform.updateConfig(n);const s=this.platform.acquireContext(i,o.aspectRatio),a=s&&s.canvas,l=a&&a.height,c=a&&a.width;this.id=v(),this.ctx=s,this.canvas=a,this.width=c,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Yi,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}((e=>this.update(e)),o.resizeDelay||0),this._dataChanges=[],gr[this.id]=this,s&&a?(wn.listen(this,"complete",pr),wn.listen(this,"progress",fr),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:i,_aspectRatio:r}=this;return y(e)?t&&r?r:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():nn(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return nt(this.canvas,this.ctx),this}stop(){return wn.stop(this),this}resize(e,t){wn.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,r),s=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,nn(this,s,!0)&&(this.notifyPlugins("resize",{size:o}),S(n.onResize,[this,o],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){A(this.options.scales||{},((e,t)=>{e.id=t}))}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce(((e,t)=>(e[t]=!1,e)),{});let r=[];t&&(r=r.concat(Object.keys(t).map((e=>{const n=t[e],i=er(e,n),r="r"===i,o="x"===i;return{options:n,dposition:r?"chartArea":o?"bottom":"left",dtype:r?"radialLinear":o?"category":"linear"}})))),A(r,(t=>{const r=t.options,o=r.id,s=er(o,r),a=k(r.type,t.dtype);void 0!==r.position&&hr(r.position,s)===hr(t.dposition)||(r.position=t.dposition),i[o]=!0;let l=null;o in n&&n[o].type===a?l=n[o]:(l=new(Gi.getScale(a))({id:o,type:a,ctx:this.ctx,chart:this}),n[l.id]=l),l.init(r,e)})),A(i,((e,t)=>{e||delete n[t]})),A(n,(e=>{wi.configure(this,e,e.options),wi.addBox(this,e)}))}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort(((e,t)=>e.index-t.index)),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(dr("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach(((e,n)=>{0===t.filter((t=>t===e._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let r=this.getDatasetMeta(n);const o=i.type||this.config.type;if(r.type&&r.type!==o&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=o,r.indexAxis=i.indexAxis||Xi(o,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const t=Gi.getController(o),{datasetElementType:i,dataElementType:s}=Je.datasets[o];Object.assign(t.prototype,{dataElementType:Gi.getElement(s),datasetElementType:i&&Gi.getElement(i)}),r.controller=new t(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){A(this.data.datasets,((e,t)=>{this.getDatasetMeta(t).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let e=0,t=this.data.datasets.length;e<t;e++){const{controller:t}=this.getDatasetMeta(e),n=!i&&-1===r.indexOf(t);t.buildOrUpdateElements(n),o=Math.max(+t.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||A(r,(e=>{e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(dr("z","_idx"));const{_active:s,_lastEvent:a}=this;a?this._eventHandler(a,!0):s.length&&this._updateHoverStyles(s,s,!0),this.render()}_updateScales(){A(this.scales,(e=>{wi.removeBox(this,e)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);N(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t)yr(e,i,"_removeElements"===n?-r:r)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter((e=>e[0]===t)).map(((e,t)=>t+","+e.splice(1).join(",")))),i=n(0);for(let e=1;e<t;e++)if(!N(i,n(e)))return;return Array.from(i).map((e=>e.split(","))).map((e=>({method:e[1],start:+e[2],count:+e[3]})))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;wi.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],A(this.boxes,(e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))}),this),this._layers.forEach(((e,t)=>{e._idx=t})),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,j(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(wn.has(this)?this.attached&&!wn.running(this)&&wn.start(this):(this.draw(),pr({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const r=t[i];e&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,r=this.chartArea,o={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(i&&ot(t,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),e.controller.draw(),i&&st(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return rt(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=li.modes[t];return"function"==typeof r?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter((e=>e&&e._dataset===t)).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=_t(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);F(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(r,{visible:n}),this.update((t=>t.datasetIndex===e?i:void 0)))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),wn.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),nt(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete gr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};A(this.options.events,(e=>n(e,i)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(n,i)=>{e[n]&&(t.removeEventListener(this,n,i),delete e[n])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let o;const s=()=>{i("attach",s),this.attached=!0,this.resize(),n("resize",r),n("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",s)},t.isAttached(this.canvas)?s():o()}unbindEvents(){A(this._listeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._listeners={},A(this._responsiveListeners,((e,t)=>{this.platform.removeEventListener(this,t,e)})),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,o,s,a;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),s=0,a=e.length;s<a;++s){o=e[s];const t=o&&this.getDatasetMeta(o.datasetIndex).controller;t&&t[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map((({datasetIndex:e,index:t})=>{const n=this.getDatasetMeta(e);if(!n)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:n.data[t],index:t}}));!T(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(e,t)=>e.filter((e=>!t.some((t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)))),o=r(t,e),s=n?e:r(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),s.length&&i.mode&&this.updateHoverStyle(s,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,o=t,s=this._getActiveElements(e,i,n,o),a=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,i){return n&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,n,a);n&&(this._lastEvent=null,S(r.onHover,[e,s,this],this),a&&S(r.onClick,[e,s,this],this));const c=!T(s,i);return(c||t)&&(this._active=s,this._updateHoverStyles(s,i,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,i){if("mouseout"===e.type)return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}const wr=()=>A(br.instances,(e=>e._plugins.invalidate())),_r=!0;function xr(e,t,n){const{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=t;let c=r/a;e.beginPath(),e.arc(o,s,a,i-c,n+c),l>r?(c=r/l,e.arc(o,s,l,n+c,i-c,!0)):e.arc(o,s,r,n+U,i-U),e.closePath(),e.clip()}function kr(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Cr(e,t,n,i,r){const{x:o,y:s,startAngle:a,pixelMargin:l,innerRadius:c}=t,u=Math.max(t.outerRadius+i+n-l,0),h=c>0?c+i+n+l:0;let d=0;const p=r-a;if(i){const e=((c>0?c-i:0)+(u>0?u-i:0))/2;d=(p-(0!==e?p*e/(e+i):p))/2}const f=(p-Math.max(.001,p*u-n/z)/u)/2,m=a+f+d,g=r-f-d,{outerStart:v,outerEnd:y,innerStart:b,innerEnd:w}=function(e,t,n,i){const r=function(e){return mt(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),o=(n-t)/2,s=Math.min(o,i*t/2),a=e=>{const t=(n-Math.min(o,e))*i/2;return le(e,0,Math.min(o,t))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:le(r.innerStart,0,s),innerEnd:le(r.innerEnd,0,s)}}(t,h,u,g-m),_=u-v,x=u-y,k=m+v/_,C=g-y/x,S=h+b,A=h+w,T=m+b/S,O=g-w/A;if(e.beginPath(),e.arc(o,s,u,k,C),y>0){const t=kr(x,C,o,s);e.arc(t.x,t.y,y,C,g+U)}const L=kr(A,g,o,s);if(e.lineTo(L.x,L.y),w>0){const t=kr(A,O,o,s);e.arc(t.x,t.y,w,g+U,O+Math.PI)}if(e.arc(o,s,h,g-w/h,m+b/h,!0),b>0){const t=kr(S,T,o,s);e.arc(t.x,t.y,b,T+Math.PI,m-U)}const E=kr(_,m,o,s);if(e.lineTo(E.x,E.y),v>0){const t=kr(_,k,o,s);e.arc(t.x,t.y,v,m-U,k)}e.closePath()}Object.defineProperties(br,{defaults:{enumerable:_r,value:Je},instances:{enumerable:_r,value:gr},overrides:{enumerable:_r,value:Ke},registry:{enumerable:_r,value:Gi},version:{enumerable:_r,value:"3.8.0"},getChart:{enumerable:_r,value:vr},register:{enumerable:_r,value:(...e)=>{Gi.add(...e),wr()}},unregister:{enumerable:_r,value:(...e)=>{Gi.remove(...e),wr()}}});class Sr extends Fi{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:r,distance:o}=ie(i,{x:e,y:t}),{startAngle:s,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=this.options.spacing/2,d=k(u,a-s)>=q||ae(r,s,a),p=ce(o,l+h,c+h);return d&&p}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:r,innerRadius:o,outerRadius:s}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:a,spacing:l}=this.options,c=(i+r)/2,u=(o+s+l+a)/2;return{x:t+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/2,r=(t.spacing||0)/2;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>q?Math.floor(n/q):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();let o=0;if(i){o=i/2;const t=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(t)*o,Math.sin(t)*o),this.circumference>=z&&(o=i)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const s=function(e,t,n,i){const{fullCircles:r,startAngle:o,circumference:s}=t;let a=t.endAngle;if(r){Cr(e,t,n,i,o+q);for(let t=0;t<r;++t)e.fill();isNaN(s)||(a=o+s%q,s%q==0&&(a+=q))}return Cr(e,t,n,i,a),e.fill(),a}(e,this,o,r);(function(e,t,n,i,r){const{options:o}=t,{borderWidth:s,borderJoinStyle:a}=o,l="inner"===o.borderAlign;s&&(l?(e.lineWidth=2*s,e.lineJoin=a||"round"):(e.lineWidth=s,e.lineJoin=a||"bevel"),t.fullCircles&&function(e,t,n){const{x:i,y:r,startAngle:o,pixelMargin:s,fullCircles:a}=t,l=Math.max(t.outerRadius-s,0),c=t.innerRadius+s;let u;for(n&&xr(e,t,o+q),e.beginPath(),e.arc(i,r,c,o+q,o,!0),u=0;u<a;++u)e.stroke();for(e.beginPath(),e.arc(i,r,l,o,o+q),u=0;u<a;++u)e.stroke()}(e,t,l),l&&xr(e,t,r),Cr(e,t,n,i,r),e.stroke())})(e,this,o,r,s),e.restore()}}function Ar(e,t,n=t){e.lineCap=k(n.borderCapStyle,t.borderCapStyle),e.setLineDash(k(n.borderDash,t.borderDash)),e.lineDashOffset=k(n.borderDashOffset,t.borderDashOffset),e.lineJoin=k(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=k(n.borderWidth,t.borderWidth),e.strokeStyle=k(n.borderColor,t.borderColor)}function Tr(e,t,n){e.lineTo(n.x,n.y)}function Or(e,t,n={}){const i=e.length,{start:r=0,end:o=i-1}=n,{start:s,end:a}=t,l=Math.max(r,s),c=Math.min(o,a),u=r<s&&o<s||r>a&&o>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function Lr(e,t,n,i){const{points:r,options:o}=t,{count:s,start:a,loop:l,ilen:c}=Or(r,n,i),u=function(e){return e.stepped?at:e.tension||"monotone"===e.cubicInterpolationMode?lt:Tr}(o);let h,d,p,{move:f=!0,reverse:m}=i||{};for(h=0;h<=c;++h)d=r[(a+(m?c-h:h))%s],d.skip||(f?(e.moveTo(d.x,d.y),f=!1):u(e,p,d,m,o.stepped),p=d);return l&&(d=r[(a+(m?c:0))%s],u(e,p,d,m,o.stepped)),!!l}function Er(e,t,n,i){const r=t.points,{count:o,start:s,ilen:a}=Or(r,n,i),{move:l=!0,reverse:c}=i||{};let u,h,d,p,f,m,g=0,v=0;const y=e=>(s+(c?a-e:e))%o,b=()=>{p!==f&&(e.lineTo(g,f),e.lineTo(g,p),e.lineTo(g,m))};for(l&&(h=r[y(0)],e.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=r[y(u)],h.skip)continue;const t=h.x,n=h.y,i=0|t;i===d?(n<p?p=n:n>f&&(f=n),g=(v*g+t)/++v):(b(),e.lineTo(t,n),d=i,v=0,p=f=n),m=n}b()}function Dr(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||n?Lr:Er}Sr.id="arc",Sr.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},Sr.defaultRoutes={backgroundColor:"backgroundColor"};const Pr="function"==typeof Path2D;class Mr extends Fi{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;Zt(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const o=!!e._loop,{start:s,end:a}=function(e,t,n,i){let r=0,o=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(o+=r);o>r&&e[o%t].skip;)o--;return o%=t,{start:r,end:o}}(n,r,o,i);return function(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){const r=e._chart.getContext(),o=yn(e.options),{_datasetIndex:s,options:{spanGaps:a}}=e,l=n.length,c=[];let u=o,h=t[0].start,d=h;function p(e,t,i,r){const o=a?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=o;for(;n[t%l].skip;)t+=o;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:i,style:r}),u=r,h=t%l)}}for(const e of t){h=a?h:e.start;let t,o=n[h%l];for(d=h+1;d<=e.end;d++){const a=n[d%l];t=yn(i.setContext(_t(r,{type:"segment",p0:o,p1:a,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:s}))),bn(t,u)&&p(h,d-1,e.loop,u),o=a,u=t}h<d-1&&p(h,d-1,e.loop,u)}return c}(e,t,n,i):t}(e,!0===i?[{start:s,end:a,loop:o}]:function(e,t,n,i){const r=e.length,o=[];let s,a=t,l=e[t];for(s=t+1;s<=n;++s){const n=e[s%r];n.skip||n.stop?l.skip||(i=!1,o.push({start:t%r,end:(s-1)%r,loop:i}),t=a=n.stop?s:null):(a=s,l.skip&&(t=s)),l=n}return null!==a&&o.push({start:t%r,end:a%r,loop:i}),o}(n,s,a<s?a+r:a,!!e._fullLoop&&0===s&&a===r-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,o=vn(this,{property:t,start:i,end:i});if(!o.length)return;const s=[],a=function(e){return e.stepped?an:e.tension||"monotone"===e.cubicInterpolationMode?ln:sn}(n);let l,c;for(l=0,c=o.length;l<c;++l){const{start:c,end:u}=o[l],h=r[c],d=r[u];if(h===d){s.push(h);continue}const p=a(h,d,Math.abs((i-h[t])/(d[t]-h[t])),n.stepped);p[t]=e[t],s.push(p)}return 1===s.length?s[0]:s}pathSegment(e,t,n){return Dr(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=Dr(this);let o=this._loop;t=t||0,n=n||this.points.length-t;for(const s of i)o&=r(e,this,s,{start:t,end:t+n-1});return!!o}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),function(e,t,n,i){Pr&&!t.options.segment?function(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),Ar(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){const{segments:r,options:o}=t,s=Dr(t);for(const a of r)Ar(e,o,a.style),e.beginPath(),s(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function $r(e,t,n,i){const r=e.options,{[n]:o}=e.getProps([n],i);return Math.abs(t-o)<r.radius+r.hitRadius}Mr.id="line",Mr.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},Mr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},Mr.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};class Rr extends Fi{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:r,y:o}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-o,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return $r(this,e,"x",t)}inYRange(e,t){return $r(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;return t=Math.max(t,t&&e.hoverRadius||0),2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!rt(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,it(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Ir(e,t){const{x:n,y:i,base:r,width:o,height:s}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=s/2,a=Math.min(n,r),l=Math.max(n,r),c=i-h,u=i+h):(h=o/2,a=n-h,l=n+h,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Fr(e,t,n,i){return e?0:le(t,n,i)}function jr(e,t,n,i){const r=null===t,o=null===n,s=e&&!(r&&o)&&Ir(e,i);return s&&(r||ce(t,s.left,s.right))&&(o||ce(n,s.top,s.bottom))}function Nr(e,t){e.rect(t.x,t.y,t.w,t.h)}function zr(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-i,s=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+o,h:e.h+s,radius:e.radius}}Rr.id="point",Rr.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},Rr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class qr extends Fi{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:o}=function(e){const t=Ir(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,o=gt(i);return{t:Fr(r.top,o.top,0,n),r:Fr(r.right,o.right,0,t),b:Fr(r.bottom,o.bottom,0,n),l:Fr(r.left,o.left,0,t)}}(e,n/2,i/2),o=function(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,o=vt(r),s=Math.min(t,n),a=e.borderSkipped,l=i||w(r);return{topLeft:Fr(!l||a.top||a.left,o.topLeft,0,s),topRight:Fr(!l||a.top||a.right,o.topRight,0,s),bottomLeft:Fr(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Fr(!l||a.bottom||a.right,o.bottomRight,0,s)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}(this),s=(a=o.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?ht:Nr;var a;e.save(),o.w===r.w&&o.h===r.h||(e.beginPath(),s(e,zr(o,t,r)),e.clip(),s(e,zr(r,-t,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),s(e,zr(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return jr(this,e,t,n)}inXRange(e,t){return jr(this,e,null,t)}inYRange(e,t){return jr(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}function Vr(e,t,n,i){if(i)return;let r=t[e],o=n[e];return"angle"===e&&(r=se(r),o=se(o)),{property:e,start:r,end:o}}function Br(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Wr(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function Ur(e,t){let n=[],i=!1;return b(e)?(i=!0,n=e):n=function(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,o=[];return t.segments.forEach((({start:e,end:t})=>{t=Br(e,t,r);const s=r[e],a=r[t];null!==i?(o.push({x:s.x,y:i}),o.push({x:a.x,y:i})):null!==n&&(o.push({x:n,y:s.y}),o.push({x:n,y:a.y}))})),o}(e,t),n.length?new Mr({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Hr(e,t,n){let i=e[t].fill;const r=[t];let o;if(!n)return i;for(;!1!==i&&-1===r.indexOf(i);){if(!_(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function Zr(e,t,n){const i=function(e){const t=e.options,n=t.fill;let i=k(n&&n.target,n);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(e);if(w(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return _(r)&&Math.floor(r)===r?function(e,t,n,i){return"-"!==e&&"+"!==e||(n=t+n),!(n===t||n<0||n>=i)&&n}(i[0],t,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Kr(e,t,n){const i=[];for(let r=0;r<n.length;r++){const o=n[r],{first:s,last:a,point:l}=Gr(o,t,"x");if(!(!l||s&&a))if(s)i.unshift(l);else if(e.push(l),!a)break}e.push(...i)}function Gr(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],o=e.segments,s=e.points;let a=!1,l=!1;for(let e=0;e<o.length;e++){const t=o[e],i=s[t.start][n],c=s[t.end][n];if(ce(r,i,c)){a=r===i,l=r===c;break}}return{first:a,last:l,point:i}}qr.id="bar",qr.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},qr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class Yr{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:r,radius:o}=this;return t=t||{start:0,end:q},e.arc(i,r,o,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function Qr(e,t,n){const i=function(e){const{chart:t,fill:n,line:i}=e;if(_(n))return function(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:i}=e,r=[],o=i.segments,s=i.points,a=function(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let e=0;e<i.length;e++){const r=i[e];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}(t,n);a.push(Ur({x:null,y:t.bottom},i));for(let e=0;e<o.length;e++){const t=o[e];for(let e=t.start;e<=t.end;e++)Kr(r,s[e],a)}return new Mr({points:r,options:{}})}(e);if("shape"===n)return!0;const r=function(e){return(e.scale||{}).getPointPositionForValue?function(e){const{scale:t,fill:n}=e,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,s=function(e,t,n){let i;return i="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:w(e)?e.value:t.getBaseValue(),i}(n,t,o),a=[];if(i.grid.circular){const e=t.getPointPositionForValue(0,o);return new Yr({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(s)})}for(let e=0;e<r;++e)a.push(t.getPointPositionForValue(e,s));return a}(e):function(e){const{scale:t={},fill:n}=e,i=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:w(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(_(i)){const e=t.isHorizontal();return{x:e?i:null,y:e?null:i}}return null}(e)}(e);return r instanceof Yr?r:Ur(r,i)}(t),{line:r,scale:o,axis:s}=t,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&r.points.length&&(ot(e,n),function(e,t){const{line:n,target:i,above:r,below:o,area:s,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),"x"===l&&o!==r&&(Jr(e,i,s.top),Xr(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore(),e.save(),Jr(e,i,s.bottom)),Xr(e,{line:n,target:i,color:o,scale:a,property:l}),e.restore()}(e,{line:r,target:i,above:u,below:h,area:n,scale:o,axis:s}),st(e))}function Jr(e,t,n){const{segments:i,points:r}=t;let o=!0,s=!1;e.beginPath();for(const a of i){const{start:i,end:l}=a,c=r[i],u=r[Br(i,l,r)];o?(e.moveTo(c.x,c.y),o=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),s=!!t.pathSegment(e,a,{move:s}),s?e.closePath():e.lineTo(u.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Xr(e,t){const{line:n,target:i,property:r,color:o,scale:s}=t,a=function(e,t,n){const i=e.segments,r=e.points,o=t.points,s=[];for(const e of i){let{start:i,end:a}=e;a=Br(i,a,r);const l=Vr(n,r[i],r[a],e.loop);if(!t.segments){s.push({source:e,target:l,start:r[i],end:r[a]});continue}const c=vn(t,l);for(const t of c){const i=Vr(n,o[t.start],o[t.end],t.loop),a=gn(e,r,i);for(const e of a)s.push({source:e,target:t,start:{[n]:Wr(l,i,"start",Math.max)},end:{[n]:Wr(l,i,"end",Math.min)}})}}return s}(n,i,r);for(const{source:t,target:l,start:c,end:u}of a){const{style:{backgroundColor:a=o}={}}=t,h=!0!==i;e.save(),e.fillStyle=a,eo(e,s,h&&Vr(r,c,u)),e.beginPath();const d=!!n.pathSegment(e,t);let p;if(h){d?e.closePath():to(e,i,u,r);const t=!!i.pathSegment(e,l,{move:d,reverse:!0});p=d&&t,p||to(e,i,c,r)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function eo(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:o,start:s,end:a}=n||{};"x"===o&&(e.beginPath(),e.rect(s,i,a-s,r-i),e.clip())}function to(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var no={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let o,s,a,l;for(s=0;s<i;++s)o=e.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof Mr&&(l={visible:e.isDatasetVisible(s),index:s,fill:Zr(a,s,i),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<i;++s)l=r[s],l&&!1!==l.fill&&(l.fill=Hr(r,s,n.propagate))},beforeDraw(e,t,n){const i="beforeDraw"===n.drawTime,r=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let t=r.length-1;t>=0;--t){const n=r[t].$filler;n&&(n.line.updateControlPoints(o,n.axis),i&&Qr(e.ctx,n,o))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=e.getSortedVisibleDatasetMetas();for(let t=i.length-1;t>=0;--t){const n=i[t].$filler;n&&Qr(e.ctx,n,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;i&&!1!==i.fill&&"beforeDatasetDraw"===n.drawTime&&Qr(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const io=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class ro extends Fi{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=S(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter((t=>e.filter(t,this.chart.data)))),e.sort&&(t=t.sort(((t,n)=>e.sort(t,n,this.chart.data)))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=bt(n.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:s,itemHeight:a}=io(n,r);let l,c;t.font=i.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(o,r,s,a)+10):(c=this.maxHeight,l=this._fitCols(o,r,s,a)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=i+s;let u=e;r.textAlign="left",r.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((e,p)=>{const f=n+t/2+r.measureText(e.text).width;(0===p||l[l.length-1]+f+2*s>o)&&(u+=c,l[l.length-(p>0?0:1)]=0,d+=c,h++),a[p]={left:0,top:d,row:h,width:f,height:i},l[l.length-1]+=f+s})),u}_fitCols(e,t,n,i){const{ctx:r,maxHeight:o,options:{labels:{padding:s}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=o-e;let u=s,h=0,d=0,p=0,f=0;return this.legendItems.forEach(((e,o)=>{const m=n+t/2+r.measureText(e.text).width;o>0&&d+i+2*s>c&&(u+=h+s,l.push({width:h,height:d}),p+=h+s,f++,h=d=0),a[o]={left:p,top:d,col:f,width:m,height:i},h=Math.max(h,m),d+=i+s})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,o=hn(r,this.left,this.width);if(this.isHorizontal()){let r=0,s=m(n,this.left+i,this.right-this.lineWidths[r]);for(const a of t)r!==a.row&&(r=a.row,s=m(n,this.left+i,this.right-this.lineWidths[r])),a.top+=this.top+e+i,a.left=o.leftForLtr(o.x(s),a.width),s+=a.width+i}else{let r=0,s=m(n,this.top+e+i,this.bottom-this.columnSizes[r].height);for(const a of t)a.col!==r&&(r=a.col,s=m(n,this.top+e+i,this.bottom-this.columnSizes[r].height)),a.top=s,a.left+=this.left+i,a.left=o.leftForLtr(o.x(a.left),a.width),s+=a.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;ot(e,this),this._draw(),st(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:o}=e,s=Je.color,a=hn(e.rtl,this.left,this.width),l=bt(o.font),{color:c,padding:u}=o,h=l.size,d=h/2;let p;this.drawTitle(),i.textAlign=a.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:f,boxHeight:g,itemHeight:v}=io(o,h),y=this.isHorizontal(),b=this._computeTitleHeight();p=y?{x:m(r,this.left+u,this.right-n[0]),y:this.top+u+b,line:0}:{x:this.left+u,y:m(r,this.top+b+u,this.bottom-t[0].height),line:0},dn(this.ctx,e.textDirection);const w=v+u;this.legendItems.forEach(((_,x)=>{i.strokeStyle=_.fontColor||c,i.fillStyle=_.fontColor||c;const C=i.measureText(_.text).width,S=a.textAlign(_.textAlign||(_.textAlign=o.textAlign)),A=f+d+C;let T=p.x,O=p.y;a.setWidth(this.width),y?x>0&&T+A+u>this.right&&(O=p.y+=w,p.line++,T=p.x=m(r,this.left+u,this.right-n[p.line])):x>0&&O+w>this.bottom&&(T=p.x=T+t[p.line].width+u,p.line++,O=p.y=m(r,this.top+b+u,this.bottom-t[p.line].height)),function(e,t,n){if(isNaN(f)||f<=0||isNaN(g)||g<0)return;i.save();const r=k(n.lineWidth,1);if(i.fillStyle=k(n.fillStyle,s),i.lineCap=k(n.lineCap,"butt"),i.lineDashOffset=k(n.lineDashOffset,0),i.lineJoin=k(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=k(n.strokeStyle,s),i.setLineDash(k(n.lineDash,[])),o.usePointStyle){const o={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},s=a.xPlus(e,f/2);it(i,o,s,t+d)}else{const o=t+Math.max((h-g)/2,0),s=a.leftForLtr(e,f),l=vt(n.borderRadius);i.beginPath(),Object.values(l).some((e=>0!==e))?ht(i,{x:s,y:o,w:f,h:g,radius:l}):i.rect(s,o,f,g),i.fill(),0!==r&&i.stroke()}i.restore()}(a.x(T),O,_),T=((e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t)(S,T+f+d,y?T+A:this.right,e.rtl),function(e,t,n){ct(i,n.text,e,t+v/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(T),O,_),y?p.x+=A+u:p.y+=w})),pn(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=bt(t.font),i=yt(t.padding);if(!t.display)return;const r=hn(e.rtl,this.left,this.width),o=this.ctx,s=t.position,a=n.size/2,l=i.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=m(e.align,u,this.right-h);else{const t=this.columnSizes.reduce(((e,t)=>Math.max(e,t.height)),0);c=l+m(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=m(s,u,u+h);o.textAlign=r.textAlign(f(s)),o.textBaseline="middle",o.strokeStyle=t.color,o.fillStyle=t.color,o.font=n.string,ct(o,t.text,d,c,n)}_computeTitleHeight(){const e=this.options.title,t=bt(e.font),n=yt(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(ce(e,this.left,this.right)&&ce(t,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],ce(e,i.left,i.left+i.width)&&ce(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){return!("mousemove"!==e&&"mouseout"!==e||!t.onHover&&!t.onLeave)||!(!t.onClick||"click"!==e&&"mouseup"!==e)}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const o=this._hoveredItem,s=(r=n,null!==(i=o)&&null!==r&&i.datasetIndex===r.datasetIndex&&i.index===r.index);o&&!s&&S(t.onLeave,[e,o,this],this),this._hoveredItem=n,n&&!s&&S(t.onHover,[e,n,this],this)}else n&&S(t.onClick,[e,n,this],this);var i,r}}var oo={id:"legend",_element:ro,start(e,t,n){const i=e.legend=new ro({ctx:e.ctx,options:n,chart:e});wi.configure(e,i,n),wi.addBox(e,i)},stop(e){wi.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;wi.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:o}}=e.legend.options;return e._getSortedDatasetMetas().map((e=>{const s=e.controller.getStyle(n?0:void 0),a=yt(s.borderWidth);return{text:t[e.index].label,fillStyle:s.backgroundColor,fontColor:o,hidden:!e.visible,lineCap:s.borderCapStyle,lineDash:s.borderDash,lineDashOffset:s.borderDashOffset,lineJoin:s.borderJoinStyle,lineWidth:(a.width+a.height)/4,strokeStyle:s.borderColor,pointStyle:i||s.pointStyle,rotation:s.rotation,textAlign:r||s.textAlign,borderRadius:0,datasetIndex:e.index}}),this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};new WeakMap;const so={average(e){if(!e.length)return!1;let t,n,i=0,r=0,o=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();i+=e.x,r+=e.y,++o}}return{x:i/o,y:r/o}},nearest(e,t){if(!e.length)return!1;let n,i,r,o=t.x,s=t.y,a=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=re(t,i.getCenterPoint());e<a&&(a=e,r=i)}}if(r){const e=r.tooltipPosition();o=e.x,s=e.y}return{x:o,y:s}}};function ao(e,t){return t&&(b(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function lo(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function co(e,t){const{element:n,datasetIndex:i,index:r}=t,o=e.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:e,label:s,parsed:o.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function uo(e,t){const n=e.chart.ctx,{body:i,footer:r,title:o}=e,{boxWidth:s,boxHeight:a}=t,l=bt(t.bodyFont),c=bt(t.titleFont),u=bt(t.footerFont),h=o.length,d=r.length,p=i.length,f=yt(t.padding);let m=f.height,g=0,v=i.reduce(((e,t)=>e+t.before.length+t.lines.length+t.after.length),0);v+=e.beforeBody.length+e.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v&&(m+=p*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(v-p)*l.lineHeight+(v-1)*t.bodySpacing),d&&(m+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let y=0;const b=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=c.string,A(e.title,b),n.font=l.string,A(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?s+2+t.boxPadding:0,A(i,(e=>{A(e.before,b),A(e.lines,b),A(e.after,b)})),y=0,n.font=u.string,A(e.footer,b),n.restore(),g+=f.width,{width:g,height:m}}function ho(e,t,n,i){const{x:r,width:o}=n,{width:s,chartArea:{left:a,right:l}}=e;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=o/2?c="left":r>=s-o/2&&(c="right"),function(e,t,n,i){const{x:r,width:o}=i,s=n.caretSize+n.caretPadding;return"left"===e&&r+o+s>t.width||"right"===e&&r-o-s<0||void 0}(c,e,t,n)&&(c="center"),c}function po(e,t,n){const i=n.yAlign||t.yAlign||function(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||ho(e,t,n,i),yAlign:i}}function fo(e,t,n,i){const{caretSize:r,caretPadding:o,cornerRadius:s}=e,{xAlign:a,yAlign:l}=n,c=r+o,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=vt(s);let f=function(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,a);const m=function(e,t,n){let{y:i,height:r}=e;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,l,c);return"center"===l?"left"===a?f+=c:"right"===a&&(f-=c):"left"===a?f-=Math.max(u,d)+r:"right"===a&&(f+=Math.max(h,p)+r),{x:le(f,0,i.width-t.width),y:le(m,0,i.height-t.height)}}function mo(e,t,n){const i=yt(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function go(e){return ao([],lo(e))}function vo(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}class yo extends Fi{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new Sn(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(this,_t(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"})))}getTitle(e,t){const{callbacks:n}=t,i=n.beforeTitle.apply(this,[e]),r=n.title.apply(this,[e]),o=n.afterTitle.apply(this,[e]);let s=[];return s=ao(s,lo(i)),s=ao(s,lo(r)),s=ao(s,lo(o)),s}getBeforeBody(e,t){return go(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:n}=t,i=[];return A(e,(e=>{const t={before:[],lines:[],after:[]},r=vo(n,e);ao(t.before,lo(r.beforeLabel.call(this,e))),ao(t.lines,r.label.call(this,e)),ao(t.after,lo(r.afterLabel.call(this,e))),i.push(t)})),i}getAfterBody(e,t){return go(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:n}=t,i=n.beforeFooter.apply(this,[e]),r=n.footer.apply(this,[e]),o=n.afterFooter.apply(this,[e]);let s=[];return s=ao(s,lo(i)),s=ao(s,lo(r)),s=ao(s,lo(o)),s}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],o=[];let s,a,l=[];for(s=0,a=t.length;s<a;++s)l.push(co(this.chart,t[s]));return e.filter&&(l=l.filter(((t,i,r)=>e.filter(t,i,r,n)))),e.itemSort&&(l=l.sort(((t,i)=>e.itemSort(t,i,n)))),A(l,(t=>{const n=vo(e.callbacks,t);i.push(n.labelColor.call(this,t)),r.push(n.labelPointStyle.call(this,t)),o.push(n.labelTextColor.call(this,t))})),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(i.length){const e=so[n.position].call(this,i,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const t=this._size=uo(this,n),s=Object.assign({},e,t),a=po(this.chart,n,s),l=fo(n,s,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,r={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:s}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=vt(s),{x:h,y:d}=e,{width:p,height:f}=t;let m,g,v,y,b,w;return"center"===r?(b=d+f/2,"left"===i?(m=h,g=m-o,y=b+o,w=b-o):(m=h+p,g=m+o,y=b-o,w=b+o),v=m):(g="left"===i?h+Math.max(a,c)+o:"right"===i?h+p-Math.max(l,u)-o:this.caretX,"top"===r?(y=d,b=y-o,m=g-o,v=g+o):(y=d+f,b=y+o,m=g+o,v=g-o),w=y),{x1:m,x2:g,x3:v,y1:y,y2:b,y3:w}}drawTitle(e,t,n){const i=this.title,r=i.length;let o,s,a;if(r){const l=hn(n.rtl,this.x,this.width);for(e.x=mo(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",o=bt(n.titleFont),s=n.titleSpacing,t.fillStyle=n.titleColor,t.font=o.string,a=0;a<r;++a)t.fillText(i[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+s,a+1===r&&(e.y+=n.titleMarginBottom-s)}}_drawColorBox(e,t,n,i,r){const o=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:a,boxWidth:l,boxPadding:c}=r,u=bt(r.bodyFont),h=mo(this,"left",r),d=i.x(h),p=a<u.lineHeight?(u.lineHeight-a)/2:0,f=t.y+p;if(r.usePointStyle){const t={radius:Math.min(l,a)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},n=i.leftForLtr(d,l)+l/2,c=f+a/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,it(e,t,n,c),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,it(e,t,n,c)}else{e.lineWidth=o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const t=i.leftForLtr(d,l-c),n=i.leftForLtr(i.xPlus(d,1),l-c-2),s=vt(o.borderRadius);Object.values(s).some((e=>0!==e))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,ht(e,{x:t,y:f,w:l,h:a,radius:s}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ht(e,{x:n,y:f+1,w:l-2,h:a-2,radius:s}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,f,l,a),e.strokeRect(t,f,l,a),e.fillStyle=o.backgroundColor,e.fillRect(n,f+1,l-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:s,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=bt(n.bodyFont);let h=u.lineHeight,d=0;const p=hn(n.rtl,this.x,this.width),f=function(n){t.fillText(n,p.x(e.x+d),e.y+h/2),e.y+=h+r},m=p.textAlign(o);let g,v,y,b,w,_,x;for(t.textAlign=o,t.textBaseline="middle",t.font=u.string,e.x=mo(this,m,n),t.fillStyle=n.bodyColor,A(this.beforeBody,f),d=s&&"right"!==m?"center"===o?l/2+c:l+2+c:0,b=0,_=i.length;b<_;++b){for(g=i[b],v=this.labelTextColors[b],t.fillStyle=v,A(g.before,f),y=g.lines,s&&y.length&&(this._drawColorBox(t,e,b,p,n),h=Math.max(u.lineHeight,a)),w=0,x=y.length;w<x;++w)f(y[w]),h=u.lineHeight;A(g.after,f)}d=0,h=u.lineHeight,A(this.afterBody,f),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let o,s;if(r){const a=hn(n.rtl,this.x,this.width);for(e.x=mo(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",o=bt(n.footerFont),t.fillStyle=n.footerColor,t.font=o.string,s=0;s<r;++s)t.fillText(i[s],a.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:o}=this,{x:s,y:a}=e,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=vt(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(s+u,a),"top"===o&&this.drawCaret(e,t,n,i),t.lineTo(s+l-h,a),t.quadraticCurveTo(s+l,a,s+l,a+h),"center"===o&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(s+l,a+c-p),t.quadraticCurveTo(s+l,a+c,s+l-p,a+c),"bottom"===o&&this.drawCaret(e,t,n,i),t.lineTo(s+d,a+c),t.quadraticCurveTo(s,a+c,s,a+c-d),"center"===o&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(s,a+u),t.quadraticCurveTo(s,a,s+u,a),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=so[e.position].call(this,this._active,this._eventPosition);if(!n)return;const o=this._size=uo(this,e),s=Object.assign({},n,this._size),a=po(t,e,s),l=fo(e,s,a,t);i._to===l.x&&r._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=o.width,this.height=o.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=yt(t.padding),s=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&s&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),dn(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),pn(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map((({datasetIndex:e,index:t})=>{const n=this.chart.getDatasetMeta(e);if(!n)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:n.data[t],index:t}})),r=!T(n,i),o=this._positionChanged(i,t);(r||o)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,n),s=this._positionChanged(o,e),a=t||!T(o,r)||s;return a&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,i){const r=this.options;if("mouseout"===e.type)return[];if(!i)return t;const o=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&o.reverse(),o}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,o=so[r.position].call(this,e,t);return!1!==o&&(n!==o.x||i!==o.y)}}yo.positioners=so;var bo={id:"tooltip",_element:yo,positioners:so,afterInit(e,t,n){n&&(e.tooltip=new yo({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",n))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:g,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:g,beforeBody:g,beforeLabel:g,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return y(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:g,afterBody:g,beforeFooter:g,footer:g,afterFooter:g}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};class wo extends Zi{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:i}of t)e[n]===i&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(y(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:le(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:function(e,t,n,i){const r=e.indexOf(t);return-1===r?((e,t,n,i)=>("string"==typeof t?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,i):r!==e.lastIndexOf(t)?n:r}(n,e,k(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let n=e;n<=t;n++)i.push({value:n});return i}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function _o(e,t,{horizontal:n,minRotation:i}){const r=ee(i),o=(n?Math.sin(r):Math.cos(r))||.001,s=.75*t*(""+e).length;return Math.min(t/o,s)}wo.id="category",wo.defaults={ticks:{callback:wo.prototype.getLabelForValue}};class xo extends Zi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return y(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const o=e=>i=t?i:e,s=e=>r=n?r:e;if(e){const e=G(i),t=G(r);e<0&&t<0?s(0):e>0&&t>0&&o(0)}if(i===r){let t=1;(r>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(t=Math.abs(.05*r)),s(r+t),e||o(i-t)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i=function(e,t){const n=[],{bounds:i,step:r,min:o,max:s,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=e,d=r||1,p=c-1,{min:f,max:m}=t,g=!y(o),v=!y(s),b=!y(l),w=(m-f)/(u+1);let _,x,k,C,S=Y((m-f)/p/d)*d;if(S<1e-14&&!g&&!v)return[{value:f},{value:m}];C=Math.ceil(m/S)-Math.floor(f/S),C>p&&(S=Y(C*S/p/d)*d),y(a)||(_=Math.pow(10,a),S=Math.ceil(S*_)/_),"ticks"===i?(x=Math.floor(f/S)*S,k=Math.ceil(m/S)*S):(x=f,k=m),g&&v&&r&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((s-o)/r,S/1e3)?(C=Math.round(Math.min((s-o)/S,c)),S=(s-o)/C,x=o,k=s):b?(x=g?o:x,k=v?s:k,C=l-1,S=(k-x)/C):(C=(k-x)/S,C=J(C,Math.round(C),S/1e3)?Math.round(C):Math.ceil(C));const A=Math.max(ne(S),ne(x));_=Math.pow(10,y(a)?A:a),x=Math.round(x*_)/_,k=Math.round(k*_)/_;let T=0;for(g&&(h&&x!==o?(n.push({value:o}),x<o&&T++,J(Math.round((x+T*S)*_)/_,o,_o(o,w,e))&&T++):x<o&&T++);T<C;++T)n.push({value:Math.round((x+T*S)*_)/_});return v&&h&&k!==s?n.length&&J(n[n.length-1].value,s,_o(s,w,e))?n[n.length-1].value=s:n.push({value:s}):v&&k!==s||n.push({value:k}),n}({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&X(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return un(e,this.chart.options.locale,this.options.ticks.format)}}class ko extends xo{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=_(e)?e:0,this.max=_(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=ee(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function Co(e){return 1==e/Math.pow(10,Math.floor(K(e)))}ko.id="linear",ko.defaults={ticks:{callback:Ni.formatters.numeric}};class So extends Zi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=xo.prototype.parse.apply(this,[e,t]);if(0!==n)return _(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=_(e)?Math.max(0,e):null,this.max=_(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const r=t=>n=e?n:t,o=e=>i=t?i:e,s=(e,t)=>Math.pow(10,Math.floor(K(e))+t);n===i&&(n<=0?(r(1),o(10)):(r(s(n,-1)),o(s(i,1)))),n<=0&&r(s(i,-1)),i<=0&&o(s(n,1)),this._zero&&this.min!==this._suggestedMin&&n===s(this.min,0)&&r(s(n,-1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t=function(e,t){const n=Math.floor(K(t.max)),i=Math.ceil(t.max/Math.pow(10,n)),r=[];let o=x(e.min,Math.pow(10,Math.floor(K(t.min)))),s=Math.floor(K(o)),a=Math.floor(o/Math.pow(10,s)),l=s<0?Math.pow(10,Math.abs(s)):1;do{r.push({value:o,major:Co(o)}),++a,10===a&&(a=1,++s,l=s>=0?1:l),o=Math.round(a*Math.pow(10,s)*l)/l}while(s<n||s===n&&a<i);const c=x(e.max,o);return r.push({value:c,major:Co(o)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&X(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":un(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=K(e),this._valueRange=K(this.max)-K(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(K(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Ao(e){const t=e.ticks;if(t.display&&e.display){const e=yt(t.backdropPadding);return k(t.font&&t.font.size,Je.font.size)+e.height}return 0}function To(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function Oo(e,t,n,i,r){const o=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/o,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/s,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/s,e.b=Math.max(e.b,t.b+l))}function Lo(e){return 0===e||180===e?"center":e<180?"left":"right"}function Eo(e,t,n){return 90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t),e}function Do(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,q);else{let n=e.getPointPosition(0,t);r.moveTo(n.x,n.y);for(let o=1;o<i;o++)n=e.getPointPosition(o,t),r.lineTo(n.x,n.y)}}So.id="logarithmic",So.defaults={ticks:{callback:Ni.formatters.logarithmic,major:{enabled:!0}}};class Po extends xo{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=yt(Ao(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=_(e)&&!isNaN(e)?e:0,this.max=_(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ao(this.options))}generateTickLabels(e){xo.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map(((e,t)=>{const n=S(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""})).filter(((e,t)=>this.chart.getDataVisibility(t)))}fit(){const e=this.options;e.display&&e.pointLabels.display?function(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],r=[],o=e._pointLabels.length,s=e.options.pointLabels,a=s.centerPointLabels?z/o:0;for(let h=0;h<o;h++){const o=s.setContext(e.getPointLabelContext(h));r[h]=o.padding;const d=e.getPointPosition(h,e.drawingArea+r[h],a),p=bt(o.font),f=(l=e.ctx,c=p,u=b(u=e._pointLabels[h])?u:[u],{w:et(l,c.string,u),h:u.length*c.lineHeight});i[h]=f;const m=se(e.getIndexAngle(h)+a),g=Math.round(te(m));Oo(n,t,m,To(g,d.x,f.w,0,180),To(g,d.y,f.h,90,270))}var l,c,u;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const i=[],r=e._pointLabels.length,o=e.options,s=Ao(o)/2,a=e.drawingArea,l=o.pointLabels.centerPointLabels?z/r:0;for(let o=0;o<r;o++){const r=e.getPointPosition(o,a+s+n[o],l),d=Math.round(te(se(r.angle+U))),p=t[o],f=Eo(r.y,p.h,d),m=Lo(d),g=(c=r.x,u=p.w,"right"===(h=m)?c-=u:"center"===h&&(c-=u/2),c);i.push({x:r.x,y:f,textAlign:m,left:g,top:f,right:g+p.w,bottom:f+p.h})}var c,u,h;return i}(e,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){return se(e*(q/(this._pointLabels.length||1))+ee(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(y(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(y(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return _t(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const i=this.getIndexAngle(e)-U+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Do(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:i}=t,r=this._pointLabels.length;let o,s,a;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let r=t-1;r>=0;r--){const t=i.setContext(e.getPointLabelContext(r)),o=bt(t.font),{x:s,y:a,textAlign:l,left:c,top:u,right:h,bottom:d}=e._pointLabelItems[r],{backdropColor:p}=t;if(!y(p)){const e=vt(t.borderRadius),i=yt(t.backdropPadding);n.fillStyle=p;const r=c-i.left,o=u-i.top,s=h-c+i.width,a=d-u+i.height;Object.values(e).some((e=>0!==e))?(n.beginPath(),ht(n,{x:r,y:o,w:s,h:a,radius:e}),n.fill()):n.fillRect(r,o,s,a)}ct(n,e._pointLabels[r],s,a+o.lineHeight/2,o,{color:t.color,textAlign:l,textBaseline:"middle"})}}(this,r),i.display&&this.ticks.forEach(((e,t)=>{0!==t&&(s=this.getDistanceFromCenterForValue(e.value),function(e,t,n,i){const r=e.ctx,o=t.circular,{color:s,lineWidth:a}=t;!o&&!i||!s||!a||n<0||(r.save(),r.strokeStyle=s,r.lineWidth=a,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),Do(e,n,o,i),r.closePath(),r.stroke(),r.restore())}(this,i.setContext(this.getContext(t-1)),s,r))})),n.display){for(e.save(),o=r-1;o>=0;o--){const i=n.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:l}=i;l&&r&&(e.lineWidth=l,e.strokeStyle=r,e.setLineDash(i.borderDash),e.lineDashOffset=i.borderDashOffset,s=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),a=this.getPointPosition(o,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(a.x,a.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach(((i,s)=>{if(0===s&&!t.reverse)return;const a=n.setContext(this.getContext(s)),l=bt(a.font);if(r=this.getDistanceFromCenterForValue(this.ticks[s].value),a.showLabelBackdrop){e.font=l.string,o=e.measureText(i.label).width,e.fillStyle=a.backdropColor;const t=yt(a.backdropPadding);e.fillRect(-o/2-t.left,-r-l.size/2-t.top,o+t.width,l.size+t.height)}ct(e,i.label,0,-r,l,{color:a.color})})),e.restore()}drawTitle(){}}Po.id="radialLinear",Po.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ni.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}},Po.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Po.descriptors={angleLines:{_fallback:"grid"}};const Mo={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},$o=Object.keys(Mo);function Ro(e,t){return e-t}function Io(e,t){if(y(t))return null;const n=e._adapter,{parser:i,round:r,isoWeekday:o}=e._parseOpts;let s=t;return"function"==typeof i&&(s=i(s)),_(s)||(s="string"==typeof i?n.parse(s,i):n.parse(s)),null===s?null:(r&&(s="week"!==r||!Q(o)&&!0!==o?n.startOf(s,r):n.startOf(s,"isoWeek",o)),+s)}function Fo(e,t,n,i){const r=$o.length;for(let o=$o.indexOf(e);o<r-1;++o){const e=Mo[$o[o]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(r*e.size))<=i)return $o[o]}return $o[r-1]}function jo(e,t,n){if(n){if(n.length){const{lo:i,hi:r}=xt(n,t);e[n[i]>=t?n[i]:n[r]]=!0}}else e[t]=!0}function No(e,t,n){const i=[],r={},o=t.length;let s,a;for(s=0;s<o;++s)a=t[s],r[a]=s,i.push({value:a,major:!1});return 0!==o&&n?function(e,t,n,i){const r=e._adapter,o=+r.startOf(t[0].value,i),s=t[t.length-1].value;let a,l;for(a=o;a<=s;a=+r.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}(e,i,r,n):i}class zo extends Zi{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const n=e.time||(e.time={}),i=this._adapter=new ni._date(e.adapters.date);P(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Io(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:s}=this.getUserBounds();function a(e){o||isNaN(e.min)||(i=Math.min(i,e.min)),s||isNaN(e.max)||(r=Math.max(r,e.max))}o&&s||(a(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||a(this.getMinMax(!1))),i=_(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=_(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=function(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(i,r,this.max);return this._unit=t.unit||(n.autoSkip?Fo(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,n,i,r){for(let o=$o.length-1;o>=$o.indexOf(n);o--){const n=$o[o];if(Mo[n].common&&e._adapter.diff(r,i,n)>=t-1)return n}return $o[n?$o.indexOf(n):0]}(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=$o.indexOf(e)+1,n=$o.length;t<n;++t)if(Mo[$o[t]].common)return $o[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&o.reverse(),No(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((e=>+e.value)))}initOffsets(e){let t,n,i=0,r=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),i=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),r=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;i=le(i,0,o),r=le(r,0,o),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,o=r.unit||Fo(r.minUnit,t,n,this._getLabelCapacity(t)),s=k(r.stepSize,1),a="week"===o&&r.isoWeekday,l=Q(a)||!0===a,c={};let u,h,d=t;if(l&&(d=+e.startOf(d,"isoWeek",a)),d=+e.startOf(d,l?"day":o),e.diff(n,t,o)>1e5*s)throw new Error(t+" and "+n+" are too far apart with stepSize of "+s+" "+o);const p="data"===i.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+e.add(u,s,o),h++)jo(c,u,p);return u!==n&&"ticks"!==i.bounds&&1!==h||jo(c,u,p),Object.keys(c).sort(((e,t)=>e-t)).map((e=>+e))}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}_tickFormatFunction(e,t,n,i){const r=this.options,o=r.time.displayFormats,s=this._unit,a=this._majorUnit,l=s&&o[s],c=a&&o[a],u=n[t],h=a&&c&&u&&u.major,d=this._adapter.format(e,i||(h?c:l)),p=r.ticks.callback;return p?S(p,[d,t,n],this):d}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=ee(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),o=Math.sin(i),s=this._resolveTickFontOptions(0).size;return{w:n*r+s*o,h:n*o+s*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,No(this,[e],this._majorUnit),i),o=this._getLabelSize(r),s=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return s>0?s:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(Io(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Tt(e.sort(Ro))}}function qo(e,t,n){let i,r,o,s,a=0,l=e.length-1;n?(t>=e[a].pos&&t<=e[l].pos&&({lo:a,hi:l}=kt(e,"pos",t)),({pos:i,time:o}=e[a]),({pos:r,time:s}=e[l])):(t>=e[a].time&&t<=e[l].time&&({lo:a,hi:l}=kt(e,"time",t)),({time:i,pos:o}=e[a]),({time:r,pos:s}=e[l]));const c=r-i;return c?o+(s-o)*(t-i)/c:o}zo.id="time",zo.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class Vo extends zo{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=qo(t,this.min),this._tableRange=qo(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let o,s,a,l,c;for(o=0,s=e.length;o<s;++o)l=e[o],l>=t&&l<=n&&i.push(l);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(o=0,s=i.length;o<s;++o)c=i[o+1],a=i[o-1],l=i[o],Math.round((c+a)/2)!==l&&r.push({time:l,pos:o/(s-1)});return r}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(qo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return qo(this._table,n*this._tableRange+this._minPos,!0)}}Vo.id="timeseries",Vo.defaults=zo.defaults;var Bo=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),Wo=function(e,t,n){var i,r=[].concat(t),o=r.length,s=e.font,a=0;for(e.font=n.string,i=0;i<o;++i)a=Math.max(e.measureText(r[i]).width,a);return e.font=s,{height:o*n.lineHeight,width:a}};function Uo(e,t){var n=t.x,i=t.y;if(null===n)return{x:0,y:-1};if(null===i)return{x:1,y:0};var r=e.x-n,o=e.y-i,s=Math.sqrt(r*r+o*o);return{x:s?r/s:0,y:s?o/s:-1}}function Ho(e,t,n){var i=0;return e<n.left?i|=1:e>n.right&&(i|=2),t<n.top?i|=8:t>n.bottom&&(i|=4),i}function Zo(e,t){var n,i,r=t.anchor,o=e;return t.clamp&&(o=function(e,t){for(var n,i,r,o=e.x0,s=e.y0,a=e.x1,l=e.y1,c=Ho(o,s,t),u=Ho(a,l,t);c|u&&!(c&u);)8&(n=c||u)?(i=o+(a-o)*(t.top-s)/(l-s),r=t.top):4&n?(i=o+(a-o)*(t.bottom-s)/(l-s),r=t.bottom):2&n?(r=s+(l-s)*(t.right-o)/(a-o),i=t.right):1&n&&(r=s+(l-s)*(t.left-o)/(a-o),i=t.left),n===c?c=Ho(o=i,s=r,t):u=Ho(a=i,l=r,t);return{x0:o,x1:a,y0:s,y1:l}}(o,t.area)),"start"===r?(n=o.x0,i=o.y0):"end"===r?(n=o.x1,i=o.y1):(n=(o.x0+o.x1)/2,i=(o.y0+o.y1)/2),function(e,t,n,i,r){switch(r){case"center":n=i=0;break;case"bottom":n=0,i=1;break;case"right":n=1,i=0;break;case"left":n=-1,i=0;break;case"top":n=0,i=-1;break;case"start":n=-n,i=-i;break;case"end":break;default:r*=Math.PI/180,n=Math.cos(r),i=Math.sin(r)}return{x:e,y:t,vx:n,vy:i}}(n,i,e.vx,e.vy,t.align)}var Ko=function(e,t){var n=(e.startAngle+e.endAngle)/2,i=Math.cos(n),r=Math.sin(n),o=e.innerRadius,s=e.outerRadius;return Zo({x0:e.x+i*o,y0:e.y+r*o,x1:e.x+i*s,y1:e.y+r*s,vx:i,vy:r},t)},Go=function(e,t){var n=Uo(e,t.origin),i=n.x*e.options.radius,r=n.y*e.options.radius;return Zo({x0:e.x-i,y0:e.y-r,x1:e.x+i,y1:e.y+r,vx:n.x,vy:n.y},t)},Yo=function(e,t){var n=Uo(e,t.origin),i=e.x,r=e.y,o=0,s=0;return e.horizontal?(i=Math.min(e.x,e.base),o=Math.abs(e.base-e.x)):(r=Math.min(e.y,e.base),s=Math.abs(e.base-e.y)),Zo({x0:i,y0:r+s,x1:i+o,y1:r,vx:n.x,vy:n.y},t)},Qo=function(e,t){var n=Uo(e,t.origin);return Zo({x0:e.x,y0:e.y,x1:e.x,y1:e.y,vx:n.x,vy:n.y},t)},Jo=function(e){return Math.round(e*Bo)/Bo};function Xo(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(void 0!==n.xCenter&&void 0!==n.yCenter)return{x:n.xCenter,y:n.yCenter};var i=n.getBasePixel();return e.horizontal?{x:i,y:null}:{x:null,y:i}}function es(e,t,n){var i=e.shadowBlur,r=n.stroked,o=Jo(n.x),s=Jo(n.y),a=Jo(n.w);r&&e.strokeText(t,o,s,a),n.filled&&(i&&r&&(e.shadowBlur=0),e.fillText(t,o,s,a),i&&r&&(e.shadowBlur=i))}var ts=function(e,t,n,i){var r=this;r._config=e,r._index=i,r._model=null,r._rects=null,r._ctx=t,r._el=n};D(ts.prototype,{_modelize:function(e,t,n,i){var r,o=this,s=o._index,a=bt(wt([n.font,{}],i,s)),l=wt([n.color,Je.color],i,s);return{align:wt([n.align,"center"],i,s),anchor:wt([n.anchor,"center"],i,s),area:i.chart.chartArea,backgroundColor:wt([n.backgroundColor,null],i,s),borderColor:wt([n.borderColor,null],i,s),borderRadius:wt([n.borderRadius,0],i,s),borderWidth:wt([n.borderWidth,0],i,s),clamp:wt([n.clamp,!1],i,s),clip:wt([n.clip,!1],i,s),color:l,display:e,font:a,lines:t,offset:wt([n.offset,0],i,s),opacity:wt([n.opacity,1],i,s),origin:Xo(o._el,i),padding:yt(wt([n.padding,0],i,s)),positioner:(r=o._el,r instanceof Sr?Ko:r instanceof Rr?Go:r instanceof qr?Yo:Qo),rotation:wt([n.rotation,0],i,s)*(Math.PI/180),size:Wo(o._ctx,t,a),textAlign:wt([n.textAlign,"start"],i,s),textShadowBlur:wt([n.textShadowBlur,0],i,s),textShadowColor:wt([n.textShadowColor,l],i,s),textStrokeColor:wt([n.textStrokeColor,l],i,s),textStrokeWidth:wt([n.textStrokeWidth,0],i,s)}},update:function(e){var t,n,i,r=this,o=null,s=null,a=r._index,l=r._config,c=wt([l.display,!0],e,a);c&&(t=e.dataset.data[a],(i=y(n=k(S(l.formatter,[t,e]),t))?[]:function(e){var t,n=[];for(e=[].concat(e);e.length;)"string"==typeof(t=e.pop())?n.unshift.apply(n,t.split("\n")):Array.isArray(t)?e.push.apply(e,t):y(e)||n.unshift(""+t);return n}(n)).length&&(s=function(e){var t=e.borderWidth||0,n=e.padding,i=e.size.height,r=e.size.width,o=-r/2,s=-i/2;return{frame:{x:o-n.left-t,y:s-n.top-t,w:r+n.width+2*t,h:i+n.height+2*t},text:{x:o,y:s,w:r,h:i}}}(o=r._modelize(c,i,l,e)))),r._model=o,r._rects=s},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n,i=e.ctx,r=this._model,o=this._rects;this.visible()&&(i.save(),r.clip&&(n=r.area,i.beginPath(),i.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),i.clip()),i.globalAlpha=function(e,t,n){return Math.max(e,Math.min(t,n))}(0,r.opacity,1),i.translate(Jo(t.x),Jo(t.y)),i.rotate(r.rotation),function(e,t,n){var i=n.backgroundColor,r=n.borderColor,o=n.borderWidth;(i||r&&o)&&(e.beginPath(),function(e,t,n,i,r,o){var s=Math.PI/2;if(o){var a=Math.min(o,r/2,i/2),l=t+a,c=n+a,u=t+i-a,h=n+r-a;e.moveTo(t,c),l<u&&c<h?(e.arc(l,c,a,-Math.PI,-s),e.arc(u,c,a,-s,0),e.arc(u,h,a,0,s),e.arc(l,h,a,s,Math.PI)):l<u?(e.moveTo(l,n),e.arc(u,c,a,-s,s),e.arc(l,c,a,s,Math.PI+s)):c<h?(e.arc(l,c,a,-Math.PI,0),e.arc(l,h,a,0,Math.PI)):e.arc(l,c,a,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,r)}(e,Jo(t.x)+o/2,Jo(t.y)+o/2,Jo(t.w)-o,Jo(t.h)-o,n.borderRadius),e.closePath(),i&&(e.fillStyle=i,e.fill()),r&&o&&(e.strokeStyle=r,e.lineWidth=o,e.lineJoin="miter",e.stroke()))}(i,o.frame,r),function(e,t,n,i){var r,o=i.textAlign,s=i.color,a=!!s,l=i.font,c=t.length,u=i.textStrokeColor,h=i.textStrokeWidth,d=u&&h;if(c&&(a||d))for(n=function(e,t,n){var i=n.lineHeight,r=e.w,o=e.x;return"center"===t?o+=r/2:"end"!==t&&"right"!==t||(o+=r),{h:i,w:r,x:o,y:e.y+i/2}}(n,o,l),e.font=l.string,e.textAlign=o,e.textBaseline="middle",e.shadowBlur=i.textShadowBlur,e.shadowColor=i.textShadowColor,a&&(e.fillStyle=s),d&&(e.lineJoin="round",e.lineWidth=h,e.strokeStyle=u),r=0,c=t.length;r<c;++r)es(e,t[r],{stroked:d,filled:a,w:n.w,x:n.x,y:n.y+n.h*r})}(i,r.lines,o.text,r),i.restore())}});var ns=Number.MIN_SAFE_INTEGER||-9007199254740991,is=Number.MAX_SAFE_INTEGER||9007199254740991;function rs(e,t,n){var i=Math.cos(n),r=Math.sin(n),o=t.x,s=t.y;return{x:o+i*(e.x-o)-r*(e.y-s),y:s+r*(e.x-o)+i*(e.y-s)}}function os(e,t){var n,i,r,o,s,a=is,l=ns,c=t.origin;for(n=0;n<e.length;++n)r=(i=e[n]).x-c.x,o=i.y-c.y,s=t.vx*r+t.vy*o,a=Math.min(a,s),l=Math.max(l,s);return{min:a,max:l}}function ss(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);return{vx:(t.x-e.x)/r,vy:(t.y-e.y)/r,origin:e,ln:r}}var as=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function ls(e,t,n){var i=t.positioner(e,t),r=i.vx,o=i.vy;if(!r&&!o)return{x:i.x,y:i.y};var s=n.w,a=n.h,l=t.rotation,c=Math.abs(s/2*Math.cos(l))+Math.abs(a/2*Math.sin(l)),u=Math.abs(s/2*Math.sin(l))+Math.abs(a/2*Math.cos(l)),h=1/Math.max(Math.abs(r),Math.abs(o));return c*=r*h,u*=o*h,c+=t.offset*r,u+=t.offset*o,{x:i.x+c,y:i.y+u}}D(as.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=t._rect;return!((e=rs(e,t.center(),-t._rotation)).x<n.x-1||e.y<n.y-1||e.x>n.x+n.w+2||e.y>n.y+n.h+2)},intersects:function(e){var t,n,i,r=this._points(),o=e._points(),s=[ss(r[0],r[1]),ss(r[0],r[3])];for(this._rotation!==e._rotation&&s.push(ss(o[0],o[1]),ss(o[0],o[3])),t=0;t<s.length;++t)if(n=os(r,s[t]),i=os(o,s[t]),n.max<i.min||i.max<n.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,i=e.center();return[rs({x:t.x,y:t.y},i,n),rs({x:t.x+t.w,y:t.y},i,n),rs({x:t.x+t.w,y:t.y+t.h},i,n),rs({x:t.x,y:t.y+t.h},i,n)]}});var cs={prepare:function(e){var t,n,i,r,o,s=[];for(t=0,i=e.length;t<i;++t)for(n=0,r=e[t].length;n<r;++n)o=e[t][n],s.push(o),o.$layout={_box:new as,_hidable:!1,_visible:!0,_set:t,_idx:n};return s.sort((function(e,t){var n=e.$layout,i=t.$layout;return n._idx===i._idx?i._set-n._set:i._idx-n._idx})),this.update(s),s},update:function(e){var t,n,i,r,o,s=!1;for(t=0,n=e.length;t<n;++t)r=(i=e[t]).model(),(o=i.$layout)._hidable=r&&"auto"===r.display,o._visible=i.visible(),s|=o._hidable;s&&function(e){var t,n,i,r,o,s,a;for(t=0,n=e.length;t<n;++t)(r=(i=e[t]).$layout)._visible&&(a=new Proxy(i._el,{get:(e,t)=>e.getProps([t],!0)[t]}),o=i.geometry(),s=ls(a,i.model(),o),r._box.update(s,o,i.rotation()));!function(e,t){var n,i,r,o;for(n=e.length-1;n>=0;--n)for(r=e[n].$layout,i=n-1;i>=0&&r._visible;--i)(o=e[i].$layout)._visible&&r._box.intersects(o._box)&&t(r,o)}(e,(function(e,t){var n=e._hidable,i=t._hidable;n&&i||i?t._visible=!1:n&&(e._visible=!1)}))}(e)},lookup:function(e,t){var n,i;for(n=e.length-1;n>=0;--n)if((i=e[n].$layout)&&i._visible&&i._box.contains(t))return e[n];return null},draw:function(e,t){var n,i,r,o,s,a;for(n=0,i=t.length;n<i;++n)(o=(r=t[n]).$layout)._visible&&(s=r.geometry(),a=ls(r._el,r.model(),s),o._box.update(a,s,r.rotation()),r.draw(e,a))}},us={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:function(e){if(y(e))return null;var t,n,i,r=e;if(w(e))if(y(e.label))if(y(e.r))for(r="",i=0,n=(t=Object.keys(e)).length;i<n;++i)r+=(0!==i?", ":"")+t[i]+": "+e[t[i]];else r=e.r;else r=e.label;return""+r},labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},hs="$default";function ds(e,t,n){if(t){var i,r=n.$context,o=n.$groups;t[o._set]&&(i=t[o._set][o._key])&&!0===S(i,[r])&&(e.$datalabels._dirty=!0,n.update(r))}}var ps={id:"datalabels",defaults:us,beforeInit:function(e){e.$datalabels={_actives:[]}},beforeUpdate:function(e){var t=e.$datalabels;t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var i,r,o,s,a,l,c,u,h=t.index,d=e.$datalabels,p=d._datasets[h]=[],f=e.isDatasetVisible(h),m=e.data.datasets[h],g=function(e,t){var n,i,r,o=e.datalabels,s=[];return!1===o?null:(!0===o&&(o={}),t=D({},[t,o]),i=t.labels||{},r=Object.keys(i),delete t.labels,r.length?r.forEach((function(e){i[e]&&s.push(D({},[t,i[e],{_key:e}]))})):s.push(t),n=s.reduce((function(e,t){return A(t.listeners||{},(function(n,i){e[i]=e[i]||{},e[i][t._key||hs]=n})),delete t.listeners,e}),{}),{labels:s,listeners:n})}(m,n),v=t.meta.data||[],y=e.ctx;for(y.save(),i=0,o=v.length;i<o;++i)if((c=v[i]).$datalabels=[],f&&c&&e.getDataVisibility(i)&&!c.skip)for(r=0,s=g.labels.length;r<s;++r)l=(a=g.labels[r])._key,(u=new ts(a,y,c,i)).$groups={_set:h,_key:l||hs},u.$context={active:!1,chart:e,dataIndex:i,dataset:m,datasetIndex:h},u.update(u.$context),c.$datalabels.push(u),p.push(u);y.restore(),D(d._listeners,g.listeners,{merger:function(e,n,i){n[e]=n[e]||{},n[e][t.index]=i[e],d._listened=!0}})},afterUpdate:function(e,t){e.$datalabels._labels=cs.prepare(e.$datalabels._datasets,t)},afterDatasetsDraw:function(e){cs.draw(e,e.$datalabels._labels)},beforeEvent:function(e,t){if(e.$datalabels._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":!function(e,t){var n,i,r=e.$datalabels,o=r._listeners;if(o.enter||o.leave){if("mousemove"===t.type)i=cs.lookup(r._labels,t);else if("mouseout"!==t.type)return;n=r._hovered,r._hovered=i,function(e,t,n,i){var r,o;(n||i)&&(n?i?n!==i&&(o=r=!0):o=!0:r=!0,o&&ds(e,t.leave,n),r&&ds(e,t.enter,i))}(e,o,n,i)}}(e,n);break;case"click":!function(e,t){var n=e.$datalabels,i=n._listeners.click,r=i&&cs.lookup(n._labels,t);r&&ds(e,i,r)}(e,n)}}},afterEvent:function(e){var t,n,i,r,o,s,a,l=e.$datalabels,c=function(e,t){var n,i,r,o,s=e.slice(),a=[];for(n=0,r=t.length;n<r;++n)o=t[n],-1===(i=s.indexOf(o))?a.push([o,1]):s.splice(i,1);for(n=0,r=s.length;n<r;++n)a.push([s[n],-1]);return a}(l._actives,l._actives=e.getActiveElements());for(t=0,n=c.length;t<n;++t)if((o=c[t])[1])for(i=0,r=(a=o[0].element.$datalabels||[]).length;i<r;++i)(s=a[i]).$context.active=1===o[1],s.update(s.$context);(l._dirty||c.length)&&(cs.update(l._labels),e.render()),delete l._dirty}};const fs=ps;var ms=n(1308),gs=n(9996),vs=n.n(gs);function ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}br.register(Gn,Mr,Rr,ko,qr,Hn,Jn,Po,wo,Qn,Sr,oo,bo,fs,no);var _s=["rgb(64, 131, 207, 0.8)","rgba(255, 99, 132, 0.8)","rgba(255, 206, 86, 0.8)","rgba(54, 162, 235, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 159, 64, 0.8)"],xs=["rgb(64, 131, 207, 1)","rgba(255, 99, 132, 1)","rgba(255, 206, 86, 1)","rgba(54, 162, 235, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"];const ks={name:"QueryChart",props:{data:{type:Array,required:!1,default:function(){return[]}},columns:{type:Array,required:!1,default:function(){return[]}},options:{type:Object,required:!1,default:function(){return{}}},loading:{type:Boolean,required:!1,default:!1},chartType:{type:String,required:!0}},data:function(){return{chart:null}},computed:{labelsFormat:function(){return{style:this.options.label_format||"decimal",options:this.options.label_format_options||{}}},chartTypeOption:function(){return{funnel:"line",row:"bar"}[this.chartType]||this.chartType},transposedData:function(){var e=this;return this.data[0].map((function(t,n){return e.data.map((function(e){return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ws(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).slice(0)[n];var t}))}))},datasets:function(){var e=this;return this.transposedData.slice(1,this.transposedData.length).map((function(t,n){return["integer","float"].includes(e.columns[n+1].type)?{fill:"funnel"===e.chartType,label:e.columns[n+1].title,backgroundColor:"pie"===e.chartType?_s:_s[n],borderColor:"pie"===e.chartType?"#fff":xs[n],borderWidth:["bar","row"].includes(e.chartType)?0:2,data:t}:null})).filter(Boolean)},chartParams:function(){return{type:this.chartTypeOption,data:{labels:this.labels,datasets:this.datasets},options:this.chartOptions}},chartOptions:function(){var e=this,t={responsive:!0,maintainAspectRatio:!1,indexAxis:"row"===this.chartType?"y":"x",animation:!1,plugins:{legend:{labels:{usePointStyle:!0}},tooltip:{callbacks:{label:function(t){var n=t.dataset.label||"",i="row"===e.chartType?"x":"radar"===e.chartType?"r":"y";if(n&&(n+=": "),null!==t.parsed[i]){var r=e.formatValue(t.parsed[i]||t.parsed);"pie"===e.chartType?n=t.label+": "+r:n+=r}return n}}}},scales:{x:{display:"pie"!==this.chartType,stacked:this.options.chart_stacked,grid:{display:!1}},y:{stacked:this.options.chart_stacked,display:this.options.chart_values_axis||"row"===this.chartType,grid:{display:!1},ticks:{callback:function(t){return e.formatValue(t)}}}}};return"pie"!==this.chartType&&1===this.datasets.length&&(t.plugins=vs()(t.plugins,{legend:{display:!1}})),"pie"===this.chartType&&(t.radius="85%",t.plugins=vs()(t.plugins,{legend:{position:"left"}}),t.scales.y={display:!1}),"pie"!==this.chartType&&(t.scales=vs()(t.scales,{x:{grid:{display:!1}}})),"funnel"===this.chartType&&(t.scales=vs()(t.scales,{y:{beginAtZero:!0,grid:{display:!1}}})),t.plugins=vs()(t.plugins,{datalabels:{labels:{value:{display:!!["bar","row"].includes(this.chartType)||"radar"!==this.chartType&&"auto",anchor:this.options.chart_stacked?"center":"end",align:this.options.chart_stacked&&"line"!==this.chartType?"center":["pie","row"].includes(this.chartType)?"end":"top",formatter:function(t){return e.formatValue(t)},font:{weight:"bold"}}}}}),this.options.chart_stacked&&["bar","row"].includes(this.chartType)&&(t.plugins=vs()(t.plugins,{datalabels:{labels:{data:{align:"end",anchor:"end",color:function(t){if(t.datasetIndex!==e.datasets.length-1)return"transparent"},formatter:function(t,n){var i=e.datasets.map((function(e){return e.data[n.dataIndex]})).reduce((function(e,t){return e+t}),0);return[e.i18n.total,e.formatValue(i)].join(": ")},font:{weight:"bold"}}}}})),"pie"===this.chartType&&(t.plugins=vs()(t.plugins,{datalabels:{display:"auto",formatter:function(e,t){var n=t.dataset.data.reduce((function(e,t){return e+parseFloat(t)}),0);return Math.round(1e4*e/n,2)/100+"%"}}})),"funnel"===this.chartType&&(t.plugins=vs()(t.plugins,{datalabels:{display:"auto",align:"end",formatter:function(e,t){if(0!==t.dataIndex){var n=t.dataset.data[0];return Math.round(1e4*e/n,2)/100+"%"}return" "}}})),"pie"!==this.chartType&&1===this.datasets.length&&(t.layout={padding:{top:25}}),["line","row","funnel"].includes(this.chartType)&&(t.layout=vs()(t.layout,{padding:{right:25}})),["row"].includes(this.chartType)&&(t.layout=vs()(t.layout,{padding:{right:55}})),"row"===this.chartType&&(t.scales={x:{stacked:this.options.chart_stacked,display:this.options.chart_values_axis,grid:{display:!1},ticks:{callback:function(t){return e.formatValue(t)}}},y:{stacked:this.options.chart_stacked,grid:{display:!1}}}),t},labels:function(){var e=this.columns[0],t=this.transposedData[0];if(["date","datetime"].includes(e.type)){var n={year:"numeric",month:"short"};return t.every((function(e){return e.includes("-01T00:00:00")||e.match(/-01$/)}))||(n.day="numeric"),t.map((function(e){return(0,ms.p)(e,n)}))}return t}},watch:{chartType:function(){this.update()},options:{deep:!0,handler:function(){this.update()}},data:function(){this.update()}},mounted:function(){this.render()},methods:{update:function(){this.render()},formatValue:function(e){var t,n;return new Intl.NumberFormat(navigator.language||"en-US",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ys(Object(n),!0).forEach((function(t){bs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({style:(null===(t=this.labelsFormat)||void 0===t?void 0:t.style)||"decimal"},(null===(n=this.labelsFormat)||void 0===n?void 0:n.options)||{})).format(e)},render:function(){var e=this;this.data.length&&this.$nextTick((function(){var t;null===(t=e.chart)||void 0===t||t.destroy(),e.chart=new br(e.$refs.canvas.getContext("2d"),e.chartParams)}))}}};var Cs=n(3744);const Ss=(0,Cs.Z)(ks,[["render",function(e,t,n,o,s,a){return n.data.length?((0,i.wg)(),(0,i.iD)("canvas",u,null,512)):n.loading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",h,(0,r.zw)(e.i18n.no_data),1))}]]);var As=n(2822),Ts=n(7209),Os=new(n(3459).Kj);const Ls={name:"QueryLiquid",props:{html:{type:String,required:!1,default:""},loading:{type:Boolean,required:!1,default:!1},withoutData:{type:Boolean,required:!1,default:!1},renderHtml:{type:Boolean,required:!1,default:!0},data:{type:Object,required:!1,default:function(){return{}}}},computed:{isNoData:function(){return!Object.keys(this.data).length}},watch:{html:(0,Ts.Z)((function(){this.render()}),500),data:(0,Ts.Z)((function(){this.render()}),500)},mounted:function(){this.render()},methods:{render:function(){var e=this;Os.parseAndRender(this.html,this.data).then((function(t){e.$el.innerHTML=t})).catch((function(){}))}}},Es=(0,Cs.Z)(Ls,[["render",function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)(a.isNoData&&!n.withoutData?"d-flex align-items-center justify-content-center":"bg-white")},null,2)}]]);var Ds={class:"d-flex align-items-center justify-content-center flex-column bg-white"},Ps={key:1,style:{"font-size":"60px"},class:"fw-bold"},Ms={key:2},$s={key:3};const Rs={name:"ValueResult",props:{data:{type:Array,required:!1,default:function(){return[]}},loading:{type:Boolean,required:!1,default:!1},valueFormat:{type:Object,required:!1,default:function(){return{style:"decimal"}}}},computed:{dataRow:function(){return this.data[0]||[]},isPositiveChange:function(){return!this.change.toString().match(/^-/)},value:function(){return this.label?this.dataRow[1]:this.dataRow[0]},change:function(){return this.label?this.dataRow[2]:this.dataRow[1]},label:function(){return this.dataRow.length>=3&&"string"==typeof this.dataRow[0]?this.dataRow[0]:""}}},Is=(0,Cs.Z)(Rs,[["render",function(e,t,n,o,s,a){var l=(0,i.up)("Icon");return(0,i.wg)(),(0,i.iD)("div",Ds,[a.change||0===a.change?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,r.C_)(a.isPositiveChange?"text-success":"text-danger")},[(0,i.Wm)(l,{type:a.isPositiveChange?"md-arrow-round-up":"md-arrow-round-down"},null,8,["type"]),(0,i.Uk)(" "+(0,r.zw)(a.change),1)],2)):(0,i.kq)("",!0),a.value||0===a.value?((0,i.wg)(),(0,i.iD)("p",Ps,(0,r.zw)(a.value),1)):n.loading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("p",Ms,(0,r.zw)(e.i18n.no_data),1)),a.label?((0,i.wg)(),(0,i.iD)("div",$s,(0,r.zw)(a.label),1)):(0,i.kq)("",!0)])}]]);var Fs={class:"d-flex align-items-center justify-content-center flex-column bg-white"},js={key:0,style:{"font-size":"60px"},class:"fw-bold"},Ns={key:1},zs={key:0,class:"ion ion-md-arrow-up mx-1 text-kpi-up"},qs={key:1,class:"ion ion-md-arrow-down mx-1 text-kpi-down"};const Vs={name:"KPIResult",props:{data:{type:Array,required:!1,default:function(){return[]}},loading:{type:Boolean,required:!1,default:!1},valueFormat:{type:Object,required:!1,default:function(){return{style:"decimal"}}}},computed:{dataRow:function(){return this.data[0]||[]},isPositiveChange:function(){return!this.change.toString().match(/^-/)&&0!==this.change},isNoChange:function(){return 0===this.change},isNegativeChange:function(){return this.change.toString().match(/^-/)},value:function(){return this.label?this.dataRow[1]:this.dataRow[0]},change:function(){return this.label?this.dataRow[2]:this.dataRow[1]},label:function(){return this.dataRow.length>=3&&"string"==typeof this.dataRow[0]?this.dataRow[0]:""},showTrends:function(){return 0!=this.dataRow[3]&&(this.change||0===this.change)}}},Bs=(0,Cs.Z)(Vs,[["render",function(e,t,n,o,s,a){return(0,i.wg)(),(0,i.iD)("div",Fs,[a.value||0===a.value?((0,i.wg)(),(0,i.iD)("p",js,(0,r.zw)(a.value),1)):n.loading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("p",Ns,(0,r.zw)(e.i18n.no_data),1)),a.showTrends?((0,i.wg)(),(0,i.iD)("span",{key:2,class:(0,r.C_)(["badge rounded-pill px-2 py-1",{"bg-kpi-up":a.isPositiveChange,"bg-kpi-down":a.isNegativeChange,"bg-kpi-neutral":a.isNoChange}])},[a.isPositiveChange?((0,i.wg)(),(0,i.iD)("i",zs)):(0,i.kq)("",!0),a.isNegativeChange?((0,i.wg)(),(0,i.iD)("i",qs)):(0,i.kq)("",!0),(0,i._)("span",{class:(0,r.C_)({"text-kpi-up":a.isPositiveChange,"text-kpi-down":a.isNegativeChange,"text-kpi-neutral":a.isNoChange})},(0,r.zw)(a.change)+" "+(0,r.zw)(a.label),3)],2)):(0,i.kq)("",!0)])}]]);var Ws={key:0,class:"w-100"},Us={key:1,class:"text-center mt-4"};n(9826);var Hs=n(5243),Zs=n.n(Hs),Ks=n(7856),Gs=n.n(Ks),Ys=n(649);function Qs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xs=Zs().icon({iconUrl:Ys.sb+"assets/images/marker-icon.png",iconSize:[25,41],iconAnchor:[10,40],popupAnchor:[3,-36]});const ea={name:"Map",props:{data:{type:Array,required:!1,default:function(){return[]}},columns:{type:Array,required:!1,default:function(){return[]}},loading:{type:Boolean,required:!1,default:!1}},computed:{latColumn:function(){return this.columns.find((function(e){return e.title.match(/^lat(?:itude)?$/i)}))||this.columns.filter((function(e){return"float"===e.type}))[0]},lngColumn:function(){return this.columns.find((function(e){return"lng"===e.title.toLowerCase()||e.title.match(/^long(?:itude)?$/i)}))||this.columns.filter((function(e){return"float"===e.type}))[1]},valueColumns:function(){var e=this;return this.columns.filter((function(t){return t!==e.latColumn&&t!==e.lngColumn}))},boundsArray:function(){var e=this;return this.data.map((function(t){return[t[e.latColumn.key],t[e.lngColumn.key]]}))}},watch:{data:function(e,t){var n,i=this;JSON.stringify(e)!==JSON.stringify(t)&&(null===(n=this.map)||void 0===n||n.remove(),this.$nextTick((function(){i.renderMap()})))}},mounted:function(){var e=this;this.$nextTick((function(){var t;e.renderMap(),e.resizeObserver=new ResizeObserver((function(){var t;null===(t=e.map)||void 0===t||t.invalidateSize()})),null!==(t=e.map)&&void 0!==t&&t._container&&e.resizeObserver.observe(e.map._container)}))},unmounted:function(){var e,t;null!==(e=this.map)&&void 0!==e&&e._container&&(null===(t=this.resizeObserver)||void 0===t||t.unobserve(this.map._container))},methods:{buildPopupHtml:function(e){return Gs().sanitize(this.valueColumns.map((function(t){return"<b>".concat(t.title,"</b>: ").concat(e[t.key])})).join("<br>"))},renderMap:function(){var e=this;if(this.data.length){var t=new(Zs().LatLngBounds)(this.boundsArray),n=new(Zs().TileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'});this.map=Zs().map(this.$el,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qs(Object(n),!0).forEach((function(t){Js(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({layers:[n]},1===this.data.length?{center:this.boundsArray[0],zoom:10}:{})),this.data.forEach((function(t){var n=Zs().marker([t[e.latColumn.key],t[e.lngColumn.key]],{icon:Xs});n.bindPopup(e.buildPopupHtml(t)),n.addTo(e.map)})),this.data.length>1&&this.map.fitBounds(t,{padding:[50,50]})}}}},ta=(0,Cs.Z)(ea,[["render",function(e,t,n,o,s,a){return n.data.length&&a.latColumn&&a.lngColumn?((0,i.wg)(),(0,i.iD)("div",Ws)):n.loading?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("p",Us,(0,r.zw)(e.i18n.no_data),1))}]]);var na=n(48);const ia=(e,t,{separator:n,quoted:i})=>{const r=t.map((e=>i?`"${e="string"==typeof e?e.replace(/"/g,'""'):e}"`:e));e.push(r.join(n))},ra={separator:",",quoted:!1};var oa=n(5763);function sa(e,t){if(e){if("string"==typeof e)return aa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?aa(e,t):void 0}}function aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const la={name:"QueryTable",components:{DataTable:c.Z,Chart:Ss,Markdown:As.Z,Liquid:Es,Map:ta,ValueResult:Is,KPIResult:Bs},props:{data:{type:Array,required:!1,default:function(){return[]}},columns:{type:Array,required:!1,default:function(){return[]}},errors:{type:Array,required:!1,default:function(){return[]}},title:{type:String,required:!1,default:""},preferences:{type:Object,required:!1,default:function(){return{}}},queryId:{type:[Number,String],required:!1,default:""},withTableToggle:{type:Boolean,required:!1,default:!1},withAlert:{type:Boolean,required:!1,default:!1},showMarkdownTable:{type:Boolean,required:!1,default:!1},loading:{type:Boolean,required:!1,default:!1},borderless:{type:Boolean,required:!1,default:!1},headerBorder:{type:Boolean,required:!1,default:!0},compact:{type:Boolean,required:!1,default:!1},withSettings:{type:Boolean,required:!1,default:!0},withFooter:{type:Boolean,required:!1,default:!0},withFooterButtonLabels:{type:Boolean,required:!1,default:!0},defaultPageSize:{type:Number,required:!1,default:100},minimalPagination:{type:Boolean,required:!1,default:!1}},emits:["settings"],data:function(){return{sortParams:{},hSplit:.5,isTableToggle:!1,paginationParams:{current:1,pageSize:this.defaultPageSize}}},computed:{showFooter:function(){return!!this.data.length&&(!this.isValue||this.withSettings||this.withAlert||this.showPagination)},showPagination:function(){return this.data.length&&this.isTable||(this.isHtml||this.isMarkdown||this.isValue)&&this.data.length>1},markdownData:function(){var e=this;return this.data.length?this.columns.reduce((function(t,n,i){return["datetime","date"].includes(n.column_type)?t[n.name]=(0,ms.p)(e.paginatedData[0][i],null,"datetime"===n.column_type):"json"===n.column_type?t[n.name]=JSON.parse(e.paginatedData[0][i]):t[n.name]=e.paginatedData[0][i],t}),{data:this.data}):{}},sortedData:function(){var e,t=this.sortParams,n=t.key,i=t.order,r="desc"===i?-1:1;return i?(e=this.data,function(e){if(Array.isArray(e))return aa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||sa(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).sort((function(e,t){return(e[n]>t[n]?1:-1)*r})):this.data},total:function(){return this.data.length},isTable:function(){return!this.preferences.visualization||"table"===this.preferences.visualization},isMarkdown:function(){return"markdown"===this.preferences.visualization},isHtml:function(){return"html"===this.preferences.visualization},isValue:function(){return"value"===this.preferences.visualization},isKPI:function(){return"kpi"===this.preferences.visualization},isMap:function(){return"map"===this.preferences.visualization},pageSizeOpts:function(){return[20,50,100,250,500,1e3]},chartType:function(){return this.isTable?"":this.preferences.visualization.replace(/_chart$/,"")},pageSize:function(){return this.isHtml||this.isMarkdown||this.isValue?1:this.paginationParams.pageSize},paginatedData:function(){var e=(this.paginationParams.current-1)*this.pageSize;return this.sortedData.slice(e,e+this.pageSize)},normalizedColumns:function(){return this.columns.map((function(e,t){var n,i,r,o=(i=e.name.match(/^(\w+)_id$/)||[],r=2,function(e){if(Array.isArray(e))return e}(i)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(i,r)||sa(i,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[1];return o&&na.r3[o]&&(n={model_name:o}),{key:t,title:e.name,type:e.column_type,format:{number_format:["number","integer","float"].includes(e.column_type)&&!e.name.toString().match(/_(?:id|year)$/)&&!["id","year"].includes(e.name)},reference:n}}))}},watch:{defaultPageSize:function(e){this.paginationParams.pageSize=e},data:function(){this.paginationParams.current=1}},methods:{assignSortParams:function(e){this.sortParams=e},toggleTable:function(){this.isTableToggle=!this.isTableToggle},download:function(){var e=this.$refs.chart?"png":"csv",t=(0,ms.p)(new Date,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).replace(",",""),n="";if(this.$refs.chart)n=this.$refs.chart.chart.toBase64Image();else{var i=function(e,t,n,i=!1){let r;n=Object.assign({},ra,n);const o=[],s=[];return e?(r=e.map((e=>"string"==typeof e?e:(i||s.push(void 0!==e.title?e.title:e.key),e.key))),s.length>0&&ia(o,s,n)):(r=[],t.forEach((e=>{Array.isArray(e)||(r=r.concat(Object.keys(e)))})),r.length>0&&(r=r.filter(((e,t,n)=>n.indexOf(e)===t)),i||ia(o,r,n))),Array.isArray(t)&&t.forEach((e=>{Array.isArray(e)||(e=r.map((t=>void 0!==e[t]?e[t]:""))),ia(o,e,n)})),o.join("\r\n")}(this.normalizedColumns,this.sortedData,{quoted:!0});n=URL.createObjectURL(new Blob([i],{type:"data:text/csv;charset=utf-8"}))}var r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download","".concat((0,oa.It)(this.title||"query"),"_").concat((0,oa.It)(t),".").concat(e)),r.click()}}},ca=(0,Cs.Z)(la,[["render",function(e,t,n,c,u,h){var d=(0,i.up)("ValueResult"),p=(0,i.up)("KPIResult"),f=(0,i.up)("Markdown"),m=(0,i.up)("Liquid"),g=(0,i.up)("DataTable"),v=(0,i.up)("Map"),y=(0,i.up)("Chart"),b=(0,i.up)("VButton"),w=(0,i.up)("Pagination");return(0,i.wg)(),(0,i.iD)(i.HY,null,[n.errors.length?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"d-flex justify-content-center align-items-center text-danger text-center",style:(0,r.j5)({height:"calc(100% - 34px)"})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.errors,(function(e){return(0,i.wg)(),(0,i.iD)("p",{key:e.detail||e},(0,r.zw)(e.detail||e),1)})),128))],4)):h.isValue?((0,i.wg)(),(0,i.j4)(d,{key:1,style:(0,r.j5)({height:n.withFooter&&h.showFooter||!n.data.length?"calc(100% - 34px)":"100%"}),loading:n.loading,data:h.paginatedData},null,8,["style","loading","data"])):h.isKPI?((0,i.wg)(),(0,i.j4)(p,{key:2,style:(0,r.j5)({height:n.withFooter&&h.showFooter||!n.data.length?"calc(100% - 34px)":"100%"}),loading:n.loading,data:h.paginatedData},null,8,["style","loading","data"])):h.isTable||h.isMarkdown||h.isHtml||u.isTableToggle?((0,i.wg)(),(0,i.iD)("div",{key:3,class:"d-flex",style:(0,r.j5)({height:n.withFooter?"calc(100% - 34px)":"100%"})},[h.isMarkdown||h.isHtml?((0,i.wg)(),(0,i.iD)("div",{key:0,style:(0,r.j5)({width:n.showMarkdownTable?"50%":"100%"}),class:(0,r.C_)([{"border-top":n.showMarkdownTable},"bg-white"])},[h.isMarkdown?((0,i.wg)(),(0,i.j4)(f,{key:0,style:{height:"100%",overflow:"scroll",padding:"10px 13px"},class:(0,r.C_)({"border-right":n.showMarkdownTable}),loading:n.loading,markdown:n.preferences.visualization_options.markdown,data:h.markdownData},null,8,["class","loading","markdown","data"])):h.isHtml?((0,i.wg)(),(0,i.j4)(m,{key:1,style:{height:"100%",overflow:"scroll"},class:(0,r.C_)({"border-right":n.showMarkdownTable}),loading:n.loading,html:n.preferences.visualization_options.html,data:h.markdownData},null,8,["class","loading","html","data"])):(0,i.kq)("",!0)],6)):(0,i.kq)("",!0),h.isTable||u.isTableToggle||n.showMarkdownTable?((0,i.wg)(),(0,i.iD)("div",{key:1,style:(0,r.j5)({width:h.isTable||u.isTableToggle?"100%":"50%"})},[(0,i.Wm)(g,{data:h.paginatedData,"with-select":!1,"click-rows":!1,borderless:n.borderless,"always-refer":!0,"with-html":!0,"header-border":n.headerBorder,compact:n.compact,columns:h.normalizedColumns,onSortChange:h.assignSortParams},null,8,["data","borderless","header-border","compact","columns","onSortChange"])],4)):(0,i.kq)("",!0)],4)):h.isMap?((0,i.wg)(),(0,i.j4)(v,{key:4,loading:n.loading,data:n.data,columns:h.normalizedColumns,style:(0,r.j5)({height:n.withFooter?"calc(100% - 34px)":"100%"})},null,8,["loading","data","columns","style"])):((0,i.wg)(),(0,i.iD)("div",{key:5,style:(0,r.j5)({height:"calc(100% - 34px)"})},[(0,i.Wm)(y,{ref:"chart",data:n.data,loading:n.loading,options:n.preferences.visualization_options,columns:h.normalizedColumns,"chart-type":h.chartType},null,8,["data","loading","options","columns","chart-type"])],4)),n.withFooter&&h.showFooter?((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",s,[n.withSettings?((0,i.wg)(),(0,i.j4)(b,{key:0,icon:"md-settings",size:"small",class:"md-icon-only",style:{height:"24px"},onClick:t[0]||(t[0]=function(t){return e.$emit("settings")})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.settings),1)]})),_:1})):(0,i.kq)("",!0)]),(0,i._)("div",a,[h.showPagination?((0,i.wg)(),(0,i.j4)(w,{key:0,current:u.paginationParams.current,total:h.total,"page-size":h.pageSize,"page-size-opts":h.pageSizeOpts,size:"small","show-sizer":!(n.minimalPagination||h.isMarkdown||h.isHtml||h.isValue),"show-elevator":!n.minimalPagination,"show-total":!0,"onUpdate:current":t[1]||(t[1]=function(e){return u.paginationParams.current=e}),"onUpdate:pageSize":t[2]||(t[2]=function(e){return u.paginationParams.pageSize=e})},null,8,["current","total","page-size","page-size-opts","show-sizer","show-elevator"])):(0,i.kq)("",!0)]),(0,i._)("div",l,[!n.withTableToggle||h.isMarkdown||h.isTable||h.isValue||h.isHtml?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(b,{key:0,icon:u.isTableToggle?"md-analytics":"md-grid",type:"text",size:"small",style:{height:"24px"},onClick:h.toggleTable},null,8,["icon","onClick"])),n.withAlert?((0,i.wg)(),(0,i.j4)(b,{key:1,icon:"md-notifications",type:"text",size:"small",class:"md-icon-only",style:{height:"24px"},onClick:t[3]||(t[3]=function(t){return e.$router.push({name:"new_alert",query:{query_id:n.queryId}})})},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.alert),1)]})),_:1})):(0,i.kq)("",!0),n.data.length&&n.withFooterButtonLabels?((0,i.wg)(),(0,i.j4)(b,{key:2,icon:"md-download",type:"text",size:"small",style:{height:"24px"},class:"md-icon-only",onClick:h.download},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.i18n.download),1)]})),_:1},8,["onClick"])):n.data.length?((0,i.wg)(),(0,i.j4)(b,{key:3,icon:"md-download",type:"text",size:"small",style:{height:"24px"},class:"md-icon-only",onClick:h.download},null,8,["onClick"])):(0,i.kq)("",!0)])])):(0,i.kq)("",!0)],64)}]])},6383:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(6252);n(9653);var r=n(8424);const o={name:"QuerySelect",props:{modelValue:{type:[String,Number],required:!1,default:""},size:{type:String,required:!1,default:"default"}},emits:["update:modelValue"],data:function(){return{value:""}},computed:{queries:function(){return r.db}},watch:{modelValue:function(e){this.value=e},value:function(e){this.$emit("update:modelValue",e)}},created:function(){this.value=this.modelValue,(0,r.Kp)()},methods:{}},s=(0,n(3744).Z)(o,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("MSelect");return(0,i.wg)(),(0,i.j4)(a,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.value=e}),filterable:"",size:n.size,options:s.queries,"label-key":"name","value-key":"id",placeholder:e.i18n.select_query},null,8,["modelValue","size","options","placeholder"])}]])},4567:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(6252);n(3710),n(9653),n(8309);const r={name:"VariableInput",components:{FormInput:n(1699).Z},props:{modelValue:{type:[Date,Number,String,Object,Array],required:!1,default:""},variable:{type:Object,required:!0}},emits:["update:modelValue","select","enter"],computed:{columnProps:function(){var e,t=this.variable.variable_type||"text",n={name:this.variable.name,column_type:"text"===t?"input":t,is_array:!!this.variable.is_array};return"reference"===t&&(n.reference={model_name:this.variable.reference_resource}),"select"===t&&(null!==(e=this.variable.select_options)&&void 0!==e&&e.length?n.format={select_options:this.variable.select_options}:n.column_type="input"),n}},watch:{"variable.variable_type":function(){this.$emit("update:modelValue","")},"variable.is_array":function(e){this.$emit("update:modelValue",e?[]:"")}}},o=(0,n(3744).Z)(r,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("FormInput");return(0,i.wg)(),(0,i.j4)(a,{"model-value":n.modelValue,column:s.columnProps,onSelect:t[0]||(t[0]=function(t){return e.$emit("select")}),onEnter:t[1]||(t[1]=function(t){return e.$emit("enter")}),"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value","column"])}]])},9724:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c}),n(8309);var i=n(6252),r=n(9963);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(9070),n(7941),n(2526),n(7327),n(1539),n(5003),n(9554),n(4747),n(9337),n(3321);const l={name:"VariablesForm",components:{VariableInput:n(4567).Z},props:{data:{type:Object,required:!1,default:function(){return{}}},variables:{type:Array,required:!0}},emits:["update:data","submit"],data:function(){return{dataValue:s({},this.data)}},watch:{data:function(e){this.dataValue=s({},e)}}},c=(0,n(3744).Z)(l,[["render",function(e,t,n,o,s,a){var l=(0,i.up)("VariableInput"),c=(0,i.up)("FormItem"),u=(0,i.up)("VForm");return(0,i.wg)(),(0,i.j4)(u,{model:s.dataValue,class:"row",onSubmit:t[3]||(t[3]=(0,r.iM)((function(){}),["prevent"]))},{default:(0,i.w5)((function(){return[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.variables,(function(n){return(0,i.wg)(),(0,i.j4)(c,{key:n.name,label:n.display_name,class:"col-6 col-lg-2 col-md-4 col-sm-4 mb-0 px-1"},{default:(0,i.w5)((function(){return[(0,i.Wm)(l,{modelValue:s.dataValue[n.name],"onUpdate:modelValue":[function(e){return s.dataValue[n.name]=e},t[2]||(t[2]=function(t){return e.$emit("update:data",s.dataValue)})],variable:n,onSelect:t[0]||(t[0]=function(t){return e.$emit("submit")}),onEnter:t[1]||(t[1]=function(t){return e.$emit("submit")})},null,8,["modelValue","onUpdate:modelValue","variable"])]})),_:2},1032,["label"])})),128))]})),_:1},8,["model"])}],["__scopeId","data-v-450c1e55"]])},2368:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(6252),r=n(3577),o=n(1995),s=n(5763),a=n(8564);const l={name:"SettingsMask",props:{resource:{type:Object,required:!1,default:null},preferences:{type:Object,required:!1,default:null},settingsType:{type:String,required:!1,default:null},buttonOnly:{type:Boolean,required:!1,default:!1}},computed:{},methods:{titleize:s.MI,openSettings:function(){this.preferences?((0,a.js)(),this.$router.push({name:this.settingsType,params:{id:this.preferences["".concat(this.settingsType,"_id")]}})):(0,o.r)({selectedResource:this.resource,settingsType:this.settingsType})}}},c=(0,n(3744).Z)(l,[["render",function(e,t,n,o,s,a){var l=(0,i.up)("VButton");return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)({"settings-mask":!n.buttonOnly})},[(0,i.Wm)(l,{ghost:"",class:"bg-white",icon:"md-create",type:"warning",onClick:a.openSettings},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(a.titleize(n.settingsType||e.i18n.resources)),1)]})),_:1},8,["onClick"])],2)}]])},403:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var i=n(6252);n(6699),n(2222),n(1249),n(8309),n(5827),n(1539),n(9554),n(4747),n(2564),n(8674),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(2443),n(3680),n(3706),n(2703),n(9070),n(8011),n(489),n(8304),n(5069),n(7042);var r=n(3239),o=n.n(r),s=n(2262),a=n(3577),l=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,i){return e[0]===t&&(n=i,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(t,n){var i=e(this.__entries__,t);~i?this.__entries__[i][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,i=e(n,t);~i&&n.splice(i,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,i=this.__entries__;n<i.length;n++){var r=i[n];e.call(t,r[1],r[0])}},t}()}(),c="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,u=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),h="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(u):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},d=["top","right","bottom","left","width","height","size","weight"],p="undefined"!=typeof MutationObserver,f=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,i=!1,r=0;function o(){n&&(n=!1,e()),i&&a()}function s(){h(o)}function a(){var e=Date.now();if(n){if(e-r<2)return;i=!0}else n=!0,i=!1,setTimeout(s,20);r=e}return a}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){c&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),p?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){c&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;d.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),m=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},g=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||u},v=x(0,0,0,0);function y(e){return parseFloat(e)||0}function b(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+y(e["border-"+n+"-width"])}),0)}var w="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof g(e).SVGGraphicsElement}:function(e){return e instanceof g(e).SVGElement&&"function"==typeof e.getBBox};function _(e){return c?w(e)?function(e){var t=e.getBBox();return x(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return v;var i=g(e).getComputedStyle(e),r=function(e){for(var t={},n=0,i=["top","right","bottom","left"];n<i.length;n++){var r=i[n],o=e["padding-"+r];t[r]=y(o)}return t}(i),o=r.left+r.right,s=r.top+r.bottom,a=y(i.width),l=y(i.height);if("border-box"===i.boxSizing&&(Math.round(a+o)!==t&&(a-=b(i,"left","right")+o),Math.round(l+s)!==n&&(l-=b(i,"top","bottom")+s)),!function(e){return e===g(e).document.documentElement}(e)){var c=Math.round(a+o)-t,u=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return x(r.left,r.top,a,l)}(e):v}function x(e,t,n,i){return{x:e,y:t,width:n,height:i}}var k=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=x(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=_(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),C=function(e,t){var n,i,r,o,s,a,l,c=(i=(n=t).x,r=n.y,o=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),m(l,{x:i,y:r,width:o,height:s,top:r,right:i+o,bottom:s+r,left:i}),l);m(this,{target:e,contentRect:c})},S=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new l,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof g(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new k(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof g(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new C(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),A="undefined"!=typeof WeakMap?new WeakMap:new l,T=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=f.getInstance(),i=new S(t,n,this);A.set(this,i)};["observe","unobserve","disconnect"].forEach((function(e){T.prototype[e]=function(){var t;return(t=A.get(this))[e].apply(t,arguments)}}));const O=void 0!==u.ResizeObserver?u.ResizeObserver:T,L=["blur","input","change","changeSelectionStyle","changeSession","copy","focus","paste"],E=(0,i.aZ)({props:{value:{type:String,required:!0},lang:{type:String,default:"text"},theme:{type:String,default:"chrome"},options:Object,placeholder:String,readonly:Boolean,wrap:Boolean,printMargin:{type:[Boolean,Number],default:!0},minLines:Number,maxLines:Number},emits:["update:value","init",...L],render:()=>(0,i.h)("div"),mounted(){const e=this._editor=(0,s.Xl)(r.edit(this.$el,{placeholder:this.placeholder,readOnly:this.readonly,value:this.value,mode:"ace/mode/"+this.lang,theme:"ace/theme/"+this.theme,wrap:this.wrap,printMargin:this.printMargin,useWorker:!1,minLines:this.minLines,maxLines:this.maxLines,...this.options}));this._contentBackup=this.value,this._isSettingContent=!1,e.on("change",(()=>{if(this._isSettingContent)return;const t=e.getValue();this._contentBackup=t,this.$emit("update:value",t)})),L.forEach((t=>{const n="on"+(0,a.kC)(t);"function"==typeof this.$.vnode.props[n]&&e.on(t,this.$emit.bind(this,t))})),this._ro=new O((()=>e.resize())),this._ro.observe(this.$el),this.$emit("init",e)},beforeUnmount(){var e,t;null===(e=this._ro)||void 0===e||e.disconnect(),null===(t=this._editor)||void 0===t||t.destroy()},methods:{focus(){this._editor.focus()},blur(){this._editor.blur()},selectAll(){this._editor.selectAll()}},watch:{value(e){if(this._contentBackup!==e){try{this._isSettingContent=!0,this._editor.setValue(e,1)}finally{this._isSettingContent=!1}this._contentBackup=e}},theme(e){this._editor.setTheme("ace/theme/"+e)},options(e){this._editor.setOptions(e)},readonly(e){this._editor.setReadOnly(e)},placeholder(e){this._editor.setOption("placeholder",e)},wrap(e){this._editor.setWrapBehavioursEnabled(e)},printMargin(e){this._editor.setOption("printMargin",e)},lang(e){this._editor.setOption("mode","ace/mode/"+e)},minLines(e){this._editor.setOption("minLines",e)},maxLines(e){this._editor.setOption("maxLines",e)}}});n(7136),n(1413),n(9411),n(2568),n(2679);var D=n(48);function P(){P=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),s=new k(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===u)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function h(){}function d(){}function p(){}var f={};a(f,r,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==t&&n.call(g,r)&&(f=g);var v=p.prototype=h.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,s,a){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,a)}))}a(l.arg)}var r;this._invoke=function(e,n){function o(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,a(v,"constructor",p),a(p,"constructor",d),d.displayName=a(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),a(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new b(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(v),a(v,s,"Generator"),a(v,r,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function M(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}o().define("ace/theme/motor",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-motor",t.cssText='.ace-motor .ace_gutter {\nbackground: #edf2f5;\ncolor: slategray;\noverflow : hidden;\n}\n.ace-motor .ace_print-margin {\ndisplay: none;\n}\n.ace-motor {\nbackground-color: #FFFFFF;\ncolor: #515a6e;\n}\n.ace-motor .ace_cursor {\ncolor: slategray;\n}\n.ace-motor .ace_invisible {\ncolor: rgb(191, 191, 191);\n}\n.ace-motor .ace_placeholder {\nbackground-color: #edf2f5;\nfont-family: Fira code, Fira Mono, Consolas, Menlo, Courier, monospace;\nletter-spacing: inherit;\nline-height: inherit;\nfont-size: 14px;\nopacity: 0.35;\nmargin: 0 5px;\ntransform: none;\n}\n.ace-motor .ace_constant.ace_buildin {\ncolor: rgb(88, 72, 246);\n}\n.ace-motor .ace_constant.ace_language {\ncolor: rgb(88, 92, 246);\n}\n.ace-motor .ace_constant.ace_library {\ncolor: rgb(6, 150, 14);\n}\n.ace-motor .ace_invalid {\nbackground-color: rgb(153, 0, 0);\ncolor: white;\n}\n.ace-motor .ace_support.ace_function {\ncolor: #DD4A68;\n}\n.ace-motor .ace_support.ace_constant {\ncolor: #e90;\n}\n.ace-motor .ace_support.ace_type,\n.ace-motor .ace_support.ace_class\n.ace-motor .ace_support.ace_other {\ncolor: rgb(109, 121, 222);\n}\n.ace-motor .ace_variable.ace_parameter {\nfont-style:italic;\ncolor:#FD971F;\n}\n.ace-motor .ace_keyword.ace_operator {\ncolor: #9a6e3a;\n}\n.ace-motor .ace_comment {\ncolor: #236e24;\n}\n.ace-motor .ace_comment.ace_doc {\ncolor: #236e24;\n}\n.ace-motor .ace_comment.ace_doc.ace_tag {\ncolor: #236e24;\n}\n.ace-motor .ace_constant.ace_numeric {\ncolor: #905;\n}\n.ace-motor .ace_variable {\ncolor: rgb(49, 132, 149);\n}\n.ace-motor .ace_xml-pe {\ncolor: rgb(104, 104, 91);\n}\n.ace-motor .ace_entity.ace_name.ace_function {\ncolor: #e90;\n}\n.ace-motor .ace_heading {\ncolor: #e90\n}\n.ace-motor .ace_list {\ncolor: #515a6e;\n}\n.ace-motor .ace_marker-layer .ace_selection {\nbackground: rgb(181, 213, 255);\n}\n.ace-motor .ace_marker-layer .ace_step {\nbackground: rgb(252, 255, 0);\n}\n.ace-motor .ace_marker-layer .ace_stack {\nbackground: rgb(164, 229, 101);\n}\n.ace-motor .ace_marker-layer .ace_bracket {\nmargin: -1px 0 0 -1px;\nborder: 1px solid rgb(192, 192, 192);\n}\n.ace-motor .ace_marker-layer .ace_active-line {\nbackground: rgba(0, 0, 0, 0.07);\n}\n.ace-motor .ace_gutter-active-line {\nbackground-color : #dcdcdc;\n}\n.ace-motor .ace_marker-layer .ace_selected-word {\nbackground: rgb(250, 250, 255);\nborder: 1px solid rgb(200, 200, 250);\n}\n.ace-motor .ace_storage,\n.ace-motor .ace_keyword,\n.ace-motor .ace_meta.ace_tag {\ncolor: #07a;\n}\n.ace-motor .ace_string.ace_regex {\ncolor: rgb(255, 0, 0)\n}\n.ace-motor .ace_string.ace_emphasis {\ncolor: #515a6e;\nfont-style: italic;\n}\n.ace-motor .ace_string.ace_strong {\ncolor: #515a6e;\nfont-weight: bold;\n}\n.ace-motor .ace_string {\ncolor: #690;\n}\n.ace-motor .ace_entity.ace_other.ace_attribute-name {\ncolor: #994409;\n}\n.ace-motor .ace_indent-guide {\nbackground: url("data:imagegpng;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n',e("../lib/dom").importCssString(t.cssText,t.cssClass)}));const $={name:"CodeEditor",components:{VAceEditor:E},props:{modelValue:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:""},language:{type:String,required:!0},columns:{type:Array,required:!1,default:function(){return[]}},autofocus:{type:Boolean,required:!1,default:!1},variables:{type:Array,required:!1,default:function(){return[]}}},emits:["update:modelValue","run"],computed:{completions:function(){return["markdown","graphqlschema"].includes(this.language)?this.columnCompletions.concat(this.variablesCompletions):this.schemaCompletions.concat(this.variablesCompletions)},columnCompletions:function(){return this.columns.map((function(e){return{name:e.name,value:e.name,meta:"column"}}))},variablesCompletions:function(){return this.variables.map((function(e){return{name:e.name,value:e.name,meta:"variable"}}))},schemaCompletions:function(){return D.fK.reduce((function(e,t){return e.push({name:t.table_name,value:t.table_name,meta:"table"}),t.columns.forEach((function(t){var n;t.virtual||"has_one"===(null===(n=t.reference)||void 0===n?void 0:n.reference_type)||e.push({name:t.name,value:t.name,meta:"column"})})),e}),[])}},mounted:function(){this.$el.querySelector("textarea").addEventListener("keydown",this.onCmdEnter)},beforeUnmount:function(){this.$el.querySelector("textarea").removeEventListener("keydown",this.onCmdEnter)},methods:{editorInit:function(e){var t,n,i=this;e.renderer.setScrollMargin(8,8,0,0),e.setOptions({indentedSoftWrap:!1,enableLiveAutocompletion:!0,showPrintMargin:!1,highlightActiveLine:!1,highlightGutterLine:!1}),o().require("ace/ext/language_tools").addCompleter({getCompletions:(t=P().mark((function e(t,n,r,o,s){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(null,i.completions);case 1:case"end":return e.stop()}}),e)})),n=function(){var e=this,n=arguments;return new Promise((function(i,r){var o=t.apply(e,n);function s(e){M(o,i,r,s,a,"next",e)}function a(e){M(o,i,r,s,a,"throw",e)}s(void 0)}))},function(e,t,i,r,o){return n.apply(this,arguments)})}),this.autofocus&&setTimeout((function(){e.focus()}),100)},onCmdEnter:function(e){13===e.keyCode&&e.metaKey&&this.$emit("run")}}},R=(0,n(3744).Z)($,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("v-ace-editor");return(0,i.wg)(),(0,i.j4)(a,{value:n.modelValue,placeholder:n.placeholder,lang:n.language,class:"code-editor",wrap:!0,style:{height:"100%"},theme:"motor",onInit:s.editorInit,"onUpdate:value":t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["value","placeholder","lang","onInit"])}]])},9215:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(6252),r=["USD","EUR","GBP","JPY","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHF","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","FJD","FKP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RUB","RWF","SVC","SZL","UAH","VND","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"];const o={name:"CurrencySelect",props:{modelValue:{type:[String],required:!1,default:"USD"}},emits:["update:modelValue"],computed:{currencyOptions:function(){return r}}},s=(0,n(3744).Z)(o,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("MSelect");return(0,i.wg)(),(0,i.j4)(a,{"model-value":n.modelValue,filterable:"",options:s.currencyOptions,"with-deselect":!1,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value","options"])}]])},3912:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(6252),r=n(3577),o=["src"];n(9653);var s=n(649);const a={name:"CustomIcon",props:{type:{type:String,required:!0},size:{type:[Number,String],required:!1,default:"20"}},computed:{path:function(){return s.sb+"assets/icons/"+this.type+".svg"}}},l=(0,n(3744).Z)(a,[["render",function(e,t,n,s,a,l){return(0,i.wg)(),(0,i.iD)("img",{src:l.path,style:(0,r.j5)({width:n.size+"px"})},null,12,o)}],["__scopeId","data-v-2648e953"]])},2822:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(6252),r=n(3577),o=["innerHTML"];n(7941);var s=n(7856),a=n.n(s),l=n(7441),c=n(7209),u=new(n(3459).Kj);const h={name:"QueryMarkdown",props:{markdown:{type:String,required:!1,default:""},loading:{type:Boolean,required:!1,default:!1},withoutData:{type:Boolean,required:!1,default:!1},renderTemplate:{type:Boolean,required:!1,default:!0},data:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{renderedTemplate:""}},computed:{isNoData:function(){return!Object.keys(this.data).length},sanitizedHtml:function(){return this.withoutData||!this.isNoData?a().sanitize((0,l.TU)(this.renderTemplate?this.renderedTemplate:this.markdown)):this.loading?"":"No data"}},watch:{markdown:(0,c.Z)((function(){this.render()}),500),data:(0,c.Z)((function(){this.render()}),500)},mounted:function(){this.render()},methods:{render:function(){var e=this;u.parseAndRender(this.markdown,this.data).then((function(t){e.renderedTemplate=t})).catch((function(){}))}}},d=(0,n(3744).Z)(h,[["render",function(e,t,n,s,a,l){return(0,i.wg)(),(0,i.iD)("div",{class:(0,r.C_)([l.isNoData&&!n.withoutData?"d-flex align-items-center justify-content-center":"bg-white","richtext"]),innerHTML:l.sanitizedHtml},null,10,o)}]])},733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(6252);function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(6699),n(2023),n(7327),n(1539),n(1249),n(4916),n(3123),n(3210),n(2772),n(4723),n(6541),n(5827),n(9600),n(4944),n(3792),n(9720),n(9753),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(7042),n(8309),n(1038);const o={name:"OptionsSelect",props:{modelValue:{type:[Array,String,Object],required:!1,default:function(){return[]}},optionsText:{type:[String],required:!1,default:""}},emits:["update:modelValue"],data:function(){return{optionsString:""}},computed:{optionsArray:function(){if(this.optionsString){var e=this.optionsString.includes("\n")?"\n":",",t=this.optionsString.split(e).map((function(e){return e.trim()})).filter((function(e,t,n){return t===n.indexOf(e)})).filter((function(e){return!e.match(/^\s*$/)}));return t.every((function(e){return e.match(/[;,]/)}))?t.reduce((function(e,t){var n,i,o=(n=t.split(/[;,]/),i=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(n,i)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=o[0],a=o[1];return e[s.trim()]=a.trim(),e}),{}):t}return[]}},watch:{modelValue:function(){this.modelValue||(this.optionsString="")},optionsText:function(){this.optionsString=this.optionsText}},created:function(){this.assignOptionsString()},methods:{assignOptionsString:function(){this.modelValue.length?this.optionsString=Array(this.modelValue).flat().join("\n"):this.optionsString=Object.entries(this.modelValue).map((function(e){return e.join(",")})).join("\n")}}},s=(0,n(3744).Z)(o,[["render",function(e,t,n,r,o,s){var a=(0,i.up)("VInput");return(0,i.wg)(),(0,i.j4)(a,{modelValue:o.optionsString,"onUpdate:modelValue":[t[0]||(t[0]=function(e){return o.optionsString=e}),t[1]||(t[1]=function(t){return e.$emit("update:modelValue",s.optionsArray)})],type:"textarea",placeholder:e.i18n.options_separated_with_new_line_or_comma,autosize:{minRows:3,maxRows:7}},null,8,["modelValue","placeholder"])}]])},4524:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(6252),r=n(3577),o={class:"ivu-tabs"},s={class:"ivu-tabs-bar"},a={tabindex:"0",class:"ivu-tabs-nav-container"},l={class:"ivu-tabs-nav-wrap",style:{position:"relative"}},c={class:"ivu-tabs-scroll"};n(2772);const u={name:"SimpleTabs",props:{tabs:{type:Array,required:!0},position:{type:String,required:!1,default:"start"},modelValue:{type:String,required:!1,default:""}},emits:["update:modelValue"],data:function(){return{currentTab:"",tabRefs:[]}},watch:{modelValue:function(e){this.currentTab=e}},mounted:function(){var e;this.currentTab=this.modelValue||(null===(e=this.tabs[0])||void 0===e?void 0:e.value)},beforeUpdate:function(){this.tabRefs=[]},methods:{setTabRef:function(e){e&&this.tabRefs.push(e)},onTabClick:function(e){e.value&&(this.currentTab=e.value,this.$emit("update:modelValue",e.value));var t=this.tabs.indexOf(e),n=this.tabRefs[t+1]||this.tabRefs[t],i=(null==n?void 0:n.$el)||n;null==i||i.scrollIntoView({inline:"end",block:"start",behavior:"smooth"})}}},h=(0,n(3744).Z)(u,[["render",function(e,t,n,u,h,d){return(0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",s,[(0,i._)("div",a,[(0,i._)("div",l,[(0,i._)("div",c,[(0,i._)("div",{class:(0,r.C_)(["ivu-tabs-nav","text-".concat(n.position," w-100")])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.tabs,(function(e){return(0,i.wg)(),(0,i.j4)((0,i.LL)(e.to?"RouterLink":"div"),{ref_for:!0,ref:d.setTabRef,key:e.value,class:(0,r.C_)([e.value===h.currentTab?"ivu-tabs-tab-focused ivu-tabs-tab-active":"","ivu-tabs-tab"]),to:e.to,onClick:function(t){return d.onTabClick(e)}},{default:(0,i.w5)((function(){return[(0,i.Uk)((0,r.zw)(e.label),1)]})),_:2},1032,["class","to","onClick"])})),128))],2)])])])]),(0,i.WI)(e.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-2c7fccee"]])},4654:()=>{},7441:(e,t,n)=>{"use strict";n.d(t,{TU:()=>N});let i={baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const r=/[&<>"']/,o=/[&<>"']/g,s=/[<>"']|&(?!#?\w+;)/,a=/[<>"']|&(?!#?\w+;)/g,l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},c=e=>l[e];function u(e,t){if(t){if(r.test(e))return e.replace(o,c)}else if(s.test(e))return e.replace(a,c);return e}const h=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function d(e){return e.replace(h,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const p=/(^|[^\[])\^/g;function f(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,i)=>(i=(i=i.source||i).replace(p,"$1"),e=e.replace(t,i),n),getRegex:()=>new RegExp(e,t)};return n}const m=/[^\w:]/g,g=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function v(e,t,n){if(e){let e;try{e=decodeURIComponent(d(n)).replace(m,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!g.test(n)&&(n=function(e,t){y[" "+e]||(b.test(e)?y[" "+e]=e+"/":y[" "+e]=S(e,"/",!0));const n=-1===(e=y[" "+e]).indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(w,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(_,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const y={},b=/^[^:]+:\/*[^/]*$/,w=/^([^:]+:)[\s\S]*$/,_=/^([^:]+:\/*[^/]*)[\s\S]*$/,x={exec:function(){}};function k(e){let t,n,i=1;for(;i<arguments.length;i++)for(n in t=arguments[i],t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function C(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let i=!1,r=t;for(;--r>=0&&"\\"===n[r];)i=!i;return i?"|":" |"})).split(/ \|/);let i=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;i<n.length;i++)n[i]=n[i].trim().replace(/\\\|/g,"|");return n}function S(e,t,n){const i=e.length;if(0===i)return"";let r=0;for(;r<i;){const o=e.charAt(i-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.slice(0,i-r)}function A(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function T(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function O(e,t,n,i){const r=t.href,o=t.title?u(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){i.state.inLink=!0;const e={type:"link",raw:n,href:r,title:o,text:s,tokens:i.inlineTokens(s,[])};return i.state.inLink=!1,e}return{type:"image",raw:n,href:r,title:o,text:u(s)}}class L{constructor(e){this.options=e||i}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:S(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const i=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=i.length?e.slice(i.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim():t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=S(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}const n={type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:[]};return this.lexer.inline(n.text,n.tokens),n}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(e,[]),text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,i,r,o,s,a,l,c,u,h,d,p,f=t[1].trim();const m=f.length>1,g={type:"list",raw:"",ordered:m,start:m?+f.slice(0,-1):"",loose:!1,items:[]};f=m?`\\d{1,9}\\${f.slice(-1)}`:`\\${f}`,this.options.pedantic&&(f=m?f:"[*+-]");const v=new RegExp(`^( {0,3}${f})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,t=v.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0],u=e.split("\n",1)[0],this.options.pedantic?(o=2,d=c.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,d=c.slice(o),o+=t[1].length),a=!1,!c&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),p=!0),!p){const t=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),i=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`);for(;e&&(h=e.split("\n",1)[0],c=h,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!t.test(c))&&!i.test(e);){if(c.search(/[^ ]/)>=o||!c.trim())d+="\n"+c.slice(o);else{if(a)break;d+="\n"+c}a||c.trim()||(a=!0),n+=h+"\n",e=e.substring(h.length+1)}}g.loose||(l?g.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(d),i&&(r="[ ] "!==i[0],d=d.replace(/^\[[ xX]\] +/,""))),g.items.push({type:"list_item",raw:n,task:!!i,checked:r,loose:!1,text:d}),g.raw+=n}g.items[g.items.length-1].raw=n.trimRight(),g.items[g.items.length-1].text=d.trimRight(),g.raw=g.raw.trimRight();const y=g.items.length;for(s=0;s<y;s++){this.lexer.state.top=!1,g.items[s].tokens=this.lexer.blockTokens(g.items[s].text,[]);const e=g.items[s].tokens.filter((e=>"space"===e.type)),t=e.every((e=>{const t=e.raw.split("");let n=0;for(const e of t)if("\n"===e&&(n+=1),n>1)return!0;return!1}));!g.loose&&e.length&&t&&(g.loose=!0,g.items[s].loose=!0)}return g}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};return this.options.sanitize&&(e.type="paragraph",e.text=this.options.sanitizer?this.options.sanitizer(t[0]):u(t[0]),e.tokens=[],this.lexer.inline(e.text,e.tokens)),e}}def(e){const t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:C(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,i,r,o,s=e.align.length;for(n=0;n<s;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(s=e.rows.length,n=0;n<s;n++)e.rows[n]=C(e.rows[n],e.header.length).map((e=>({text:e})));for(s=e.header.length,i=0;i<s;i++)e.header[i].tokens=[],this.lexer.inline(e.header[i].text,e.header[i].tokens);for(s=e.rows.length,i=0;i<s;i++)for(o=e.rows[i],r=0;r<o.length;r++)o[r].tokens=[],this.lexer.inline(o[r].text,o[r].tokens);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const e={type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e={type:"paragraph",raw:t[0],text:"\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}text(e){const t=this.rules.block.text.exec(e);if(t){const e={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(e.text,e.tokens),e}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:u(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):u(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=S(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let i=0,r=0;for(;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])i++;else if(e[r]===t[1]&&(i--,i<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],i="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],i=e[3])}else i=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),O(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:i?i.replace(this.rules.inline._escapes,"$1"):i},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e||!e.href){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return O(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i)return;if(i[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=i[1]||i[2]||"";if(!r||r&&(""===n||this.rules.inline.punctuation.exec(n))){const n=i[0].length-1;let r,o,s=n,a=0;const l="*"===i[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(i=l.exec(t));){if(r=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!r)continue;if(o=r.length,i[3]||i[4]){s+=o;continue}if((i[5]||i[6])&&n%3&&!((n+o)%3)){a+=o;continue}if(s-=o,s>0)continue;if(o=Math.min(o,o+s+a),Math.min(n,o)%2){const t=e.slice(1,n+i.index+o);return{type:"em",raw:e.slice(0,n+i.index+o+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}const t=e.slice(2,n+i.index+o-1);return{type:"strong",raw:e.slice(0,n+i.index+o+1),text:t,tokens:this.lexer.inlineTokens(t,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),i=/^ /.test(e)&&/ $/.test(e);return n&&i&&(e=e.substring(1,e.length-1)),e=u(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,i;return"@"===n[2]?(e=u(this.options.mangle?t(n[1]):n[1]),i="mailto:"+e):(e=u(n[1]),i=e),{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,i;if("@"===n[2])e=u(this.options.mangle?t(n[0]):n[0]),i="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=u(n[0]),i="www."===n[1]?"http://"+e:e}return{type:"link",raw:n[0],text:e,href:i,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):u(n[0]):n[0]:u(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const E={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:x,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};E.def=f(E.def).replace("label",E._label).replace("title",E._title).getRegex(),E.bullet=/(?:[*+-]|\d{1,9}[.)])/,E.listItemStart=f(/^( *)(bull) */).replace("bull",E.bullet).getRegex(),E.list=f(E.list).replace(/bull/g,E.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+E.def.source+")").getRegex(),E._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",E._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,E.html=f(E.html,"i").replace("comment",E._comment).replace("tag",E._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),E.paragraph=f(E._paragraph).replace("hr",E.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",E._tag).getRegex(),E.blockquote=f(E.blockquote).replace("paragraph",E.paragraph).getRegex(),E.normal=k({},E),E.gfm=k({},E.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),E.gfm.table=f(E.gfm.table).replace("hr",E.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",E._tag).getRegex(),E.gfm.paragraph=f(E._paragraph).replace("hr",E.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",E.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",E._tag).getRegex(),E.pedantic=k({},E.normal,{html:f("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",E._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:x,paragraph:f(E.normal._paragraph).replace("hr",E.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",E.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const D={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:x,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:x,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function P(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function M(e){let t,n,i="";const r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),i+="&#"+n+";";return i}D._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",D.punctuation=f(D.punctuation).replace(/punctuation/g,D._punctuation).getRegex(),D.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,D.escapedEmSt=/\\\*|\\_/g,D._comment=f(E._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),D.emStrong.lDelim=f(D.emStrong.lDelim).replace(/punct/g,D._punctuation).getRegex(),D.emStrong.rDelimAst=f(D.emStrong.rDelimAst,"g").replace(/punct/g,D._punctuation).getRegex(),D.emStrong.rDelimUnd=f(D.emStrong.rDelimUnd,"g").replace(/punct/g,D._punctuation).getRegex(),D._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,D._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,D._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,D.autolink=f(D.autolink).replace("scheme",D._scheme).replace("email",D._email).getRegex(),D._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,D.tag=f(D.tag).replace("comment",D._comment).replace("attribute",D._attribute).getRegex(),D._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,D._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,D._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,D.link=f(D.link).replace("label",D._label).replace("href",D._href).replace("title",D._title).getRegex(),D.reflink=f(D.reflink).replace("label",D._label).replace("ref",E._label).getRegex(),D.nolink=f(D.nolink).replace("ref",E._label).getRegex(),D.reflinkSearch=f(D.reflinkSearch,"g").replace("reflink",D.reflink).replace("nolink",D.nolink).getRegex(),D.normal=k({},D),D.pedantic=k({},D.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:f(/^!?\[(label)\]\((.*?)\)/).replace("label",D._label).getRegex(),reflink:f(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",D._label).getRegex()}),D.gfm=k({},D.normal,{escape:f(D.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),D.gfm.url=f(D.gfm.url,"i").replace("email",D.gfm._extended_email).getRegex(),D.breaks=k({},D.gfm,{br:f(D.br).replace("{2,}","*").getRegex(),text:f(D.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class ${constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||i,this.options.tokenizer=this.options.tokenizer||new L,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:E.normal,inline:D.normal};this.options.pedantic?(t.block=E.pedantic,t.inline=D.pedantic):this.options.gfm&&(t.block=E.gfm,this.options.breaks?t.inline=D.breaks:t.inline=D.gfm),this.tokenizer.rules=t}static get rules(){return{block:E,inline:D}}static lex(e,t){return new $(t).lex(e)}static lexInline(e,t){return new $(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,i,r,o;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?t.push(n):(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),i=t[t.length-1],!i||"paragraph"!==i.type&&"text"!==i.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(i.raw+="\n"+n.raw,i.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startBlock.forEach((function(e){i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r)))i=t[t.length-1],o&&"paragraph"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n),o=r.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===i.type?(i.raw+="\n"+n.raw,i.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let n,i,r,o,s,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+T("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+T("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,o.index)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(s||(a=""),s=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((i=>!!(n=i.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),i=t[t.length-1],i&&"text"===n.type&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,M))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,M))){if(r=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let i;this.options.extensions.startInline.forEach((function(e){i=e.call({lexer:this},n),"number"==typeof i&&i>=0&&(t=Math.min(t,i))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(r,P))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),s=!0,i=t[t.length-1],i&&"text"===i.type?(i.raw+=n.raw,i.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class R{constructor(e){this.options=e||i}code(e,t,n){const i=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,i);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",i?'<pre><code class="'+this.options.langPrefix+u(i,!0)+'">'+(n?e:u(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:u(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,n,i){return this.options.headerIds?`<h${t} id="${this.options.headerPrefix+i.slug(n)}">${e}</h${t}>\n`:`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=v(this.options.sanitize,this.options.baseUrl,e)))return n;let i='<a href="'+u(e)+'"';return t&&(i+=' title="'+t+'"'),i+=">"+n+"</a>",i}image(e,t,n){if(null===(e=v(this.options.sanitize,this.options.baseUrl,e)))return n;let i=`<img src="${e}" alt="${n}"`;return t&&(i+=` title="${t}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class I{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class F{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,i=0;if(this.seen.hasOwnProperty(n)){i=this.seen[e];do{i++,n=e+"-"+i}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=i,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class j{constructor(e){this.options=e||i,this.options.renderer=this.options.renderer||new R,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new I,this.slugger=new F}static parse(e,t){return new j(t).parse(e)}static parseInline(e,t){return new j(t).parseInline(e)}parse(e,t=!0){let n,i,r,o,s,a,l,c,u,h,p,f,m,g,v,y,b,w,_,x="";const k=e.length;for(n=0;n<k;n++)if(h=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(_=this.options.extensions.renderers[h.type].call({parser:this},h),!1!==_||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)))x+=_||"";else switch(h.type){case"space":continue;case"hr":x+=this.renderer.hr();continue;case"heading":x+=this.renderer.heading(this.parseInline(h.tokens),h.depth,d(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":x+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(c="",l="",o=h.header.length,i=0;i<o;i++)l+=this.renderer.tablecell(this.parseInline(h.header[i].tokens),{header:!0,align:h.align[i]});for(c+=this.renderer.tablerow(l),u="",o=h.rows.length,i=0;i<o;i++){for(a=h.rows[i],l="",s=a.length,r=0;r<s;r++)l+=this.renderer.tablecell(this.parseInline(a[r].tokens),{header:!1,align:h.align[r]});u+=this.renderer.tablerow(l)}x+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(h.tokens),x+=this.renderer.blockquote(u);continue;case"list":for(p=h.ordered,f=h.start,m=h.loose,o=h.items.length,u="",i=0;i<o;i++)v=h.items[i],y=v.checked,b=v.task,g="",v.task&&(w=this.renderer.checkbox(y),m?v.tokens.length>0&&"paragraph"===v.tokens[0].type?(v.tokens[0].text=w+" "+v.tokens[0].text,v.tokens[0].tokens&&v.tokens[0].tokens.length>0&&"text"===v.tokens[0].tokens[0].type&&(v.tokens[0].tokens[0].text=w+" "+v.tokens[0].tokens[0].text)):v.tokens.unshift({type:"text",text:w}):g+=w),g+=this.parse(v.tokens,m),u+=this.renderer.listitem(g,b,y);x+=this.renderer.list(u,p,f);continue;case"html":x+=this.renderer.html(h.text);continue;case"paragraph":x+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(u=h.tokens?this.parseInline(h.tokens):h.text;n+1<k&&"text"===e[n+1].type;)h=e[++n],u+="\n"+(h.tokens?this.parseInline(h.tokens):h.text);x+=t?this.renderer.paragraph(u):u;continue;default:{const e='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return x}parseInline(e,t){t=t||this.renderer;let n,i,r,o="";const s=e.length;for(n=0;n<s;n++)if(i=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]&&(r=this.options.extensions.renderers[i.type].call({parser:this},i),!1!==r||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)))o+=r||"";else switch(i.type){case"escape":case"text":o+=t.text(i.text);break;case"html":o+=t.html(i.text);break;case"link":o+=t.link(i.href,i.title,this.parseInline(i.tokens,t));break;case"image":o+=t.image(i.href,i.title,i.text);break;case"strong":o+=t.strong(this.parseInline(i.tokens,t));break;case"em":o+=t.em(this.parseInline(i.tokens,t));break;case"codespan":o+=t.codespan(i.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(i.tokens,t));break;default:{const e='Token with "'+i.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return o}}function N(e,t,n){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if("function"==typeof t&&(n=t,t=null),A(t=k({},N.defaults,t||{})),n){const i=t.highlight;let r;try{r=$.lex(e,t)}catch(e){return n(e)}const o=function(e){let o;if(!e)try{t.walkTokens&&N.walkTokens(r,t.walkTokens),o=j.parse(r,t)}catch(t){e=t}return t.highlight=i,e?n(e):n(null,o)};if(!i||i.length<3)return o();if(delete t.highlight,!r.length)return o();let s=0;return N.walkTokens(r,(function(e){"code"===e.type&&(s++,setTimeout((()=>{i(e.text,e.lang,(function(t,n){if(t)return o(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),s--,0===s&&o()}))}),0))})),void(0===s&&o())}try{const n=$.lex(e,t);return t.walkTokens&&N.walkTokens(n,t.walkTokens),j.parse(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}}N.options=N.setOptions=function(e){var t;return k(N.defaults,e),t=N.defaults,i=t,N},N.getDefaults=function(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}},N.defaults=i,N.use=function(...e){const t=k({},...e),n=N.defaults.extensions||{renderers:{},childTokens:{}};let i;e.forEach((e=>{if(e.extensions&&(i=!0,e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const t=n.renderers?n.renderers[e.name]:null;n.renderers[e.name]=t?function(...n){let i=e.renderer.apply(this,n);return!1===i&&(i=t.apply(this,n)),i}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");n[e.level]?n[e.level].unshift(e.tokenizer):n[e.level]=[e.tokenizer],e.start&&("block"===e.level?n.startBlock?n.startBlock.push(e.start):n.startBlock=[e.start]:"inline"===e.level&&(n.startInline?n.startInline.push(e.start):n.startInline=[e.start]))}e.childTokens&&(n.childTokens[e.name]=e.childTokens)}))),e.renderer){const n=N.defaults.renderer||new R;for(const t in e.renderer){const i=n[t];n[t]=(...r)=>{let o=e.renderer[t].apply(n,r);return!1===o&&(o=i.apply(n,r)),o}}t.renderer=n}if(e.tokenizer){const n=N.defaults.tokenizer||new L;for(const t in e.tokenizer){const i=n[t];n[t]=(...r)=>{let o=e.tokenizer[t].apply(n,r);return!1===o&&(o=i.apply(n,r)),o}}t.tokenizer=n}if(e.walkTokens){const n=N.defaults.walkTokens;t.walkTokens=function(t){e.walkTokens.call(this,t),n&&n.call(this,t)}}i&&(t.extensions=n),N.setOptions(t)}))},N.walkTokens=function(e,t){for(const n of e)switch(t.call(N,n),n.type){case"table":for(const e of n.header)N.walkTokens(e.tokens,t);for(const e of n.rows)for(const n of e)N.walkTokens(n.tokens,t);break;case"list":N.walkTokens(n.items,t);break;default:N.defaults.extensions&&N.defaults.extensions.childTokens&&N.defaults.extensions.childTokens[n.type]?N.defaults.extensions.childTokens[n.type].forEach((function(e){N.walkTokens(n[e],t)})):n.tokens&&N.walkTokens(n.tokens,t)}},N.parseInline=function(e,t){if(null==e)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");A(t=k({},N.defaults,t||{}));try{const n=$.lexInline(e,t);return t.walkTokens&&N.walkTokens(n,t.walkTokens),j.parseInline(n,t)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",t.silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}},N.Parser=j,N.parser=j.parse,N.Renderer=R,N.TextRenderer=I,N.Lexer=$,N.lexer=$.lex,N.Tokenizer=L,N.Slugger=F,N.parse=N,N.options,N.setOptions,N.use,N.walkTokens,N.parseInline,j.parse,$.lex},9276:(e,t,n)=>{"use strict";function i(e,t,n){const i=document.createElement(t||"div");return e&&(i.className=e),n&&n.appendChild(i),i}function r(e,t,n){e.style.width="number"==typeof t?t+"px":t,e.style.height="number"==typeof n?n+"px":n}n.d(t,{Z:()=>f});const o="loading",s="loaded",a="error";function l(e,t,n=document){let i=[];if(e instanceof Element)i=[e];else if(e instanceof NodeList||Array.isArray(e))i=Array.from(e);else{const r="string"==typeof e?e:t;r&&(i=Array.from(n.querySelectorAll(r)))}return i}class c{constructor(e,t){this.type=e,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class u{constructor(e,t){this.element=i("pswp__img pswp__img--placeholder",e?"img":"",t),e&&(this.element.decoding="async",this.element.alt="",this.element.src=e,this.element.setAttribute("role","presentation")),this.element.setAttribute("aria-hiden","true")}setDisplayedSize(e,t){this.element&&("IMG"===this.element.tagName?(r(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=function(e,t,n){let i="translate3d(0px,0px,0)";return void 0!==n&&(i+=" scale3d("+n+","+n+",1)"),i}(0,0,e/250)):r(this.element,e,t))}destroy(){this.element.parentNode&&this.element.remove(),this.element=null}}class h{constructor(e,t,n){this.instance=t,this.data=e,this.index=n,this.element=void 0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.state="idle",this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout((()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=null)}),500)}load(e,t){if(!this.placeholder&&this.slide&&this.usePlaceholder()){const e=this.instance.applyFilters("placeholderSrc",!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new u(e,this.slide.container)}this.element&&!t||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?this.loadImage(e):(this.element=i("pswp__content"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){const t=i("pswp__img","img");this.element=t,this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented||(this.data.srcset&&(t.srcset=this.data.srcset),t.src=this.data.src,t.alt=this.data.alt||"",this.state=o,t.complete?this.onLoaded():(t.onload=()=>{this.onLoaded()},t.onerror=()=>{this.onError()}))}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=s,this.slide&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.slide.container.innerHTML="",this.append(),this.slide.updateContentSize(!0)))}onError(){this.state=a,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===o,this)}isError(){return this.state===a}isImageContent(){return"image"===this.type}setDisplayedSize(e,t){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,t),!this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented&&(r(this.element,e,t),this.isImageContent()&&!this.isError()))){const n=this.element;n.srcset&&(!n.dataset.largestUsedSize||e>parseInt(n.dataset.largestUsedSize,10))&&(n.sizes=e+"px",n.dataset.largestUsedSize=String(e)),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==a,this)}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=null,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=null))}displayError(){if(this.slide){let e=i("pswp__error-msg");e.innerText=this.instance.options.errorMsg,e=this.instance.applyFilters("contentErrorElement",e,this),this.element=i("pswp__content pswp__error-msg-container"),this.element.appendChild(e),this.slide.container.innerHTML="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){this.isAttached=!0,this.state!==a?this.instance.dispatch("contentAppend",{content:this}).defaultPrevented||(this.isImageContent()?this.slide&&!this.slide.isActive&&"decode"in this.element?(this.isDecoding=!0,requestAnimationFrame((()=>{this.element&&"IMG"===this.element.tagName&&this.element.decode().then((()=>{this.isDecoding=!1,requestAnimationFrame((()=>{this.appendImage()}))})).catch((()=>{this.isDecoding=!1}))}))):(!this.placeholder||this.state!==s&&this.state!==a||this.removePlaceholder(),this.appendImage()):this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element)):this.displayError()}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||this.slide&&(this.isImageContent()&&this.isDecoding?this.appendImage():this.isError()&&this.load(!1,!0))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this})}remove(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||this.element&&this.element.parentNode&&this.element.remove()}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||this.slide&&this.element&&!this.element.parentNode&&(this.slide.container.appendChild(this.element),!this.placeholder||this.state!==s&&this.state!==a||this.removePlaceholder()))}}function d(e,t,n,i,r){let o;if(t.paddingFn)o=t.paddingFn(n,i,r)[e];else if(t.padding)o=t.padding[e];else{const n="padding"+e[0].toUpperCase()+e.slice(1);t[n]&&(o=t[n])}return o||0}class p{constructor(e,t,n,i){this.pswp=i,this.options=e,this.itemData=t,this.index=n}update(e,t,n){this.elementSize={x:e,y:t},this.panAreaSize=n;const i=this.panAreaSize.x/this.elementSize.x,r=this.panAreaSize.y/this.elementSize.y;this.fit=Math.min(1,i<r?i:r),this.fill=Math.min(1,i>r?i:r),this.vFill=Math.min(1,r),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",n=this.options[t];if(n)return"function"==typeof n?n(this):"fill"===n?this.fill:"fit"===n?this.fit:Number(n)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,3*this.fit),e*this.elementSize.x>4e3&&(e=4e3/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,4*this.fit)}}class f extends class extends class{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,n=100){this._filters[e]||(this._filters[e]=[]),this._filters[e].push({fn:t,priority:n}),this._filters[e].sort(((e,t)=>e.priority-t.priority)),this.pswp&&this.pswp.addFilter(e,t,n)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter((e=>e.fn!==t))),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){return this._filters[e]&&this._filters[e].forEach((e=>{t[0]=e.fn.apply(this,t)})),t[0]}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this.pswp&&this.pswp.on(e,t)}off(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter((e=>t!==e))),this.pswp&&this.pswp.off(e,t)}dispatch(e,t){if(this.pswp)return this.pswp.dispatch(e,t);const n=new c(e,t);return this._listeners?(this._listeners[e]&&this._listeners[e].forEach((e=>{e.call(this,n)})),n):n}}{getNumItems(){let e;const{dataSource:t}=this.options;t?"length"in t?e=t.length:"gallery"in t&&(t.items||(t.items=this._getGalleryDOMElements(t.gallery)),t.items&&(e=t.items.length)):e=0;const n=this.dispatch("numItems",{dataSource:t,numItems:e});return this.applyFilters("numItems",n.numItems,t)}createContentFromData(e,t){return new h(e,this,t)}getItemData(e){const{dataSource:t}=this.options;let n;Array.isArray(t)?n=t[e]:t&&t.gallery&&(t.items||(t.items=this._getGalleryDOMElements(t.gallery)),n=t.items[e]);let i=n;i instanceof Element&&(i=this._domElementToItemData(i));const r=this.dispatch("itemData",{itemData:i||{},index:e});return this.applyFilters("itemData",r.itemData,e)}_getGalleryDOMElements(e){return this.options.children||this.options.childSelector?l(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},n="A"===e.tagName?e:e.querySelector("a");if(n){t.src=n.dataset.pswpSrc||n.href,n.dataset.pswpSrcset&&(t.srcset=n.dataset.pswpSrcset),t.width=parseInt(n.dataset.pswpWidth,10),t.height=parseInt(n.dataset.pswpHeight,10),t.w=t.width,t.h=t.height,n.dataset.pswpType&&(t.type=n.dataset.pswpType);const i=e.querySelector("img");i&&(t.msrc=i.currentSrc||i.src,t.alt=i.getAttribute("alt")),(n.dataset.pswpCropped||n.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,n)}}{constructor(e){super(),this.options=e||{},this._uid=0}init(){this.onThumbnailsClick=this.onThumbnailsClick.bind(this),l(this.options.gallery,this.options.gallerySelector).forEach((e=>{e.addEventListener("click",this.onThumbnailsClick,!1)}))}onThumbnailsClick(e){if(function(e){if(2===e.which||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)return!0}(e)||window.pswp||!1===window.navigator.onLine)return;let t={x:e.clientX,y:e.clientY};t.x||t.y||(t=null);let n=this.getClickedIndex(e);n=this.applyFilters("clickedIndex",n,e,this);const i={gallery:e.currentTarget};n>=0&&(e.preventDefault(),this.loadAndOpen(n,i,t))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);const t=e.target,n=l(this.options.children,this.options.childSelector,e.currentTarget).findIndex((e=>e===t||e.contains(t)));return-1!==n?n:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,t,n){return!window.pswp&&(this.options.index=e,this.options.initialPointerPos=n,this.shouldOpen=!0,this.preload(e,t),!0)}preload(e,t){const{options:n}=this;t&&(n.dataSource=t);const i=[],r=typeof n.pswpModule;if("function"==typeof(o=n.pswpModule)&&o.prototype&&o.prototype.goTo)i.push(Promise.resolve(n.pswpModule));else{if("string"===r)throw new Error("pswpModule as string is no longer supported");if("function"!==r)throw new Error("pswpModule is not valid");i.push(n.pswpModule())}var o;"function"==typeof n.openPromise&&i.push(n.openPromise()),!1!==n.preloadFirstSlide&&e>=0&&(this._preloadedContent=function(e,t){const n=t.getItemData(e);if(!t.dispatch("lazyLoadSlide",{index:e,itemData:n}).defaultPrevented)return function(e,t,n){const i=t.createContentFromData(e,n);if(!i||!i.lazyLoad)return;const{options:r}=t,o=t.viewportSize||function(e,t){if(e.getViewportSizeFn){const n=e.getViewportSizeFn(e,t);if(n)return n}return{x:document.documentElement.clientWidth,y:window.innerHeight}}(r,t),s=function(e,t,n,i){return{x:t.x-d("left",e,t,n,i)-d("right",e,t,n,i),y:t.y-d("top",e,t,n,i)-d("bottom",e,t,n,i)}}(r,o,e,n),a=new p(r,e,-1);return a.update(i.width,i.height,s),i.lazyLoad(),i.setDisplayedSize(Math.ceil(i.width*a.initial),Math.ceil(i.height*a.initial)),i}(n,t,e)}(e,this));const s=++this._uid;Promise.all(i).then((e=>{if(this.shouldOpen){const t=e[0];this._openPhotoswipe(t,s)}}))}_openPhotoswipe(e,t){if(t!==this._uid&&this.shouldOpen)return;if(this.shouldOpen=!1,window.pswp)return;const n="object"==typeof e?new e.default(this.options):new e(this.options);this.pswp=n,window.pswp=n,Object.keys(this._listeners).forEach((e=>{this._listeners[e].forEach((t=>{n.on(e,t)}))})),Object.keys(this._filters).forEach((e=>{this._filters[e].forEach((t=>{n.addFilter(e,t.fn,t.priority)}))})),this._preloadedContent&&(n.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=null),n.on("destroy",(()=>{this.pswp=null,window.pswp=null})),n.init()}destroy(){this.pswp&&this.pswp.destroy(),this.shouldOpen=!1,this._listeners=null,l(this.options.gallery,this.options.gallerySelector).forEach((e=>{e.removeEventListener("click",this.onThumbnailsClick,!1)}))}}},5826:(e,t,n)=>{"use strict";function i(e,t,n){const i=document.createElement(t||"div");return e&&(i.className=e),n&&n.appendChild(i),i}function r(e,t){return e.x=t.x,e.y=t.y,void 0!==t.id&&(e.id=t.id),e}function o(e){e.x=Math.round(e.x),e.y=Math.round(e.y)}function s(e,t){const n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.sqrt(n*n+i*i)}function a(e,t){return e.x===t.x&&e.y===t.y}function l(e,t,n){return Math.min(Math.max(e,t),n)}function c(e,t,n){let i="translate3d("+e+"px,"+(t||0)+"px,0)";return void 0!==n&&(i+=" scale3d("+n+","+n+",1)"),i}function u(e,t,n,i){e.style.transform=c(t,n,i)}function h(e,t,n,i){e.style.transition=t?t+" "+n+"ms "+(i||"cubic-bezier(.4,0,.22,1)"):"none"}function d(e,t,n){e.style.width="number"==typeof t?t+"px":t,e.style.height="number"==typeof n?n+"px":n}n.d(t,{Z:()=>ee});const p="loading",f="loaded",m="error";let g=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>{g=!0}}))}catch(e){}class v{constructor(){this._pool=[]}add(e,t,n,i){this._toggleListener(e,t,n,i)}remove(e,t,n,i){this._toggleListener(e,t,n,i,!0)}removeAll(){this._pool.forEach((e=>{this._toggleListener(e.target,e.type,e.listener,e.passive,!0,!0)})),this._pool=[]}_toggleListener(e,t,n,i,r,o){if(!e)return;const s=r?"removeEventListener":"addEventListener";t.split(" ").forEach((t=>{if(t){o||(r?this._pool=this._pool.filter((i=>i.type!==t||i.listener!==n||i.target!==e)):this._pool.push({target:e,type:t,listener:n,passive:i}));const a=!!g&&{passive:i||!1};e[s](t,n,a)}}))}}function y(e,t){if(e.getViewportSizeFn){const n=e.getViewportSizeFn(e,t);if(n)return n}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function b(e,t,n,i,r){let o;if(t.paddingFn)o=t.paddingFn(n,i,r)[e];else if(t.padding)o=t.padding[e];else{const n="padding"+e[0].toUpperCase()+e.slice(1);t[n]&&(o=t[n])}return o||0}function w(e,t,n,i){return{x:t.x-b("left",e,t,n,i)-b("right",e,t,n,i),y:t.y-b("top",e,t,n,i)-b("bottom",e,t,n,i)}}class _{constructor(e){this.slide=e,this.currZoomLevel=1,this.center={},this.max={},this.min={},this.reset()}update(e){this.currZoomLevel=e,this.slide.width?(this._updateAxis("x"),this._updateAxis("y"),this.slide.pswp.dispatch("calcBounds",{slide:this.slide})):this.reset()}_updateAxis(e){const{pswp:t}=this.slide,n=this.slide["x"===e?"width":"height"]*this.currZoomLevel,i=b("x"===e?"left":"top",t.options,t.viewportSize,this.slide.data,this.slide.index),r=this.slide.panAreaSize[e];this.center[e]=Math.round((r-n)/2)+i,this.max[e]=n>r?Math.round(r-n)+i:this.center[e],this.min[e]=n>r?i:this.center[e]}reset(){this.center.x=0,this.center.y=0,this.max.x=0,this.max.y=0,this.min.x=0,this.min.y=0}correctPan(e,t){return l(t,this.max[e],this.min[e])}}class x{constructor(e,t,n,i){this.pswp=i,this.options=e,this.itemData=t,this.index=n}update(e,t,n){this.elementSize={x:e,y:t},this.panAreaSize=n;const i=this.panAreaSize.x/this.elementSize.x,r=this.panAreaSize.y/this.elementSize.y;this.fit=Math.min(1,i<r?i:r),this.fill=Math.min(1,i>r?i:r),this.vFill=Math.min(1,r),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){const t=e+"ZoomLevel",n=this.options[t];if(n)return"function"==typeof n?n(this):"fill"===n?this.fill:"fit"===n?this.fit:Number(n)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,3*this.fit),e*this.elementSize.x>4e3&&(e=4e3/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,4*this.fit)}}class k{constructor(e,t,n){this.data=e,this.index=t,this.pswp=n,this.isActive=t===n.currIndex,this.currentResolution=0,this.panAreaSize={},this.isFirstSlide=this.isActive&&!n.opener.isOpen,this.zoomLevels=new x(n.options,e,t,n),this.pswp.dispatch("gettingData",{slide:this,data:this.data,index:t}),this.pan={x:0,y:0},this.content=this.pswp.contentLoader.getContentBySlide(this),this.container=i("pswp__zoom-wrap"),this.currZoomLevel=1,this.width=this.content.width,this.height=this.content.height,this.bounds=new _(this),this.prevDisplayedWidth=-1,this.prevDisplayedHeight=-1,this.pswp.dispatch("slideInit",{slide:this})}setIsActive(e){e&&!this.isActive?this.activate():!e&&this.isActive&&this.deactivate()}append(e){this.holderElement=e,this.data?(this.calculateSize(),this.container.style.transformOrigin="0 0",this.load(),this.appendHeavy(),this.updateContentSize(),this.holderElement.innerHTML="",this.holderElement.appendChild(this.container),this.zoomAndPanToInitial(),this.pswp.dispatch("firstZoomPan",{slide:this}),this.applyCurrentZoomPan(),this.pswp.dispatch("afterSetContent",{slide:this}),this.isActive&&this.activate()):this.holderElement.innerHTML=""}load(){this.content.load(),this.pswp.dispatch("slideLoad",{slide:this})}appendHeavy(){const{pswp:e}=this;!this.heavyAppended&&e.opener.isOpen&&!e.mainScroll.isShifted()&&(this.isActive,1)&&(this.pswp.dispatch("appendHeavy",{slide:this}).defaultPrevented||(this.heavyAppended=!0,this.content.append(),this.pswp.dispatch("appendHeavyContent",{slide:this})))}activate(){this.isActive=!0,this.appendHeavy(),this.content.activate(),this.pswp.dispatch("slideActivate",{slide:this})}deactivate(){this.isActive=!1,this.content.deactivate(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize(),this.pswp.dispatch("slideDeactivate",{slide:this})}destroy(){this.content.hasSlide=!1,this.content.remove(),this.pswp.dispatch("slideDestroy",{slide:this})}resize(){this.currZoomLevel!==this.zoomLevels.initial&&this.isActive?(this.calculateSize(),this.bounds.update(this.currZoomLevel),this.panTo(this.pan.x,this.pan.y)):(this.calculateSize(),this.currentResolution=0,this.zoomAndPanToInitial(),this.applyCurrentZoomPan(),this.updateContentSize())}updateContentSize(e){const t=this.currentResolution||this.zoomLevels.initial;if(!t)return;const n=Math.round(this.width*t)||this.pswp.viewportSize.x,i=Math.round(this.height*t)||this.pswp.viewportSize.y;(this.sizeChanged(n,i)||e)&&this.content.setDisplayedSize(n,i)}sizeChanged(e,t){return(e!==this.prevDisplayedWidth||t!==this.prevDisplayedHeight)&&(this.prevDisplayedWidth=e,this.prevDisplayedHeight=t,!0)}getPlaceholderElement(){if(this.content.placeholder)return this.content.placeholder.element}zoomTo(e,t,n,i){const{pswp:r}=this;if(!this.isZoomable()||r.mainScroll.isShifted())return;r.dispatch("beforeZoomTo",{destZoomLevel:e,centerPoint:t,transitionDuration:n}),r.animations.stopAllPan();const s=this.currZoomLevel;i||(e=l(e,this.zoomLevels.min,this.zoomLevels.max)),this.setZoomLevel(e),this.pan.x=this.calculateZoomToPanOffset("x",t,s),this.pan.y=this.calculateZoomToPanOffset("y",t,s),o(this.pan);const a=()=>{this._setResolution(e),this.applyCurrentZoomPan()};n?r.animations.startTransition({isPan:!0,name:"zoomTo",target:this.container,transform:this.getCurrentTransform(),onComplete:a,duration:n,easing:r.options.easing}):a()}toggleZoom(e){this.zoomTo(this.currZoomLevel===this.zoomLevels.initial?this.zoomLevels.secondary:this.zoomLevels.initial,e,this.pswp.options.zoomAnimationDuration)}setZoomLevel(e){this.currZoomLevel=e,this.bounds.update(this.currZoomLevel)}calculateZoomToPanOffset(e,t,n){if(0==this.bounds.max[e]-this.bounds.min[e])return this.bounds.center[e];t||(t=this.pswp.getViewportCenterPoint());const i=this.currZoomLevel/n;return this.bounds.correctPan(e,(this.pan[e]-t[e])*i+t[e])}panTo(e,t){this.pan.x=this.bounds.correctPan("x",e),this.pan.y=this.bounds.correctPan("y",t),this.applyCurrentZoomPan()}isPannable(){return this.width&&this.currZoomLevel>this.zoomLevels.fit}isZoomable(){return this.width&&this.content.isZoomable()}applyCurrentZoomPan(){this._applyZoomTransform(this.pan.x,this.pan.y,this.currZoomLevel),this===this.pswp.currSlide&&this.pswp.dispatch("zoomPanUpdate",{slide:this})}zoomAndPanToInitial(){this.currZoomLevel=this.zoomLevels.initial,this.bounds.update(this.currZoomLevel),r(this.pan,this.bounds.center),this.pswp.dispatch("initialZoomPan",{slide:this})}_applyZoomTransform(e,t,n){n/=this.currentResolution||this.zoomLevels.initial,u(this.container,e,t,n)}calculateSize(){const{pswp:e}=this;r(this.panAreaSize,w(e.options,e.viewportSize,this.data,this.index)),this.zoomLevels.update(this.width,this.height,this.panAreaSize),e.dispatch("calcSlideSize",{slide:this})}getCurrentTransform(){const e=this.currZoomLevel/(this.currentResolution||this.zoomLevels.initial);return c(this.pan.x,this.pan.y,e)}_setResolution(e){e!==this.currentResolution&&(this.currentResolution=e,this.updateContentSize(),this.pswp.dispatch("resolutionChanged"))}}class C{constructor(e){this.gestures=e,this.pswp=e.pswp,this.startPan={}}start(){r(this.startPan,this.pswp.currSlide.pan),this.pswp.animations.stopAll()}change(){const{p1:e,prevP1:t,dragAxis:n,pswp:i}=this.gestures,{currSlide:r}=i;if("y"===n&&i.options.closeOnVerticalDrag&&r.currZoomLevel<=r.zoomLevels.fit&&!this.gestures.isMultitouch){const n=r.pan.y+(e.y-t.y);if(!i.dispatch("verticalDrag",{panY:n}).defaultPrevented){this._setPanWithFriction("y",n,.6);const e=1-Math.abs(this._getVerticalDragRatio(r.pan.y));i.applyBgOpacity(e),r.applyCurrentZoomPan()}}else this._panOrMoveMainScroll("x")||(this._panOrMoveMainScroll("y"),o(r.pan),r.applyCurrentZoomPan())}end(){const{pswp:e,velocity:t}=this.gestures,{mainScroll:n}=e;let i=0;if(e.animations.stopAll(),n.isShifted()){const r=(n.x-n.getCurrSlideX())/e.viewportSize.x;t.x<-.5&&r<0||t.x<.1&&r<-.5?(i=1,t.x=Math.min(t.x,0)):(t.x>.5&&r>0||t.x>-.1&&r>.5)&&(i=-1,t.x=Math.max(t.x,0)),n.moveIndexBy(i,!0,t.x)}e.currSlide.currZoomLevel>e.currSlide.zoomLevels.max||this.gestures.isMultitouch?this.gestures.zoomLevels.correctZoomPan(!0):(this._finishPanGestureForAxis("x"),this._finishPanGestureForAxis("y"))}_finishPanGestureForAxis(e){const{pswp:t}=this,{currSlide:n}=t,{velocity:i}=this.gestures,{pan:r,bounds:o}=n,s=r[e],a=t.bgOpacity<1&&"y"===e,c=s+.995*i[e]/(1-.995);if(a){const e=this._getVerticalDragRatio(s),n=this._getVerticalDragRatio(c);if(e<0&&n<-.4||e>0&&n>.4)return void t.close()}const u=o.correctPan(e,c);if(s===u)return;const h=u===c?1:.82,d=t.bgOpacity,p=u-s;t.animations.startSpring({name:"panGesture"+e,isPan:!0,start:s,end:u,velocity:i[e],dampingRatio:h,onUpdate:i=>{if(a&&t.bgOpacity<1){const e=1-(u-i)/p;t.applyBgOpacity(l(d+(1-d)*e,0,1))}r[e]=Math.floor(i),n.applyCurrentZoomPan()}})}_panOrMoveMainScroll(e){const{p1:t,pswp:n,dragAxis:i,prevP1:r,isMultitouch:o}=this.gestures,{currSlide:s,mainScroll:a}=n,l=t[e]-r[e],c=a.x+l;if(!l)return;if("x"===e&&!s.isPannable()&&!o)return a.moveTo(c,!0),!0;const{bounds:u}=s,h=s.pan[e]+l;if(n.options.allowPanToNext&&"x"===i&&"x"===e&&!o){const t=a.getCurrSlideX(),n=a.x-t,i=l>0,r=!i;if(h>u.min[e]&&i){if(u.min[e]<=this.startPan[e])return a.moveTo(c,!0),!0;this._setPanWithFriction(e,h)}else if(h<u.max[e]&&r){if(this.startPan[e]<=u.max[e])return a.moveTo(c,!0),!0;this._setPanWithFriction(e,h)}else if(0!==n){if(n>0)return a.moveTo(Math.max(c,t),!0),!0;if(n<0)return a.moveTo(Math.min(c,t),!0),!0}else this._setPanWithFriction(e,h)}else"y"===e&&(a.isShifted()||u.min.y===u.max.y)||this._setPanWithFriction(e,h)}_getVerticalDragRatio(e){return(e-this.pswp.currSlide.bounds.center.y)/(this.pswp.viewportSize.y/3)}_setPanWithFriction(e,t,n){const{pan:i,bounds:r}=this.pswp.currSlide;if(r.correctPan(e,t)!==t||n){const r=Math.round(t-i[e]);i[e]+=r*(n||.35)}else i[e]=t}}function S(e,t,n){return e.x=(t.x+n.x)/2,e.y=(t.y+n.y)/2,e}class A{constructor(e){this.gestures=e,this.pswp=this.gestures.pswp,this._startPan={},this._startZoomPoint={},this._zoomPoint={}}start(){this._startZoomLevel=this.pswp.currSlide.currZoomLevel,r(this._startPan,this.pswp.currSlide.pan),this.pswp.animations.stopAllPan(),this._wasOverFitZoomLevel=!1}change(){const{p1:e,startP1:t,p2:n,startP2:i,pswp:r}=this.gestures,{currSlide:o}=r,a=o.zoomLevels.min,l=o.zoomLevels.max;if(!o.isZoomable()||r.mainScroll.isShifted())return;S(this._startZoomPoint,t,i),S(this._zoomPoint,e,n);let c=1/s(t,i)*s(e,n)*this._startZoomLevel;if(c>o.zoomLevels.initial+o.zoomLevels.initial/15&&(this._wasOverFitZoomLevel=!0),c<a)if(r.options.pinchToClose&&!this._wasOverFitZoomLevel&&this._startZoomLevel<=o.zoomLevels.initial){const e=1-(a-c)/(a/1.2);r.dispatch("pinchClose",{bgOpacity:e}).defaultPrevented||r.applyBgOpacity(e)}else c=a-.15*(a-c);else c>l&&(c=l+.05*(c-l));o.pan.x=this._calculatePanForZoomLevel("x",c),o.pan.y=this._calculatePanForZoomLevel("y",c),o.setZoomLevel(c),o.applyCurrentZoomPan()}end(){const{pswp:e}=this,{currSlide:t}=e;t.currZoomLevel<t.zoomLevels.initial&&!this._wasOverFitZoomLevel&&e.options.pinchToClose?e.close():this.correctZoomPan()}_calculatePanForZoomLevel(e,t){const n=t/this._startZoomLevel;return this._zoomPoint[e]-(this._startZoomPoint[e]-this._startPan[e])*n}correctZoomPan(e){const{pswp:t}=this,{currSlide:n}=t;if(!n.isZoomable())return;void 0===this._zoomPoint.x&&(e=!0);const i=n.currZoomLevel;let o,s=!0;i<n.zoomLevels.initial?o=n.zoomLevels.initial:i>n.zoomLevels.max?o=n.zoomLevels.max:(s=!1,o=i);const c=t.bgOpacity,u=t.bgOpacity<1,h=r({},n.pan);let d=r({},h);e&&(this._zoomPoint.x=0,this._zoomPoint.y=0,this._startZoomPoint.x=0,this._startZoomPoint.y=0,this._startZoomLevel=i,r(this._startPan,h)),s&&(d={x:this._calculatePanForZoomLevel("x",o),y:this._calculatePanForZoomLevel("y",o)}),n.setZoomLevel(o),d={x:n.bounds.correctPan("x",d.x),y:n.bounds.correctPan("y",d.y)},n.setZoomLevel(i);let p=!0;if(a(d,h)&&(p=!1),!p&&!s&&!u)return n._setResolution(o),void n.applyCurrentZoomPan();t.animations.stopAllPan(),t.animations.startSpring({isPan:!0,start:0,end:1e3,velocity:0,dampingRatio:1,naturalFrequency:40,onUpdate:e=>{if(e/=1e3,p||s){if(p&&(n.pan.x=h.x+(d.x-h.x)*e,n.pan.y=h.y+(d.y-h.y)*e),s){const t=i+(o-i)*e;n.setZoomLevel(t)}n.applyCurrentZoomPan()}u&&t.bgOpacity<1&&t.applyBgOpacity(l(c+(1-c)*e,0,1))},onComplete:()=>{n._setResolution(o),n.applyCurrentZoomPan()}})}}function T(e){return!!e.target.closest(".pswp__container")}class O{constructor(e){this.gestures=e}click(e,t){const n=t.target.classList,i=n.contains("pswp__img"),r=n.contains("pswp__item")||n.contains("pswp__zoom-wrap");i?this._doClickOrTapAction("imageClick",e,t):r&&this._doClickOrTapAction("bgClick",e,t)}tap(e,t){T(t)&&this._doClickOrTapAction("tap",e,t)}doubleTap(e,t){T(t)&&this._doClickOrTapAction("doubleTap",e,t)}_doClickOrTapAction(e,t,n){const{pswp:i}=this.gestures,{currSlide:r}=i,o=e+"Action",s=i.options[o];if(!i.dispatch(o,{point:t,originalEvent:n}).defaultPrevented)if("function"!=typeof s)switch(s){case"close":case"next":i[s]();break;case"zoom":r.toggleZoom(t);break;case"zoom-or-close":r.isZoomable()&&r.zoomLevels.secondary!==r.zoomLevels.initial?r.toggleZoom(t):i.options.clickToCloseNonZoomable&&i.close();break;case"toggle-controls":this.gestures.pswp.element.classList.toggle("pswp--ui-visible")}else s.call(i,t,n)}}class L{constructor(e){this.pswp=e,this.dragAxis=void 0,this.p1={},this.p2={},this.prevP1={},this.prevP2={},this.startP1={},this.startP2={},this.velocity={},this._lastStartP1={},this._intervalP1={},this._numActivePoints=0,this._ongoingPointers=[],this._touchEventEnabled="ontouchstart"in window,this._pointerEventEnabled=!!window.PointerEvent,this.supportsTouch=this._touchEventEnabled||this._pointerEventEnabled&&navigator.maxTouchPoints>1,this.supportsTouch||(e.options.allowPanToNext=!1),this.drag=new C(this),this.zoomLevels=new A(this),this.tapHandler=new O(this),e.on("bindEvents",(()=>{e.events.add(e.scrollWrap,"click",(e=>this._onClick(e))),this._pointerEventEnabled?this._bindEvents("pointer","down","up","cancel"):this._touchEventEnabled?(this._bindEvents("touch","start","end","cancel"),e.scrollWrap.ontouchmove=()=>{},e.scrollWrap.ontouchend=()=>{}):this._bindEvents("mouse","down","up")}))}_bindEvents(e,t,n,i){const{pswp:r}=this,{events:o}=r,s=i?e+i:"";o.add(r.scrollWrap,e+t,this.onPointerDown.bind(this)),o.add(window,e+"move",this.onPointerMove.bind(this)),o.add(window,e+n,this.onPointerUp.bind(this)),s&&o.add(r.scrollWrap,s,this.onPointerUp.bind(this))}onPointerDown(e){let t;if("mousedown"!==e.type&&"mouse"!==e.pointerType||(t=!0),t&&e.button>0)return;const{pswp:n}=this;n.opener.isOpen?n.dispatch("pointerDown",{originalEvent:e}).defaultPrevented||(t&&(n.mouseDetected(),this._preventPointerEventBehaviour(e)),n.animations.stopAll(),this._updatePoints(e,"down"),this.pointerDown=!0,1===this._numActivePoints&&(this.dragAxis=null,r(this.startP1,this.p1)),this._numActivePoints>1?(this._clearTapTimer(),this.isMultitouch=!0):this.isMultitouch=!1):e.preventDefault()}onPointerMove(e){e.preventDefault(),this._numActivePoints&&(this._updatePoints(e,"move"),this.pswp.dispatch("pointerMove",{originalEvent:e}).defaultPrevented||(1!==this._numActivePoints||this.isDragging?this._numActivePoints>1&&!this.isZooming&&(this._finishDrag(),this.isZooming=!0,this._updateStartPoints(),this.zoomLevels.start(),this._rafStopLoop(),this._rafRenderLoop()):(this.dragAxis||this._calculateDragDirection(),this.dragAxis&&!this.isDragging&&(this.isZooming&&(this.isZooming=!1,this.zoomLevels.end()),this.isDragging=!0,this._clearTapTimer(),this._updateStartPoints(),this._intervalTime=Date.now(),this._velocityCalculated=!1,r(this._intervalP1,this.p1),this.velocity.x=0,this.velocity.y=0,this.drag.start(),this._rafStopLoop(),this._rafRenderLoop()))))}_finishDrag(){this.isDragging&&(this.isDragging=!1,this._velocityCalculated||this._updateVelocity(!0),this.drag.end(),this.dragAxis=null)}onPointerUp(e){this._numActivePoints&&(this._updatePoints(e,"up"),this.pswp.dispatch("pointerUp",{originalEvent:e}).defaultPrevented||(0===this._numActivePoints&&(this.pointerDown=!1,this._rafStopLoop(),this.isDragging?this._finishDrag():this.isZooming||this.isMultitouch||this._finishTap(e)),this._numActivePoints<2&&this.isZooming&&(this.isZooming=!1,this.zoomLevels.end(),1===this._numActivePoints&&(this.dragAxis=null,this._updateStartPoints()))))}_rafRenderLoop(){(this.isDragging||this.isZooming)&&(this._updateVelocity(),this.isDragging?a(this.p1,this.prevP1)||this.drag.change():a(this.p1,this.prevP1)&&a(this.p2,this.prevP2)||this.zoomLevels.change(),this._updatePrevPoints(),this.raf=requestAnimationFrame(this._rafRenderLoop.bind(this)))}_updateVelocity(e){const t=Date.now(),n=t-this._intervalTime;n<50&&!e||(this.velocity.x=this._getVelocity("x",n),this.velocity.y=this._getVelocity("y",n),this._intervalTime=t,r(this._intervalP1,this.p1),this._velocityCalculated=!0)}_finishTap(e){const{mainScroll:t}=this.pswp;if(t.isShifted())return void t.moveIndexBy(0,!0);if(e.type.indexOf("cancel")>0)return;if("mouseup"===e.type||"mouse"===e.pointerType)return void this.tapHandler.click(this.startP1,e);const n=this.pswp.options.doubleTapAction?300:0;this._tapTimer?(this._clearTapTimer(),s(this._lastStartP1,this.startP1)<25&&this.tapHandler.doubleTap(this.startP1,e)):(r(this._lastStartP1,this.startP1),this._tapTimer=setTimeout((()=>{this.tapHandler.tap(this.startP1,e),this._clearTapTimer()}),n))}_clearTapTimer(){this._tapTimer&&(clearTimeout(this._tapTimer),this._tapTimer=null)}_getVelocity(e,t){const n=this.p1[e]-this._intervalP1[e];return Math.abs(n)>1&&t>5?n/t:0}_rafStopLoop(){this.raf&&(cancelAnimationFrame(this.raf),this.raf=null)}_preventPointerEventBehaviour(e){return e.preventDefault(),!0}_updatePoints(e,t){if(this._pointerEventEnabled){const n=e,i=this._ongoingPointers.findIndex((e=>e.id===n.pointerId));"up"===t&&i>-1?this._ongoingPointers.splice(i,1):"down"===t&&-1===i?this._ongoingPointers.push(this._convertEventPosToPoint(n,{})):i>-1&&this._convertEventPosToPoint(n,this._ongoingPointers[i]),this._numActivePoints=this._ongoingPointers.length,this._numActivePoints>0&&r(this.p1,this._ongoingPointers[0]),this._numActivePoints>1&&r(this.p2,this._ongoingPointers[1])}else{const n=e;this._numActivePoints=0,n.type.indexOf("touch")>-1?n.touches&&n.touches.length>0&&(this._convertEventPosToPoint(n.touches[0],this.p1),this._numActivePoints++,n.touches.length>1&&(this._convertEventPosToPoint(n.touches[1],this.p2),this._numActivePoints++)):(this._convertEventPosToPoint(e,this.p1),"up"===t?this._numActivePoints=0:this._numActivePoints++)}}_updatePrevPoints(){r(this.prevP1,this.p1),r(this.prevP2,this.p2)}_updateStartPoints(){r(this.startP1,this.p1),r(this.startP2,this.p2),this._updatePrevPoints()}_calculateDragDirection(){if(this.pswp.mainScroll.isShifted())this.dragAxis="x";else{const e=Math.abs(this.p1.x-this.startP1.x)-Math.abs(this.p1.y-this.startP1.y);if(0!==e){const t=e>0?"x":"y";Math.abs(this.p1[t]-this.startP1[t])>=10&&(this.dragAxis=t)}}}_convertEventPosToPoint(e,t){return t.x=e.pageX-this.pswp.offset.x,t.y=e.pageY-this.pswp.offset.y,"pointerId"in e?t.id=e.pointerId:void 0!==e.identifier&&(t.id=e.identifier),t}_onClick(e){this.pswp.mainScroll.isShifted()&&(e.preventDefault(),e.stopPropagation())}}class E{constructor(e){this.pswp=e,this.x=0,this.slideWidth=void 0,this.itemHolders=void 0,this.resetPosition()}resize(e){const{pswp:t}=this,n=Math.round(t.viewportSize.x+t.viewportSize.x*t.options.spacing),i=n!==this.slideWidth;i&&(this.slideWidth=n,this.moveTo(this.getCurrSlideX())),this.itemHolders.forEach(((t,n)=>{i&&u(t.el,(n+this._containerShiftIndex)*this.slideWidth),e&&t.slide&&t.slide.resize()}))}resetPosition(){this._currPositionIndex=0,this._prevPositionIndex=0,this.slideWidth=0,this._containerShiftIndex=-1}appendHolders(){this.itemHolders=[];for(let e=0;e<3;e++){const t=i("pswp__item",!1,this.pswp.container);t.style.display=1===e?"block":"none",this.itemHolders.push({el:t})}}canBeSwiped(){return this.pswp.getNumItems()>1}moveIndexBy(e,t,n){const{pswp:i}=this;let r=i.potentialIndex+e;const o=i.getNumItems();if(i.canLoop()){r=i.getLoopedIndex(r);const t=(e+o)%o;e=t<=o/2?t:t-o}else r<0?r=0:r>=o&&(r=o-1),e=r-i.potentialIndex;i.potentialIndex=r,this._currPositionIndex-=e,i.animations.stopMainScroll();const s=this.getCurrSlideX();if(t){i.animations.startSpring({isMainScroll:!0,start:this.x,end:s,velocity:n||0,naturalFrequency:30,dampingRatio:1,onUpdate:e=>{this.moveTo(e)},onComplete:()=>{this.updateCurrItem(),i.appendHeavy()}});let e=i.potentialIndex-i.currIndex;if(i.canLoop()){const t=(e+o)%o;e=t<=o/2?t:t-o}Math.abs(e)>1&&this.updateCurrItem()}else this.moveTo(s),this.updateCurrItem();if(e)return!0}getCurrSlideX(){return this.slideWidth*this._currPositionIndex}isShifted(){return this.x!==this.getCurrSlideX()}updateCurrItem(){const{pswp:e}=this,t=this._prevPositionIndex-this._currPositionIndex;if(!t)return;this._prevPositionIndex=this._currPositionIndex,e.currIndex=e.potentialIndex;let n,i=Math.abs(t);i>=3&&(this._containerShiftIndex+=t+(t>0?-3:3),i=3);for(let r=0;r<i;r++)t>0?(n=this.itemHolders.shift(),this.itemHolders[2]=n,this._containerShiftIndex++,u(n.el,(this._containerShiftIndex+2)*this.slideWidth),e.setContent(n,e.currIndex-i+r+2)):(n=this.itemHolders.pop(),this.itemHolders.unshift(n),this._containerShiftIndex--,u(n.el,this._containerShiftIndex*this.slideWidth),e.setContent(n,e.currIndex+i-r-2));Math.abs(this._containerShiftIndex)>50&&!this.isShifted()&&(this.resetPosition(),this.resize()),e.animations.stopAllPan(),this.itemHolders.forEach(((e,t)=>{e.slide&&e.slide.setIsActive(1===t)})),e.currSlide=this.itemHolders[1].slide,e.contentLoader.updateLazy(t),e.currSlide.applyCurrentZoomPan(),e.dispatch("change")}moveTo(e,t){let n,i;!this.pswp.canLoop()&&t&&(n=(this.slideWidth*this._currPositionIndex-e)/this.slideWidth,n+=this.pswp.currIndex,i=Math.round(e-this.x),(n<0&&i>0||n>=this.pswp.getNumItems()-1&&i<0)&&(e=this.x+.35*i)),this.x=e,u(this.pswp.container,e),this.pswp.dispatch("moveMainScroll",{x:e,dragging:t})}}class D{constructor(e){this.pswp=e,e.on("bindEvents",(()=>{e.options.initialPointerPos||this._focusRoot(),e.events.add(document,"focusin",this._onFocusIn.bind(this)),e.events.add(document,"keydown",this._onKeyDown.bind(this))}));const t=document.activeElement;e.on("destroy",(()=>{e.options.returnFocus&&t&&this._wasFocused&&t.focus()}))}_focusRoot(){this._wasFocused||(this.pswp.element.focus(),this._wasFocused=!0)}_onKeyDown(e){const{pswp:t}=this;if(t.dispatch("keydown",{originalEvent:e}).defaultPrevented)return;if(function(e){if(2===e.which||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey)return!0}(e))return;let n,i,r;switch(e.keyCode){case 27:t.options.escKey&&(n="close");break;case 90:n="toggleZoom";break;case 37:i="x";break;case 38:i="y";break;case 39:i="x",r=!0;break;case 40:r=!0,i="y";break;case 9:this._focusRoot()}if(i){e.preventDefault();const{currSlide:o}=t;t.options.arrowKeys&&"x"===i&&t.getNumItems()>1?n=r?"next":"prev":o&&o.currZoomLevel>o.zoomLevels.fit&&(o.pan[i]+=r?-80:80,o.panTo(o.pan.x,o.pan.y))}n&&(e.preventDefault(),t[n]())}_onFocusIn(e){const{template:t}=this.pswp;document===e.target||t===e.target||t.contains(e.target)||t.focus()}}class P{constructor(e){this.props=e;const{target:t,onComplete:n,transform:i,onFinish:r}=e;let{duration:o,easing:s}=e;this.onFinish=r;const a=i?"transform":"opacity",l=e[a];this._target=t,this._onComplete=n,o=o||333,s=s||"cubic-bezier(.4,0,.22,1)",this._onTransitionEnd=this._onTransitionEnd.bind(this),this._firstFrameTimeout=setTimeout((()=>{h(t,a,o,s),this._firstFrameTimeout=setTimeout((()=>{t.addEventListener("transitionend",this._onTransitionEnd,!1),t.addEventListener("transitioncancel",this._onTransitionEnd,!1),t.style[a]=l}),30)}),0)}_onTransitionEnd(e){e.target===this._target&&this._finalizeAnimation()}_finalizeAnimation(){this._finished||(this._finished=!0,this.onFinish(),this._onComplete&&this._onComplete())}destroy(){this._firstFrameTimeout&&clearTimeout(this._firstFrameTimeout),h(this._target),this._target.removeEventListener("transitionend",this._onTransitionEnd,!1),this._target.removeEventListener("transitioncancel",this._onTransitionEnd,!1),this._finished||this._finalizeAnimation()}}class M{constructor(e,t,n){this.velocity=1e3*e,this._dampingRatio=t||.75,this._naturalFrequency=n||12,this._dampingRatio<1&&(this._dampedFrequency=this._naturalFrequency*Math.sqrt(1-this._dampingRatio*this._dampingRatio))}easeFrame(e,t){let n,i=0;t/=1e3;const r=Math.E**(-this._dampingRatio*this._naturalFrequency*t);if(1===this._dampingRatio)n=this.velocity+this._naturalFrequency*e,i=(e+n*t)*r,this.velocity=i*-this._naturalFrequency+n*r;else if(this._dampingRatio<1){n=1/this._dampedFrequency*(this._dampingRatio*this._naturalFrequency*e+this.velocity);const o=Math.cos(this._dampedFrequency*t),s=Math.sin(this._dampedFrequency*t);i=r*(e*o+n*s),this.velocity=i*-this._naturalFrequency*this._dampingRatio+r*(-this._dampedFrequency*e*s+this._dampedFrequency*n*o)}return i}}class ${constructor(e){this.props=e;const{start:t,end:n,velocity:i,onUpdate:r,onComplete:o,onFinish:s,dampingRatio:a,naturalFrequency:l}=e;this.onFinish=s;const c=new M(i,a,l);let u=Date.now(),h=t-n;const d=()=>{this._raf&&(h=c.easeFrame(h,Date.now()-u),Math.abs(h)<1&&Math.abs(c.velocity)<50?(r(n),o&&o(),this.onFinish()):(u=Date.now(),r(h+n),this._raf=requestAnimationFrame(d)))};this._raf=requestAnimationFrame(d)}destroy(){this._raf>=0&&cancelAnimationFrame(this._raf),this._raf=null}}class R{constructor(){this.activeAnimations=[]}startSpring(e){this._start(e,!0)}startTransition(e){this._start(e)}_start(e,t){let n;return n=t?new $(e):new P(e),this.activeAnimations.push(n),n.onFinish=()=>this.stop(n),n}stop(e){e.destroy();const t=this.activeAnimations.indexOf(e);t>-1&&this.activeAnimations.splice(t,1)}stopAll(){this.activeAnimations.forEach((e=>{e.destroy()})),this.activeAnimations=[]}stopAllPan(){this.activeAnimations=this.activeAnimations.filter((e=>!e.props.isPan||(e.destroy(),!1)))}stopMainScroll(){this.activeAnimations=this.activeAnimations.filter((e=>!e.props.isMainScroll||(e.destroy(),!1)))}isPanRunning(){return this.activeAnimations.some((e=>e.props.isPan))}}class I{constructor(e){this.pswp=e,e.events.add(e.element,"wheel",this._onWheel.bind(this))}_onWheel(e){e.preventDefault();const{currSlide:t}=this.pswp;let{deltaX:n,deltaY:i}=e;if(t&&!this.pswp.dispatch("wheel",{originalEvent:e}).defaultPrevented)if(e.ctrlKey||this.pswp.options.wheelToZoom){if(t.isZoomable()){let n=-i;1===e.deltaMode?n*=.05:n*=e.deltaMode?1:.002,n=2**n;const r=t.currZoomLevel*n;t.zoomTo(r,{x:e.clientX,y:e.clientY})}}else t.isPannable()&&(1===e.deltaMode&&(n*=18,i*=18),t.panTo(t.pan.x-n,t.pan.y-i))}}class F{constructor(e,t){const n=t.name||t.className;let r=t.html;if(!1===e.options[n])return;"string"==typeof e.options[n+"SVG"]&&(r=e.options[n+"SVG"]),e.dispatch("uiElementCreate",{data:t});let o,s="";t.isButton?(s+="pswp__button ",s+=t.className||`pswp__button--${t.name}`):s+=t.className||`pswp__${t.name}`;let a=t.isButton?t.tagName||"button":t.tagName||"div";if(a=a.toLowerCase(),o=i(s,a),t.isButton){o=i(s,a),"button"===a&&(o.type="button");let{title:r}=t;const{ariaLabel:l}=t;"string"==typeof e.options[n+"Title"]&&(r=e.options[n+"Title"]),r&&(o.title=r),(l||r)&&o.setAttribute("aria-label",l||r)}o.innerHTML=function(e){if("string"==typeof e)return e;if(!e||!e.isCustomSVG)return"";const t=e;let n='<svg aria-hidden="true" class="pswp__icn" viewBox="0 0 %d %d" width="%d" height="%d">';return n=n.split("%d").join(t.size||32),t.outlineID&&(n+='<use class="pswp__icn-shadow" xlink:href="#'+t.outlineID+'"/>'),n+=t.inner,n+="</svg>",n}(r),t.onInit&&t.onInit(o,e),t.onClick&&(o.onclick=n=>{"string"==typeof t.onClick?e[t.onClick]():t.onClick(n,o,e)});const l=t.appendTo||"bar";let c;"bar"===l?(e.topBar||(e.topBar=i("pswp__top-bar pswp__hide-on-close","div",e.scrollWrap)),c=e.topBar):(o.classList.add("pswp__hide-on-close"),c="wrapper"===l?e.scrollWrap:e.element),c.appendChild(e.applyFilters("uiElement",o,t))}}function j(e,t,n){e.classList.add("pswp__button--arrow"),t.on("change",(()=>{t.options.loop||(e.disabled=n?!(t.currIndex<t.getNumItems()-1):!(t.currIndex>0))}))}const N={name:"arrowPrev",className:"pswp__button--arrow--prev",title:"Previous",order:10,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<path d="M29 43l-3 3-16-16 16-16 3 3-13 13 13 13z" id="pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"prev",onInit:j},z={name:"arrowNext",className:"pswp__button--arrow--next",title:"Next",order:11,isButton:!0,appendTo:"wrapper",html:{isCustomSVG:!0,size:60,inner:'<use xlink:href="#pswp__icn-arrow"/>',outlineID:"pswp__icn-arrow"},onClick:"next",onInit:(e,t)=>{j(e,t,!0)}},q={name:"close",title:"Close",order:20,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M24 10l-2-2-6 6-6-6-2 2 6 6-6 6 2 2 6-6 6 6 2-2-6-6z" id="pswp__icn-close"/>',outlineID:"pswp__icn-close"},onClick:"close"},V={name:"zoom",title:"Zoom",order:10,isButton:!0,html:{isCustomSVG:!0,inner:'<path d="M17.426 19.926a6 6 0 1 1 1.5-1.5L23 22.5 21.5 24l-4.074-4.074z" id="pswp__icn-zoom"/><path fill="currentColor" class="pswp__zoom-icn-bar-h" d="M11 16v-2h6v2z"/><path fill="currentColor" class="pswp__zoom-icn-bar-v" d="M13 12h2v6h-2z"/>',outlineID:"pswp__icn-zoom"},onClick:"toggleZoom"},B={name:"preloader",appendTo:"bar",order:7,html:{isCustomSVG:!0,inner:'<path fill-rule="evenodd" clip-rule="evenodd" d="M21.2 16a5.2 5.2 0 1 1-5.2-5.2V8a8 8 0 1 0 8 8h-2.8Z" id="pswp__icn-loading"/>',outlineID:"pswp__icn-loading"},onInit:(e,t)=>{let n,i;const r=t=>{var i;n!==t&&(n=t,"active",i=t,e.classList[i?"add":"remove"]("pswp__preloader--active"))},o=()=>{if(!t.currSlide.content.isLoading())return r(!1),void(i&&(clearTimeout(i),i=null));i||(i=setTimeout((()=>{r(t.currSlide.content.isLoading()),i=null}),t.options.preloaderDelay))};t.on("change",o),t.on("loadComplete",(e=>{t.currSlide===e.slide&&o()})),t.ui.updatePreloaderVisibility=o}},W={name:"counter",order:5,onInit:(e,t)=>{t.on("change",(()=>{e.innerText=t.currIndex+1+t.options.indexIndicatorSep+t.getNumItems()}))}};function U(e,t){e.classList[t?"add":"remove"]("pswp--zoomed-in")}class H{constructor(e){this.pswp=e,this.updatePreloaderVisibility=void 0,this._lastUpdatedZoomLevel=void 0}init(){const{pswp:e}=this;this.isRegistered=!1,this.uiElementsData=[q,N,z,V,B,W],e.dispatch("uiRegister"),this.uiElementsData.sort(((e,t)=>(e.order||0)-(t.order||0))),this.items=[],this.isRegistered=!0,this.uiElementsData.forEach((e=>{this.registerElement(e)})),e.on("change",(()=>{e.element.classList[1===e.getNumItems()?"add":"remove"]("pswp--one-slide")})),e.on("zoomPanUpdate",(()=>this._onZoomPanUpdate()))}registerElement(e){this.isRegistered?this.items.push(new F(this.pswp,e)):this.uiElementsData.push(e)}_onZoomPanUpdate(){const{template:e,currSlide:t,options:n}=this.pswp;let{currZoomLevel:i}=t;if(this.pswp.opener.isClosing)return;if(this.pswp.opener.isOpen||(i=t.zoomLevels.initial),i===this._lastUpdatedZoomLevel)return;this._lastUpdatedZoomLevel=i;const r=t.zoomLevels.initial-t.zoomLevels.secondary;if(Math.abs(r)<.01||!t.isZoomable())return U(e,!1),void e.classList.remove("pswp--zoom-allowed");e.classList.add("pswp--zoom-allowed");const o=r<0;i===t.zoomLevels.secondary?U(e,o):i>t.zoomLevels.secondary?U(e,!0):U(e,!1),"zoom"!==n.imageClickAction&&"zoom-or-close"!==n.imageClickAction||e.classList.add("pswp--click-to-zoom")}}class Z{constructor(e,t){this.type=e,t&&Object.assign(this,t)}preventDefault(){this.defaultPrevented=!0}}class K{constructor(e,t){this.element=i("pswp__img pswp__img--placeholder",e?"img":"",t),e&&(this.element.decoding="async",this.element.alt="",this.element.src=e,this.element.setAttribute("role","presentation")),this.element.setAttribute("aria-hiden","true")}setDisplayedSize(e,t){this.element&&("IMG"===this.element.tagName?(d(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=c(0,0,e/250)):d(this.element,e,t))}destroy(){this.element.parentNode&&this.element.remove(),this.element=null}}class G{constructor(e,t,n){this.instance=t,this.data=e,this.index=n,this.element=void 0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.state="idle",this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout((()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=null)}),500)}load(e,t){if(!this.placeholder&&this.slide&&this.usePlaceholder()){const e=this.instance.applyFilters("placeholderSrc",!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new K(e,this.slide.container)}this.element&&!t||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?this.loadImage(e):(this.element=i("pswp__content"),this.element.innerHTML=this.data.html||""),t&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){const t=i("pswp__img","img");this.element=t,this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented||(this.data.srcset&&(t.srcset=this.data.srcset),t.src=this.data.src,t.alt=this.data.alt||"",this.state=p,t.complete?this.onLoaded():(t.onload=()=>{this.onLoaded()},t.onerror=()=>{this.onError()}))}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=f,this.slide&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.slide.container.innerHTML="",this.append(),this.slide.updateContentSize(!0)))}onError(){this.state=m,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===p,this)}isError(){return this.state===m}isImageContent(){return"image"===this.type}setDisplayedSize(e,t){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,t),!this.instance.dispatch("contentResize",{content:this,width:e,height:t}).defaultPrevented&&(d(this.element,e,t),this.isImageContent()&&!this.isError()))){const n=this.element;n.srcset&&(!n.dataset.largestUsedSize||e>parseInt(n.dataset.largestUsedSize,10))&&(n.sizes=e+"px",n.dataset.largestUsedSize=String(e)),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:t,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==m,this)}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=null,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=null))}displayError(){if(this.slide){let e=i("pswp__error-msg");e.innerText=this.instance.options.errorMsg,e=this.instance.applyFilters("contentErrorElement",e,this),this.element=i("pswp__content pswp__error-msg-container"),this.element.appendChild(e),this.slide.container.innerHTML="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){this.isAttached=!0,this.state!==m?this.instance.dispatch("contentAppend",{content:this}).defaultPrevented||(this.isImageContent()?this.slide&&!this.slide.isActive&&"decode"in this.element?(this.isDecoding=!0,requestAnimationFrame((()=>{this.element&&"IMG"===this.element.tagName&&this.element.decode().then((()=>{this.isDecoding=!1,requestAnimationFrame((()=>{this.appendImage()}))})).catch((()=>{this.isDecoding=!1}))}))):(!this.placeholder||this.state!==f&&this.state!==m||this.removePlaceholder(),this.appendImage()):this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element)):this.displayError()}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||this.slide&&(this.isImageContent()&&this.isDecoding?this.appendImage():this.isError()&&this.load(!1,!0))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this})}remove(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||this.element&&this.element.parentNode&&this.element.remove()}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||this.slide&&this.element&&!this.element.parentNode&&(this.slide.container.appendChild(this.element),!this.placeholder||this.state!==f&&this.state!==m||this.removePlaceholder()))}}const Y=.003;class Q{constructor(e){this.pswp=e,this.isClosed=!0,this._prepareOpen=this._prepareOpen.bind(this),this._thumbBounds=void 0,e.on("firstZoomPan",this._prepareOpen)}open(){this._prepareOpen(),this._start()}close(){if(this.isClosed||this.isClosing||this.isOpening)return!1;const e=this.pswp.currSlide;return this.isOpen=!1,this.isOpening=!1,this.isClosing=!0,this._duration=this.pswp.options.hideAnimationDuration,e&&e.currZoomLevel*e.width>=this.pswp.options.maxWidthToAnimate&&(this._duration=0),this._applyStartProps(),setTimeout((()=>{this._start()}),this._croppedZoom?30:0),!0}_prepareOpen(){if(this.pswp.off("firstZoomPan",this._prepareOpen),!this.isOpening){const e=this.pswp.currSlide;this.isOpening=!0,this.isClosing=!1,this._duration=this.pswp.options.showAnimationDuration,e&&e.zoomLevels.initial*e.width>=this.pswp.options.maxWidthToAnimate&&(this._duration=0),this._applyStartProps()}}_applyStartProps(){const{pswp:e}=this,t=this.pswp.currSlide,{options:n}=e;if("fade"===n.showHideAnimationType?(n.showHideOpacity=!0,this._thumbBounds=!1):"none"===n.showHideAnimationType?(n.showHideOpacity=!1,this._duration=0,this._thumbBounds=!1):this.isOpening&&e._initialThumbBounds?this._thumbBounds=e._initialThumbBounds:this._thumbBounds=this.pswp.getThumbBounds(),this._placeholder=t.getPlaceholderElement(),e.animations.stopAll(),this._useAnimation=this._duration>50,this._animateZoom=Boolean(this._thumbBounds)&&t.content&&t.content.usePlaceholder()&&(!this.isClosing||!e.mainScroll.isShifted()),this._animateZoom?this._animateRootOpacity=n.showHideOpacity:(this._animateRootOpacity=!0,this.isOpening&&(t.zoomAndPanToInitial(),t.applyCurrentZoomPan())),this._animateBgOpacity=!this._animateRootOpacity&&this.pswp.options.bgOpacity>Y,this._opacityElement=this._animateRootOpacity?e.element:e.bg,!this._useAnimation)return this._duration=0,this._animateZoom=!1,this._animateBgOpacity=!1,this._animateRootOpacity=!0,void(this.isOpening&&(e.element.style.opacity=String(Y),e.applyBgOpacity(1)));this._animateZoom&&this._thumbBounds&&this._thumbBounds.innerRect?(this._croppedZoom=!0,this._cropContainer1=this.pswp.container,this._cropContainer2=this.pswp.currSlide.holderElement,e.container.style.overflow="hidden",e.container.style.width=e.viewportSize.x+"px"):this._croppedZoom=!1,this.isOpening?(this._animateRootOpacity?(e.element.style.opacity=String(Y),e.applyBgOpacity(1)):(this._animateBgOpacity&&(e.bg.style.opacity=String(Y)),e.element.style.opacity="1"),this._animateZoom&&(this._setClosedStateZoomPan(),this._placeholder&&(this._placeholder.style.willChange="transform",this._placeholder.style.opacity=String(Y)))):this.isClosing&&(e.mainScroll.itemHolders[0].el.style.display="none",e.mainScroll.itemHolders[2].el.style.display="none",this._croppedZoom&&0!==e.mainScroll.x&&(e.mainScroll.resetPosition(),e.mainScroll.resize()))}_start(){this.isOpening&&this._useAnimation&&this._placeholder&&"IMG"===this._placeholder.tagName?new Promise((e=>{let t=!1,n=!0;var i;(i=this._placeholder,"decode"in i?i.decode():i.complete?Promise.resolve(i):new Promise(((e,t)=>{i.onload=()=>e(i),i.onerror=t}))).finally((()=>{t=!0,n||e()})),setTimeout((()=>{n=!1,t&&e()}),50),setTimeout(e,250)})).finally((()=>this._initiate())):this._initiate()}_initiate(){this.pswp.element.style.setProperty("--pswp-transition-duration",this._duration+"ms"),this.pswp.dispatch(this.isOpening?"openingAnimationStart":"closingAnimationStart"),this.pswp.dispatch("initialZoom"+(this.isOpening?"In":"Out")),this.pswp.element.classList[this.isOpening?"add":"remove"]("pswp--ui-visible"),this.isOpening?(this._placeholder&&(this._placeholder.style.opacity="1"),this._animateToOpenState()):this.isClosing&&this._animateToClosedState(),this._useAnimation||this._onAnimationComplete()}_onAnimationComplete(){const{pswp:e}=this;this.isOpen=this.isOpening,this.isClosed=this.isClosing,this.isOpening=!1,this.isClosing=!1,e.dispatch(this.isOpen?"openingAnimationEnd":"closingAnimationEnd"),e.dispatch("initialZoom"+(this.isOpen?"InEnd":"OutEnd")),this.isClosed?e.destroy():this.isOpen&&(this._animateZoom&&(e.container.style.overflow="visible",e.container.style.width="100%"),e.currSlide.applyCurrentZoomPan())}_animateToOpenState(){const{pswp:e}=this;this._animateZoom&&(this._croppedZoom&&(this._animateTo(this._cropContainer1,"transform","translate3d(0,0,0)"),this._animateTo(this._cropContainer2,"transform","none")),e.currSlide.zoomAndPanToInitial(),this._animateTo(e.currSlide.container,"transform",e.currSlide.getCurrentTransform())),this._animateBgOpacity&&this._animateTo(e.bg,"opacity",String(e.options.bgOpacity)),this._animateRootOpacity&&this._animateTo(e.element,"opacity","1")}_animateToClosedState(){const{pswp:e}=this;this._animateZoom&&this._setClosedStateZoomPan(!0),this._animateBgOpacity&&e.bgOpacity>.01&&this._animateTo(e.bg,"opacity","0"),this._animateRootOpacity&&this._animateTo(e.element,"opacity","0")}_setClosedStateZoomPan(e){if(!this._thumbBounds)return;const{pswp:t}=this,{innerRect:n}=this._thumbBounds,{currSlide:i,viewportSize:o}=t;if(this._croppedZoom){const t=-o.x+(this._thumbBounds.x-n.x)+n.w,i=-o.y+(this._thumbBounds.y-n.y)+n.h,r=o.x-n.w,s=o.y-n.h;e?(this._animateTo(this._cropContainer1,"transform",c(t,i)),this._animateTo(this._cropContainer2,"transform",c(r,s))):(u(this._cropContainer1,t,i),u(this._cropContainer2,r,s))}r(i.pan,n||this._thumbBounds),i.currZoomLevel=this._thumbBounds.w/i.width,e?this._animateTo(i.container,"transform",i.getCurrentTransform()):i.applyCurrentZoomPan()}_animateTo(e,t,n){if(!this._duration)return void(e.style[t]=n);const{animations:i}=this.pswp,r={duration:this._duration,easing:this.pswp.options.easing,onComplete:()=>{i.activeAnimations.length||this._onAnimationComplete()},target:e};r[t]=n,i.startTransition(r)}}class J{constructor(e){this.pswp=e,this.limit=Math.max(e.options.preload[0]+e.options.preload[1]+1,5),this._cachedItems=[]}updateLazy(e){const{pswp:t}=this;if(t.dispatch("lazyLoad").defaultPrevented)return;const{preload:n}=t.options,i=void 0===e||e>=0;let r;for(r=0;r<=n[1];r++)this.loadSlideByIndex(t.currIndex+(i?r:-r));for(r=1;r<=n[0];r++)this.loadSlideByIndex(t.currIndex+(i?-r:r))}loadSlideByIndex(e){e=this.pswp.getLoopedIndex(e);let t=this.getContentByIndex(e);t||(t=function(e,t){const n=t.getItemData(e);if(!t.dispatch("lazyLoadSlide",{index:e,itemData:n}).defaultPrevented)return function(e,t,n){const i=t.createContentFromData(e,n);if(!i||!i.lazyLoad)return;const{options:r}=t,o=w(r,t.viewportSize||y(r,t),e,n),s=new x(r,e,-1);return s.update(i.width,i.height,o),i.lazyLoad(),i.setDisplayedSize(Math.ceil(i.width*s.initial),Math.ceil(i.height*s.initial)),i}(n,t,e)}(e,this.pswp),t&&this.addToCache(t))}getContentBySlide(e){let t=this.getContentByIndex(e.index);return t||(t=this.pswp.createContentFromData(e.data,e.index),t&&this.addToCache(t)),t&&t.setSlide(e),t}addToCache(e){if(this.removeByIndex(e.index),this._cachedItems.push(e),this._cachedItems.length>this.limit){const e=this._cachedItems.findIndex((e=>!e.isAttached&&!e.hasSlide));-1!==e&&this._cachedItems.splice(e,1)[0].destroy()}}removeByIndex(e){const t=this._cachedItems.findIndex((t=>t.index===e));-1!==t&&this._cachedItems.splice(t,1)}getContentByIndex(e){return this._cachedItems.find((t=>t.index===e))}destroy(){this._cachedItems.forEach((e=>e.destroy())),this._cachedItems=null}}const X={allowPanToNext:!0,spacing:.1,loop:!0,pinchToClose:!0,closeOnVerticalDrag:!0,hideAnimationDuration:333,showAnimationDuration:333,zoomAnimationDuration:333,escKey:!0,arrowKeys:!0,returnFocus:!0,maxWidthToAnimate:4e3,clickToCloseNonZoomable:!0,imageClickAction:"zoom-or-close",bgClickAction:"close",tapAction:"toggle-controls",doubleTapAction:"zoom",indexIndicatorSep:" / ",preloaderDelay:2e3,bgOpacity:.8,index:0,errorMsg:"The image cannot be loaded",preload:[1,2],easing:"cubic-bezier(.4,0,.22,1)"};class ee extends class extends class{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,t,n=100){this._filters[e]||(this._filters[e]=[]),this._filters[e].push({fn:t,priority:n}),this._filters[e].sort(((e,t)=>e.priority-t.priority)),this.pswp&&this.pswp.addFilter(e,t,n)}removeFilter(e,t){this._filters[e]&&(this._filters[e]=this._filters[e].filter((e=>e.fn!==t))),this.pswp&&this.pswp.removeFilter(e,t)}applyFilters(e,...t){return this._filters[e]&&this._filters[e].forEach((e=>{t[0]=e.fn.apply(this,t)})),t[0]}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this.pswp&&this.pswp.on(e,t)}off(e,t){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter((e=>t!==e))),this.pswp&&this.pswp.off(e,t)}dispatch(e,t){if(this.pswp)return this.pswp.dispatch(e,t);const n=new Z(e,t);return this._listeners?(this._listeners[e]&&this._listeners[e].forEach((e=>{e.call(this,n)})),n):n}}{getNumItems(){let e;const{dataSource:t}=this.options;t?"length"in t?e=t.length:"gallery"in t&&(t.items||(t.items=this._getGalleryDOMElements(t.gallery)),t.items&&(e=t.items.length)):e=0;const n=this.dispatch("numItems",{dataSource:t,numItems:e});return this.applyFilters("numItems",n.numItems,t)}createContentFromData(e,t){return new G(e,this,t)}getItemData(e){const{dataSource:t}=this.options;let n;Array.isArray(t)?n=t[e]:t&&t.gallery&&(t.items||(t.items=this._getGalleryDOMElements(t.gallery)),n=t.items[e]);let i=n;i instanceof Element&&(i=this._domElementToItemData(i));const r=this.dispatch("itemData",{itemData:i||{},index:e});return this.applyFilters("itemData",r.itemData,e)}_getGalleryDOMElements(e){return this.options.children||this.options.childSelector?function(e,t,n=document){let i=[];if(e instanceof Element)i=[e];else if(e instanceof NodeList||Array.isArray(e))i=Array.from(e);else{const r="string"==typeof e?e:t;r&&(i=Array.from(n.querySelectorAll(r)))}return i}(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){const t={element:e},n="A"===e.tagName?e:e.querySelector("a");if(n){t.src=n.dataset.pswpSrc||n.href,n.dataset.pswpSrcset&&(t.srcset=n.dataset.pswpSrcset),t.width=parseInt(n.dataset.pswpWidth,10),t.height=parseInt(n.dataset.pswpHeight,10),t.w=t.width,t.h=t.height,n.dataset.pswpType&&(t.type=n.dataset.pswpType);const i=e.querySelector("img");i&&(t.msrc=i.currentSrc||i.src,t.alt=i.getAttribute("alt")),(n.dataset.pswpCropped||n.dataset.cropped)&&(t.thumbCropped=!0)}return this.applyFilters("domItemData",t,e,n)}}{constructor(e){super(),this._prepareOptions(e),this.offset={},this._prevViewportSize={},this.viewportSize={},this.bgOpacity=1,this.topBar=void 0,this.events=new v,this.animations=new R,this.mainScroll=new E(this),this.gestures=new L(this),this.opener=new Q(this),this.keyboard=new D(this),this.contentLoader=new J(this)}init(){if(this.isOpen||this.isDestroying)return;this.isOpen=!0,this.dispatch("init"),this.dispatch("beforeOpen"),this._createMainStructure();let e="pswp--open";return this.gestures.supportsTouch&&(e+=" pswp--touch"),this.options.mainClass&&(e+=" "+this.options.mainClass),this.element.className+=" "+e,this.currIndex=this.options.index||0,this.potentialIndex=this.currIndex,this.dispatch("firstUpdate"),this.scrollWheel=new I(this),(Number.isNaN(this.currIndex)||this.currIndex<0||this.currIndex>=this.getNumItems())&&(this.currIndex=0),this.gestures.supportsTouch||this.mouseDetected(),this.updateSize(),this.offset.y=window.pageYOffset,this._initialItemData=this.getItemData(this.currIndex),this.dispatch("gettingData",{index:this.currIndex,data:this._initialItemData,slide:void 0}),this._initialThumbBounds=this.getThumbBounds(),this.dispatch("initialLayout"),this.on("openingAnimationEnd",(()=>{this.setContent(this.mainScroll.itemHolders[0],this.currIndex-1),this.setContent(this.mainScroll.itemHolders[2],this.currIndex+1),this.mainScroll.itemHolders[0].el.style.display="block",this.mainScroll.itemHolders[2].el.style.display="block",this.appendHeavy(),this.contentLoader.updateLazy(),this.events.add(window,"resize",this._handlePageResize.bind(this)),this.events.add(window,"scroll",this._updatePageScrollOffset.bind(this)),this.dispatch("bindEvents")})),this.setContent(this.mainScroll.itemHolders[1],this.currIndex),this.dispatch("change"),this.opener.open(),this.dispatch("afterInit"),!0}getLoopedIndex(e){const t=this.getNumItems();return this.options.loop&&(e>t-1&&(e-=t),e<0&&(e+=t)),l(e,0,t-1)}appendHeavy(){this.mainScroll.itemHolders.forEach((e=>{e.slide&&e.slide.appendHeavy()}))}goTo(e){this.mainScroll.moveIndexBy(this.getLoopedIndex(e)-this.potentialIndex)}next(){this.goTo(this.potentialIndex+1)}prev(){this.goTo(this.potentialIndex-1)}zoomTo(...e){this.currSlide.zoomTo(...e)}toggleZoom(){this.currSlide.toggleZoom()}close(){this.opener.isOpen&&!this.isDestroying&&(this.isDestroying=!0,this.dispatch("close"),this.events.removeAll(),this.opener.close())}destroy(){if(!this.isDestroying)return this.options.showHideAnimationType="none",void this.close();this.dispatch("destroy"),this.listeners=null,this.scrollWrap.ontouchmove=null,this.scrollWrap.ontouchend=null,this.element.remove(),this.mainScroll.itemHolders.forEach((e=>{e.slide&&e.slide.destroy()})),this.contentLoader.destroy(),this.events.removeAll()}refreshSlideContent(e){this.contentLoader.removeByIndex(e),this.mainScroll.itemHolders.forEach(((t,n)=>{let i=this.currSlide.index-1+n;this.canLoop()&&(i=this.getLoopedIndex(i)),i===e&&(this.setContent(t,e,!0),1===n&&(this.currSlide=t.slide,t.slide.setIsActive(!0)))})),this.dispatch("change")}setContent(e,t,n){if(this.canLoop()&&(t=this.getLoopedIndex(t)),e.slide){if(e.slide.index===t&&!n)return;e.slide.destroy(),e.slide=null}if(!this.canLoop()&&(t<0||t>=this.getNumItems()))return;const i=this.getItemData(t);e.slide=new k(i,t,this),t===this.currIndex&&(this.currSlide=e.slide),e.slide.append(e.el)}getViewportCenterPoint(){return{x:this.viewportSize.x/2,y:this.viewportSize.y/2}}updateSize(e){if(this.isDestroying)return;const t=y(this.options,this);!e&&a(t,this._prevViewportSize)||(r(this._prevViewportSize,t),this.dispatch("beforeResize"),r(this.viewportSize,this._prevViewportSize),this._updatePageScrollOffset(),this.dispatch("viewportSize"),this.mainScroll.resize(this.opener.isOpen),!this.hasMouse&&window.matchMedia("(any-hover: hover)").matches&&this.mouseDetected(),this.dispatch("resize"))}applyBgOpacity(e){this.bgOpacity=Math.max(e,0),this.bg.style.opacity=String(this.bgOpacity*this.options.bgOpacity)}mouseDetected(){this.hasMouse||(this.hasMouse=!0,this.element.classList.add("pswp--has_mouse"))}_handlePageResize(){this.updateSize(),/iPhone|iPad|iPod/i.test(window.navigator.userAgent)&&setTimeout((()=>{this.updateSize()}),500)}_updatePageScrollOffset(){this.setScrollOffset(0,window.pageYOffset)}setScrollOffset(e,t){this.offset.x=e,this.offset.y=t,this.dispatch("updateScrollOffset")}_createMainStructure(){this.element=i("pswp"),this.element.setAttribute("tabindex","-1"),this.element.setAttribute("role","dialog"),this.template=this.element,this.bg=i("pswp__bg",!1,this.element),this.scrollWrap=i("pswp__scroll-wrap",!1,this.element),this.container=i("pswp__container",!1,this.scrollWrap),this.mainScroll.appendHolders(),this.ui=new H(this),this.ui.init(),(this.options.appendToEl||document.body).appendChild(this.element)}getThumbBounds(){return function(e,t,n){const i=n.dispatch("thumbBounds",{index:e,itemData:t,instance:n});if(i.thumbBounds)return i.thumbBounds;const{element:r}=t;let o,s;if(r&&!1!==n.options.thumbSelector){const e=n.options.thumbSelector||"img";s=r.matches(e)?r:r.querySelector(e)}return s=n.applyFilters("thumbEl",s,t,e),s&&(o=t.thumbCropped?function(e,t,n){const i=e.getBoundingClientRect(),r=i.width/t,o=i.height/n,s=r>o?r:o,a=(i.width-t*s)/2,l=(i.height-n*s)/2,c={x:i.left+a,y:i.top+l,w:t*s};return c.innerRect={w:i.width,h:i.height,x:a,y:l},c}(s,t.width||t.w,t.height||t.h):function(e){const t=e.getBoundingClientRect();return{x:t.left,y:t.top,w:t.width}}(s)),n.applyFilters("thumbBounds",o,t,e)}(this.currIndex,this.currSlide?this.currSlide.data:this._initialItemData,this)}canLoop(){return this.options.loop&&this.getNumItems()>2}_prepareOptions(e){window.matchMedia("(prefers-reduced-motion), (update: slow)").matches&&(e.showHideAnimationType="none",e.zoomAnimationDuration=0),this.options={...X,...e}}}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";n(9601),n(9070),n(7941),n(2526),n(7327),n(1539),n(5003),n(9554),n(4747),n(9337),n(3321),n(8662);var e=n(9963),t=n(6252);n(2564);var i={key:0,class:"text-center"},r=(0,t._)("p",{class:"fs-1 fw-bold mb-3 text-center"},"  Welcome to Motor Admin ",-1),o=(0,t._)("p",{class:"fs-4 mb-4"}," Motor Admin allows to create a powerful admin panel with writing less code. ",-1),s=(0,t.Uk)(" Watch Features Overview "),a=(0,t._)("br",null,null,-1),l={key:1,class:"text-center"},c=n(3577),u={class:"row"},h=(0,t._)("div",{class:"col-12 mb-3 text-center fs-3"}," Subscribe to receive developer newsletters with feature updates ",-1),d={key:1,class:"fs-3"},p=(0,t.Uk)(" You have been subscribed for newsletters ");n(8674),n(7727);var f=n(9669),m=n.n(f),g=n(2262);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="motor:navigation:hide_help",_="motor:navigation:hide_welcome",x="motor:current_user:is_subscribed",k=document.getElementById("app"),C=JSON.parse(k.getAttribute("data-current-user")||"null")||{},S=JSON.parse(k.getAttribute("data-audits-count")),A=S<20&&!localStorage.getItem(w),T=0===S&&!localStorage.getItem(_),O=!!localStorage.getItem(x),L=(0,g.qj)(y(y({},C),{},{auditsCount:S,showWelcome:T,showHelp:A,isSubscribed:O}));(0,t.YP)((function(){return L.showHelp}),(function(e){e?localStorage.removeItem(w):localStorage.setItem(w,"true")})),(0,t.YP)((function(){return L.showWelcome}),(function(e){e?localStorage.removeItem(_):localStorage.setItem(_,"true")})),(0,t.YP)((function(){return L.isSubscribed}),(function(e){e?localStorage.setItem(x,"true"):localStorage.removeItem(x)}));const E={name:"SetupForm",props:{submitText:{type:String,required:!1,default:"Subscribe"}},emits:["error","success"],data:function(){return{isLoading:!1,isSubmitted:L.isSubscribed,value:{email:L.email}}},computed:{rules:function(){return{email:[{required:!0,type:"email"}]}}},methods:{submit:function(){var e=this;this.isLoading=!0,m().post("https://app.getmotoradmin.com/api/subscribe",{email:this.value.email}).then((function(t){L.isSubscribed=!0,e.$emit("success",t.data.data)})).catch((function(t){console.error(t),e.$emit("error",t)})).finally((function(){e.isSubmitted=!0,e.isLoading=!1}))},handleSubmit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.submit()}))}}};var D=n(3744);const P=(0,D.Z)(E,[["render",function(n,i,r,o,s,a){var l=(0,t.up)("VInput"),f=(0,t.up)("FormItem"),m=(0,t.up)("VButton"),g=(0,t.up)("Spin"),v=(0,t.up)("VForm"),y=(0,t.up)("Icon");return s.isSubmitted?((0,t.wg)(),(0,t.iD)("div",d,[(0,t.Wm)(y,{type:"md-checkmark-circle text-success"}),p])):((0,t.wg)(),(0,t.j4)(v,{key:0,ref:"form",model:s.value,rules:a.rules,onSubmit:(0,e.iM)(a.handleSubmit,["prevent"]),onKeyup:(0,e.D2)(a.handleSubmit,["enter"])},{default:(0,t.w5)((function(){return[(0,t._)("div",u,[h,(0,t.Wm)(f,{prop:"email",class:"col-12"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{modelValue:s.value.email,"onUpdate:modelValue":i[0]||(i[0]=function(e){return s.value.email=e}),prefix:"md-mail",type:"email",name:"email",disabled:s.isSubmitted,size:"large",placeholder:"example@example.com"},null,8,["modelValue","disabled"])]})),_:1})]),(0,t.Wm)(m,{type:"primary",class:"mt-1",size:"large",long:"",onClick:a.handleSubmit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(r.submitText),1)]})),_:1},8,["onClick"]),s.isLoading?((0,t.wg)(),(0,t.j4)(g,{key:0,size:"large",fix:""})):(0,t.kq)("",!0)]})),_:1},8,["model","rules","onSubmit","onKeyup"]))}]]),M={name:"WelcomeModal",components:{SubscribeFrom:P},emits:["close","open-guides"],data:function(){return{step:"welcome"}}},$=(0,D.Z)(M,[["render",function(n,c,u,h,d,p){var f=(0,t.up)("VButton"),m=(0,t.up)("SubscribeFrom");return(0,t.wg)(),(0,t.iD)(t.HY,null,["welcome"===d.step?((0,t.wg)(),(0,t.iD)("div",i,[r,o,(0,t.Wm)(f,{size:"large",class:"fs-4 mb-4",type:"primary",ghost:"",onClick:c[0]||(c[0]=function(e){return n.$emit("open-guides")})},{default:(0,t.w5)((function(){return[s]})),_:1}),a,(0,t._)("a",{href:"#",onClick:c[1]||(c[1]=(0,e.iM)((function(e){return d.step="subscribe"}),["prevent"]))}," Skip ")])):(0,t.kq)("",!0),"subscribe"===d.step?((0,t.wg)(),(0,t.iD)("div",l,[(0,t.Wm)(m,{class:"mb-3"}),(0,t._)("a",{href:"#",onClick:c[2]||(c[2]=(0,e.iM)((function(e){return n.$emit("close")}),["prevent"]))}," Skip ")])):(0,t.kq)("",!0)],64)}]]);n(8309),n(4916),n(5306);var R={class:"ivu-menu ivu-menu-primary ivu-menu-horizontal row m-0"},I={class:"col-10 d-flex align-items-center"},F=function(e){return(0,t.dD)("data-v-405176c8"),e=e(),(0,t.Cn)(),e}((function(){return(0,t._)("div",{class:"d-flex align-items-center"},[(0,t._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"icon icon-tabler icon-tabler-bolt",width:"26",height:"26",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},[(0,t._)("path",{stroke:"none",d:"M0 0h26v26H0z",fill:"none"}),(0,t._)("polyline",{points:"13 3 13 10 19 10 11 21 11 14 5 14 13 3"})])],-1)})),j={class:"col-2 d-flex justify-content-end align-items-center"},N={class:"d-none d-sm-block"},z=(0,t.Uk)(" Log In "),q={key:0,style:{"vertical-align":"middle"}};n(9826),n(6699),n(5827),n(1817),n(1249),n(4603),n(9714),n(4723);var V=n(7248);n(9600),n(4553),n(561),n(7042),n(2222),n(3210),n(1058),n(6992),n(189),n(8783),n(3948),n(3123),n(2023),n(2707),n(4944),n(3792),n(5069),n(9753),n(2165),n(1038);var B=n(48),W=n(8424),U=n(2345),H=n(7209),Z=n(8688);const K={name:"SearchOption",props:{option:{type:Object,required:!0}},computed:{iconClasses:function(){return{resource:"md-grid",query:"md-list",dashboard:"md-analytics",resource_search:"md-search",resource_id:"md-open",new_query:"md-create",new_dashboard:"md-create",new_alert:"md-create",new_form:"md-create",alert:"md-notifications",form:"md-list-box"}}}},G=(0,D.Z)(K,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("Icon");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(a,{type:s.iconClasses[i.option.type]},null,8,["type"]),(0,t.Uk)(" "+(0,c.zw)(i.option.value),1)],64)}],["__scopeId","data-v-2e1b125a"]]);var Y=n(5423);const Q={:"A",:"A",:"A",:"A",:"A",:"A",:"AE",:"C",:"E",:"E",:"E",:"E",:"I",:"I",:"I",:"I",:"D",:"N",:"O",:"O",:"O",:"O",:"O","":"x",:"O",:"U",:"U",:"U",:"U",:"Y",:"Th",:"ss",:"a",:"a",:"a",:"a",:"a",:"a",:"ae",:"c",:"e",:"e",:"e",:"e",:"i",:"i",:"i",:"i",:"d",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"u",:"u",:"u",:"u",:"y",:"th",:"y",:"A",:"a",:"A",:"a",:"A",:"a",:"C",:"c",:"C",:"c",:"C",:"c",:"C",:"c",:"D",:"d",:"D",:"d",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"E",:"e",:"G",:"g",:"G",:"g",:"G",:"g",:"G",:"g",:"H",:"h",:"H",:"h",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"I",:"i",:"IJ",:"ij",:"J",:"j",:"K",:"k",:"k",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"L",:"l",:"N",:"n",:"N",:"n",:"N",:"n",:"'n",:"NG",:"ng",:"O",:"o",:"O",:"o",:"O",:"o",:"OE",:"oe",:"R",:"r",:"R",:"r",:"R",:"r",:"S",:"s",:"S",:"s",:"S",:"s",:"S",:"s",:"T",:"t",:"T",:"t",:"T",:"t",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"U",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"z",:"Z",:"z",:"Z",:"z",:"A",:"B",:"V",:"G",:"D",:"E",:"E",:"ZH",:"Z",:"I",:"J",:"K",:"L",:"M",:"N",:"O",:"P",:"R",:"S",:"T",:"U",:"F",:"KH",:"C",:"CH",:"SH",:"SHCH",:"",:"Y",:"",:"E",:"YU",:"YA",:"a",:"b",:"v",:"g",:"d",:"e",:"e",:"zh",:"z",:"i",:"j",:"k",:"l",:"m",:"n",:"o",:"p",:"r",:"s",:"t",:"u",:"f",:"kh",:"c",:"ch",:"sh",:"shch",:"",:"y",:"",:"e",:"yu",:"ya"},J={};class X{static getInstance(e){return J[e]=J[e]||new X,J[e]}constructor(){this.approximations={};for(const e in Q)this.approximate(e,Q[e])}approximate(e,t){this.approximations[e]=t}transliterate(e,t){return e.replace(/[^\u0000-\u007f]/g,(e=>this.approximations[e]||t||"?"))}}function ee(e,t={}){const n=t.locale||"en",i=t.replacement||"?";return function(e,t){if((0,Y.Z)(e)&&(t=e,e=null),e=e||"en",!t)return X.getInstance(e);t(X.getInstance(e))}(n).transliterate(e,i)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e){return function(e){if(Array.isArray(e))return oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var se={get KEY(){return"search:recentlySelected"},get DISPLAY_LIMIT(){return 6},push:function(e){var t=this.all(),n=t.findIndex((function(t){return t.value===e.value&&t.type===e.type}));-1!==n&&t.splice(n,1),localStorage.setItem(this.KEY,JSON.stringify([e].concat(re(t)).slice(0,20)))},displayOptions:function(){return this.all().slice(0,this.DISPLAY_LIMIT)},all:function(){return JSON.parse(localStorage.getItem(this.KEY)||"[]")}};const ae={name:"NavigationSearch",emits:["selected"],data:function(){return{value:"",options:[],isLoaded:!1}},computed:{optionComponent:function(){return G},visibleModels:function(){return B.fK.filter((function(e){return e.visible})).map((function(e){return ne(ne({},e),{},{normalizedName:ee(e.display_name.toLowerCase())})}))},normalizedValue:function(){return ee(this.value.toLowerCase().trim())},withId:function(){return this.foundResources.length&&this.cleanedValue.match(/^\d+$/)&&parseInt(this.cleanedValue)>0},cleanedValue:function(){return this.foundResources.reduce((function(e,t){var n=new Set([].concat(re(t.display_name.toLowerCase().split(" ")),re(t.name.split("_"))));return re(n).reduce((function(e,t){return e.replace(t,"")}),e).trim()}),this.normalizedValue).replace(/[#"]/g,"")},foundResources:function(){var e=this;if(this.value){var t=this.visibleModels.filter((function(t){return t.normalizedName.match(new RegExp("\\b".concat(e.normalizedValue)))}));return t.length||(t=this.visibleModels.filter((function(t){return t.normalizedName.match(new RegExp("\\b".concat(e.normalizedValue.replace(/\s["#\w]+$/,""))))}))),t.length||(t=this.visibleModels.filter((function(t){return e.normalizedValue.includes(t.normalizedName.replace(/e?s\b/,""))}))),t.sort((function(e,t){return e.display_name.length>t.display_name.length?-1:1}))}return[]},foundAssets:function(){var e=this;return this.allAssets.filter((function(t){return t.normalizedName.includes(e.normalizedValue)})).slice(0,8)},allAssets:function(){return[].concat(re(W.ay),re(U.r.map((function(e){return ne(ne({},e),{},{type:"form"})})))).map((function(e){return ne(ne({},e),{},{normalizedName:ee((e.name||e.title).toLowerCase())})}))},pages:function(){return[{value:this.i18n.new_query,type:"new_query"},{value:this.i18n.new_dashboard,type:"new_dashboard"},{value:this.i18n.new_alert,type:"new_alert"},{value:this.i18n.new_form,type:"new_form"}]},foundPages:function(){var e=this;return this.pages.filter((function(t){return t.value.toLowerCase().includes(e.normalizedValue)}))}},mounted:function(){var e=this;this.options=se.displayOptions(),this.$nextTick((function(){e.$el.querySelector("input").focus()})),setTimeout((function(){e.$el.querySelector("input").click()}),200)},methods:{buildItems:function(){var e=this,t=this.foundAssets.map((function(e){return{value:e.title||e.name,type:e.type,id:e.id}})),n=re(this.foundResources).reverse().map((function(t){return[e.withId&&e.buildResourceIdOptions(t),!e.withId&&e.withQuery(t)&&e.buildResourceSearchOptions(t),{type:"resource",slug:t.slug,value:t.display_name}].filter(Boolean)})).flat().slice(0,6),i=[].concat(re(n),re(t),re(this.foundPages));return 0===i.length&&(i=(i=se.all().filter((function(e){return"resource_search"===e.type})).map((function(t){return ne(ne({},t),{},{value:t.value.replace(/".*"/,'"'.concat(e.cleanedValue,'"')),query:e.cleanedValue})}))).filter((function(e,t,n){return i.findIndex((function(t){return t.slug===e.slug}))===t}))),i.sort((function(t,n){return t.value.toLowerCase()===e.normalizedValue?-1:1}))},withQuery:function(e){return this.foundResources.length&&this.cleanedValue&&this.normalizedValue.includes(" ")&&!e.display_name.toLowerCase().match(new RegExp("\\b".concat(this.normalizedValue)))},buildResourceIdOptions:function(e){return{type:"resource_id",slug:e.slug,id:this.cleanedValue,value:"".concat((0,Z.Z)(e.display_name)," #").concat(this.cleanedValue)}},buildResourceSearchOptions:function(e){return{type:"resource_search",slug:e.slug,query:this.cleanedValue,value:"".concat((0,Z.Z)(e.display_name),' "').concat(this.cleanedValue,'"')}},onSelect:function(e){"query"===e.type?this.$router.push({name:"query",params:{id:e.id}}):"dashboard"===e.type?this.$router.push({name:"dashboard",params:{id:e.id}}):"alert"===e.type?this.$router.push({name:"alert",params:{id:e.id}}):"form"===e.type?this.$router.push({name:"form",params:{id:e.id}}):"resource"===e.type?this.$router.push({name:"resources",params:{fragments:[e.slug]}}):"resource_id"===e.type?this.$router.push({name:"resources",params:{fragments:[e.slug,e.id]}}):"resource_search"===e.type?this.$router.push({name:"resources",params:{fragments:[e.slug]},query:{q:e.query}}):"new_query"===e.type?this.$router.push({name:"new_query"}):"new_dashboard"===e.type?this.$router.push({name:"new_dashboard"}):"new_alert"===e.type?this.$router.push({name:"new_alert"}):"new_form"===e.type&&this.$router.push({name:"new_form"}),se.push(e),this.$emit("selected",e)},onSearch:(0,H.Z)((function(e){return this.value=e,this.isLoaded||((0,W.XD)(),(0,U.j)()),this.value.length?this.options=this.buildItems():this.options=se.displayOptions(),Promise.resolve()}),200)}},le=(0,D.Z)(ae,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("MSelect");return(0,t.wg)(),(0,t.j4)(a,{icon:"ios-search",size:"large",border:!1,options:o.options,"focus-first":!0,"value-function":function(e){return[e.value,e.type].join("::")},filterable:"","label-key":"value","with-deselect":!1,"option-component":s.optionComponent,"remote-function":s.onSearch,onSelect:s.onSelect},null,8,["options","value-function","option-component","remote-function","onSelect"])}]]);var ce=function(e){return(0,t.dD)("data-v-1d7bb568"),e=e(),(0,t.Cn)(),e},ue={class:"row"},he={class:"col-12 col-xl-2 order-1 order-xl-0"},de={class:"col-12 col-xl-10"},pe={key:0},fe={class:"video-container"},me=["src"],ge={class:"mt-2 text-center"},ve=(0,t.Uk)(" Next "),ye={key:1,class:"text-center mb-2",style:{"max-width":"530px",margin:"auto"}},be=ce((function(){return(0,t._)("p",{class:"fs-3"}," Have a problem or found a bug? ",-1)})),we=(0,t.Uk)(" Open Issue "),_e=ce((function(){return(0,t._)("p",{class:"fs-3 mt-3"}," Enjoy using Motor Admin? ",-1)})),xe=(0,t.Uk)(" Give a Star ");const ke={name:"Guides",components:{SubscribeFrom:P},data:function(){return{currentStep:"",autoplay:0,isSubscribed:L.isSubscribed}},computed:{currentUser:function(){return L},currentItem:function(){var e=this;return this.steps.find((function(t){return t.key===e.currentStep}))},steps:function(){return[{name:"Adjusting resources",videoId:"ngVoci8Hll4",key:"adjusting_resources"},{name:"Adding column",videoId:"6T5aNhnilI8",key:"adding_column"},{name:"Query visualization",videoId:"HSOc3iKxss4",key:"query_visualization"},{name:"Creating dashboard",videoId:"ciBGwqOUlgg",key:"creating_dashboard"},{name:"Custom form action",videoId:"ZQeR67dKiMI",key:"custom_form_action"},{name:"Other",key:"other"}]}},created:function(){this.currentStep=this.steps[0].key},methods:{changeStep:function(e){this.currentStep=e,this.autoplay=1},nextStep:function(){var e=this,t=this.steps.findIndex((function(t){return t.key===e.currentStep}));this.autoplay=1,this.currentStep=this.steps[t+1].key}}},Ce=(0,D.Z)(ke,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VButton"),l=(0,t.up)("Icon"),u=(0,t.up)("SubscribeFrom");return(0,t.wg)(),(0,t.iD)("div",ue,[(0,t._)("div",he,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.steps,(function(e){return(0,t.wg)(),(0,t.j4)(a,{key:e.key,class:"mb-2 d-block w-100",type:s.currentItem===e?"primary":"default",ghost:s.currentItem===e,onClick:function(t){return s.changeStep(e.key)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.name),1)]})),_:2},1032,["type","ghost","onClick"])})),128))]),(0,t._)("div",de,[s.currentItem.videoId?((0,t.wg)(),(0,t.iD)("div",pe,[(0,t._)("div",fe,[(0,t._)("iframe",{src:"https://www.youtube.com/embed/".concat(s.currentItem.videoId,"?rel=0&autoplay=").concat(o.autoplay),frameborder:"0",allow:"fullscreen;"},null,8,me)]),(0,t._)("div",ge,[(0,t.Wm)(a,{type:"primary",size:"large",class:"d-none d-xl-inline",onClick:s.nextStep},{default:(0,t.w5)((function(){return[ve,(0,t.Wm)(l,{type:"ios-arrow-forward"})]})),_:1},8,["onClick"])])])):((0,t.wg)(),(0,t.iD)("div",ye,[o.isSubscribed?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(u,{key:0,class:"mb-4"})),be,(0,t.Wm)(a,{to:"https://github.com/motor-admin/motor-admin-rails/issues/new",target:"_blank",icon:"ios-bug",class:"mt-3",size:"large"},{default:(0,t.w5)((function(){return[we]})),_:1},8,["to"]),_e,(0,t.Wm)(a,{to:"https://github.com/motor-admin/motor-admin-rails/stargazers",target:"_blank",class:"mt-3",icon:"md-star",size:"large"},{default:(0,t.w5)((function(){return[xe]})),_:1},8,["to"])]))])])}],["__scopeId","data-v-1d7bb568"]]),Se=Ce;n(2772),n(9254);var Ae={class:"ivu-card ivu-card-bordered"},Te={class:"ivu-card-body py-0"},Oe={class:"d-flex align-items-center"},Le={class:"d-flex align-items-center"},Ee={class:"d-flex justify-content-between"},De=n(5487);function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Re={name:"LinkForm",props:{link:{type:Object,required:!0},submitText:{type:String,required:!1,default:De.c.save},withRemove:{type:Boolean,required:!1,default:!1}},emits:["cancel","submit","remove"],data:function(){return{isLoading:!1,dataLink:Me({conditions:[],type:"header"},this.link)}},computed:{linkTypeOptions:function(){return[{label:this.i18n.header,value:"header"},{label:this.i18n.user_dropdown,value:"user_dropdown"}]},rules:function(){return{name:[{required:!0,message:(0,De.w)("name")}],path:[{required:!0,message:(0,De.w)("path")}]}}},methods:{toggleConditions:function(e){this.dataLink.conditions.length?this.dataLink.conditions=[]:this.dataLink.conditions=[{field:"role",value:[]}]},submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$emit("submit",[e.link,e.dataLink])}))}}},Ie=(0,D.Z)(Re,[["render",function(n,i,r,o,s,a){var l=(0,t.up)("VInput"),u=(0,t.up)("FormItem"),h=(0,t.up)("MSelect"),d=(0,t.up)("VForm"),p=(0,t.up)("Checkbox"),f=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(d,{ref:"form",rules:a.rules,"label-position":"top",model:s.dataLink,onSubmit:(0,e.iM)(a.submit,["prevent"])},{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{label:n.i18n.name,prop:"name"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{modelValue:s.dataLink.name,"onUpdate:modelValue":i[0]||(i[0]=function(e){return s.dataLink.name=e}),placeholder:n.i18n.link_name,onKeydown:(0,e.D2)(a.submit,["enter"])},null,8,["modelValue","placeholder","onKeydown"])]})),_:1},8,["label"]),["forms","reports"].includes(s.dataLink.link_type)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(u,{key:0,label:n.i18n.path,prop:"path"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{modelValue:s.dataLink.path,"onUpdate:modelValue":i[1]||(i[1]=function(e){return s.dataLink.path=e}),placeholder:"/path",onKeydown:(0,e.D2)(a.submit,["enter"])},null,8,["modelValue","onKeydown"])]})),_:1},8,["label"])),["forms","reports"].includes(s.dataLink.link_type)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(u,{key:1,label:n.i18n.type,prop:"type"},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{modelValue:s.dataLink.link_type,"onUpdate:modelValue":i[2]||(i[2]=function(e){return s.dataLink.link_type=e}),options:a.linkTypeOptions},null,8,["modelValue","options"])]})),_:1},8,["label"]))]})),_:1},8,["rules","model","onSubmit"]),(0,t.Wm)(p,{"model-value":!!s.dataLink.conditions.length,class:"d-block mb-3","onUpdate:modelValue":a.toggleConditions},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(" ")+" "+(0,c.zw)(n.i18n.conditional),1)]})),_:1},8,["model-value","onUpdate:modelValue"]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.dataLink.conditions,(function(e,i){return(0,t.wg)(),(0,t.iD)("div",{key:i,class:"d-flex justify-content-between mt-2"},[(0,t.Wm)(h,{modelValue:e.field,"onUpdate:modelValue":function(t){return e.field=t},style:{width:"45%"},placeholder:n.i18n.field,options:["role","email"],"with-deselect":!1},null,8,["modelValue","onUpdate:modelValue","placeholder"]),(0,t.Wm)(h,{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},multiple:"","allow-create":"",style:{width:"45%"},placeholder:n.i18n.value},null,8,["modelValue","onUpdate:modelValue","placeholder"]),(0,t.Wm)(f,{icon:"md-close",type:"text",onClick:function(e){return s.dataLink.conditions.splice(i,1)}},null,8,["onClick"])])})),128)),s.dataLink.conditions.length?((0,t.wg)(),(0,t.j4)(f,{key:0,icon:"md-add",type:"text",class:"bg-transparent",long:"",onClick:i[3]||(i[3]=function(e){return s.dataLink.conditions.push({field:"role",value:""})})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.add_condition),1)]})),_:1})):(0,t.kq)("",!0),(0,t._)("div",Ee,[(0,t._)("div",null,[r.withRemove?((0,t.wg)(),(0,t.j4)(f,{key:0,type:"error",ghost:"",class:"me-2",onClick:i[4]||(i[4]=function(e){return n.$emit("remove",r.link)})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.remove),1)]})),_:1})):(0,t.kq)("",!0),(0,t.Wm)(f,{onClick:i[5]||(i[5]=function(e){return n.$emit("cancel")})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.cancel),1)]})),_:1})]),(0,t.Wm)(f,{type:"primary",loading:s.isLoading,onClick:a.submit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(r.submitText),1)]})),_:1},8,["loading","onClick"])])])}]]),Fe=Ie,je={name:"LinkItem",components:{LinkForm:Fe},props:{link:{type:Object,required:!0}},emits:["remove","submit"],data:function(){return{isForm:!1}},methods:{toggleForm:function(){this.isForm=!this.isForm},onSubmit:function(e){this.isForm=!1,this.$emit("submit",e)},onRemove:function(e){this.isForm=!1,this.$emit("remove",e)}}},Ne=(0,D.Z)(je,[["render",function(n,i,r,o,s,a){var l=(0,t.up)("Icon"),u=(0,t.up)("Contenteditable"),h=(0,t.up)("LinkForm");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",Ae,[(0,t._)("div",Te,[(0,t._)("div",{class:"cursor-pointer d-flex align-items-center justify-content-between py-2",style:(0,c.j5)({opacity:s.isForm||"hidden"!==r.link.access_type?1:.5}),onClick:i[3]||(i[3]=function(){return a.toggleForm&&a.toggleForm.apply(a,arguments)})},[(0,t._)("div",Oe,[(0,t.Wm)(l,{type:"ios-menu",class:"me-3 cursor-grab handle"}),(0,t.Wm)(u,{modelValue:r.link.name,"onUpdate:modelValue":i[0]||(i[0]=function(e){return r.link.name=e}),class:"fs-5 fw-bold",onClick:i[1]||(i[1]=(0,e.iM)((function(){}),["stop"])),onChange:i[2]||(i[2]=function(e){return n.$emit("submit",[r.link,r.link])})},null,8,["modelValue"])]),(0,t._)("div",Le,[(0,t.Wm)(l,{type:s.isForm?"ios-arrow-up":"ios-arrow-down"},null,8,["type"])])],4),s.isForm?((0,t.wg)(),(0,t.j4)(h,{key:0,link:r.link,class:"py-3","with-remove":!["forms","reports"].includes(r.link.link_type),onCancel:a.toggleForm,onRemove:a.onRemove,onSubmit:a.onSubmit},null,8,["link","with-remove","onCancel","onRemove","onSubmit"])):(0,t.kq)("",!0)])])])}],["__scopeId","data-v-0af36817"]]);var ze=(0,g.qj)(JSON.parse(document.getElementById("app").getAttribute("data-header-links")));function qe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue={name:"",path:"",link_type:"header"};const He={name:"HeaderEdit",components:{LinkItem:Ne,LinkForm:Fe},data:function(){return{newLink:null}},computed:{links:function(){return ze}},mounted:function(){this.links.length||this.addLink()},methods:{addLink:function(){this.newLink=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Ue)},removeLink:function(e){var t=this.links.indexOf(e);this.links.splice(t,1),this.persistChanges()},onSubmitNew:function(e){this.newLink=null,this.onLinkSubmit(e)},replaceLink:function(e){var t=qe(e,2),n=t[0],i=t[1],r=this.links.indexOf(n);this.links.splice(r,1,i),this.persistChanges()},pushNewLink:function(e){var t=qe(e,2),n=(t[0],t[1]);this.links.push(n),this.persistChanges(),this.newLink=null},persistChanges:function(){return V.Z.post("configs",{data:{key:"header.links",value:this.links}}).then((function(e){})).catch((function(e){console.error(e)}))}}},Ze=(0,D.Z)(He,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("LinkItem"),l=(0,t.up)("VueDraggableNext"),u=(0,t.up)("LinkForm"),h=(0,t.up)("Card"),d=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(l,{list:s.links,handle:".handle",onChange:s.persistChanges},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.links,(function(e){return(0,t.wg)(),(0,t.j4)(a,{key:e.path,link:e,class:"pb-2",onRemove:s.removeLink,onSubmit:s.replaceLink},null,8,["link","onRemove","onSubmit"])})),128))]})),_:1},8,["list","onChange"]),o.newLink?((0,t.wg)(),(0,t.j4)(h,{key:0},{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{link:o.newLink,"submit-text":e.i18n.add_link,onCancel:n[0]||(n[0]=function(e){return o.newLink=null}),onSubmit:s.pushNewLink},null,8,["link","submit-text","onSubmit"])]})),_:1})):((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)(s.links.length?"py-2 border-top":"")},[(0,t.Wm)(d,{long:"",icon:"md-add",onClick:s.addLink},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_link),1)]})),_:1},8,["onClick"])],2))],64)}]]);var Ke=n(649),Ge=n(7605),Ye=n(8564),Qe=n(1995),Je=(n(3710),n(4800));function Xe(e){return"new_query"===e.name?Je.Z.$can("create","Motor::Query"):"new_form"===e.name?Je.Z.$can("create","Motor::Form"):"new_alert"===e.name?Je.Z.$can("create","Motor::Alert"):"new_dashboard"===e.name?Je.Z.$can("create","Motor::Dashboard"):"resources"===e.name?Je.Z.$can("create","Motor::Query"):"dashboard"===e.name?W.n3.find((function(t){return t.id.toString()===e.params.id.toString()})):"form"===e.name?U.r.find((function(t){return t.id.toString()===e.params.id.toString()})):"query"===e.name?W.db.find((function(t){return t.id.toString()===e.params.id.toString()})):"alert"===e.name?W.vS.find((function(t){return t.id.toString()===e.params.id.toString()})):"resources"===e.name?!!B.ik[e.params.fragments[0]]:void 0}var et=n(2877);const tt=Ke.oD?(0,et.createConsumer)(Ke.oD):{subscriptions:{create:function(){},remove:function(){}}};function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var it=(0,n(9652).Z)();const rt={name:"AppHeader",data:function(){return{notificationsCount:0}},computed:{isShowSettings:Ye.Qy,isStandalone:function(){return Ke.$W},basePath:function(){return Ke.sb},currentUser:function(){return L},adminSettingsPath:function(){return Ke.sc},reportsLink:function(){return this.links.find((function(e){return"reports"===e.link_type}))},formsLink:function(){return this.links.find((function(e){return"forms"===e.link_type}))},canReadReports:function(){return this.$can("read","Motor::Query")||this.$can("read","Motor::Dashboard")||this.$can("read","Motor::Alert")},isShowCreateButton:function(){return this.$can("create","Motor::Query")||this.$can("create","Motor::Dashboard")||this.$can("create","Motor::Alert")||this.$can("create","Motor::Form")},links:function(){return ze},linksToRenderForUserDropdown:function(){return this.normalizeLinks(this.links.filter((function(e){return"user_dropdown"===e.link_type})))},linksToRender:function(){return this.normalizeLinks(this.links.filter((function(e){return!(e.link_type&&"header"!==e.link_type||["forms","reports"].includes(e.link_type))})))},currentResource:function(){if("resources"===this.$route.name)return this.$route.params.fragments.reduce((function(e,t,n){var i,r;return n%2==0?B.r3[null===(i=e.associations)||void 0===i||null===(r=i.find((function(e){return e.slug===t})))||void 0===r?void 0:r.model_name]||B.ik[t]:e}),{})}},mounted:function(){var e=this;this.loadNotificationsCount(),it.on("notify",(function(t){e.loadNotificationsCount(),Notification.requestPermission().then((function(e){return new Notification(t.title,{body:t.description,icon:"/apple-touch-icon.png"})}))})),it.on("update",(function(t){e.loadNotificationsCount()}))},methods:{widthLessThan:Ge.aJ,openSettingsDrawer:Qe.r,normalizeLinks:function(e){var t=this;return e.map((function(e){var n={name:e.name},i=e.path.replace(location.origin,"").replace(new RegExp("^".concat(Ke.sb)),"/");if(n.to=i,i.match(/^https?:/))return n.target="_blank",n;var r=t.$router.resolve({path:i},t.$route);return null!=r&&r.name?Xe(r)?n:null:n})).filter(Boolean)},loadNotificationsCount:function(){var e=this;V.Z.get("notifications",{params:{page:{limit:0,offset:0},filter:{status:"pending"},meta:"count"}}).then((function(t){e.notificationsCount=t.data.meta.count}))},signOut:function(){V.Z.delete("session").then((function(){document.location.href="/"}))},openSearch:function(){var e=this;this.$Modal.open(le,{placeholder:this.i18n.search_placeholder,onSelected:function(t){e.$Modal.remove()}})},openGuides:function(){this.$Modal.open(Se,{},{closable:!0,className:"modal-size-large"})},openEditModal:function(){this.$Drawer.open(Ze,{},{title:this.i18n.links,closable:!0})},onSettingsClick:function(){if(this.isShowSettings)return(0,Ye.js)();["resources"].includes(this.$route.name)&&!(0,Ge.aJ)("sm")?(0,Ye.js)():(0,Qe.r)({selectedResource:this.currentResource})}}},ot=(0,D.Z)(rt,[["render",function(e,n,i,r,o,s){var a,l,u=(0,t.up)("VButton"),h=(0,t.up)("Icon"),d=(0,t.up)("DropdownItem"),p=(0,t.up)("DropdownMenu"),f=(0,t.up)("Dropdown"),m=(0,t.up)("Badge");return(0,t.wg)(),(0,t.iD)("div",R,[(0,t._)("div",I,[(0,t.Wm)(u,{to:{name:"home"},type:"primary",class:"d-flex align-items-center justify-content-center",style:{width:"44px",height:"42px"}},{default:(0,t.w5)((function(){return[F]})),_:1}),s.widthLessThan("sm")?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[s.canReadReports&&s.reportsLink?((0,t.wg)(),(0,t.j4)(u,{key:0,type:"primary",to:{name:"reports"},class:"header-btn ms-2",size:"large"},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.reportsLink.name),1)]})),_:1})):(0,t.kq)("",!0),e.$can("read","Motor::Form")&&s.formsLink?((0,t.wg)(),(0,t.j4)(u,{key:1,type:"primary",class:"header-btn ms-2",size:"large",to:{name:"forms"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.formsLink.name),1)]})),_:1})):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.linksToRender,(function(e){return(0,t.wg)(),(0,t.j4)(u,{key:e.name,type:"primary",class:"header-btn ms-2",target:e.target,size:"large",to:e.to},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.name),1)]})),_:2},1032,["target","to"])})),128)),e.$can("manage","Motor::Config")?((0,t.wg)(),(0,t.j4)(u,{key:2,type:"primary",class:"ms-2 add-item-btn",icon:"md-add",onClick:s.openEditModal},null,8,["onClick"])):(0,t.kq)("",!0)],64))]),(0,t._)("div",j,[null!==(a=s.currentUser)&&void 0!==a&&a.email?((0,t.wg)(),(0,t.j4)(f,{key:0,trigger:"click",placement:"bottom-end",class:"ms-2"},{list:(0,t.w5)((function(){return[(0,t.Wm)(p,null,{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.linksToRenderForUserDropdown,(function(e){return(0,t.wg)(),(0,t.j4)(d,{key:e.name},{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{type:"text",target:e.target,to:e.to,class:"p-0 bg-transparent text-dark",style:{"line-height":"unset",height:"unset"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.name),1)]})),_:2},1032,["target","to"])]})),_:2},1024)})),128)),(0,t.Wm)(d,{divided:0!==s.linksToRenderForUserDropdown.length,onClick:s.signOut},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{type:"md-exit",size:"large"}),(0,t.Uk)(" "+(0,c.zw)(e.i18n.sign_out),1)]})),_:1},8,["divided","onClick"])]})),_:1})]})),default:(0,t.w5)((function(){return[s.currentUser?((0,t.wg)(),(0,t.j4)(u,{key:0,type:"primary",class:"header-btn ms-2",size:"large"},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{type:"md-contact",class:"d-block d-sm-none",size:"large"}),(0,t._)("span",N,(0,c.zw)(s.currentUser.email),1)]})),_:1})):(0,t.kq)("",!0)]})),_:1})):(0,t.kq)("",!0),!s.isStandalone||null!==(l=s.currentUser)&&void 0!==l&&l.email?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(u,{key:1,type:"primary",class:"header-btn ms-2",size:"large",to:(s.basePath+"/sign_in").replace("//","/")},{default:(0,t.w5)((function(){return[z]})),_:1},8,["to"])),!s.isShowSettings&&s.currentUser.showHelp?((0,t.wg)(),(0,t.j4)(u,{key:2,type:"primary",size:"large",class:"header-btn",onClick:s.openGuides},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{type:"md-help",size:"large"})]})),_:1},8,["onClick"])):(0,t.kq)("",!0),!s.isShowSettings&&s.adminSettingsPath&&e.$can("manage","all")?((0,t.wg)(),(0,t.j4)(u,{key:3,type:"primary",size:"large",class:"header-btn",to:s.adminSettingsPath},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{type:"md-person-add",size:"large"})]})),_:1},8,["to"])):(0,t.kq)("",!0),o.notificationsCount&&e.$can("read","Motor::Notification")?((0,t.wg)(),(0,t.j4)(m,{key:4,count:o.notificationsCount,type:"error"},{default:(0,t.w5)((function(){return[e.$can("read","Motor::Notification")?((0,t.wg)(),(0,t.j4)(u,{key:0,type:"primary",class:"ms-2 header-btn",size:"large",to:{name:"notifications"}},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{type:"md-notifications",size:"large"})]})),_:1})):(0,t.kq)("",!0)]})),_:1},8,["count"])):(0,t.kq)("",!0),s.isShowSettings?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(u,{key:5,type:"primary",size:"large",class:"ms-2 header-btn",onClick:s.openSearch},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{type:"md-search",size:"large"})]})),_:1},8,["onClick"])),!s.isShowSettings&&s.isShowCreateButton?((0,t.wg)(),(0,t.j4)(f,{key:6,trigger:"click",placement:e.$can("manage","all")?"bottom":"bottom-end",class:"ms-2"},{list:(0,t.w5)((function(){return[(0,t.Wm)(p,null,{default:(0,t.w5)((function(){return[e.$can("create","Motor::Query")?((0,t.wg)(),(0,t.j4)(d,{key:0,onClick:n[0]||(n[0]=function(t){return e.$router.push({name:"new_query"})})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_query),1)]})),_:1})):(0,t.kq)("",!0),e.$can("create","Motor::Dashboard")?((0,t.wg)(),(0,t.j4)(d,{key:1,onClick:n[1]||(n[1]=function(t){return e.$router.push({name:"new_dashboard"})})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_dashboard),1)]})),_:1})):(0,t.kq)("",!0),e.$can("create","Motor::Form")?((0,t.wg)(),(0,t.j4)(d,{key:2,onClick:n[2]||(n[2]=function(t){return e.$router.push({name:"new_form"})})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_form),1)]})),_:1})):(0,t.kq)("",!0),e.$can("create","Motor::Alert")?((0,t.wg)(),(0,t.j4)(d,{key:3,onClick:n[3]||(n[3]=function(t){return e.$router.push({name:"new_alert"})})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_alert),1)]})),_:1})):(0,t.kq)("",!0)]})),_:1})]})),default:(0,t.w5)((function(){return[(0,t.Wm)(u,{type:"primary",size:"large",class:"header-btn"},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{type:"md-add",size:"large"})]})),_:1})]})),_:1},8,["placement"])):(0,t.kq)("",!0),e.$can("manage","all")?((0,t.wg)(),(0,t.j4)(u,{key:7,type:"primary",class:"ms-2 header-btn",size:"large",onClick:s.onSettingsClick},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{type:s.isShowSettings?"md-close":"md-settings",size:"large"},null,8,["type"]),s.isShowSettings?((0,t.wg)(),(0,t.iD)("span",q,(0,c.zw)(e.i18n.close_settings),1)):(0,t.kq)("",!0)]})),_:1},8,["onClick"])):(0,t.kq)("",!0)])])}],["__scopeId","data-v-405176c8"]]);window.MotorAdmin={hooks:{shouldRenderAction:void 0,onTableLoaded:void 0,onTableRefreshed:void 0}};const st={name:"App",components:{AppHeader:ot},computed:{windowHeight:function(){return Ge.uK.value}},watch:{windowHeight:function(){this.setVh()}},mounted:function(){document.addEventListener("keydown",this.processKey),this.setVh(),this.maybeShowWelcomeModal()},methods:{setVh:function(){document.documentElement.style.setProperty("--vh","".concat(Ge.uK.value,"px"))},maybeShowWelcomeModal:function(){var e=this;L.showWelcome&&(this.$Modal.open($,{onClose:function(){e.$Modal.remove()},onOpenGuides:function(){e.$Modal.remove(),setTimeout((function(){e.$refs.header.openGuides()}),350)}}),L.showWelcome=!1)},processKey:function(e){if((e.ctrlKey||e.metaKey)&&75===e.keyCode)return e.preventDefault(),this.$refs.header.openSearch(),!1}}},at=(0,D.Z)(st,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("AppHeader"),l=(0,t.up)("RouterView"),c=(0,t.up)("Layout");return(0,t.wg)(),(0,t.j4)(c,null,{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{ref:"header"},null,512),(0,t.Wm)(l)]})),_:1})}]]);function lt(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:void 0!==n.g?n.g:{}}const ct="function"==typeof Proxy;let ut,ht;class dt{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const i={};if(e.settings)for(const t in e.settings){const n=e.settings[t];i[t]=n.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let o=Object.assign({},i);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(o,t)}catch(e){}this.fallbacks={getSettings:()=>o,setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(e){}o=e},now:()=>{return void 0!==ut||("undefined"!=typeof window&&window.performance?(ut=!0,ht=window.performance):void 0!==n.g&&(null===(e=n.g.perf_hooks)||void 0===e?void 0:e.performance)?(ut=!0,ht=n.g.perf_hooks.performance):ut=!1),ut?ht.now():Date.now();var e}},t&&t.on("plugin:settings:set",((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}const pt="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,ft=e=>pt?Symbol(e):"_vr_"+e,mt=ft("rvlm"),gt=ft("rvd"),vt=ft("r"),yt=ft("rl"),bt=ft("rvl"),wt="undefined"!=typeof window,_t=Object.assign;function xt(e,t){const n={};for(const i in t){const r=t[i];n[i]=Array.isArray(r)?r.map(e):e(r)}return n}const kt=()=>{},Ct=/\/$/;function St(e,t,n="/"){let i,r={},o="",s="";const a=t.indexOf("?"),l=t.indexOf("#",a>-1?a:0);return a>-1&&(i=t.slice(0,a),o=t.slice(a+1,l>-1?l:t.length),r=e(o)),l>-1&&(i=i||t.slice(0,l),s=t.slice(l,t.length)),i=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/");let r,o,s=n.length-1;for(r=0;r<i.length;r++)if(o=i[r],1!==s&&"."!==o){if(".."!==o)break;s--}return n.slice(0,s).join("/")+"/"+i.slice(r-(r===i.length?1:0)).join("/")}(null!=i?i:t,n),{fullPath:i+(o&&"?")+o+s,path:i,query:r,hash:s}}function At(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function Tt(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ot(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Lt(e[n],t[n]))return!1;return!0}function Lt(e,t){return Array.isArray(e)?Et(e,t):Array.isArray(t)?Et(t,e):e===t}function Et(e,t){return Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}var Dt,Pt;!function(e){e.pop="pop",e.push="push"}(Dt||(Dt={})),function(e){e.back="back",e.forward="forward",e.unknown=""}(Pt||(Pt={}));const Mt=/^[^#]+#/;function $t(e,t){return e.replace(Mt,"#")+t}const Rt=()=>({left:window.pageXOffset,top:window.pageYOffset});function It(e,t){return(history.state?history.state.position-t:-1)+e}const Ft=new Map;let jt=()=>location.protocol+"//"+location.host;function Nt(e,t){const{pathname:n,search:i,hash:r}=t,o=e.indexOf("#");if(o>-1){let t=r.includes(e.slice(o))?e.slice(o).length:1,n=r.slice(t);return"/"!==n[0]&&(n="/"+n),At(n,"")}return At(n,e)+i+r}function zt(e,t,n,i=!1,r=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:r?Rt():null}}function qt(e){return"string"==typeof e||"symbol"==typeof e}const Vt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Bt=ft("nf");var Wt;function Ut(e,t){return _t(new Error,{type:e,[Bt]:!0},t)}function Ht(e,t){return e instanceof Error&&Bt in e&&(null==t||!!(e.type&t))}!function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(Wt||(Wt={}));const Zt="[^/]+?",Kt={sensitive:!1,strict:!1,start:!0,end:!0},Gt=/[.+*?^${}()[\]/\\]/g;function Yt(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Qt(e,t){let n=0;const i=e.score,r=t.score;for(;n<i.length&&n<r.length;){const e=Yt(i[n],r[n]);if(e)return e;n++}return r.length-i.length}const Jt={type:0,value:""},Xt=/[a-zA-Z0-9_]/;function en(e,t,n){const i=function(e,t){const n=_t({},Kt,t),i=[];let r=n.start?"^":"";const o=[];for(const t of e){const e=t.length?[]:[90];n.strict&&!t.length&&(r+="/");for(let i=0;i<t.length;i++){const s=t[i];let a=40+(n.sensitive?.25:0);if(0===s.type)i||(r+="/"),r+=s.value.replace(Gt,"\\$&"),a+=40;else if(1===s.type){const{value:e,repeatable:n,optional:l,regexp:c}=s;o.push({name:e,repeatable:n,optional:l});const u=c||Zt;if(u!==Zt){a+=10;try{new RegExp(`(${u})`)}catch(t){throw new Error(`Invalid custom RegExp for param "${e}" (${u}): `+t.message)}}let h=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;i||(h=l&&t.length<2?`(?:/${h})`:"/"+h),l&&(h+="?"),r+=h,a+=20,l&&(a+=-8),n&&(a+=-20),".*"===u&&(a+=-50)}e.push(a)}i.push(e)}if(n.strict&&n.end){const e=i.length-1;i[e][i[e].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const s=new RegExp(r,n.sensitive?"":"i");return{re:s,score:i,keys:o,parse:function(e){const t=e.match(s),n={};if(!t)return null;for(let e=1;e<t.length;e++){const i=t[e]||"",r=o[e-1];n[r.name]=i&&r.repeatable?i.split("/"):i}return n},stringify:function(t){let n="",i=!1;for(const r of e){i&&n.endsWith("/")||(n+="/"),i=!1;for(const o of r)if(0===o.type)n+=o.value;else if(1===o.type){const{value:s,repeatable:a,optional:l}=o,c=s in t?t[s]:"";if(Array.isArray(c)&&!a)throw new Error(`Provided param "${s}" is an array but it is not repeatable (* or + modifiers)`);const u=Array.isArray(c)?c.join("/"):c;if(!u){if(!l)throw new Error(`Missing required param "${s}"`);r.length<2&&e.length>1&&(n.endsWith("/")?n=n.slice(0,-1):i=!0)}n+=u}}return n}}}(function(e){if(!e)return[[]];if("/"===e)return[[Jt]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${c}": ${e}`)}let n=0,i=n;const r=[];let o;function s(){o&&r.push(o),o=[]}let a,l=0,c="",u="";function h(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),c="")}function d(){c+=a}for(;l<e.length;)if(a=e[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&h(),s()):":"===a?(h(),n=1):d();break;case 4:d(),n=i;break;case 1:"("===a?n=2:Xt.test(a)?d():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==u[u.length-1]?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,u="";break;default:t("Unknown state")}else i=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${c}"`),h(),s(),r}(e.path),n),r=_t(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function tn(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]="boolean"==typeof n?n:n[i];return t}function nn(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function rn(e){return e.reduce(((e,t)=>_t(e,t.meta)),{})}function on(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function sn(e,t){return t.children.some((t=>t===e||sn(e,t)))}const an=/#/g,ln=/&/g,cn=/\//g,un=/=/g,hn=/\?/g,dn=/\+/g,pn=/%5B/g,fn=/%5D/g,mn=/%5E/g,gn=/%60/g,vn=/%7B/g,yn=/%7C/g,bn=/%7D/g,wn=/%20/g;function _n(e){return encodeURI(""+e).replace(yn,"|").replace(pn,"[").replace(fn,"]")}function xn(e){return _n(e).replace(dn,"%2B").replace(wn,"+").replace(an,"%23").replace(ln,"%26").replace(gn,"`").replace(vn,"{").replace(bn,"}").replace(mn,"^")}function kn(e){return null==e?"":function(e){return _n(e).replace(an,"%23").replace(hn,"%3F")}(e).replace(cn,"%2F")}function Cn(e){try{return decodeURIComponent(""+e)}catch(e){}return""+e}function Sn(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let e=0;e<n.length;++e){const i=n[e].replace(dn," "),r=i.indexOf("="),o=Cn(r<0?i:i.slice(0,r)),s=r<0?null:Cn(i.slice(r+1));if(o in t){let e=t[o];Array.isArray(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function An(e){let t="";for(let n in e){const i=e[n];(n=xn(n).replace(un,"%3D"),null!=i)?(Array.isArray(i)?i.map((e=>e&&xn(e))):[i&&xn(i)]).forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))})):void 0!==i&&(t+=(t.length?"&":"")+n)}return t}function Tn(e){const t={};for(const n in e){const i=e[n];void 0!==i&&(t[n]=Array.isArray(i)?i.map((e=>null==e?null:""+e)):null==i?i:""+i)}return t}function On(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e,reset:function(){e=[]}}}function Ln(e,t,n,i,r){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise(((s,a)=>{const l=e=>{var l;!1===e?a(Ut(4,{from:n,to:t})):e instanceof Error?a(e):"string"==typeof(l=e)||l&&"object"==typeof l?a(Ut(2,{from:t,to:e})):(o&&i.enterCallbacks[r]===o&&"function"==typeof e&&o.push(e),s())},c=e.call(i&&i.instances[r],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch((e=>a(e)))}))}function En(e,t,n,i){const r=[];for(const s of e)for(const e in s.components){let a=s.components[e];if("beforeRouteEnter"===t||s.instances[e])if("object"==typeof(o=a)||"displayName"in o||"props"in o||"__vccOpts"in o){const o=(a.__vccOpts||a)[t];o&&r.push(Ln(o,n,i,s,e))}else{let o=a();r.push((()=>o.then((r=>{if(!r)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${s.path}"`));const o=(a=r).__esModule||pt&&"Module"===a[Symbol.toStringTag]?r.default:r;var a;s.components[e]=o;const l=(o.__vccOpts||o)[t];return l&&Ln(l,n,i,s,e)()}))))}}var o;return r}function Dn(e){const n=(0,t.f3)(vt),i=(0,t.f3)(yt),r=(0,t.Fl)((()=>n.resolve((0,g.SU)(e.to)))),o=(0,t.Fl)((()=>{const{matched:e}=r.value,{length:t}=e,n=e[t-1],o=i.matched;if(!n||!o.length)return-1;const s=o.findIndex(Tt.bind(null,n));if(s>-1)return s;const a=$n(e[t-2]);return t>1&&$n(n)===a&&o[o.length-1].path!==a?o.findIndex(Tt.bind(null,e[t-2])):s})),s=(0,t.Fl)((()=>o.value>-1&&function(e,t){for(const n in t){const i=t[n],r=e[n];if("string"==typeof i){if(i!==r)return!1}else if(!Array.isArray(r)||r.length!==i.length||i.some(((e,t)=>e!==r[t])))return!1}return!0}(i.params,r.value.params))),a=(0,t.Fl)((()=>o.value>-1&&o.value===i.matched.length-1&&Ot(i.params,r.value.params)));if(__VUE_PROD_DEVTOOLS__&&wt){const e=(0,t.FN)();if(e){const n={route:r.value,isActive:s.value,isExactActive:a.value};e.__vrl_devtools=e.__vrl_devtools||[],e.__vrl_devtools.push(n),(0,t.m0)((()=>{n.route=r.value,n.isActive=s.value,n.isExactActive=a.value}),{flush:"post"})}}return{route:r,href:(0,t.Fl)((()=>r.value.href)),isActive:s,isExactActive:a,navigate:function(t={}){return function(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}(t)?n[(0,g.SU)(e.replace)?"replace":"push"]((0,g.SU)(e.to)).catch(kt):Promise.resolve()}}}const Pn=(0,t.aZ)({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Dn,setup(e,{slots:n}){const i=(0,g.qj)(Dn(e)),{options:r}=(0,t.f3)(vt),o=(0,t.Fl)((()=>({[Rn(e.activeClass,r.linkActiveClass,"router-link-active")]:i.isActive,[Rn(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive})));return()=>{const r=n.default&&n.default(i);return e.custom?r:(0,t.h)("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:o.value},r)}}}),Mn=Pn;function $n(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Rn=(e,t,n)=>null!=e?e:null!=t?t:n,In=(0,t.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:n,slots:i}){const r=(0,t.f3)(bt),o=(0,t.Fl)((()=>e.route||r.value)),s=(0,t.f3)(gt,0),a=(0,t.Fl)((()=>o.value.matched[s]));(0,t.JJ)(gt,s+1),(0,t.JJ)(mt,a),(0,t.JJ)(bt,o);const l=(0,g.iH)();return(0,t.YP)((()=>[l.value,a.value,e.name]),(([e,t,n],[i,r,o])=>{t&&(t.instances[n]=e,r&&r!==t&&e&&e===i&&(t.leaveGuards.size||(t.leaveGuards=r.leaveGuards),t.updateGuards.size||(t.updateGuards=r.updateGuards))),!e||!t||r&&Tt(t,r)&&i||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const r=o.value,c=a.value,u=c&&c.components[e.name],h=e.name;if(!u)return Fn(i.default,{Component:u,route:r});const d=c.props[e.name],p=d?!0===d?r.params:"function"==typeof d?d(r):d:null,f=(0,t.h)(u,_t({},p,n,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(c.instances[h]=null)},ref:l}));if(__VUE_PROD_DEVTOOLS__&&wt&&f.ref){const e={depth:s,name:c.name,path:c.path,meta:c.meta};(Array.isArray(f.ref)?f.ref.map((e=>e.i)):[f.ref.i]).forEach((t=>{t.__vrv_devtools=e}))}return Fn(i.default,{Component:f,route:r})||f}}});function Fn(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const jn=In;function Nn(e,t){const n=_t({},e,{matched:e.matched.map((e=>function(e,t){const n={};for(const i in e)t.includes(i)||(n[i]=e[i]);return n}(e,["instances","children","aliasOf"])))});return{_custom:{type:null,readOnly:!0,display:e.fullPath,tooltip:t,value:n}}}function zn(e){return{_custom:{display:e}}}let qn=0;function Vn(e,n,i){if(n.__hasDevtools)return;n.__hasDevtools=!0;const r=qn++;!function(e,t){const n=e,i=lt(),r=lt().__VUE_DEVTOOLS_GLOBAL_HOOK__,o=ct&&n.enableEarlyProxy;if(!r||!i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&o){const e=o?new dt(n,r):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else r.emit("devtools-plugin:setup",e,t)}({id:"org.vuejs.router"+(r?"."+r:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:e},(o=>{o.on.inspectComponent(((e,t)=>{e.instanceData&&e.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:Nn(n.currentRoute.value,"Current Route")})})),o.on.visitComponentTree((({treeNode:e,componentInstance:t})=>{if(t.__vrv_devtools){const n=t.__vrv_devtools;e.tags.push({label:(n.name?`${n.name.toString()}: `:"")+n.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:Wn})}Array.isArray(t.__vrl_devtools)&&(t.__devtoolsApi=o,t.__vrl_devtools.forEach((t=>{let n=Zn,i="";t.isExactActive?(n=Hn,i="This is exactly active"):t.isActive&&(n=Un,i="This link is active"),e.tags.push({label:t.route.path,textColor:0,tooltip:i,backgroundColor:n})})))})),(0,t.YP)(n.currentRoute,(()=>{c(),o.notifyComponentUpdate(),o.sendInspectorTree(l),o.sendInspectorState(l)}));const s="router:navigations:"+r;o.addTimelineLayer({id:s,label:`Router${r?" "+r:""} Navigations`,color:4237508}),n.onError(((e,t)=>{o.addTimelineEvent({layerId:s,event:{title:"Error during Navigation",subtitle:t.fullPath,logType:"error",time:o.now(),data:{error:e},groupId:t.meta.__navigationId}})}));let a=0;n.beforeEach(((e,t)=>{const n={guard:zn("beforeEach"),from:Nn(t,"Current Location during this navigation"),to:Nn(e,"Target location")};Object.defineProperty(e.meta,"__navigationId",{value:a++}),o.addTimelineEvent({layerId:s,event:{time:o.now(),title:"Start of navigation",subtitle:e.fullPath,data:n,groupId:e.meta.__navigationId}})})),n.afterEach(((e,t,n)=>{const i={guard:zn("afterEach")};n?(i.failure={_custom:{type:Error,readOnly:!0,display:n?n.message:"",tooltip:"Navigation Failure",value:n}},i.status=zn("")):i.status=zn(""),i.from=Nn(t,"Current Location during this navigation"),i.to=Nn(e,"Target location"),o.addTimelineEvent({layerId:s,event:{title:"End of navigation",subtitle:e.fullPath,time:o.now(),data:i,logType:n?"warning":"default",groupId:e.meta.__navigationId}})}));const l="router-inspector:"+r;function c(){if(!u)return;const e=u;let t=i.getRoutes().filter((e=>!e.parent));t.forEach(Jn),e.filter&&(t=t.filter((t=>Xn(t,e.filter.toLowerCase())))),t.forEach((e=>Qn(e,n.currentRoute.value))),e.rootNodes=t.map(Kn)}let u;o.addInspector({id:l,label:"Routes"+(r?" "+r:""),icon:"book",treeFilterPlaceholder:"Search routes"}),o.on.getInspectorTree((t=>{u=t,t.app===e&&t.inspectorId===l&&c()})),o.on.getInspectorState((t=>{if(t.app===e&&t.inspectorId===l){const e=i.getRoutes().find((e=>e.record.__vd_id===t.nodeId));e&&(t.state={options:Bn(e)})}})),o.sendInspectorTree(l),o.sendInspectorState(l)}))}function Bn(e){const{record:t}=e,n=[{editable:!1,key:"path",value:t.path}];return null!=t.name&&n.push({editable:!1,key:"name",value:t.name}),n.push({editable:!1,key:"regexp",value:e.re}),e.keys.length&&n.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:e.keys.map((e=>`${e.name}${function(e){return e.optional?e.repeatable?"*":"?":e.repeatable?"+":""}(e)}`)).join(" "),tooltip:"Param keys",value:e.keys}}}),null!=t.redirect&&n.push({editable:!1,key:"redirect",value:t.redirect}),e.alias.length&&n.push({editable:!1,key:"aliases",value:e.alias.map((e=>e.record.path))}),n.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:e.score.map((e=>e.join(", "))).join(" | "),tooltip:"Score used to sort routes",value:e.score}}}),n}const Wn=15485081,Un=2450411,Hn=8702998,Zn=16486972;function Kn(e){const t=[],{record:n}=e;null!=n.name&&t.push({label:String(n.name),textColor:0,backgroundColor:2282478}),n.aliasOf&&t.push({label:"alias",textColor:0,backgroundColor:Zn}),e.__vd_match&&t.push({label:"matches",textColor:0,backgroundColor:Wn}),e.__vd_exactActive&&t.push({label:"exact",textColor:0,backgroundColor:Hn}),e.__vd_active&&t.push({label:"active",textColor:0,backgroundColor:Un}),n.redirect&&t.push({label:"redirect: "+("string"==typeof n.redirect?n.redirect:"Object"),textColor:16777215,backgroundColor:6710886});let i=n.__vd_id;return null==i&&(i=String(Gn++),n.__vd_id=i),{id:i,label:n.path,tags:t,children:e.children.map(Kn)}}let Gn=0;const Yn=/^\/(.*)\/([a-z]*)$/;function Qn(e,t){const n=t.matched.length&&Tt(t.matched[t.matched.length-1],e.record);e.__vd_exactActive=e.__vd_active=n,n||(e.__vd_active=t.matched.some((t=>Tt(t,e.record)))),e.children.forEach((e=>Qn(e,t)))}function Jn(e){e.__vd_match=!1,e.children.forEach(Jn)}function Xn(e,t){const n=String(e.re).match(Yn);if(e.__vd_match=!1,!n||n.length<3)return!1;if(new RegExp(n[1].replace(/\$$/,""),n[2]).test(t))return e.children.forEach((e=>Xn(e,t))),("/"!==e.record.path||"/"===t)&&(e.__vd_match=e.re.test(t),!0);const i=e.record.path.toLowerCase(),r=Cn(i);return!(t.startsWith("/")||!r.includes(t)&&!i.includes(t))||!(!r.startsWith(t)&&!i.startsWith(t))||!(!e.record.name||!String(e.record.name).includes(t))||e.children.some((e=>Xn(e,t)))}function ei(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}var ti=n(129),ni=n.n(ti),ii={key:1,class:"text-center mt-4"};function ri(e){return function(e){if(Array.isArray(e))return oi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oi(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n(9653);var si={class:"ivu-menu-item-text"};const ai={name:"ResourceMenuItem",components:{CustomIcon:n(3912).Z},props:{resource:{type:Object,required:!0},withScopes:{type:Boolean,required:!1,default:!0},size:{type:String,required:!1,default:"default"},fragments:{type:Array,required:!1,default:function(){return[]}}},computed:{iconSize:function(){return"small"===this.size?14:16},visibleScopes:function(){return this.resource.scopes.filter((function(e){return e.visible}))},hasScopes:function(){return!!this.visibleScopes.length}}},li={name:"ResourcesNavigation",components:{ResourceMenuItem:(0,D.Z)(ai,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("CustomIcon"),l=(0,t.up)("MenuItem"),u=(0,t.up)("Submenu");return i.withScopes&&s.hasScopes?((0,t.wg)(),(0,t.j4)(u,{key:0,name:i.resource.slug,collapse:!1,to:{name:"resources",params:{fragments:[].concat(ri(i.fragments),[i.resource.slug])}}},{title:(0,t.w5)((function(){return[(0,t.Wm)(a,{type:i.resource.icon,size:s.iconSize},null,8,["type","size"]),(0,t.Uk)(" "+(0,c.zw)(i.resource.display_name.replace("/","/")),1)]})),default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.visibleScopes,(function(e){return(0,t.wg)(),(0,t.j4)(l,{key:e.name,name:i.resource.slug+"."+e.name,to:{name:"resources",params:{fragments:[].concat(ri(i.fragments),[i.resource.slug])},query:{scope:e.name}}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.display_name.replace("/","/")),1)]})),_:2},1032,["name","to"])})),128))]})),_:1},8,["name","to"])):((0,t.wg)(),(0,t.j4)(l,{key:1,name:i.resource.slug,to:{name:"resources",params:{fragments:[].concat(ri(i.fragments),[i.resource.slug])}}},{default:(0,t.w5)((function(){return[(0,t._)("div",si,[(0,t.Wm)(a,{type:i.resource.icon,size:s.iconSize},null,8,["type","size"]),(0,t.Uk)(" "+(0,c.zw)(i.resource.display_name.replace("/","/")),1)])]})),_:1},8,["name","to"]))}]])},props:{resources:{type:Array,required:!0},size:{type:String,required:!1,default:"default"},withScopes:{type:Boolean,required:!1,default:!0},pathFragments:{type:Array,required:!1,default:function(){return[]}},activeName:{type:String,required:!1,default:""}},emits:["select"],data:function(){return{openNames:[]}},computed:{itemClass:function(){return"small"===this.size?"":"fs-4"}}},ci=(0,D.Z)(li,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("ResourceMenuItem"),l=(0,t.up)("Menu");return(0,t.wg)(),(0,t.j4)(l,{"active-name":i.activeName,theme:"light",width:"auto","open-names":o.openNames,onOnSelect:n[0]||(n[0]=function(t){return e.$emit("select",t)})},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.resources,(function(e){return(0,t.wg)(),(0,t.j4)(a,{key:e.slug,size:i.size,"with-scopes":i.withScopes,fragments:i.pathFragments,resource:e,class:(0,c.C_)(s.itemClass)},null,8,["size","with-scopes","fragments","resource","class"])})),128))]})),_:1},8,["active-name","open-names"])}],["__scopeId","data-v-bb530e62"]]),ui=ci;var hi={key:0,class:"position-relative"},di={class:"d-flex border-top justify-content-between bg-white p-1"},pi=(0,t._)("span",null,null,-1);n(1532),n(5212),n(285),n(1637),n(6755),n(2443),n(3680),n(3706),n(2703),n(8011),n(489),n(8304);var fi=n(3900),mi=(n(4765),{class:"row",style:{margin:"10px 0"}}),gi={key:0,class:"col-6 d-flex align-items-center pe-0"},vi={key:5,class:"fs-4 fw-bold nowrap overflow-hidden text-truncate"};const yi={name:"ResourceSearch",props:{modelValue:{type:String,required:!1,default:""},placeholder:{type:String,required:!1,default:Ke.cR.search_placeholder}},emits:["search","update:modelValue"],data:function(){return{value:""}},watch:{modelValue:function(e){this.value=e}},mounted:function(){this.value=this.modelValue},methods:{onSearch:function(){this.$emit("update:modelValue",this.value),this.$emit("search",this.value)}}},bi=(0,D.Z)(yi,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VInput");return(0,t.wg)(),(0,t.j4)(a,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.value=e}),search:"",placeholder:i.placeholder,onOnSearch:s.onSearch},null,8,["modelValue","placeholder","onOnSearch"])}]]);var wi=n(2583),_i=n(645),xi=n(9328),ki=n(2639),Ci=n(6117);const Si={name:"ResourceCollectionActions",props:{model:{type:Object,required:!0},association:{type:Object,required:!1,default:null},parentResource:{type:Object,required:!1,default:null}},emits:["success"],computed:{resourceTitle:function(){return(0,Z.Z)(this.model.display_name)},createAction:function(){return this.model.actions.find((function(e){return"create"===e.name&&e.visible}))},customActions:function(){return this.model.actions.filter((function(e){return"collection"===e.apply_on&&e.visible&&"form"===e.action_type&&"create"!==e.name}))},parentModel:function(){return B.r3[this.parentResource.name]},resource:function(){var e,t=(0,_i.JG)(this.model);return null!==(e=this.association)&&void 0!==e&&e.polymorphic?(t[this.association.foreign_key]=parseInt(this.parentResource.id),t[this.association.foreign_key.replace(/_id$/,"_type")]=this.parentModel.class_name,"active_storage/attachment"===this.association.model_name&&(t.name=this.association.name.replace(/_attachments?$/,""))):this.parentResource&&(t[this.association.foreign_key]=this.parentResource[this.association.primary_key]),t},defaultProps:function(){var e,t,n,i=this;return{action:"new",resource:this.resource,resourceName:this.model.name,parentResourceName:null===(e=this.parentResource)||void 0===e?void 0:e.name,parentResourceId:null===(t=this.parentResource)||void 0===t?void 0:t.id,associationName:null===(n=this.association)||void 0===n?void 0:n.name,onClose:function(){i.$Drawer.remove()},onSuccess:function(e){i.$Message.info("".concat(i.resourceTitle," ").concat(i.i18n.has_been_created)),i.$emit("success",e)}}}},methods:{customActionProps:function(e){var t,n,i,r=this;return{data:this.parentResource?(t={},n="".concat(this.parentModel.name,"_").concat(this.parentModel.primary_key),i=this.parentResource.id,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t):{},formId:e.preferences.form_id,withFooterSubmit:!0,onSuccess:function(e){r.$Message.info("".concat(r.resourceTitle," ").concat(r.i18n.has_been_created)),r.$emit("success",e)}}},openForm:function(e){var n=this,i="default"===e.action_type?xi.default:Ci.default,r="default"===e.action_type?this.defaultProps:this.customActionProps(e);this.$Drawer.open(i,r,{slots:{header:function(){return(0,t.h)(ki.Z,{resource:n.resource,resourceName:n.model.name,action:"create"})}},handleClickOutside:function(){var e=this;this.$el.querySelector('form[data-form-edited="true"]')?this.$Dialog.confirm({title:this.i18n.there_are_unsaved_changes_close_form,closable:!0,onOk:function(){e.close()}}):this.close()},className:"drawer-no-bottom-padding",closable:!0})}}},Ai=(0,D.Z)(Si,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VButton"),l=(0,t.up)("DropdownItem"),u=(0,t.up)("DropdownMenu"),h=(0,t.up)("Dropdown");return s.createAction&&!s.customActions.length?((0,t.wg)(),(0,t.j4)(a,{key:0,type:"primary",icon:"md-add","data-role":"new",onClick:n[0]||(n[0]=function(e){return s.openForm(s.createAction)})})):s.customActions.length?((0,t.wg)(),(0,t.j4)(h,{key:1,trigger:"click",placement:"bottom-end"},{list:(0,t.w5)((function(){return[(0,t.Wm)(u,null,{default:(0,t.w5)((function(){return[s.createAction?((0,t.wg)(),(0,t.j4)(l,{key:0,onClick:n[1]||(n[1]=function(e){return s.openForm(s.createAction)})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.create),1)]})),_:1})):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.customActions,(function(e){return(0,t.wg)(),(0,t.j4)(l,{key:e.name,onClick:function(t){return s.openForm(e)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.display_name),1)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),default:(0,t.w5)((function(){return[(0,t.Wm)(a,{type:"primary",icon:"ios-arrow-down"})]})),_:1})):(0,t.kq)("",!0)}]]);var Ti={class:"sticky-footer"};function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const Li={name:"ResourceFiltersModal",components:{Filters:n(1511).Z},props:{model:{type:Object,required:!0},filters:{type:[Array,Object],required:!1,default:function(){return[]}}},emits:["apply","cancel"],data:function(){return{count:0,dataFilters:[]}},computed:{clearedFilters:function(){return this.dataFilters.filter((function(e){return"OR"===e||!!Object.keys(e)[0]}))}},created:function(){var e;this.dataFilters=function(e){if(Array.isArray(e))return Oi(e)}(e=this.filters)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},Ei=(0,D.Z)(Li,[["render",function(n,i,r,o,s,a){var l=(0,t.up)("Filters"),u=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(l,{filters:s.dataFilters,"onUpdate:filters":i[0]||(i[0]=function(e){return s.dataFilters=e}),model:r.model,class:"filters",onKeydown:i[1]||(i[1]=(0,e.D2)((function(e){return n.$emit("apply",a.clearedFilters)}),["enter"]))},null,8,["filters","model"]),(0,t._)("div",Ti,[(0,t.Wm)(u,{class:"float-start",onClick:i[2]||(i[2]=function(e){return n.$emit("cancel")})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.cancel),1)]})),_:1}),(0,t.Wm)(u,{onClick:i[3]||(i[3]=function(e){return n.$emit("apply",[])})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.clear_all),1)]})),_:1}),(0,t.Wm)(u,{class:"ms-2",type:"primary",onClick:i[4]||(i[4]=function(e){return n.$emit("apply",a.clearedFilters)})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.apply),1)]})),_:1})])],64)}],["__scopeId","data-v-c42b538c"]]);var Di=n(5763),Pi=n(2368);const Mi={name:"ResourceNavbar",components:{ResourceSearch:bi,ResourceActions:wi.Z,CollectionActions:Ai,SettingsMask:Pi.Z},props:{resourceName:{type:String,required:!0},filterParams:{type:Array,required:!1,default:function(){return[]}},selectedRows:{type:Array,required:!1,default:function(){return[]}},searchQuery:{type:String,required:!0,default:""},height:{type:String,required:!1,default:"500px"},withTitle:{type:Boolean,required:!1,default:!1},withKanbanToggle:{type:Boolean,required:!1,default:!1},isKanban:{type:Boolean,required:!1,default:!1},withResize:{type:Boolean,required:!1,default:!1},withMenu:{type:Boolean,required:!1,default:!1},associationParams:{type:Object,require:!1,default:null}},emits:["click-resize","click-menu","action-applied","update:filterParams","update:searchQuery","apply-search","apply-filters","reload","start-action","toggle-kanban"],computed:{isShowSettings:Ye.Qy,currentScope:function(){var e=this;return this.model.scopes.find((function(t){var n;return t.name===(null===(n=e.$route.query)||void 0===n?void 0:n.scope)}))},modelHasActions:function(){return this.model.actions.some((function(e){return"create"!==e.name&&e.visible}))},filtersCount:function(){return this.filterParams.filter((function(e){return"OR"!==e})).length},title:function(){var e;return(0,Di.$G)((null===(e=this.association)||void 0===e?void 0:e.display_name)||this.model.display_name,60)},association:function(){var e,t=this;return null!==(e=this.associationParams)&&void 0!==e&&e.name?B.r3[this.resourceName].associations.find((function(e){return e.slug===t.associationParams.name})):null},model:function(){if(this.association){var e=this.association.model_name;return B.r3[e]}return B.r3[this.resourceName]}},methods:{widthLessThan:Ge.aJ,onFinishAction:function(e){this.$emit("action-applied",e)},openFiltersModal:function(){var e=this;this.$Drawer.open(Ei,{filters:this.filterParams,model:this.model,onCancel:function(){e.$Drawer.remove()},onApply:function(t){e.$emit("update:filterParams",t),e.$emit("apply-filters",t),e.$Drawer.remove()}},{title:this.i18n.resource_filters.replace("%{resource}",this.model.display_name),className:"drawer-no-bottom-padding",closable:!0})}}},$i=(0,D.Z)(Mi,[["render",function(e,n,i,r,o,s){var a,l=(0,t.up)("VButton"),u=(0,t.up)("SettingsMask"),h=(0,t.up)("ResourceActions"),d=(0,t.up)("ResourceSearch"),p=(0,t.up)("Badge"),f=(0,t.up)("CollectionActions");return(0,t.wg)(),(0,t.iD)("div",mi,[i.withTitle&&!s.widthLessThan("sm")||i.selectedRows.length?((0,t.wg)(),(0,t.iD)("div",gi,[i.withMenu?((0,t.wg)(),(0,t.j4)(l,{key:0,icon:"md-menu",size:"small",type:"dashed",class:"me-2 bg-transparent align-bottom",onClick:n[0]||(n[0]=function(t){return e.$emit("click-menu")})})):(0,t.kq)("",!0),i.withResize?((0,t.wg)(),(0,t.j4)(l,{key:1,icon:"md-resize",size:"small",type:"dashed",class:"me-2 bg-transparent d-none d-md-block",onClick:n[1]||(n[1]=function(t){return e.$emit("click-resize")})})):(0,t.kq)("",!0),i.withKanbanToggle?((0,t.wg)(),(0,t.j4)(l,{key:2,icon:i.isKanban?"md-grid":"ios-browsers",class:"me-2",onClick:n[2]||(n[2]=function(t){return e.$emit("toggle-kanban")})},null,8,["icon"])):(0,t.kq)("",!0),s.isShowSettings?((0,t.wg)(),(0,t.j4)(u,{key:3,class:"me-2","settings-type":"actions","button-only":!0,resource:s.model},null,8,["resource"])):(0,t.kq)("",!0),s.isShowSettings&&!i.withResize?((0,t.wg)(),(0,t.j4)(u,{key:4,class:"me-2","settings-type":"scopes","button-only":!0,resource:s.model},null,8,["resource"])):(0,t.kq)("",!0),!i.withTitle||s.widthLessThan("sm")||i.selectedRows.length&&s.modelHasActions?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("span",vi,[(0,t.Uk)((0,c.zw)(s.title)+" ",1),s.currentScope?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)(" ("+(0,c.zw)(s.currentScope.display_name)+") ",1)],64)):(0,t.kq)("",!0)])),i.selectedRows.length&&!s.isShowSettings&&s.modelHasActions?((0,t.wg)(),(0,t.j4)(h,{key:6,ref:"actions",resources:i.selectedRows,"with-deselect":!0,"resource-name":s.model.name,label:"".concat(e.i18n.actions," (").concat(i.selectedRows.length,")"),onStartAction:n[3]||(n[3]=function(t){return e.$emit("start-action")}),onFinishAction:s.onFinishAction},null,8,["resources","resource-name","label","onFinishAction"])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,t._)("div",{class:(0,c.C_)(["d-flex justify-content-end",i.withTitle&&!s.widthLessThan("sm")||i.selectedRows.length?"col-6":"col-12"])},[(0,t.Wm)(d,{"model-value":i.searchQuery,style:{"max-width":"470px"},class:"me-1",placeholder:"".concat(e.i18n.search," ").concat(((null===(a=s.association)||void 0===a?void 0:a.display_name)||s.model.display_name).toLowerCase(),"..."),onSearch:n[4]||(n[4]=function(t){return e.$emit("apply-search")}),"onUpdate:modelValue":n[5]||(n[5]=function(t){return e.$emit("update:searchQuery",t)})},null,8,["model-value","placeholder"]),(0,t.Wm)(p,{count:s.filtersCount,type:"primary"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{icon:"ios-funnel","data-role":"filter",class:"mx-1 bg-white",onClick:s.openFiltersModal},null,8,["onClick"])]})),_:1},8,["count"]),(0,t.Wm)(f,{class:"ms-1",model:s.model,association:s.association,"parent-resource":i.associationParams?{name:i.resourceName,id:i.associationParams.id}:null,onSuccess:n[6]||(n[6]=function(t){return e.$emit("reload")})},null,8,["model","association","parent-resource"])],2)])}]]);var Ri=n(1308),Ii=n(2734);function Fi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ji(){ji=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),s=new k(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===u)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function h(){}function d(){}function p(){}var f={};a(f,r,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==t&&n.call(g,r)&&(f=g);var v=p.prototype=h.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,s,a){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,a)}))}a(l.arg)}var r;this._invoke=function(e,n){function o(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,a(v,"constructor",p),a(p,"constructor",d),d.displayName=a(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),a(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new b(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(v),a(v,s,"Generator"),a(v,r,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Ni(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function zi(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){Ni(o,i,r,s,a,"next",e)}function a(e){Ni(o,i,r,s,a,"throw",e)}s(void 0)}))}}function qi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(n),!0).forEach((function(t){Bi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wi={current:1,pageSize:20,total:0,pageSizeOpts:[20,50,100,250,500]},Ui=new Map,Hi=new Map;const Zi={name:"ResourceTable",components:{DataTable:fi.Z,ResourceNavbar:$i,SettingsMask:Pi.Z},props:{resourceName:{type:String,required:!0},height:{type:String,required:!1,default:"500px"},withTitle:{type:Boolean,required:!1,default:!1},withResize:{type:Boolean,required:!1,default:!1},withMenu:{type:Boolean,required:!1,default:!1},associationParams:{type:Object,require:!1,default:null}},emits:["click-resize","click-menu","action-applied"],data:function(){return{isLoading:!0,isReloading:!0,isDownloadLoading:!1,rows:[],sortParams:{},filterParams:[],searchQuery:"",paginationParams:Vi({},Wi)}},computed:{isShowSettings:Ye.Qy,tableActions:function(){return this.model.actions.filter((function(e){return e.preferences.show_on_table}))},canUseTableActions:function(){var e=this;return this.tableActions.some((function(t){return e.rows.some((function(n){return e.$can(t.name,e.model.class_name,n)}))}))},editAction:function(){return this.model.actions.find((function(e){return"edit"===e.name&&e.visible}))},modelHasActions:function(){return this.model.actions.some((function(e){return"create"!==e.name&&e.visible}))},defaultSortParams:function(){var e=this;return!this.model.primary_key||this.model.custom_sql||this.currentScope?{}:{order:"integer"===this.model.columns.find((function(t){return t.name===e.model.primary_key})).column_type?"desc":"asc",key:this.model.primary_key}},currentScope:function(){var e=this;return this.model.scopes.find((function(t){var n;return t.name===(null===(n=e.$route.query)||void 0===n?void 0:n.scope)}))},routeQueryParams:function(){var e,t,n,i,r,o={};return Object.keys(this.filterParams).length&&(o.filter=this.filterParams),null===(e=this.sortParams)||void 0===e||!e.key||this.sortParams.key===this.defaultSortParams.key&&this.sortParams.order===this.defaultSortParams.order||(o.sort="".concat("desc"===this.sortParams.order?"-":"").concat(this.sortParams.key)),this.searchQuery&&(o.q=this.searchQuery),null!==(t=this.$route.query)&&void 0!==t&&t.scope&&(o.scope=null===(i=this.$route.query)||void 0===i?void 0:i.scope),null!==(n=this.$route.query)&&void 0!==n&&n.tab&&(o.tab=null===(r=this.$route.query)||void 0===r?void 0:r.tab),this.paginationParams.pageSize!==Wi.pageSize&&(o.per_page=this.paginationParams.pageSize),1!==this.paginationParams.current&&(o.page=this.paginationParams.current),o},filtersCount:function(){return this.filterParams.filter((function(e){return"OR"!==e})).length},title:function(){var e;return(0,Di.$G)((null===(e=this.association)||void 0===e?void 0:e.display_name)||this.model.display_name,60)},itemsCountCacheKey:function(){return JSON.stringify(Vi(Vi({},this.queryParams),{},{queryPath:this.queryPath,page:{}}))},rowsCacheKey:function(){return JSON.stringify(Vi({queryPath:this.queryPath},this.queryParams))},selectedRows:function(){return this.rows.filter((function(e){return e._selected}))},queryPath:function(){return this.associationParams?["data",B.r3[this.resourceName].slug,this.associationParams.id,this.associationParams.name].join("/"):"data/".concat(this.model.slug)},queryParams:function(){var e,t,n={filter:this.filterParams,fields:this.fieldsParams,page:{limit:this.paginationParams.pageSize,offset:this.paginationParams.pageSize*(this.paginationParams.current-1)}};return this.sortParams.key&&(n.sort="".concat("desc"===this.sortParams.order?"-":"").concat(this.sortParams.key)),this.includeParams&&(n.include=this.includeParams),this.searchQuery&&(n.q=this.searchQuery),null!==(e=this.$route.query)&&void 0!==e&&e.scope&&(n.scope=null===(t=this.$route.query)||void 0===t?void 0:t.scope),n},includeParams:function(){return(0,Ii.p)(this.model)},fieldsParams:function(){return(0,Ii.n)(this.model)},association:function(){var e,t=this;return null!==(e=this.associationParams)&&void 0!==e&&e.name?B.r3[this.resourceName].associations.find((function(e){return e.slug===t.associationParams.name})):null},model:function(){if(this.association){var e=this.association.model_name;return B.r3[e]}return B.r3[this.resourceName]},columns:function(){var e=this;return this.model.columns.map((function(t){var n;if((null===(n=t.reference)||void 0===n?void 0:n.model_name)!==B.r3[e.resourceName].name&&["read_only","read_write"].includes(t.access_type)){var i={key:t.name,title:t.display_name,reference:t.reference,format:t.format,sortable:!t.virtual,type:t.column_type,description:t.description};if("association"===t.column_type){var r=e.model.associations.find((function(e){return e.name===t.format.association_name}));r&&(i.format.association_model_name=r.model_name)}return t.name===e.model.primary_key&&(i.reference={model_name:e.model.name}),i}return null})).filter(Boolean)}},watch:{$route:function(e,t){var n=this;e.params.doNotWatch||e.name!==t.name||JSON.stringify(e.params.fragments)!==JSON.stringify(t.params.fragments)||JSON.stringify(e.query)===JSON.stringify(t.query)||(this.assignFromQueryParams(e.query),this.loadDataAndCount().then((function(){n.$refs.table.scrollToTop()})))},association:{deep:!0,handler:(0,H.Z)(function(){var e=zi(ji().mark((function e(t){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.virtual&&this.loadDataAndCount();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),3e3)},columns:{deep:!0,handler:(0,H.Z)(zi(ji().mark((function e(){return ji().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadData();case 1:case"end":return e.stop()}}),e,this)}))),3e3)}},mounted:function(){var e=this;this.assignFromQueryParams(this.$route.query),this.assignCachedItemsCount(),this.assignCachedRows(),this.loadDataAndCount({loading:!this.rows.length}).then((function(){"number"==typeof history.state.tableScrollTop&&e.$nextTick((function(){e.$refs.table.scrollTo(history.state.tableScrollTop,history.state.tableScrollLeft),window.MotorAdmin.hooks.onTableLoaded&&window.MotorAdmin.hooks.onTableLoaded()}))}))},methods:{widthLessThan:Ge.aJ,onFinishAction:function(e){this.loadDataAndCount(),this.$emit("action-applied",e)},download:function(){var e=this;return this.isDownloadLoading=!0,V.Z.get(this.queryPath+".csv",{params:this.queryParams}).then((function(t){var n=(0,Ri.p)(new Date,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).replace(",",""),i=URL.createObjectURL(new Blob([t.data],{type:"data:text/csv;charset=utf-8"})),r=document.createElement("a");r.setAttribute("href",i),r.setAttribute("download","".concat((0,Di.It)(e.title||"query"),"_").concat((0,Di.It)(n),".csv")),r.click()})).catch((function(t){t.response?e.$Message.error((0,Di.$G)(t.response.data.errors.join("\n"),70)):e.$Message.error(t.message)})).finally((function(){e.isDownloadLoading=!1}))},onApplyFilters:function(e){var t=this;this.filterParams=e,this.paginationParams.current=1,this.pushQueryParams(),this.loadDataAndCount().then((function(){t.$refs.table.scrollToTop()}))},assignFromQueryParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.filterParams=e.filter||[],this.searchQuery=e.q||"",e.sort?this.sortParams={order:e.sort.startsWith("-")?"desc":"asc",key:e.sort.replace(/^-/,"")}:this.sortParams=Vi({},this.defaultSortParams),this.paginationParams.current=parseInt(e.page)||1,this.paginationParams.pageSize=parseInt(e.per_page)||parseInt(localStorage.getItem("motor:".concat(this.model.name,":pageSize"))||"0")||Wi.pageSize},loadDataAndCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0};return Promise.all([this.loadData(e),this.loadItemsCount()])},assignCachedItemsCount:function(){var e=Ui.get(this.itemsCountCacheKey);e&&(this.paginationParams.total=e)},assignCachedRows:function(){var e=this,t=Hi.get(this.rowsCacheKey);t&&(this.isLoading=!1,this.isReloading=!1,this.rows=t,this.$nextTick((function(){e.$refs.table.scrollTo(history.state.tableScrollTop,history.state.tableScrollLeft)})))},onPageChange:function(){var e=this;this.pushQueryParams(),this.loadData().then((function(){e.$refs.table.scrollToTop()}))},onPageSizeChange:function(){this.pushQueryParams(),this.loadData(),localStorage.setItem("motor:".concat(this.model.name,":pageSize"),this.paginationParams.pageSize)},applySearch:function(){var e=this;this.paginationParams.current=1,this.pushQueryParams(),this.loadDataAndCount().then((function(){e.$refs.table.scrollToTop()}))},applySort:function(e){this.sortParams=e,this.pushQueryParams(),this.loadData()},pushQueryParams:function(){this.$router.push({query:this.routeQueryParams,params:{doNotWatch:!0}})},onRowClick:function(e){this.model.primary_key&&this.$router.push(this.rowRouteParams(e))},onRowAltClick:function(e){var t=this;this.rows.forEach((function(e){return delete e._selected})),e._selected=!0,this.editAction&&this.$can("edit",this.model.class_name,e)&&this.$nextTick((function(){t.$refs.actions.applyAction(t.editAction)}))},rowRouteParams:function(e){return{name:"resources",params:{fragments:[].concat((t=this.$route.params.fragments,function(e){if(Array.isArray(e))return Fi(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fi(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[e[this.model.primary_key]])}};var t},onRowMetaClick:function(e){var t=this.$router.resolve(this.rowRouteParams(e));window.open(t.href,"_blank")},onRowShiftMetaClick:function(e){var t=this.$router.resolve(this.rowRouteParams(e));window.open(t.href,"_blank").focus()},onTagClick:function(e){var t=this,n=this.filterParams.findIndex((function(t){return t[e.key]}));-1===n?this.filterParams.push(Bi({},e.key,{eq:e.value})):this.filterParams.splice(n,1,Bi({},e.key,{eq:e.value})),this.pushQueryParams(),this.loadDataAndCount().then((function(){t.$refs.table.scrollToTop()}))},loadItemsCount:function(){var e=this;return V.Z.get(this.queryPath,{params:Vi(Vi({},this.queryParams),{},{meta:"count",page:{limit:0}})}).then((function(t){e.paginationParams.total=t.data.meta.count,e.$nextTick((function(){Ui.set(e.itemsCountCacheKey,t.data.meta.count)}))})).catch((function(e){console.error(e)}))},renderContextMenu:function(e){var t=this;return function(n){return n(wi.Z,{resources:[e],label:"",resourceName:t.model.name,withButtons:!1,withDropdown:!0,buttonType:"default",buttonGhost:!1,buttonIcon:"md-more",buttonSize:"small",onStartAction:function(){t.isLoading=!0},onFinishAction:function(e){t.onFinishAction(e)}})}},renderActions:function(e){var t=this;return function(n){return n(wi.Z,{resources:[e],actions:t.tableActions,resourceName:t.model.name,withButtons:!0,withDropdown:!1,buttonSize:"small",onStartAction:function(){t.isLoading=!0},onFinishAction:function(e){t.onFinishAction(e)}})}},loadData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0},n=t.loading;return this.isLoading=n,V.Z.get(this.queryPath,{params:this.queryParams}).then((function(t){e.rows=t.data.data,e.$nextTick((function(){Hi.set(e.rowsCacheKey,t.data.data),window.MotorAdmin.hooks.onTableRefreshed&&window.MotorAdmin.hooks.onTableRefreshed()}))})).catch((function(t){t.response?e.$Message.error((0,Di.$G)(t.response.data.errors.join("\n"),70)):e.$Message.error(t.message)})).finally((function(){e.$nextTick((function(){e.isLoading=!1,e.isReloading=!1}))}))}}},Ki=(0,D.Z)(Zi,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("ResourceNavbar"),l=(0,t.up)("SettingsMask"),u=(0,t.up)("Spin"),h=(0,t.up)("DataTable"),d=(0,t.up)("Pagination"),p=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(a,{searchQuery:o.searchQuery,"onUpdate:searchQuery":n[0]||(n[0]=function(e){return o.searchQuery=e}),filterParams:o.filterParams,"onUpdate:filterParams":n[1]||(n[1]=function(e){return o.filterParams=e}),"selected-rows":s.selectedRows,"with-title":i.withTitle,"association-params":i.associationParams,"with-menu":i.withMenu,"with-resize":i.withResize,"resource-name":i.resourceName,onClickMenu:n[2]||(n[2]=function(t){return e.$emit("click-menu")}),onClickResize:n[3]||(n[3]=function(t){return e.$emit("click-resize")}),onApplySearch:s.applySearch,onReload:s.loadDataAndCount,onActionApplied:s.loadDataAndCount,onApplyFilters:s.onApplyFilters},null,8,["searchQuery","filterParams","selected-rows","with-title","association-params","with-menu","with-resize","resource-name","onApplySearch","onReload","onActionApplied","onApplyFilters"]),o.isReloading?((0,t.wg)(),(0,t.iD)("div",{key:1,style:(0,c.j5)({height:i.height.replace(/\)$/," + 34px)"),paddingBottom:"1px",position:"relative"})},[(0,t.Wm)(u,{fix:""})],4)):((0,t.wg)(),(0,t.iD)("div",hi,[s.isShowSettings?((0,t.wg)(),(0,t.j4)(l,{key:0,"settings-type":"columns",resource:s.model},null,8,["resource"])):(0,t.kq)("",!0),o.isLoading?((0,t.wg)(),(0,t.j4)(u,{key:1,fix:""})):(0,t.kq)("",!0),(0,t.Wm)(h,{ref:"table",data:o.rows,columns:s.columns,style:(0,c.j5)({height:i.height}),"sort-params":o.sortParams,"scroll-to-top-on-data-update":!1,"with-select":s.modelHasActions,"render-actions":s.tableActions.length&&s.canUseTableActions?s.renderActions:null,"render-context-menu":!s.modelHasActions||s.tableActions.length&&s.canUseTableActions?null:s.renderContextMenu,"click-rows":!!s.model.primary_key,onSortChange:s.applySort,onRowClick:s.onRowClick,onRowAltClick:s.onRowAltClick,onRowMetaClick:s.onRowMetaClick,onRowShiftMetaClick:s.onRowShiftMetaClick,onTagClick:s.onTagClick},null,8,["data","columns","style","sort-params","with-select","render-actions","render-context-menu","click-rows","onSortChange","onRowClick","onRowAltClick","onRowMetaClick","onRowShiftMetaClick","onTagClick"]),(0,t._)("div",di,[pi,(0,t.Wm)(d,{current:o.paginationParams.current,total:o.paginationParams.total,"page-size":o.paginationParams.pageSize,"page-size-opts":o.paginationParams.pageSizeOpts,size:"small","show-sizer":"","show-elevator":"","show-total":"","onUpdate:current":n[4]||(n[4]=function(e){return o.paginationParams.current=e}),"onUpdate:pageSize":n[5]||(n[5]=function(e){return o.paginationParams.pageSize=e}),onOnChange:s.onPageChange,onOnPageSizeChange:s.onPageSizeChange},null,8,["current","total","page-size","page-size-opts","onOnChange","onOnPageSizeChange"]),(0,t.Wm)(p,{icon:"md-download",type:"text",size:"small",style:{height:"24px"},loading:o.isDownloadLoading,class:"float-right md-icon-only",onClick:s.download},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(o.isDownloadLoading?e.i18n.downloading:e.i18n.download),1)]})),_:1},8,["loading","onClick"])])]))])}]]);var Gi={class:"kanban-wrapper"},Yi={key:0,class:"position-relative"},Qi={class:"d-flex overflow-auto border-top"},Ji={class:"p-2 fw-bold border-bottom"},Xi={class:"ivu-card ivu-card-bordered"},er={class:"ivu-card-head d-flex justify-content-between align-items-center",style:{padding:"2px 0 2px 12px"}},tr={class:"ivu-card-body",style:{padding:"4px 12px"}},nr={class:"row"},ir=(0,t._)("br",null,null,-1);function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const or={name:"ResourceInfo",components:{InfoCell:n(8911).Z,ResourceActions:wi.Z},props:{resource:{type:Object,required:!0},resourceName:{type:String,required:!0},displayColumns:{type:Array,require:!1,default:function(){return[]}},referencePopover:{type:Boolean,required:!1,default:!0}},emits:["update","start-action","finish-action"],computed:{displayColumn:function(){var e=this;return this.model.columns.find((function(t){return t.name===e.model.display_column}))},model:function(){return B.r3[this.resourceName]},title:function(){var e,t=this.resource[this.model.primary_key],n=null==t||null===(e=t.toString())||void 0===e?void 0:e.match(/^\d+$/);return"".concat((0,Z.Z)(this.model.display_name)).concat(n?" #":": ").concat(t)},columns:function(){var e,t=this;return null!==(e=this.displayColumns)&&void 0!==e&&e.length?this.displayColumns.map((function(e){return t.model.columns.find((function(t){return t.name===e}))})).filter(Boolean):this.model.columns.filter((function(e){return"id"!==e.name&&(t.model.display_primary_key||e.name!==t.displayColumn.name)&&["read_only","read_write"].includes(e.access_type)})).slice(0,4)}},methods:{maybeGoToPage:function(e){this.$refs.infoCell.$refs.dataCell.$el===e.target&&this.onItemClick()},onItemClick:function(){var e;this.model.primary_key&&this.$router.push({name:"resources",params:{fragments:[].concat((e=this.$route.params.fragments,function(e){if(Array.isArray(e))return rr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),[this.resource[this.model.primary_key]])}})}}},sr=(0,D.Z)(or,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("InfoCell"),l=(0,t.up)("ResourceActions");return(0,t.wg)(),(0,t.iD)("div",Xi,[(0,t._)("div",er,[s.model.display_primary_key?((0,t.wg)(),(0,t.iD)("b",{key:0,class:"cursor-pointer",onClick:n[0]||(n[0]=function(){return s.onItemClick&&s.onItemClick.apply(s,arguments)})},(0,c.zw)(s.title),1)):((0,t.wg)(),(0,t.j4)(a,{key:1,ref:"infoCell",resource:i.resource,"is-kanban":!0,column:s.displayColumn,"resource-name":i.resourceName,editable:e.$can("edit",s.model.class_name,i.resource),"reference-popover":i.referencePopover,class:"fw-bold mb-0 cursor-pointer",onClick:s.maybeGoToPage,onUpdate:n[1]||(n[1]=function(t){return e.$emit("update",t)})},null,8,["resource","column","resource-name","editable","reference-popover","onClick"])),(0,t.Wm)(l,{resources:[i.resource],"resource-name":s.model.name,"button-type":"text","button-ghost":!1,"button-icon":"md-more",label:"","with-buttons":!1,placement:"bottom-end",onStartAction:n[2]||(n[2]=function(t){return e.$emit("start-action",t)}),onFinishAction:n[3]||(n[3]=function(t){return e.$emit("finish-action",t)})},null,8,["resources","resource-name"])]),(0,t._)("div",tr,[(0,t._)("div",nr,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.columns,(function(r){return(0,t.wg)(),(0,t.iD)("div",{key:r.name,class:(0,c.C_)(["col-12","my-1"])},[(0,t._)("b",null,(0,c.zw)(r.display_name)+": ",1),ir,(0,t.Wm)(a,{resource:i.resource,column:r,"resource-name":i.resourceName,"is-kanban":!0,editable:e.$can("edit",s.model.class_name,i.resource),"reference-popover":i.referencePopover,onUpdate:n[4]||(n[4]=function(t){return e.$emit("update",t)})},null,8,["resource","column","resource-name","editable","reference-popover"])])})),128))])])])}]]);function ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lr(){lr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),s=new k(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===u)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function h(){}function d(){}function p(){}var f={};a(f,r,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==t&&n.call(g,r)&&(f=g);var v=p.prototype=h.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,s,a){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,a)}))}a(l.arg)}var r;this._invoke=function(e,n){function o(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,a(v,"constructor",p),a(p,"constructor",d),d.displayName=a(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),a(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new b(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(v),a(v,s,"Generator"),a(v,r,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function cr(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function ur(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){cr(o,i,r,s,a,"next",e)}function a(e){cr(o,i,r,s,a,"throw",e)}s(void 0)}))}}const hr={name:"KanbanBoard",components:{ResourceNavbar:$i,SettingsMask:Pi.Z,KanbanCard:sr},props:{resourceName:{type:String,required:!0},height:{type:String,required:!1,default:"500px"},withTitle:{type:Boolean,required:!1,default:!1},withResize:{type:Boolean,required:!1,default:!1},withMenu:{type:Boolean,required:!1,default:!1},associationParams:{type:Object,require:!1,default:null}},emits:["action-applied","click-menu","click-resize","toggle-kanban"],data:function(){return{isLoading:!0,isReloading:!0,rows:[],groupedRows:{},filterParams:[],searchQuery:""}},computed:{isShowSettings:Ye.Qy,modelHasActions:function(){return this.model.actions.some((function(e){return"create"!==e.name&&e.visible}))},kanbanColumn:function(){var e=this;return this.model.columns.find((function(t){return t.name===e.model.preferences.kanban_column}))},currentScope:function(){var e=this;return this.model.scopes.find((function(t){var n;return t.name===(null===(n=e.$route.query)||void 0===n?void 0:n.scope)}))},routeQueryParams:function(){var e,t,n={};return Object.keys(this.filterParams).length&&(n.filter=this.filterParams),this.searchQuery&&(n.q=this.searchQuery),null!==(e=this.$route.query)&&void 0!==e&&e.scope&&(n.scope=null===(t=this.$route.query)||void 0===t?void 0:t.scope),n},filtersCount:function(){return this.filterParams.filter((function(e){return"OR"!==e})).length},title:function(){var e;return(0,Di.$G)((null===(e=this.association)||void 0===e?void 0:e.display_name)||this.model.display_name,60)},selectedRows:function(){return this.rows.filter((function(e){return e._selected}))},queryPath:function(){return this.associationParams?["data",B.r3[this.resourceName].slug,this.associationParams.id,this.associationParams.name].join("/"):"data/".concat(this.model.slug)},queryParams:function(){var e,t,n={filter:this.filterParams,fields:this.fieldsParams,page:{limit:2e3,offset:0}};return this.includeParams&&(n.include=this.includeParams),this.searchQuery&&(n.q=this.searchQuery),null!==(e=this.$route.query)&&void 0!==e&&e.scope&&(n.scope=null===(t=this.$route.query)||void 0===t?void 0:t.scope),n},includeParams:function(){return(0,Ii.p)(this.model)},fieldsParams:function(){return(0,Ii.n)(this.model)},association:function(){var e,t=this;return null!==(e=this.associationParams)&&void 0!==e&&e.name?B.r3[this.resourceName].associations.find((function(e){return e.slug===t.associationParams.name})):null},model:function(){if(this.association){var e=this.association.model_name;return B.r3[e]}return B.r3[this.resourceName]},columns:function(){var e=this;return this.model.columns.map((function(t){var n;if((null===(n=t.reference)||void 0===n?void 0:n.model_name)!==B.r3[e.resourceName].name&&["read_only","read_write"].includes(t.access_type)){var i={key:t.name,title:t.display_name,reference:t.reference,format:t.format,sortable:!t.virtual,type:t.column_type};if("association"===t.column_type){var r=e.model.associations.find((function(e){return e.name===t.format.association_name}));r&&(i.format.association_model_name=r.model_name)}return i}return null})).filter(Boolean)}},watch:{$route:function(e,t){e.params.doNotWatch||e.name!==t.name||JSON.stringify(e.params.fragments)!==JSON.stringify(t.params.fragments)||JSON.stringify(e.query)===JSON.stringify(t.query)||(this.assignFromQueryParams(e.query),this.loadData())},association:{deep:!0,handler:(0,H.Z)(function(){var e=ur(lr().mark((function e(t){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.virtual&&this.loadData();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),3e3)},columns:{deep:!0,handler:(0,H.Z)(ur(lr().mark((function e(){return lr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loadData();case 1:case"end":return e.stop()}}),e,this)}))),3e3)}},mounted:function(){this.assignFromQueryParams(this.$route.query),this.loadData()},methods:{widthLessThan:Ge.aJ,titleize:Di.MI,buildGroupedRows:function(){var e,t=this,n=(null!==(e=this.model.preferences.kanban_columns)&&void 0!==e&&e.length?this.model.preferences.kanban_columns:Array.isArray(this.kanbanColumn.format.select_options)?this.kanbanColumn.format.select_options:Object.keys(this.kanbanColumn.format.select_options)).reduce((function(e,t){return e[t]=[],e}),{});return this.rows.reduce((function(e,n){var i;return null===(i=e[n[t.kanbanColumn.name]])||void 0===i||i.push(n),e}),n)},onFinishAction:function(e){this.loadData(),this.$emit("action-applied",e)},onApplyFilters:function(e){this.filterParams=e,this.pushQueryParams(),this.loadData()},assignFromQueryParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.filterParams=e.filter||[],this.searchQuery=e.q||""},applySearch:function(){this.pushQueryParams(),this.loadData()},pushQueryParams:function(){this.$router.push({query:this.routeQueryParams,params:{doNotWatch:!0}})},onMove:function(e,t){var n=this;t.added&&this.applyDefaultUpdate(e,t.added.element).catch((function(e){var t,i;null!==(t=e.response)&&void 0!==t&&null!==(i=t.data)&&void 0!==i&&i.errors?n.$Message.error(e.response.data.errors):e.message&&n.$Message.error([e.message]),n.loadData()}))},applyDefaultUpdate:function(e,t){return V.Z.put("data/".concat(this.model.slug,"/").concat(t[this.model.primary_key]),{data:ar({},this.kanbanColumn.name,e)})},applyCustomUpdate:function(){},loadData:function(){var e=this;return this.isLoading=!0,V.Z.get(this.queryPath,{params:this.queryParams}).then((function(t){e.rows=t.data.data,e.groupedRows=e.buildGroupedRows()})).catch((function(t){t.response?e.$Message.error((0,Di.$G)(t.response.data.errors.join("\n"),70)):e.$Message.error(t.message)})).finally((function(){e.$nextTick((function(){e.isLoading=!1,e.isReloading=!1}))}))}}},dr=(0,D.Z)(hr,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("ResourceNavbar"),l=(0,t.up)("SettingsMask"),u=(0,t.up)("Spin"),h=(0,t.up)("Badge"),d=(0,t.up)("KanbanCard"),p=(0,t.up)("VueDraggableNext");return(0,t.wg)(),(0,t.iD)("div",Gi,[(0,t.Wm)(a,{searchQuery:o.searchQuery,"onUpdate:searchQuery":n[0]||(n[0]=function(e){return o.searchQuery=e}),filterParams:o.filterParams,"onUpdate:filterParams":n[1]||(n[1]=function(e){return o.filterParams=e}),"selected-rows":s.selectedRows,"with-title":i.withTitle,"association-params":i.associationParams,"with-menu":i.withMenu,"with-resize":i.withResize,"with-kanban-toggle":!0,"is-kanban":!0,"resource-name":i.resourceName,onClickMenu:n[2]||(n[2]=function(t){return e.$emit("click-menu")}),onClickResize:n[3]||(n[3]=function(t){return e.$emit("click-resize")}),onApplySearch:s.applySearch,onReload:s.loadData,onActionApplied:s.loadData,onApplyFilters:s.onApplyFilters,onToggleKanban:n[4]||(n[4]=function(t){return e.$emit("toggle-kanban")})},null,8,["searchQuery","filterParams","selected-rows","with-title","association-params","with-menu","with-resize","resource-name","onApplySearch","onReload","onActionApplied","onApplyFilters"]),o.isReloading?((0,t.wg)(),(0,t.iD)("div",{key:1,style:(0,c.j5)({height:i.height.replace(/\)$/," + 34px)"),paddingBottom:"1px",position:"relative"})},[(0,t.Wm)(u,{fix:""})],4)):((0,t.wg)(),(0,t.iD)("div",Yi,[s.isShowSettings?((0,t.wg)(),(0,t.j4)(l,{key:0,"settings-type":"columns",resource:s.model},null,8,["resource"])):(0,t.kq)("",!0),o.isLoading?((0,t.wg)(),(0,t.j4)(u,{key:1,fix:""})):(0,t.kq)("",!0),(0,t._)("div",Qi,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.groupedRows,(function(e,r){return(0,t.wg)(),(0,t.iD)("div",{key:r,class:"mx-2 mt-2 border rounded bg-gray"},[(0,t._)("div",Ji,[(0,t.Wm)(h,{count:e.length,"show-zero":"","overflow-count":9999,type:"primary"},null,8,["count"]),(0,t.Uk)(" "+(0,c.zw)(s.titleize(r)),1)]),(0,t.Wm)(p,{list:e,group:"items",style:(0,c.j5)([{height:i.height},{width:"320px","min-height":"200px"}]),class:"overflow-auto",onChange:function(e){return s.onMove(r,e)}},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e,(function(e,i){return(0,t.wg)(),(0,t.j4)(d,{key:e[s.model.primary_key]||i,resource:e,"resource-name":s.model.name,"reference-popover":!1,"display-columns":s.model.preferences.kanban_card_columns,class:"m-2",onUpdate:function(t){return Object.assign(e,t)},onStartAction:n[5]||(n[5]=function(e){return o.isLoading=!0}),onFinishAction:s.loadData},null,8,["resource","resource-name","display-columns","onUpdate","onFinishAction"])})),128))]})),_:2},1032,["list","style","onChange"])])})),128))])]))])}]]),pr=dr;var fr={class:"bg-white"},mr=n(4524),gr=n(299),vr={class:"h-100",style:{position:"relative"}},yr={class:"d-flex flex-column h-100"},br={class:"d-flex h-100"},wr={class:"position-relative h-100",style:{"min-width":"250px",width:"calc(100% - 100px)"}},_r={key:0,class:"d-flex justify-content-end",style:{width:"100px"}},xr=n(7387),kr=n(8104);function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ar={name:"ResourceInfo",components:{ResourceActions:wi.Z,SettingsMask:Pi.Z,QueryTab:xr.Z},props:{resourceName:{type:String,required:!0},resourceId:{type:[String,Number],required:!0}},emits:["remove"],data:function(){return{resource:{},notFound:!1}},computed:{isShowSettings:Ye.Qy,detailsTab:function(){return this.model.tabs.find((function(e){return"details"===e.name}))},queryVariables:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){Sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(Sr({},"".concat(this.resourceName,"_id"),this.resourceId),this.resource)},model:function(){return B.r3[this.resourceName]},columns:function(){return this.model.columns.filter((function(e){return"id"!==e.name&&["read_only","read_write"].includes(e.access_type)}))},includeParams:function(){return(0,Ii.p)(this.model)},fieldsParams:function(){return(0,Ii.n)(this.model)},queryParams:function(){var e={fields:this.fieldsParams};return this.includeParams&&(e.include=this.includeParams),e}},watch:{columns:{deep:!0,handler:function(e,t){e.length>t.length&&this.loadData()}},"model.display_column":function(){this.assignBreadcrumbLabel()},"model.display_primary_key":function(){this.assignBreadcrumbLabel()}},mounted:function(){this.loadData()},methods:{onFinisAction:function(e){"remove"===e?this.$emit("remove",this.resource):(this.loadData(),this.$refs.query.runQuery())},assignResource:function(e){this.resource=e,this.assignBreadcrumbLabel()},assignBreadcrumbLabel:function(){var e=this.model.display_primary_key?["".concat(this.resourceId.toString().match(/^\d+$/)?"#":"").concat(this.resourceId)]:[];this.model.display_column&&this.resource[this.model.display_column]&&this.resourceId.toString()!==this.resource[this.model.display_column].toString()&&e.push("".concat(this.resource[this.model.display_column])),(0,kr.y)(this.resourceName,this.resourceId,e.join(" "))},loadData:function(){var e=this;V.Z.get("data/".concat(this.model.slug,"/").concat(this.resourceId),{params:this.queryParams}).then((function(t){e.assignResource(t.data.data)})).catch((function(t){var n,i,r;404===(null===(n=t.response)||void 0===n?void 0:n.status)?e.notFound=!0:(console.error(t),null!==(i=t.response)&&void 0!==i&&null!==(r=i.data)&&void 0!==r&&r.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message))}))}}},Tr=(0,D.Z)(Ar,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("QueryTab"),l=(0,t.up)("SettingsMask"),c=(0,t.up)("ResourceActions");return(0,t.wg)(),(0,t.iD)("div",vr,[(0,t._)("div",yr,[(0,t._)("div",br,[(0,t._)("div",wr,[(0,t.Wm)(a,{ref:"query",class:"richtext-no-padding richtext-no-scroll",tab:s.detailsTab,variables:s.queryVariables},null,8,["tab","variables"]),s.isShowSettings&&"query"===s.detailsTab.tab_type?((0,t.wg)(),(0,t.j4)(l,{key:0,"settings-type":s.detailsTab.tab_type,preferences:s.detailsTab.preferences},null,8,["settings-type","preferences"])):(0,t.kq)("",!0)]),o.notFound?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",_r,[s.isShowSettings?((0,t.wg)(),(0,t.j4)(l,{key:0,"button-only":!0,"settings-type":"actions",resource:s.model},null,8,["resource"])):((0,t.wg)(),(0,t.j4)(c,{key:1,resources:[o.resource],"resource-name":s.model.name,"button-type":"primary","button-ghost":!1,label:e.i18n.actions,onFinishAction:s.onFinisAction},null,8,["resources","resource-name","label","onFinishAction"]))]))])])])}]]);var Or={class:"p-3"};const Lr={name:"ResourceFormTab",components:{CustomFormWrapper:Ci.default},props:{data:{type:Object,required:!1,default:function(){return{}}},tab:{type:Object,required:!0}},data:function(){return{isLoading:!0}}},Er=(0,D.Z)(Lr,[["render",function(n,i,r,o,s,a){var l=(0,t.up)("Spin"),c=(0,t.up)("CustomFormWrapper"),u=(0,t.up)("Card");return(0,t.wg)(),(0,t.iD)("div",Or,[s.isLoading?((0,t.wg)(),(0,t.j4)(l,{key:0,fix:""})):(0,t.kq)("",!0),(0,t.wy)((0,t.Wm)(u,{style:{"max-width":"600px",margin:"0 auto"}},{default:(0,t.w5)((function(){return[(0,t.Wm)(c,{"form-id":r.tab.preferences.form_id,data:r.data,onLoaded:i[0]||(i[0]=function(e){return s.isLoading=!1})},null,8,["form-id","data"])]})),_:1},512),[[e.F8,!s.isLoading]])])}]]);n(2479);var Dr=n(9724),Pr={class:"row"},Mr={class:"mb-2 mx-1 ivu-card ivu-card-bordered"},$r={class:"ivu-card-head",style:{padding:"0px 16px"}},Rr={class:"row"},Ir={key:0,class:"col-4 d-flex align-items-center"},Fr=["innerHTML"],jr=n(7716),Nr=n(9813);const zr={name:"Board",components:{QueryResult:jr.Z},props:{variables:{type:Object,required:!1,default:function(){return{}}},item:{type:Object,required:!1,default:null},query:{type:Object,required:!0}},data:function(){return{searchQuery:"",searchInput:"",isLoading:!1,errors:[],data:[],columns:[],dataHTML:""}},computed:{heightsMap:function(){return{1:"195px",2:"387px",3:"548px",4:"710px"}},pageSizesMap:function(){return{1:4,2:10,3:15,4:20}},queryVariables:function(){var e=this;return(this.query.preferences.variables||[]).reduce((function(t,n){return t[n.name]=e.variables[n.name]||0===e.variables[n.name]?e.variables[n.name]:n.default_value,t}),{})},filteredData:function(){var e=this;return this.searchQuery?this.data.filter((function(t){return('"'+t.join('"')+'"').toLowerCase().includes(e.searchQuery.toLowerCase())})):this.data},withSearch:function(){var e=this.query.preferences.visualization;return(!e||["table","markdown","value"].includes(e))&&this.data.length>(["markdown","value"].includes(e)?1:10)}},watch:{query:function(e){e&&this.loadData()}},mounted:function(){this.query&&this.loadData()},methods:{applySearch:function(){this.searchQuery=this.searchInput},loadData:function(){var e,t=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.isLoading)return this.isLoading=n,e="api"===this.query.preferences.query_type?(0,Nr.L)(this.query,this.queryVariables).then((function(e){t.errors=[],t.data=e.data||[],t.columns=e.columns||[],t.dataHTML=e.dataHTML||""})):V.Z.get("run_queries/".concat(this.query.id),{params:{variables:this.queryVariables}}).then((function(e){t.errors=[],t.data=e.data.data,t.columns=e.data.meta.columns})),e.catch((function(e){var n;e.response?t.errors=null===(n=e.response.data)||void 0===n?void 0:n.errors:t.$Message.error(e.message)})).finally((function(){t.isLoading=!1}))}}},qr={name:"DashboardLayout",components:{Board:(0,D.Z)(zr,[["render",function(n,i,r,o,s,a){var l=(0,t.up)("RouterLink"),u=(0,t.up)("VInput"),h=(0,t.up)("Spin"),d=(0,t.up)("QueryResult");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",$r,[(0,t._)("div",Rr,[(0,t._)("div",{class:(0,c.C_)(["d-flex align-items-center",a.withSearch?"col-8":"col-12"]),style:{padding:"10px 8px"}},[(0,t.Wm)(l,{to:{name:"query",params:{id:r.query.id},query:a.queryVariables},class:"text-dark"},{default:(0,t.w5)((function(){return[(0,t._)("b",null,(0,c.zw)(r.item.title||r.query.name),1)]})),_:1},8,["to"])],2),a.withSearch?((0,t.wg)(),(0,t.iD)("div",Ir,[(0,t.Wm)(u,{modelValue:s.searchInput,"onUpdate:modelValue":i[0]||(i[0]=function(e){return s.searchInput=e}),border:!1,class:"border-0",placeholder:n.i18n.search_placeholder,onKeydown:(0,e.D2)(a.applySearch,["enter"])},null,8,["modelValue","placeholder","onKeydown"])])):(0,t.kq)("",!0)])]),(0,t._)("div",{class:"ivu-card-body p-0",style:(0,c.j5)({height:a.heightsMap[r.item.size[2]]})},[s.isLoading?((0,t.wg)(),(0,t.j4)(h,{key:0,fix:""})):(0,t.kq)("",!0),s.dataHTML?((0,t.wg)(),(0,t.iD)("div",{key:1,innerHTML:s.dataHTML},null,8,Fr)):((0,t.wg)(),(0,t.j4)(d,{key:2,data:a.filteredData,title:r.query.name,"minimal-pagination":!0,errors:s.errors,loading:s.isLoading,preferences:r.query.preferences,columns:s.columns,"with-footer-button-labels":!1,"default-page-size":a.pageSizesMap[r.item.size[2]],borderless:!0,"with-settings":!1,"with-table-toggle":!0,compact:!0},null,8,["data","title","errors","loading","preferences","columns","default-page-size"]))],4)],64)}]])},props:{dashboard:{type:Object,required:!0},variables:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{boards:[]}},computed:{classForSizeMap:function(){return{1:"col-12 col-lg-3",2:"col-12 col-lg-4",3:"col-12 col-lg-6",4:"col-12 col-lg-8",5:"col-12 col-lg-9",6:"col-12 col-lg-12"}}},beforeUpdate:function(){this.boards=[]},methods:{findQuery:function(e){return this.dashboard.queries.find((function(t){return t.id===e}))},scrollInto:function(e){var t=this.boards.find((function(t){return t.item===e}));t&&t.$el.parentElement.scrollIntoView({behavior:"smooth"})},pushBoardRef:function(e){e&&this.boards.push(e)},reload:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Promise.all(this.boards.map((function(t){return t.loadData(e)})))}}},Vr=(0,D.Z)(qr,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("Board");return(0,t.wg)(),(0,t.iD)("div",Pr,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.dashboard.preferences.layout,(function(e){return(0,t.wg)(),(0,t.iD)(t.HY,{key:e.query_id},[s.findQuery(e.query_id)?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)([s.classForSizeMap[e.size[0]],"p-0"])},[(0,t._)("div",Mr,[(0,t.Wm)(a,{ref_for:!0,ref:s.pushBoardRef,item:e,variables:i.variables,query:s.findQuery(e.query_id)},null,8,["item","variables","query"])])],2)):(0,t.kq)("",!0)],64)})),128))])}]]),Br=Vr;function Wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(n),!0).forEach((function(t){Hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Zr={name:"DashboardTab",components:{VariablesForm:Dr.Z,DashboardLayout:Br},props:{variables:{type:Object,required:!1,default:function(){return{}}},tab:{type:Object,required:!0}},data:function(){return{isLoading:!0,dataVariables:Ur({},this.variables),dashboard:{}}},computed:{dashboardId:function(){return this.tab.preferences.dashboard_id},variablesToRender:function(){var e=this;return Object.values(this.dashboard.queries.reduce((function(e,t){var n;return null===(n=t.preferences.variables)||void 0===n||n.forEach((function(t){var n;e[n=t.name]||(e[n]=t)})),e}),{})).filter((function(t){return!e.variables[t.name]}))},style:function(){return this.isLoading||!this.showVariablesForm?"height: 100%":"height: calc(100% - 84px)"}},mounted:function(){this.loadDashboard()},methods:{reload:function(){var e=this;this.$nextTick((function(){e.$refs.layout.reload()}))},assignDefaultVariables:function(){var e=this;this.variablesToRender.forEach((function(t){var n,i;(n=e.dataVariables)[i=t.name]||(n[i]=t.default_value)}))},loadDashboard:function(){var e=this;return V.Z.get("dashboards/".concat(this.dashboardId),{params:{include:"tags,queries",fields:{queries:"id,name,preferences"}}}).then((function(t){e.dashboard=t.data.data,e.assignDefaultVariables()})).catch((function(t){var n;console.error(t),null!==(n=t.response.data)&&void 0!==n&&n.errors&&e.$Message.error(t.response.data.errors.join("\n"))})).finally((function(){e.isLoading=!1}))}}},Kr=(0,D.Z)(Zr,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("Spin"),l=(0,t.up)("VariablesForm"),c=(0,t.up)("DashboardLayout");return(0,t.wg)(),(0,t.iD)("div",null,[o.isLoading?((0,t.wg)(),(0,t.j4)(a,{key:0,fix:""})):o.dashboard.id?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Wm)(l,{data:o.dataVariables,"onUpdate:data":n[0]||(n[0]=function(e){return o.dataVariables=e}),variables:s.variablesToRender,class:"mx-2 pb-3",onSubmit:s.reload},null,8,["data","variables","onSubmit"]),(0,t.Wm)(c,{ref:"layout",variables:o.dataVariables,class:"mx-1",dashboard:o.dashboard},null,8,["variables","dashboard"])],64)):(0,t.kq)("",!0)])}]]);var Gr={class:"p-3"},Yr={key:1,class:"text-center"},Qr={class:"d-flex justify-content-between"},Jr={class:"d-flex"},Xr={class:"me-1"},eo={class:"fw-bold"},to={class:"cursor-pointer"},no=(0,t.Uk)(" and "),io={class:"cursor-pointer"},ro=(0,t.Uk)(" fields "),oo={class:"cursor-pointer"},so=(0,t.Uk)(" field "),ao=(0,t.Uk)(" and "),lo={class:"cursor-pointer"},co=(0,t.Uk)(" other fields "),uo=(0,t.Uk)(" the record "),ho=(0,t._)("br",null,null,-1),po={class:"flex"};n(9720);var fo=n(2871),mo=(0,t._)("b",null,"Before:",-1),go=(0,t._)("b",null,"After:",-1),vo={key:0,class:"border-top my-2"};const yo={name:"AuditDetails",props:{changes:{type:Array,required:!1,default:function(){return[]}},resourceName:{type:String,required:!0}},computed:{model:function(){return B.r3[this.resourceName]}},methods:{columnDisplayName:function(e){var t;return(null===(t=this.model.columns.find((function(t){return t.name===e})))||void 0===t?void 0:t.display_name)||e}}},bo=(0,D.Z)(yo,[["render",function(e,n,i,r,o,s){return(0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.changes,(function(e,n){return(0,t.wg)(),(0,t.iD)("div",{key:n},[(0,t._)("b",null,(0,c.zw)(s.columnDisplayName(e[0])),1),(0,t._)("div",null,[mo,(0,t.Uk)(" "+(0,c.zw)(e[1][0]),1)]),(0,t._)("div",null,[go,(0,t.Uk)(" "+(0,c.zw)(e[1][1]),1)]),n!==i.changes.length-1?((0,t.wg)(),(0,t.iD)("div",vo)):(0,t.kq)("",!0)])})),128)}]]),wo=bo;function _o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return xo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const ko={name:"AuditItem",props:{audit:{type:Object,required:!0},resourceName:{type:String,required:!0},resourceId:{type:[String,Number],required:!0}},emits:["revert"],computed:{model:function(){return B.r3[this.resourceName]},username:function(){var e;return(null===(e=this.audit.user)||void 0===e?void 0:e.email)||this.i18n.internal},userabbr:function(){var e;return null!==(e=this.audit.user)&&void 0!==e&&e.email?this.username[0].toUpperCase()+this.username[1].toUpperCase():"N/A"},tagColors:function(){return(0,fo.i)(this.username)},auditedColumns:function(){return Object.entries(this.audit.audited_changes)},otherFieldsChangesContent:function(){var e=this;return this.auditedColumns.slice(1).map((function(t){return[t[0],e.formatChange(t[1])].join(": ")})).join("\n")},revertData:function(){return this.auditedColumns.reduce((function(e,t){var n=_o(t,2),i=n[0],r=n[1];return e[i]=r[0],e}),{})}},methods:{formatDate:Ri.p,formatChange:function(e){var t=_o(e,2),n=t[0],i=t[1];return"".concat(null!=n?n:"null","  ").concat(null!=i?i:"null")},showDetails:function(){var e=this;this.$Dialog.info({render:function(t){return t(wo,{changes:e.auditedColumns,resourceName:e.resourceName},[])}})},revert:function(){var e=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){return V.Z.put("data/".concat(e.model.slug,"/").concat(e.resourceId),{data:e.revertData}).then((function(t){e.$Message.info("".concat(e.model.display_name," ").concat(e.i18n.has_been_updated)),e.$emit("revert",t.data.data)})).catch((function(t){console.error(t),e.$Message.error("".concat(e.i18n.action_has_failed_with_code," ").concat(t.response.status))}))}})},columnDisplayName:function(e){var t;return(null===(t=this.model.columns.find((function(t){return t.name===e})))||void 0===t?void 0:t.display_name)||e}}},Co={name:"ResourceAuditsTab",components:{AuditItem:(0,D.Z)(ko,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VButton"),l=(0,t.up)("Card"),u=(0,t.Q2)("popover");return(0,t.wg)(),(0,t.j4)(l,{class:"mb-2"},{default:(0,t.w5)((function(){var n;return[(0,t._)("div",Qr,[(0,t._)("div",Jr,[(0,t._)("span",{style:(0,c.j5)(["background: ".concat(s.tagColors[0],"; border: 1px solid ").concat(s.tagColors[1],"; color: ").concat(s.tagColors[1],";"),{"border-radius":"100%",height:"42px","min-width":"42px","padding-top":"10px"}]),class:"me-2 text-center"},(0,c.zw)(s.userabbr),5),(0,t._)("div",Xr,[(0,t._)("span",eo,(0,c.zw)((null===(n=i.audit.user)||void 0===n?void 0:n.email)||e.i18n.internal),1),(0,t.Uk)(" "+(0,c.zw)(e.i18n[i.audit.action+"d"])+" ",1),"update"===i.audit.action?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[2===s.auditedColumns.length?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.wy)(((0,t.wg)(),(0,t.iD)("b",to,[(0,t.Uk)((0,c.zw)(s.columnDisplayName(s.auditedColumns[0][0])),1)])),[[u,{content:s.formatChange(s.auditedColumns[0][1]),trigger:"mouseenter",bodyStyle:{textAlign:"center"}}]]),no,(0,t.wy)(((0,t.wg)(),(0,t.iD)("b",io,[(0,t.Uk)((0,c.zw)(s.columnDisplayName(s.auditedColumns[1][0])),1)])),[[u,{content:s.formatChange(s.auditedColumns[1][1]),trigger:"mouseenter",bodyStyle:{textAlign:"center"}}]]),ro],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.wy)(((0,t.wg)(),(0,t.iD)("b",oo,[(0,t.Uk)((0,c.zw)(s.columnDisplayName(s.auditedColumns[0][0])),1)])),[[u,{content:s.formatChange(s.auditedColumns[0][1]),trigger:"mouseenter",bodyStyle:{textAlign:"center"}}]]),so],64)),s.auditedColumns.length>2?((0,t.wg)(),(0,t.iD)(t.HY,{key:2},[ao,(0,t.wy)(((0,t.wg)(),(0,t.iD)("b",lo,[(0,t.Uk)((0,c.zw)(s.auditedColumns.length-1),1)])),[[u,{content:s.otherFieldsChangesContent,trigger:"mouseenter",bodyStyle:{whiteSpace:"pre-wrap"}}]]),co],64)):(0,t.kq)("",!0)],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[uo],64)),ho,(0,t.Uk)(" "+(0,c.zw)(s.formatDate(i.audit.created_at,null,!0)),1)])]),(0,t._)("div",po,[(0,t.Wm)(a,{icon:"md-search",class:(0,c.C_)(["d-block d-lg-inline mb-1 mb-lg-0",{"me-lg-2":"update"===i.audit.action}]),onClick:s.showDetails},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.details),1)]})),_:1},8,["class","onClick"]),"update"===i.audit.action?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-refresh",type:"warning",ghost:"",class:"d-block d-lg-inline",onClick:s.revert},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.revert),1)]})),_:1},8,["onClick"])):(0,t.kq)("",!0)])])]})),_:1})}]])},props:{resourceName:{type:String,required:!0},resourceId:{type:[String,Number],required:!0}},emits:["update"],data:function(){return{isLoading:!0,audits:[]}},mounted:function(){var e=this;this.loadAudits().then((function(){e.isLoading=!1}))},methods:{onRevert:function(e){this.$emit("update",e),this.loadAudits()},loadAudits:function(){var e=this;return V.Z.get("audits",{params:{filter:{auditable_type:B.r3[this.resourceName].class_name,auditable_id:this.resourceId},sort:"-created_at",include:"user"}}).then((function(t){e.audits=t.data.data})).catch((function(e){console.error(e)}))}}},So=(0,D.Z)(Co,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("Spin"),l=(0,t.up)("AuditItem");return(0,t.wg)(),(0,t.iD)("div",Gr,[o.isLoading?((0,t.wg)(),(0,t.j4)(a,{key:0,fix:""})):0===o.audits.length?((0,t.wg)(),(0,t.iD)("div",Yr,(0,c.zw)(e.i18n.nothing_to_show_here_yet),1)):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.audits,(function(e){return(0,t.wg)(),(0,t.j4)(l,{key:e.id,"resource-name":i.resourceName,"resource-id":i.resourceId,audit:e,onRevert:s.onRevert},null,8,["resource-name","resource-id","audit","onRevert"])})),128))])}]]);var Ao={key:1,class:"px-3"},To={class:"d-flex justify-content-between"},Oo=(0,t._)("div",null,[(0,t._)("small",null,[(0,t.Uk)(" Use "),(0,t._)("code",null,"@"),(0,t.Uk)(" to mention users, "),(0,t._)("code",null,"#"),(0,t.Uk)(" to add tags. ")])],-1),Lo={class:"d-flex"},Eo={class:"d-flex flex-column align-items-center",style:{width:"50px"}},Do=["innerHTML"],Po={style:{width:"100px"},class:"d-flex align-items-end justify-content-end"},Mo=["href"],$o=[(0,t._)("i",{class:"ion ion-md-download"},null,-1)],Ro={class:"text-end"};n(8733);var Io={class:"autocomplete"},Fo=["rows","cols","placeholder"],jo={key:0,ref:"list",class:(0,c.C_)({"autocomplete-list":!0})},No=["onClick"],zo=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],qo=null!=window.mozInnerScreenX;const Vo={props:{modelValue:{type:String,required:!1,default:""},items:{type:Array,required:!1,default:function(){return[]}},itemFunctions:{type:Object,required:!1,default:function(){return{}}},placeholder:{type:String,required:!1,default:""},rows:{type:Number,required:!1,default:4},cols:{type:Number,required:!1,default:1}},emits:["update:modelValue"],data:function(){return{inputValue:"",searchMatch:[],loadedItems:{},itemRefs:[],selectedIndex:0,clickedChooseItem:!1,wordIndex:0}},computed:{listToSearch:function(){return this.items},currentWord:function(){return this.inputValue.replace(/(\r\n|\n|\r)/gm," ").split(" ")[this.wordIndex]},inputSplitted:function(){return this.inputValue.replace(/(\r\n|\n|\r)/gm," ").split(" ")}},watch:{modelValue:function(){this.inputValue=this.modelValue},inputValue:function(){this.focus(),this.selectedIndex=0,this.wordIndex=this.inputSplitted.length-1,this.$emit("update:modelValue",this.inputValue)}},beforeUpdate:function(){this.itemRefs=[]},mounted:function(){var e=this;this.inputValue=this.modelValue,this.$refs.textarea.addEventListener("input",(function(){var t=function(e,t,n){var i=document.createElement("div");i.id="input-textarea-caret-position-mirror-div",document.body.appendChild(i);var r=i.style,o=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,s="INPUT"===e.nodeName;r.whiteSpace="pre-wrap",s||(r.wordWrap="break-word"),r.position="absolute",r.visibility="hidden",zo.forEach((function(e){if(s&&"lineHeight"===e)if("border-box"===o.boxSizing){var t=parseInt(o.height),n=parseInt(o.paddingTop)+parseInt(o.paddingBottom)+parseInt(o.borderTopWidth)+parseInt(o.borderBottomWidth),i=n+parseInt(o.lineHeight);r.lineHeight=t>i?t-n+"px":t===i?o.lineHeight:0}else r.lineHeight=o.height;else r[e]=o[e]})),qo?e.scrollHeight>parseInt(o.height)&&(r.overflowY="scroll"):r.overflow="hidden",i.textContent=e.value.substring(0,t),s&&(i.textContent=i.textContent.replace(/\s/g,""));var a=document.createElement("span");a.textContent=e.value.substring(t)||".",i.appendChild(a);var l={top:a.offsetTop+parseInt(o.borderTopWidth),left:a.offsetLeft+parseInt(o.borderLeftWidth),height:parseInt(o.lineHeight)};return document.body.removeChild(i),l}(e.$refs.textarea,e.$refs.textarea.selectionEnd);if(e.searchMatch.length>0){var n=e.$refs.list;n&&(n.style.top=t.top+20+"px",n.style.left=t.left+"px")}}))},methods:{setItemRef:function(e){e&&this.itemRefs.push(e)},setWord:function(e){var t=this.inputValue.replace(/(\r\n|\n|\r)/gm,"__br__ ").split(" ");t[this.wordIndex]=t[this.wordIndex].replace(this.currentWord,e+" "),this.wordIndex+=1,this.inputValue=t.join(" ").replace(/__br__\s/g,"\n")},moveDown:function(){var e;this.selectedIndex<this.searchMatch.length-1&&(this.selectedIndex++,null===(e=this.itemRefs[this.selectedIndex])||void 0===e||e.scrollIntoView({block:"nearest"}))},moveUp:function(){var e;-1!==this.selectedIndex&&(this.selectedIndex--,null===(e=this.itemRefs[this.selectedIndex])||void 0===e||e.scrollIntoView({block:"nearest"}))},selectItem:function(e){this.selectedIndex=e},chooseItem:function(e){this.clickedChooseItem=!0,-1!==this.selectedIndex&&this.searchMatch.length>0&&(e&&e.preventDefault(),this.setWord(this.searchMatch[this.selectedIndex].value),this.selectedIndex=-1)},focusout:function(e){var t=this;setTimeout((function(){t.clickedChooseItem||(t.searchMatch=[],t.selectedIndex=-1),t.clickedChooseItem=!1}),100)},focus:function(){var e=this;if(this.searchMatch=[],""!==this.currentWord){var t,n,i=!!this.currentWord&&this.itemFunctions[this.currentWord[0]];i?((t=this.loadedItems)[n=this.currentWord[0]]||(t[n]=i()),this.loadedItems[this.currentWord[0]].then((function(t){e.searchMatch=e.currentWord.length>1?t.filter((function(t){return 0===t.label.indexOf(e.currentWord)})):t,!e.searchMatch.length&&e.currentWord.length>1&&(e.searchMatch=[{value:e.currentWord,label:e.currentWord}])}))):this.searchMatch=this.listToSearch.filter((function(t){return 0===t.label.indexOf(e.currentWord)}))}1===this.searchMatch.length&&this.currentWord===this.searchMatch[0]&&(this.searchMatch=[])}}},Bo=(0,D.Z)(Vo,[["render",function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("div",Io,[(0,t.wy)((0,t._)("textarea",{ref:"textarea","onUpdate:modelValue":i[0]||(i[0]=function(e){return s.inputValue=e}),rows:r.rows,cols:r.cols,class:"autocomplete-input text-dark",placeholder:r.placeholder,type:"text",onFocusout:i[1]||(i[1]=function(){return a.focusout&&a.focusout.apply(a,arguments)}),onFocus:i[2]||(i[2]=function(){return a.focus&&a.focus.apply(a,arguments)}),onKeydown:[i[3]||(i[3]=(0,e.D2)((function(){return a.chooseItem&&a.chooseItem.apply(a,arguments)}),["enter"])),i[4]||(i[4]=(0,e.D2)((function(){return a.chooseItem&&a.chooseItem.apply(a,arguments)}),["tab"])),i[5]||(i[5]=(0,e.D2)((function(){return a.moveDown&&a.moveDown.apply(a,arguments)}),["arrow-down"])),i[6]||(i[6]=(0,e.D2)((function(){return a.moveUp&&a.moveUp.apply(a,arguments)}),["arrow-up"]))]},null,40,Fo),[[e.nr,s.inputValue]]),s.searchMatch.length>0?((0,t.wg)(),(0,t.iD)("ul",jo,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.searchMatch,(function(e,n){return(0,t.wg)(),(0,t.iD)("li",{key:n,ref_for:!0,ref:a.setItemRef,class:(0,c.C_)({active:s.selectedIndex===n}),onClick:function(e){return a.selectItem(n),a.chooseItem()}},(0,c.zw)(e.label),11,No)})),128))],512)):(0,t.kq)("",!0)])}],["__scopeId","data-v-71a44383"]]),Wo={name:"NoteTextates",components:{TextareaAutocomplete:Bo},props:{modelValue:{type:String,required:!1,default:""},rows:{type:Number,required:!1,default:4}},emits:["update:modelValue"],computed:{itemLoadFunctions:function(){return{"#":function(){return V.Z.get("note_tags").then((function(e){return e.data.data.map((function(e){return{label:"#"+e.name,value:"#"+e.name}}))}))},"@":function(){return V.Z.get("users_for_autocomplete").then((function(e){return e.data.data.map((function(e){return{label:"@"+e.split("@")[0],value:e}}))}))}}}}},Uo=(0,D.Z)(Wo,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("TextareaAutocomplete");return(0,t.wg)(),(0,t.j4)(a,{"model-value":i.modelValue,"item-functions":s.itemLoadFunctions,rows:i.rows,"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value","item-functions","rows"])}]]),Ho={name:"NoteEdit",components:{NoteTextarea:Uo},props:{note:{type:Object,required:!0}},emits:["success"],data:function(){return{isLoading:!1,noteBody:""}},mounted:function(){this.noteBody=this.note.body},methods:{submit:function(){var e=this;this.isLoading=!0,V.Z.put("notes/".concat(this.note.id),{data:{body:this.noteBody}}).then((function(t){e.$emit("success")})).catch((function(e){console.error(e)})).finally((function(){e.isLoading=!1}))}}},Zo=(0,D.Z)(Ho,[["render",function(n,i,r,o,s,a){var l=(0,t.up)("NoteTextarea"),u=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(l,{modelValue:s.noteBody,"onUpdate:modelValue":i[0]||(i[0]=function(e){return s.noteBody=e}),rows:10,onKeyup:(0,e.D2)((0,e.iM)(a.submit,["shift","prevent"]),["enter"]),onKeydown:i[1]||(i[1]=(0,e.D2)((0,e.iM)((function(){}),["shift","prevent"]),["enter"]))},null,8,["modelValue","onKeyup"]),(0,t.Wm)(u,{loading:s.isLoading,class:"mt-2",long:"",onClick:a.submit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.submit),1)]})),_:1},8,["loading","onClick"])])}]]),Ko={name:"ReminderForm",props:{note:{type:Object,required:!0}},emits:["success"],data:function(){return{isLoading:!1,scheduledAt:new Date}},mounted:function(){this.noteBody=this.note.body},methods:{submit:function(){var e=this;this.isLoading=!0,V.Z.post("reminders",{data:{scheduled_at:this.scheduledAt,record_id:this.note.id,record_type:"Motor::Note"}}).then((function(t){e.$emit("success")})).catch((function(e){console.error(e)})).finally((function(){e.isLoading=!1}))}}},Go=(0,D.Z)(Ko,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("DatePicker"),l=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("label",null,(0,c.zw)(e.i18n.schedule_at)+":",1),(0,t.Wm)(a,{modelValue:o.scheduledAt,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.scheduledAt=e}),class:"ms-2",type:"datetime"},null,8,["modelValue"]),(0,t.Wm)(l,{loading:o.isLoading,class:"mt-2",long:"",onClick:s.submit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.submit),1)]})),_:1},8,["loading","onClick"])])}]]);var Yo=n(7856),Qo=n.n(Yo),Jo=n(7441);const Xo={name:"Note",props:{note:{type:Object,required:!0}},emits:["remove","remove-reminder"],computed:{username:function(){var e;return(null===(e=this.note.author)||void 0===e?void 0:e.email)||this.i18n.internal},sanitizedHtml:function(){return Qo().sanitize((0,Jo.TU)(this.note.body.replace(/\n+/g,"\n\n")))},userabbr:function(){var e;return null!==(e=this.note.author)&&void 0!==e&&e.email?this.username[0].toUpperCase()+this.username[1].toUpperCase():"N/A"},tagColors:function(){return(0,fo.i)(this.username)},currentUserReminder:function(){return L.id?this.note.reminders.find((function(e){return e.author_id===L.id})):null},calendarUrl:function(){var e,t=new Date(this.currentUserReminder.scheduled_at).toISOString().replace(/[-:]|\.\d{3}/g,""),n=["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","DTSTART:".concat(t),"DTEND:".concat(t),"SUMMARY:Reminder for ".concat(null===(e=B.OU[this.note.record_type])||void 0===e?void 0:e.display_name," #").concat(this.note.record_id),"DESCRIPTION:".concat(this.note.body),"END:VEVENT","END:VCALENDAR"];return encodeURI("data:text/calendar;charset=utf8,".concat(n.join("\n")))}},methods:{formatDate:Ri.p,remove:function(){var e=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){V.Z.delete("notes/".concat(e.note.id),{}).then((function(){e.$emit("remove",e.note),e.$Message.info(e.i18n.note_has_been_removed)})).catch((function(e){console.error(e)}))}})},removeReminder:function(){var e=this;this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){e.$emit("remove-reminder",e.currentUserReminder),V.Z.delete("reminders/".concat(e.currentUserReminder.id),{}).then((function(){e.$Message.info(e.i18n.reminder_has_been_removed)})).catch((function(e){console.error(e)}))}})},createReminder:function(){var e=this;this.$Modal.open(Go,{note:this.note,onSuccess:function(){e.$Modal.remove()}},{title:this.i18n.create_reminder,closable:!0})},edit:function(){var e=this;this.$Modal.open(Zo,{note:this.note,onSuccess:function(){e.$Modal.remove()}},{title:this.i18n.edit_note,closable:!0})}}};function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const ts={name:"Notes",components:{Note:(0,D.Z)(Xo,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VButton"),l=(0,t.up)("Card");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t.Wm)(l,null,{default:(0,t.w5)((function(){return[(0,t._)("div",Lo,[(0,t._)("div",Eo,[(0,t._)("span",{style:(0,c.j5)(["background: ".concat(s.tagColors[0],"; border: 1px solid ").concat(s.tagColors[1],"; color: ").concat(s.tagColors[1],";"),{"border-radius":"100%",height:"42px",width:"42px","padding-top":"10px"}]),class:"me-2 text-center"},(0,c.zw)(s.userabbr),5)]),(0,t._)("div",{class:"px-2 richtext",style:{width:"calc(100% - 150px)"},innerHTML:s.sanitizedHtml},null,8,Do),(0,t._)("div",Po,[s.currentUserReminder?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-notifications",class:"ms-1",size:"small",style:{"border-radius":"100%"},onClick:s.createReminder},null,8,["onClick"])),s.currentUserReminder?((0,t.wg)(),(0,t.iD)("a",{key:1,class:"ivu-btn ivu-btn-default ivu-btn-small ivu-btn-icon-only ms-1",style:{"border-radius":"100%"},href:s.calendarUrl},$o,8,Mo)):(0,t.kq)("",!0),s.currentUserReminder?((0,t.wg)(),(0,t.j4)(a,{key:2,icon:"md-notifications-off",class:"ms-1",size:"small",style:{"border-radius":"100%"},onClick:s.removeReminder},null,8,["onClick"])):(0,t.kq)("",!0),e.$can("edit","Motor::Note",i.note)?((0,t.wg)(),(0,t.j4)(a,{key:3,icon:"md-create",size:"small",class:"ms-1",style:{"border-radius":"100%"},onClick:s.edit},null,8,["onClick"])):(0,t.kq)("",!0),e.$can("remove","Motor::Note",i.note)?((0,t.wg)(),(0,t.j4)(a,{key:4,icon:"md-trash",size:"small",class:"ms-1",style:{"border-radius":"100%"},onClick:s.remove},null,8,["onClick"])):(0,t.kq)("",!0)])])]})),_:1}),(0,t._)("div",Ro,[(0,t._)("small",null,(0,c.zw)(s.username)+" at "+(0,c.zw)(s.formatDate(i.note.created_at,null,!0)),1)])])}]]),NoteTextarea:Uo},props:{resourceName:{type:String,required:!0},resourceId:{type:[String,Number],required:!0},minimized:{type:Boolean,required:!1,default:!1}},data:function(){return{isLoading:!1,isLoadingNote:!1,noteBody:"",notes:[]}},computed:{isCanCreateNote:function(){return this.$can("create","Motor::Note")},model:function(){return B.r3[this.resourceName]},roomKey:function(){return[this.model.class_name,this.resourceId].join(":")},itemLoadFunctions:function(){return{"#":function(){return V.Z.get("note_tags").then((function(e){return e.data.data.map((function(e){return{label:"#"+e.name,value:"#"+e.name}}))}))},"@":function(){return V.Z.get("users_for_autocomplete").then((function(e){return e.data.data.map((function(e){return{label:"@"+e.split("@")[0],value:e}}))}))}}}},mounted:function(){var e,t;this.loadNotes(),this.subscription||(this.subscription=(e=this.roomKey,t=this.processEvent,tt.subscriptions.create({channel:"Motor::NotesChannel",room:e},{received:t})))},beforeUnmount:function(){tt.subscriptions.remove(this.subscription)},methods:{scrollToLast:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.$refs.notes.children[this.$refs.notes.children.length-1];this.$nextTick((function(){e?null==t||t.scrollIntoView({behavior:"smooth"}):null==t||t.scrollIntoView()}))},processEvent:function(e){var t,n,i=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?es(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=i[0],o=i[1];"update"===r?this.addOrReplaceNote(o):"remove"===r&&this.removeNote(o),o.id===this.notes[this.notes.length-1].id&&this.scrollToLast(!0)},removeNote:function(e){var t=this.notes.findIndex((function(t){return t.id===e.id}));-1!==t&&this.notes.splice(t,1)},addOrReplaceNote:function(e){var t=this.notes.findIndex((function(t){return t.id===e.id}));-1===t?this.notes.push(e):this.notes.splice(t,1,e)},sendNote:function(){var e=this;return this.isLoadingNote=!0,V.Z.post("notes",{data:{body:this.noteBody,record_id:this.resourceId,record_type:this.model.class_name},include:"author,tags,reminders"}).then((function(t){e.addOrReplaceNote(t.data.data),e.noteBody="",e.scrollToLast(!0)})).finally((function(){e.isLoadingNote=!1}))},loadNotes:function(){var e=this;return this.isLoading=!0,V.Z.get("notes",{params:{page:{limit:1e3},filter:{record_id:this.resourceId,record_type:this.model.class_name},include:"author,tags,reminders"}}).then((function(t){e.notes=t.data.data,e.$nextTick((function(){e.scrollToLast()}))})).finally((function(){e.isLoading=!1}))}}},ns=(0,D.Z)(ts,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("Spin"),l=(0,t.up)("Note"),u=(0,t.up)("NoteTextarea"),h=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)("div",null,[o.isLoading?((0,t.wg)(),(0,t.j4)(a,{key:0,fix:""})):(0,t.kq)("",!0),(0,t._)("div",{ref:"notes",style:(0,c.j5)({height:i.minimized?"calc(var(--vh, 100vh) / 2 - ".concat(s.isCanCreateNote?"290px":"138px",")"):"calc(var(--vh, 100vh) - ".concat(s.isCanCreateNote?"310px":"158px",")")}),class:"overflow-auto"},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.notes,(function(e){return(0,t.wg)(),(0,t.j4)(l,{key:e.id,note:e,class:"mx-3 my-2",onRemove:s.removeNote},null,8,["note","onRemove"])})),128))],4),s.isCanCreateNote?((0,t.wg)(),(0,t.iD)("div",Ao,[(0,t.Wm)(u,{modelValue:o.noteBody,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.noteBody=e})},null,8,["modelValue"]),(0,t._)("div",To,[Oo,(0,t.Wm)(h,{loading:o.isLoadingNote,class:"float-right",onClick:s.sendNote},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.submit),1)]})),_:1},8,["loading","onClick"])])])):(0,t.kq)("",!0)])}]]);var is={dashboard:W.n3,form:U.r,query:W.db};const rs={name:"ResourceTabs",components:{TabsComponent:mr.Z,ResourceInfo:gr.Z,QueryTab:xr.Z,FormTab:Er,DashboardTab:Kr,ResourcesMenu:ui,SettingsMask:Pi.Z,ResourceInfoQuery:Tr,AuditsTab:So,NotesTab:ns},props:{resourceName:{type:String,required:!0},resourceId:{type:[Number,String],required:!0},minimized:{type:Boolean,required:!1,default:!1}},emits:["remove"],data:function(){return{selectedTabName:""}},computed:{isShowSettings:Ye.Qy,model:function(){return B.r3[this.resourceName]},associations:function(){return this.model.associations.filter((function(e){return e.visible}))},resourceData:function(){return e={id:this.resourceId},t="".concat(this.resourceName,"_id"),n=this.resourceId,t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n},withTabs:function(){return this.tabs.length>1||this.isShowSettings},isDefaultDetails:function(){return"details"===this.selectedTabName&&"default"===this.selectedTab.tab_type},isDefaultAudits:function(){return"audits"===this.selectedTabName&&"default"===this.selectedTab.tab_type},isDefaultNotes:function(){return"notes"===this.selectedTabName&&"default"===this.selectedTab.tab_type},isQueryDetails:function(){return"details"===this.selectedTabName&&"query"===this.selectedTab.tab_type},style:function(){var e=this.minimized?"(var(--vh) / 2)":"var(--vh)",t=this.minimized?92:113;return this.withTabs&&(t+=44),{height:"calc(".concat(e," - ").concat(t,"px)"),overflowY:this.isShowSettings?"hidden":"auto"}},tabs:function(){var e=this.model.tabs.filter((function(e){return e.visible&&("default"===e.tab_type||is[e.tab_type].find((function(t){return t.id.toString()===e.preferences["".concat(e.tab_type,"_id")].toString()})))}));return this.associations.length&&(0,Ge.aJ)("sm")&&e.splice(1,0,{name:"associations",display_name:this.i18n.associations}),e},selectedTab:function(){var e=this;return this.tabs.find((function(t){return t.name===e.selectedTabName}))},tabParams:function(){return this.tabs.map((function(e){return{to:{query:{tab:e.name},params:{doNotWatch:!0}},label:e.display_name,value:e.name}}))}},watch:{$route:function(e,t){var n;e.name===t.name&&JSON.stringify(e.params.fragments)===JSON.stringify(t.params.fragments)&&(this.selectedTabName=(null===(n=e.query)||void 0===n?void 0:n.tab)||this.tabs[0].name)}},created:function(){var e;this.selectedTabName=(null===(e=this.$route.query)||void 0===e?void 0:e.tab)||this.tabs[0].name},methods:{reload:function(){this.$refs.details?this.$refs.details.loadData():this.$refs.query?this.$refs.query.runQuery():this.$refs.dashboard&&this.$refs.dashboard.$refs.layout.reload()}}},os=(0,D.Z)(rs,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("SettingsMask"),l=(0,t.up)("TabsComponent"),u=(0,t.up)("ResourcesMenu"),h=(0,t.up)("ResourceInfo"),d=(0,t.up)("AuditsTab"),p=(0,t.up)("NotesTab"),f=(0,t.up)("ResourceInfoQuery"),m=(0,t.up)("FormTab"),g=(0,t.up)("QueryTab"),v=(0,t.up)("DashboardTab");return(0,t.wg)(),(0,t.iD)("div",fr,[s.withTabs?((0,t.wg)(),(0,t.j4)(l,{key:0,modelValue:o.selectedTabName,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.selectedTabName=e}),class:"pt-1",tabs:s.tabParams},{default:(0,t.w5)((function(){return[s.isShowSettings?((0,t.wg)(),(0,t.j4)(a,{key:0,"settings-type":"tabs",resource:s.model},null,8,["resource"])):(0,t.kq)("",!0)]})),_:1},8,["modelValue","tabs"])):(0,t.kq)("",!0),(0,t._)("div",{style:(0,c.j5)(s.style),class:(0,c.C_)(["position-relative",s.isDefaultDetails||s.isQueryDetails?"bg-white":"bg-body"])},[!s.isShowSettings||s.isDefaultDetails||s.isQueryDetails?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(a,{key:0,"settings-type":s.selectedTab.tab_type,preferences:s.selectedTab.preferences},null,8,["settings-type","preferences"])),"associations"===o.selectedTabName?((0,t.wg)(),(0,t.j4)(u,{key:"associations",resources:s.associations,size:"small","with-scopes":!1,"path-fragments":e.$route.params.fragments.length%2==1?e.$route.params.fragments.slice(0,-1):e.$route.params.fragments,style:{minHeight:"100%"}},null,8,["resources","path-fragments"])):s.isDefaultDetails?((0,t.wg)(),(0,t.j4)(h,{key:"details",ref:"details",class:"px-3 pb-3","resource-name":i.resourceName,"resource-id":i.resourceId,"with-actions":!0,"with-sticky-title":!0,editable:!0,"one-column":!i.minimized,onRemove:n[1]||(n[1]=function(t){return e.$emit("remove")})},null,8,["resource-name","resource-id","one-column"])):s.isDefaultAudits?((0,t.wg)(),(0,t.j4)(d,{key:"audits",ref:"audits",class:"px-3 pb-3","resource-name":i.resourceName,"resource-id":i.resourceId},null,8,["resource-name","resource-id"])):s.isDefaultNotes?((0,t.wg)(),(0,t.j4)(p,{key:"notes",ref:"notes","resource-name":i.resourceName,minimized:i.minimized,"resource-id":i.resourceId},null,8,["resource-name","minimized","resource-id"])):s.isQueryDetails?((0,t.wg)(),(0,t.j4)(f,{key:s.selectedTab.tab_type+s.selectedTab.preferences.query_id,ref:"query",class:"px-3 pt-3","resource-name":i.resourceName,"resource-id":i.resourceId,onRemove:n[2]||(n[2]=function(t){return e.$emit("remove")})},null,8,["resource-name","resource-id"])):"form"===s.selectedTab.tab_type?((0,t.wg)(),(0,t.j4)(m,{key:s.selectedTab.tab_type+s.selectedTab.preferences.form_id,tab:s.selectedTab,data:s.resourceData},null,8,["tab","data"])):"query"===s.selectedTab.tab_type?((0,t.wg)(),(0,t.j4)(g,{key:s.selectedTab.tab_type+s.selectedTab.preferences.query_id,ref:"query",tab:s.selectedTab,variables:s.resourceData},null,8,["tab","variables"])):"dashboard"===s.selectedTab.tab_type?((0,t.wg)(),(0,t.j4)(v,{key:s.selectedTab.tab_type+s.selectedTab.preferences.dashboard_id,ref:"dashboard",tab:s.selectedTab,variables:s.resourceData},null,8,["tab","variables"])):(0,t.kq)("",!0)],6)])}],["__scopeId","data-v-14e09087"]]);var ss={class:"row",style:{margin:"10px 0"}},as={key:0,class:"col-6 d-flex align-items-center pe-0"},ls={key:2,class:"fs-4 fw-bold nowrap overflow-hidden text-truncate"},cs={class:"col-6 d-flex justify-content-end"},us={class:"position-relative border-top"},hs={key:0,class:"text-center w-100"},ds=["href"],ps=["src"],fs={key:1,class:"mx-2 py-2 d-block text-center"},ms=["src"],gs={class:"mt-1 audio-filename"},vs={class:"text-break-all"},ys={key:2,class:"mx-2 video-container py-2 d-block text-center"},bs=["src"],ws=["href"],_s={style:{"min-height":"200px"},class:"file-container d-flex bg-white rounded justify-content-center align-items-center border flex-column"},xs={class:"text-break-all text-center"},ks=n(9276),Cs=n(5826);function Ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const As={name:"AttachmentsList",props:{resourceName:{type:String,required:!0},height:{type:String,required:!1,default:"500px"},withTitle:{type:Boolean,required:!1,default:!1},withResize:{type:Boolean,required:!1,default:!1},withMenu:{type:Boolean,required:!1,default:!1},associationParams:{type:Object,require:!1,default:null}},emits:["click-resize","click-menu"],data:function(){return{isLoading:!0,isDownloadLoading:!1,attachments:[]}},computed:{isCanRemove:function(){return this.$can("edit",this.model.class_name,this.associationParams)&&this.$can("remove","ActiveStorage::Attachment")},isCanUpload:function(){return this.$can("edit",this.model.class_name,this.associationParams)&&this.$can("create","ActiveStorage::Attachment")},title:function(){return(0,Di.$G)(this.association.display_name,60)},queryPath:function(){return["data",this.model.slug,this.associationParams.id,this.associationParams.name].join("/")},model:function(){return B.r3[this.resourceName]},association:function(){var e,t=this;return null!==(e=this.associationParams)&&void 0!==e&&e.name?this.model.associations.find((function(e){return e.slug===t.associationParams.name})):null}},mounted:function(){this.loadData().then((function(){var e={gallerySelector:".attachments-list",childSelector:"a.photoswipe",pswpModule:Cs.Z};new ks.Z(e).init()}))},methods:{isImage:function(e){return!!e.match(/\.(jpg|png|jpeg|webp|svg|gif|heic|heif)$/i)},isVideo:function(e){return!!e.match(/\.(mp4|mov|flv|webm)$/i)},isAudio:function(e){return!!e.match(/\.(mp3|ogg|wav|aif)$/i)},remove:function(e,t){var n=this;e.stopPropagation(),e.preventDefault(),this.$Dialog.confirm({title:this.i18n.are_you_sure,closable:!0,onOk:function(){n.isLoading=!0,V.Z.delete("data/active_storage__attachments/".concat(t.id),{}).catch((function(e){console.error(e)})).finally((function(e){n.loadData()}))}})},uploadFiles:function(e){var t,n,i=this;return this.isLoading=!0,Promise.all((n=(null===(t=e.dataTransfer)||void 0===t?void 0:t.files)||e.target.files,function(e){if(Array.isArray(e))return Ss(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ss(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return new Promise((function(t,n){var i=new FileReader;i.readAsBinaryString(e),i.onerror=n,i.onload=function(){t(i.result)}})).then((function(t){return V.Z.post("data/active_storage__attachments",{name:i.associationParams.name.replace(/_attachments?$/,""),record_id:i.associationParams.id,record_type:i.model.class_name,file:{filename:e.name,io:t}})}))}))).finally((function(){i.loadData()}))},setPswpData:function(e){var t=e.target.parentElement;t.dataset.pswpWidth=100*e.target.width,t.dataset.pswpHeight=100*e.target.height},loadData:function(){var e=this;return this.isLoading=!0,V.Z.get(this.queryPath,{params:{limit:1e3,fields:{attachment:"id,path,created_at,updated_at,name"}}}).then((function(t){e.attachments=t.data.data})).catch((function(t){t.response?e.$Message.error((0,Di.$G)(t.response.data.errors.join("\n"),70)):e.$Message.error(t.message)})).finally((function(){e.$nextTick((function(){e.isLoading=!1}))}))}}},Ts=(0,D.Z)(As,[["render",function(n,i,r,o,s,a){var l=(0,t.up)("VButton"),u=(0,t.up)("Spin"),h=(0,t.up)("Icon");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("div",ss,[r.withTitle?((0,t.wg)(),(0,t.iD)("div",as,[r.withMenu?((0,t.wg)(),(0,t.j4)(l,{key:0,icon:"md-menu",size:"small",type:"dashed",class:"me-2 bg-transparent align-bottom",onClick:i[0]||(i[0]=function(e){return n.$emit("click-menu")})})):(0,t.kq)("",!0),r.withResize?((0,t.wg)(),(0,t.j4)(l,{key:1,icon:"md-resize",size:"small",type:"dashed",class:"me-2 bg-transparent d-none d-md-block",onClick:i[1]||(i[1]=function(e){return n.$emit("click-resize")})})):(0,t.kq)("",!0),r.withTitle?((0,t.wg)(),(0,t.iD)("span",ls,(0,c.zw)(a.title),1)):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,t._)("div",cs,[a.isCanUpload?((0,t.wg)(),(0,t.j4)(l,{key:0,class:"ms-1",icon:"md-add",type:"primary",onClick:i[2]||(i[2]=function(e){return n.$refs.fileInput.click()})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.upload),1)]})),_:1})):(0,t.kq)("",!0),(0,t.wy)((0,t._)("input",{ref:"fileInput",type:"file",multiple:"",onChange:i[3]||(i[3]=function(){return a.uploadFiles&&a.uploadFiles.apply(a,arguments)})},null,544),[[e.F8,!1]])])]),(0,t._)("div",us,[s.isLoading?((0,t.wg)(),(0,t.j4)(u,{key:0,fix:""})):(0,t.kq)("",!0),(0,t._)("div",{class:"attachments-list d-flex py-2 overflow-auto",style:(0,c.j5)({flexWrap:"wrap",height:r.height.replace(/\)$/," + 33px)"),position:"relative"}),onDrop:i[5]||(i[5]=(0,e.iM)((function(){return a.uploadFiles&&a.uploadFiles.apply(a,arguments)}),["prevent"])),onDragover:i[6]||(i[6]=(0,e.iM)((function(){}),["prevent"]))},[s.isLoading||s.attachments.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",hs,(0,c.zw)(n.i18n.there_is_nothing_here_yet),1)),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.attachments,(function(e){return(0,t.wg)(),(0,t.iD)("div",{key:e.id,class:"attachment-item-container position-relative"},[a.isImage(e.path)?((0,t.wg)(),(0,t.iD)("a",{key:0,href:e.path,target:"_blank",class:"d-block image-container mx-2 py-2 cursor-zoom-in photoswipe"},[a.isCanRemove?((0,t.wg)(),(0,t.j4)(l,{key:0,type:"error",icon:"md-trash",class:"remove-btn rounded-0",size:"small",onClick:function(t){return a.remove(t,e)}},null,8,["onClick"])):(0,t.kq)("",!0),(0,t._)("img",{src:e.path,style:{width:"100%"},onLoad:i[4]||(i[4]=function(){return a.setPswpData&&a.setPswpData.apply(a,arguments)})},null,40,ps)],8,ds)):a.isAudio(e.path)?((0,t.wg)(),(0,t.iD)("div",fs,[(0,t._)("audio",{controls:"",preload:"metadata",class:"align-middle w-100",src:e.path},null,8,ms),(0,t._)("div",gs,[(0,t._)("span",vs,(0,c.zw)(e.path.split("/").pop()),1),a.isCanRemove?((0,t.wg)(),(0,t.j4)(l,{key:0,type:"text",icon:"md-trash",class:"bg-transparent",onClick:function(t){return a.remove(t,e)}},null,8,["onClick"])):(0,t.kq)("",!0)])])):a.isVideo(e.path)?((0,t.wg)(),(0,t.iD)("div",ys,[a.isCanRemove?((0,t.wg)(),(0,t.j4)(l,{key:0,type:"error",icon:"md-trash",class:"remove-btn rounded-0",size:"small",onClick:function(t){return a.remove(t,e)}},null,8,["onClick"])):(0,t.kq)("",!0),(0,t._)("video",{controls:"",class:"align-middle w-100",src:e.path},null,8,bs)])):((0,t.wg)(),(0,t.iD)("a",{key:3,href:e.path,class:"mx-2 py-2 d-block",target:"_blank"},[(0,t._)("div",_s,[(0,t.Wm)(h,{type:"md-download",size:"large",class:"fs-1"}),(0,t._)("span",xs,(0,c.zw)(e.path.split("/").pop()),1),a.isCanRemove?((0,t.wg)(),(0,t.j4)(l,{key:0,type:"error",icon:"md-trash",class:"remove-btn rounded-0",size:"small",onClick:function(t){return a.remove(t,e)}},null,8,["onClick"])):(0,t.kq)("",!0)])],8,ws))])})),128))],36)])])}],["__scopeId","data-v-d7e96c34"]]);var Os="resources:fullscreenAssociationTable";const Ls={name:"ResourcesShow",components:{ResourcesMenu:ui,ResourceTable:Ki,ResourceTabs:os,SettingsMask:Pi.Z,ResourceKanban:pr,AttachmentsList:Ts},props:{resourceName:{type:String,required:!0},associationName:{type:String,required:!1,default:""},resourceId:{type:[String,Number],required:!0}},data:function(){var e;return{isFullscreenTable:!1,isKanban:"kanban"===(null===(e=this.$route.query)||void 0===e?void 0:e.display_as)}},computed:{isShowSettings:Ye.Qy,showTable:function(){return!!this.associationName},pathFragments:function(){var e=this.$route.params.fragments;return this.associationName?e.slice(0,e.length-1):e},model:function(){return B.r3[this.resourceName]},association:function(){var e=this;return this.associations.find((function(t){return t.name===e.associationName}))},associationModel:function(){return B.r3[this.association.model_name]},associations:function(){return this.model.associations.filter((function(e){return e.visible&&B.r3[e.model_name]}))}},created:function(){(0,Ge.aJ)("sm")?this.isFullscreenTable=!0:this.isFullscreenTable="true"===localStorage.getItem(Os),this.isKanban||(this.isKanban="false"!==localStorage.getItem("motor:".concat(this.model.name,":is_kanban")))},methods:{widthLessThan:Ge.aJ,reloadTabs:function(){this.$refs.tabs&&this.$refs.tabs.reload()},toggleSize:function(){this.isFullscreenTable=!this.isFullscreenTable,localStorage.setItem(Os,this.isFullscreenTable.toString())},toggleKanban:function(){this.isKanban=!this.isKanban,localStorage.setItem("motor:".concat(this.model.name,":is_kanban"),this.isKanban)},goToParent:function(){this.$router.push({name:"resources",params:{fragments:this.pathFragments.slice(0,this.pathFragments.length-1)}})}}},Es=(0,D.Z)(Ls,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("ResourcesMenu"),l=(0,t.up)("Sider"),u=(0,t.up)("SettingsMask"),h=(0,t.up)("ResourceTabs"),d=(0,t.up)("AttachmentsList"),p=(0,t.up)("ResourceKanban"),f=(0,t.up)("ResourceTable"),m=(0,t.up)("Layout");return(0,t.wg)(),(0,t.j4)(m,{"has-sider":!!s.associations.length,class:"position-relative"},{default:(0,t.w5)((function(){return[s.associations.length&&!s.widthLessThan("sm")?((0,t.wg)(),(0,t.j4)(l,{key:0,class:"border-top",style:(0,c.j5)({background:"#fff",maxHeight:"calc(var(--vh, 100vh) - 112px)"})},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{resources:s.associations,size:"small","with-scopes":!1,"path-fragments":s.pathFragments,"active-name":i.associationName,style:{minHeight:"100%"}},null,8,["resources","path-fragments","active-name"])]})),_:1},8,["style"])):(0,t.kq)("",!0),s.isShowSettings&&s.associations.length&&!s.widthLessThan("sm")?((0,t.wg)(),(0,t.j4)(u,{key:1,"settings-type":"associations",resource:s.model,style:{width:"200px"}},null,8,["resource"])):(0,t.kq)("",!0),(0,t.Wm)(m,null,{default:(0,t.w5)((function(){var e;return[s.showTable&&o.isFullscreenTable?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(h,{key:i.resourceName+i.resourceId,ref:"tabs","resource-name":i.resourceName,"resource-id":i.resourceId,minimized:s.showTable,class:"border-top",onRemove:s.goToParent},null,8,["resource-name","resource-id","minimized","onRemove"])),s.showTable&&"active_storage/attachment"===(null===(e=s.association)||void 0===e?void 0:e.model_name)?((0,t.wg)(),(0,t.j4)(d,{key:i.resourceName+i.resourceId+i.associationName,height:o.isFullscreenTable?"calc(var(--vh, 100vh) - 199px)":"calc((var(--vh) / 2) - 108px)","with-resize":!0,"resource-name":i.resourceName,"with-title":!0,class:"border-top","association-params":{name:i.associationName,id:i.resourceId},onActionApplied:s.reloadTabs,onClickResize:s.toggleSize},null,8,["height","resource-name","association-params","onActionApplied","onClickResize"])):s.showTable&&"kanban"===s.associationModel.preferences.display_as&&o.isKanban?((0,t.wg)(),(0,t.j4)(p,{key:i.resourceName+i.resourceId+i.associationName,height:o.isFullscreenTable?"calc(var(--vh, 100vh) - 219px)":"calc((var(--vh) / 2) - 128px)","with-resize":!0,"resource-name":i.resourceName,"with-title":!0,class:"border-top","association-params":{name:i.associationName,id:i.resourceId},onActionApplied:s.reloadTabs,onClickResize:s.toggleSize,onToggleKanban:s.toggleKanban},null,8,["height","resource-name","association-params","onActionApplied","onClickResize","onToggleKanban"])):s.showTable?((0,t.wg)(),(0,t.j4)(f,{ref:"table",key:i.resourceName+i.resourceId+i.associationName,height:o.isFullscreenTable?"calc(var(--vh, 100vh) - 199px)":"calc((var(--vh) / 2) - 108px)","with-resize":!0,"resource-name":i.resourceName,"with-title":!0,"with-kanban-toggle":"kanban"===s.associationModel.preferences.display_as,class:"border-top","association-params":{name:i.associationName,id:i.resourceId},onActionApplied:s.reloadTabs,onClickResize:s.toggleSize,onToggleKanban:s.toggleKanban},null,8,["height","resource-name","with-kanban-toggle","association-params","onActionApplied","onClickResize","onToggleKanban"])):(0,t.kq)("",!0)]})),_:1})]})),_:1},8,["has-sider"])}]]),Ds={name:"AppBreadcrumbs",props:{crumbs:{type:Array,required:!0},withMenu:{type:Boolean,required:!1,default:!1}},emits:["click-menu"],methods:{truncate:Di.$G,sanitize:function(e){return e.includes("<")?Qo().sanitize(e,{ALLOWED_TAGS:[],KEEP_CONTENT:!0}).replace("&nbsp;",""):e}}},Ps=(0,D.Z)(Ds,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VButton"),l=(0,t.up)("BreadcrumbItem"),u=(0,t.up)("Breadcrumb");return(0,t.wg)(),(0,t.j4)(u,null,{default:(0,t.w5)((function(){return[i.withMenu?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-menu",size:"small",type:"dashed",class:"me-2 bg-transparent align-bottom",onClick:n[0]||(n[0]=function(t){return e.$emit("click-menu")})})):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.crumbs,(function(e,n){return(0,t.wg)(),(0,t.j4)(l,{key:n,class:(0,c.C_)([n<i.crumbs.length-(i.crumbs.length%2==0?2:3)?"d-none d-md-inline":"","fs-4"]),to:e.to},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.truncate(s.sanitize(e.label),22)),1)]})),_:2},1032,["class","to"])})),128))]})),_:1})}]]),Ms=Ps;var $s={key:0,class:"mx-2 mx-md-3"},Rs={class:"d-flex justify-content-between align-items-center"},Is={class:"mt-3 mb-2"},Fs={key:0,class:"row"},js={class:"mx-2 mx-md-3 position-relative"},Ns={key:0,class:"mt-3 mb-2"},zs={key:1,class:"d-flex justify-content-between align-items-center"},qs={class:"mt-3 mb-2"},Vs={key:4},Bs={key:5,class:"row"},Ws={class:"ivu-card-body"},Us={class:"fs-4 fw-bold text-dark"},Hs={key:0,class:"text-center mb-4"},Zs={key:6,class:"text-center",style:{bottom:"0"}},Ks=["href"];n(6541);var Gs={class:"ivu-card-body"},Ys={class:"fs-4 fw-bold text-dark"},Qs={class:"col-12"};const Js={name:"LinksSection",computed:{linksToRender:function(){return this.defaultLinks.concat(this.customLinks)},canReadReports:function(){return this.$can("read","Motor::Query")||this.$can("read","Motor::Dashboard")||this.$can("read","Motor::Alert")},defaultLinks:function(){return[(0,Ge.aJ)("sm")&&(this.reportsLink||this.formsLink)&&{is:"RouterLink",name:"Data",to:{name:"data_home"}},this.canReadReports&&this.reportsLink&&{is:"RouterLink",name:"Reports",to:{name:"reports"}},this.$can("read","Motor::Form")&&this.formsLink&&{is:"RouterLink",name:"Forms",to:{name:"forms"}}].filter(Boolean)},reportsLink:function(){return ze.find((function(e){return"reports"===e.link_type}))},formsLink:function(){return ze.find((function(e){return"forms"===e.link_type}))},customLinks:function(){var e=this;return ze.map((function(t){if(["reports","forms"].includes(t.link_type))return null;var n={name:t.name},i=t.path.replace(location.origin,"").replace(new RegExp("^".concat(Ke.sb)),"/");if(i.match(/^https?:/))n.target="_blank",n.is="a",n.href=i;else{var r=e.$router.resolve({path:i},e.$route);if(null!=r&&r.name){if(!Xe(r))return null;n.is="RouterLink",n.to=r}else n.is="a",n.href=i}return n})).filter(Boolean)}},methods:{openEditModal:function(){this.$Drawer.open(Ze,{},{title:this.i18n.links,closable:!0})}}},Xs=(0,D.Z)(Js,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)(t.HY,null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.linksToRender,(function(e){return(0,t.wg)(),(0,t.iD)("div",{key:e.name,class:"col-12 col-md-6 col-lg-4 col-xl-3"},[e.to||e.href?((0,t.wg)(),(0,t.j4)((0,t.LL)(e.is),{key:0,to:e.to,href:e.href,target:e.target,class:"ivu-card ivu-card-bordered my-2"},{default:(0,t.w5)((function(){return[(0,t._)("div",Gs,[(0,t._)("p",Ys,(0,c.zw)(e.name),1)])]})),_:2},1032,["to","href","target"])):(0,t.kq)("",!0)])})),128)),(0,t._)("div",Qs,[e.$can("manage","all")?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-add",long:"",onClick:s.openEditModal},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_link),1)]})),_:1},8,["onClick"])):(0,t.kq)("",!0)])],64)}]]);var ea={key:0,class:"d-flex justify-content-between mt-2"},ta={class:"text-center"};const na={name:"LayoutEditor",components:{DashboardSelect:n(9347).Z},props:{modelValue:{type:Array,required:!1,default:function(){return[]}}},emits:["submit"],data:function(){return{dataValue:[]}},created:function(){this.dataValue=JSON.parse(JSON.stringify(this.modelValue))},methods:{toggleCondition:function(e){this.dataValue[e].conditions?delete this.dataValue[e].conditions:this.dataValue[e].conditions=[{field:"role",value:""}]},addNewItem:function(){this.dataValue.push({type:"dashboard",id:""})},removeItem:function(e){this.dataValue.splice(e,1)}}},ia=(0,D.Z)(na,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("DashboardSelect"),l=(0,t.up)("MSelect"),u=(0,t.up)("VInput"),h=(0,t.up)("VButton"),d=(0,t.up)("Card");return(0,t.wg)(),(0,t.iD)("div",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.dataValue,(function(n,i){return(0,t.wg)(),(0,t.j4)(d,{key:i,class:"mb-2"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:n.id,"onUpdate:modelValue":function(e){return n.id=e},"with-deselect":!1},null,8,["modelValue","onUpdate:modelValue"]),n.conditions?((0,t.wg)(),(0,t.iD)("div",ea,[(0,t.Wm)(l,{modelValue:n.conditions[0].field,"onUpdate:modelValue":function(e){return n.conditions[0].field=e},style:{width:"49%"},options:["role","email"],"with-deselect":!1,placeholder:e.i18n.field},null,8,["modelValue","onUpdate:modelValue","placeholder"]),(0,t.Wm)(u,{modelValue:n.conditions[0].value,"onUpdate:modelValue":function(e){return n.conditions[0].value=e},style:{width:"49%"},placeholder:e.i18n.value},null,8,["modelValue","onUpdate:modelValue","placeholder"])])):(0,t.kq)("",!0),(0,t.Wm)(h,{icon:n.conditions?"md-close":"md-add",type:"text",class:"bg-transparent",long:"",onClick:function(e){return s.toggleCondition(i)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.conditions?e.i18n.remove_condition:e.i18n.add_condition),1)]})),_:2},1032,["icon","onClick"]),(0,t.Wm)(h,{icon:"md-close",type:"text",long:"",class:"bg-transparent text-danger",onClick:function(e){return s.removeItem(i)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.remove),1)]})),_:2},1032,["onClick"])]})),_:2},1024)})),128)),(0,t._)("div",ta,[(0,t.Wm)(h,{long:"",icon:"md-add",type:"default",class:"mb-2",onClick:s.addNewItem},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_dashboard),1)]})),_:1},8,["onClick"]),(0,t.Wm)(h,{long:"",type:"primary",onClick:n[0]||(n[0]=function(t){return e.$emit("submit",o.dataValue)})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.save),1)]})),_:1})])])}]]),ra=ia,oa={name:"HomeDashboard",components:{DashboardLayout:Br},props:{dashboardId:{type:[String,Number],required:!0}},data:function(){return{dashboard:null,isLoading:!1}},beforeUnmount:function(){this.timer&&clearInterval(this.timer)},mounted:function(){var e=this;this.loadDashboard().then((function(){e.setAutorefreshInterval()}))},methods:{setAutorefreshInterval:function(){var e=this;this.dashboard.preferences.autorefresh_interval&&(this.timer=setInterval((function(){return e.refresh(!1)}),this.dashboard.preferences.autorefresh_interval))},refresh:function(){this.$refs.dashboardLayout.reload(!1)},loadDashboard:function(){var e=this;return this.isLoading=!0,V.Z.get("dashboards/".concat(this.dashboardId),{params:{include:"tags,queries",fields:{queries:"id,name,preferences"}}}).then((function(t){e.dashboard=t.data.data})).catch((function(t){var n,i;null!==(n=t.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message)})).finally((function(){e.isLoading=!1}))}}},sa=(0,D.Z)(oa,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("DashboardLayout"),l=(0,t.up)("Spin");return(0,t.wg)(),(0,t.iD)(t.HY,null,[o.dashboard?((0,t.wg)(),(0,t.j4)(a,{key:0,ref:"dashboardLayout",dashboard:o.dashboard},null,8,["dashboard"])):(0,t.kq)("",!0),o.isLoading?((0,t.wg)(),(0,t.j4)(l,{key:1,fix:""})):(0,t.kq)("",!0)],64)}]]);var aa=(0,g.qj)(JSON.parse(document.getElementById("app").getAttribute("data-homepage-layout")));function la(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const ca={name:"Home",components:{LinksSection:Xs,LayoutEditor:ra,Dashboard:sa},data:function(){return{isEdit:!1,isLoading:!1}},computed:{version:function(){return Ke.i8},schema:function(){return B.fK},isStandalone:function(){return Ke.$W},currentUser:function(){return L},homepageStore:function(){return aa},filteredHomeItems:function(){return aa.filter((function(e){return!e.conditions||e.conditions.every((function(e){return[L["role"===e.field?"role_names":e.field]].flat().includes(e.value)}))}))},databaseSettingsPath:function(){return null===Ke.sc||void 0===Ke.sc?void 0:Ke.sc.replace("general","database")},visibleResources:function(){return B.fK.filter((function(e){return e.visible}))}},methods:{widthLessThan:Ge.aJ,submitLayout:function(e){var t=this;this.isLoading=!0,V.Z.post("configs",{key:"homepage.layout",value:e}).then((function(e){var n;aa.splice.apply(aa,[0,aa.length].concat(function(e){if(Array.isArray(e))return la(e)}(n=e.data.data.value)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return la(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?la(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),t.isEdit=!1,t.isLoading=!1})).catch((function(e){console.error(e),t.$Message.error(t.i18n.unable_to_submit_form),t.isLoading=!1}))}}},ua=(0,D.Z)(ca,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VButton"),l=(0,t.up)("LinksSection"),u=(0,t.up)("Spin"),h=(0,t.up)("LayoutEditor"),d=(0,t.up)("Dashboard"),p=(0,t.up)("RouterLink");return(0,t.wg)(),(0,t.iD)(t.HY,null,[s.widthLessThan("sm")?((0,t.wg)(),(0,t.iD)("div",$s,[(0,t._)("div",Rs,[(0,t._)("h1",Is,(0,c.zw)(e.i18n.hello_admin),1),e.$can("manage","all")&&"home"===e.$route.name?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:o.isEdit?"md-close":"md-create",class:"fs-1 bg-transparent",type:"text",onClick:n[0]||(n[0]=function(e){return o.isEdit=!o.isEdit})},null,8,["icon"])):(0,t.kq)("",!0)]),"home"!==e.$route.name||o.isEdit?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Fs,[(0,t.Wm)(l)]))])):(0,t.kq)("",!0),(0,t._)("div",js,[s.widthLessThan("sm")&&"home"===e.$route.name&&!s.filteredHomeItems.length?((0,t.wg)(),(0,t.iD)("h1",Ns,(0,c.zw)(e.i18n.resources),1)):s.widthLessThan("sm")?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",zs,[(0,t._)("h1",qs,(0,c.zw)(e.i18n.hello_admin),1),e.$can("manage","all")&&"home"===e.$route.name?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:o.isEdit?"md-close":"md-create",class:"fs-1 bg-transparent",type:"text",onClick:n[1]||(n[1]=function(e){return o.isEdit=!o.isEdit})},null,8,["icon"])):(0,t.kq)("",!0)])),o.isLoading?((0,t.wg)(),(0,t.j4)(u,{key:2,fix:""})):(0,t.kq)("",!0),o.isEdit?((0,t.wg)(),(0,t.j4)(h,{key:3,"model-value":s.homepageStore,style:{"max-width":"450px",margin:"auto"},onSubmit:s.submitLayout},null,8,["model-value","onSubmit"])):"home"===e.$route.name?((0,t.wg)(),(0,t.iD)("div",Vs,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.filteredHomeItems,(function(e){return(0,t.wg)(),(0,t.j4)(d,{key:e.id,"dashboard-id":e.id},null,8,["dashboard-id"])})),128))])):(0,t.kq)("",!0),o.isEdit||0!==s.filteredHomeItems.length&&"data_home"!==e.$route.name?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Bs,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.visibleResources,(function(e){return(0,t.wg)(),(0,t.iD)("div",{key:e.slug,class:"col-12 col-md-6 col-lg-4 col-xl-3"},[(0,t.Wm)(p,{class:"ivu-card ivu-card-bordered my-2",to:{name:"resources",params:{fragments:[e.slug]}}},{default:(0,t.w5)((function(){return[(0,t._)("div",Ws,[(0,t._)("p",Us,(0,c.zw)(e.display_name.replace("/","/")),1)])]})),_:2},1032,["to"])])})),128)),!s.schema.length&&s.databaseSettingsPath?((0,t.wg)(),(0,t.iD)("div",Hs,[(0,t.Wm)(a,{icon:"md-add",size:"large",to:s.databaseSettingsPath},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_database),1)]})),_:1},8,["to"])])):(0,t.kq)("",!0)])),o.isEdit?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Zs,[(0,t._)("a",{href:s.isStandalone?"https://github.com/motor-admin/motor-admin":"https://github.com/motor-admin/motor-admin-rails",target:"_blank"},"Motor Admin v"+(0,c.zw)(s.version),9,Ks)]))])],64)}]]);function ha(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ha(Object(n),!0).forEach((function(t){pa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ha(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fa(){var e,t;this.$refs.table?history.replaceState(da(da({},history.state),{},{tableScrollTop:this.$refs.table.$refs.table.$refs.wrapper.scrollTop,tableScrollLeft:this.$refs.table.$refs.table.$refs.wrapper.scrollLeft}),document.title,location.href):null!==(e=this.$refs.resource)&&void 0!==e&&null!==(t=e.$refs)&&void 0!==t&&t.table&&history.replaceState(da(da({},history.state),{},{tableScrollTop:this.$refs.resource.$refs.table.$refs.table.$refs.wrapper.scrollTop,tableScrollLeft:this.$refs.resource.$refs.table.$refs.table.$refs.wrapper.scrollLeft}),document.title,location.href)}const ma={name:"ResourcesBase",components:{ResourceTable:Ki,Resource:Es,Breadcrumbs:Ms,ResourcesMenu:ui,ResourceKanban:pr,Home:ua,SettingsMask:Pi.Z},beforeRouteUpdate:fa,beforeRouteLeave:fa,data:function(){var e;return{isMenuSider:!1,isKanban:"kanban"===(null===(e=this.$route.query)||void 0===e?void 0:e.display_as)}},computed:{isShowSettings:Ye.Qy,model:function(){return B.r3[this.resourceName]},isShowSiderScreen:function(){return(0,Ge.aJ)("xl")},activeNavigationName:function(){var e;return null!==(e=this.$route.query)&&void 0!==e&&e.scope?this.fragments[0]+"."+this.$route.query.scope:this.fragments[0]},visibleResources:function(){return B.fK.filter((function(e){return e.visible}))},fragments:function(){return this.$route.params.fragments||[]},normalizedFragments:function(){for(var e=this,t=[],n=function(n){var i,r,o,s,a,l=(null===(i=B.ik[e.fragments[n-2]])||void 0===i||null===(r=i.associations)||void 0===r?void 0:r.find((function(t){return t.slug===e.fragments[n]})))||(null===(o=t[n-2])||void 0===o||null===(s=o.model)||void 0===s||null===(a=s.associations)||void 0===a?void 0:a.find((function(t){return t.slug===e.fragments[n]}))),c=B.ik[e.fragments[n]]||B.r3[null==l?void 0:l.model_name],u={fragment:e.fragments[n],association:l,model:c};t.push(u)},i=0;i<this.fragments.length;i++)n(i);return t},associationName:function(){var e=this.fragments[this.fragments.length-1];return this.fragments.length>2&&this.fragments.length%2==1?e:null},resourceSlug:function(){return this.associationName?this.fragments[this.fragments.length-3]:this.resourceId?this.fragments[this.fragments.length-2]:this.fragments[this.fragments.length-1]},resourceName:function(){var e=this;if(B.ik[this.resourceSlug])return B.ik[this.resourceSlug].name;var t,n=this.normalizedFragments.find((function(t){return t.fragment===e.resourceSlug}));return null==n||null===(t=n.model)||void 0===t?void 0:t.name},crumbs:function(){for(var e=this,t=this.normalizedFragments,n=[],i=0;i<t.length;i++){var r,o,s,a,l={label:(null===(r=t[i].association)||void 0===r?void 0:r.display_name)||(null===(o=t[i].model)||void 0===o?void 0:o.display_name)||(!(0,Ge.aJ)("sm")&&kr.F[null===(s=t[i-1])||void 0===s?void 0:s.model.name]||{})[this.fragments[i]]||"".concat(this.fragments[i].match(/^\d+$/)?"#":"").concat(this.fragments[i])};if(i-1!==t.length&&(l.to={name:"resources",params:{fragments:this.fragments.slice(0,i+1)}}),1===t.length&&null!==(a=this.$route.query)&&void 0!==a&&a.scope){var c,u=t[0].model.scopes.find((function(t){return t.name===e.$route.query.scope}));l.label="".concat(l.label," (").concat(u.display_name,")"),(c=l.to).query||(c.query={}),l.to.query.scope=u.name}n.push(l)}return n},resourceId:function(){var e=this.associationName?2:1,t=this.fragments[this.fragments.length-e];return t&&this.fragments.length>1?t:null}},watch:{$route:function(e,t){"home"===e.name&&(0,Ye.E3)()},isShowSiderScreen:function(){this.isMenuSider=this.isShowSiderScreen}},created:function(){this.isMenuSider=this.isShowSiderScreen,this.model&&(this.isKanban||(this.isKanban="false"!==localStorage.getItem("motor:".concat(this.model.name,":is_kanban"))))},methods:{widthLessThan:Ge.aJ,toggleKanban:function(){this.isKanban=!this.isKanban,localStorage.setItem("motor:".concat(this.model.name,":is_kanban"),this.isKanban)},onMenuSelect:function(e){var t,n;null!==(t=B.ik[e])&&void 0!==t&&null!==(n=t.scopes)&&void 0!==n&&n.find((function(e){return e.visible}))?this.fragments[0]===e&&this.toggleResourcesMenu():this.toggleResourcesMenu()},toggleResourcesMenu:function(){this.isMenuSider=!this.isMenuSider}}},ga=(0,D.Z)(ma,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("ResourcesMenu"),l=(0,t.up)("Sider"),u=(0,t.up)("SettingsMask"),h=(0,t.up)("Breadcrumbs"),d=(0,t.up)("Resource"),p=(0,t.up)("ResourceKanban"),f=(0,t.up)("ResourceTable"),m=(0,t.up)("Home"),g=(0,t.up)("Layout");return(0,t.wg)(),(0,t.j4)(g,{"has-sider":!0,style:(0,c.j5)({height:"calc(var(--vh, 100vh) - 60px)",position:"relative"})},{default:(0,t.w5)((function(){return[!s.isShowSiderScreen||s.fragments[0]?((0,t.wg)(),(0,t.j4)(l,{key:0,"model-value":s.isShowSiderScreen&&o.isMenuSider,collapsible:!0,"collapsed-width":0,style:(0,c.j5)({background:"#fff",maxHeight:"calc(var(--vh, 100vh) - 60px)"})},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{resources:s.visibleResources,"active-name":s.activeNavigationName,style:{minHeight:"100%"},onSelect:s.onMenuSelect},null,8,["resources","active-name","onSelect"])]})),_:1},8,["model-value","style"])):(0,t.kq)("",!0),!s.isShowSiderScreen&&s.isShowSettings?((0,t.wg)(),(0,t.j4)(u,{key:1,style:{width:"200px"}})):(0,t.kq)("",!0),(0,t.Wm)(g,{class:"d-block"},{default:(0,t.w5)((function(){return[s.fragments&&s.fragments.length?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[s.resourceName?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[s.fragments.length>1||s.isShowSiderScreen&&s.fragments.length>1||s.widthLessThan("sm")?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Wm)(h,{crumbs:s.crumbs,"with-menu":s.isShowSiderScreen,style:{padding:"14px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onClickMenu:s.toggleResourcesMenu},null,8,["crumbs","with-menu","onClickMenu"]),s.fragments.length>1?((0,t.wg)(),(0,t.j4)(d,{key:0,ref:"resource","resource-name":s.resourceName,"resource-id":s.resourceId,"association-name":s.associationName},null,8,["resource-name","resource-id","association-name"])):(0,t.kq)("",!0)],64)):(0,t.kq)("",!0),1===s.fragments.length?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},["kanban"===s.model.preferences.display_as&&o.isKanban?((0,t.wg)(),(0,t.j4)(p,{key:s.resourceName,height:"calc(var(--vh, 100vh) - ".concat(s.widthLessThan("sm")?"220px":"168px",")"),"with-title":!s.widthLessThan("sm"),"with-menu":s.isShowSiderScreen&&!s.widthLessThan("sm"),class:"border-top border-md-0","resource-name":s.resourceName,onClickMenu:s.toggleResourcesMenu,onToggleKanban:s.toggleKanban},null,8,["height","with-title","with-menu","resource-name","onClickMenu","onToggleKanban"])):((0,t.wg)(),(0,t.j4)(f,{ref:"table",key:s.resourceName,height:"calc(var(--vh, 100vh) - ".concat(s.widthLessThan("sm")?"200px":"148px",")"),"with-title":!s.widthLessThan("sm"),"with-menu":s.isShowSiderScreen&&!s.widthLessThan("sm"),"with-kanban-toggle":"kanban"===s.model.preferences.display_as,class:"border-top border-md-0","resource-name":s.resourceName,onClickMenu:s.toggleResourcesMenu,onToggleKanban:s.toggleKanban},null,8,["height","with-title","with-menu","with-kanban-toggle","resource-name","onClickMenu","onToggleKanban"]))],64)):(0,t.kq)("",!0)],64)):((0,t.wg)(),(0,t.iD)("div",ii,(0,c.zw)(e.i18n.not_found),1))],64)):((0,t.wg)(),(0,t.j4)(m,{key:1}))]})),_:1})]})),_:1},8,["style"])}],["__scopeId","data-v-35ea95f0"]]);var va={class:"row mx-0 mx-md-2",style:{"min-height":"74px"}},ya={class:"my-3 overflow-hidden text-truncate"},ba={key:0,class:"col-4 d-flex align-items-center justify-content-center"},wa={class:"col-4 d-flex align-items-center justify-content-end"},_a={key:0,class:"p-0 col-12 col-md-6 col-lg-3 border-right"},xa={key:0,class:"pb-3 pt-1 px-3 px-md-4 border-bottom"},ka={key:1,style:{height:"calc(100% - 64px)"}},Ca={key:0,class:"border-bottom",style:{height:"40%"}},Sa={key:1,class:"d-flex justify-content-center align-items-center h-100"},Aa=["innerHTML"],Ta={key:3,style:{position:"relative",bottom:"31px",right:"-1px","z-index":"10"}},Oa={key:1,class:"d-flex justify-content-center align-items-center",style:{height:"100%"}},La=n(403);const Ea={name:"TagsSelect",props:{size:{type:String,required:!1,default:"large"},modelValue:{type:Array,required:!1,default:function(){return[]}}},emits:["update:modelValue"],data:function(){return{dataValue:[],tags:[],isLoading:!1}},watch:{modelValue:function(e){this.dataValue=e},dataValue:function(e){this.$emit("update:modelValue",e)}},mounted:function(){this.dataValue=this.modelValue,this.loadTags()},methods:{createFunction:function(e){return Promise.resolve({name:e})},loadTags:function(){var e=this;this.isLoading=!0,V.Z.get("tags").then((function(t){e.tags=t.data.data})).catch((function(e){console.error(e)})).finally((function(){e.isLoading=!1}))}}},Da=(0,D.Z)(Ea,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("MSelect");return(0,t.wg)(),(0,t.j4)(a,{modelValue:o.dataValue,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.dataValue=e}),filterable:"","allow-create":"",multiple:"",placeholder:e.i18n.set_tags,size:i.size,options:o.tags,"create-function":s.createFunction,"label-key":"name","value-key":"name"},null,8,["modelValue","placeholder","size","options","create-function"])}]]);function Pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $a={name:"QueryForm",components:{TagsSelect:Da},props:{query:{type:Object,required:!0},action:{type:String,required:!1,default:"new",validator:function(e){return["edit","new"].includes(e)}}},emits:["success"],data:function(){return{dataQuery:{}}},computed:{rules:function(){return{name:[{required:!0,message:(0,De.w)("name")}]}},apiRequest:function(){var e={data:this.dataQuery,include:"tags"};return"api"===this.dataQuery.preferences.query_type&&(e.data.sql_body=""),"sql"===this.dataQuery.preferences.query_type&&delete e.data.preferences.api_path,"edit"===this.action?V.Z.put("queries/".concat(this.dataQuery.id),e):V.Z.post("queries",e)}},created:function(){this.dataQuery=JSON.parse(JSON.stringify(this.query)),"new"===this.action&&delete this.dataQuery.id},methods:{submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.apiRequest.then((function(t){e.$emit("success",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(n),!0).forEach((function(t){Ma(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.data.data))})).catch((function(t){var n;null!==(n=t.response.data.errors)&&void 0!==n&&n.length&&e.$refs.form.setErrors(t.response.data.errors),console.error(t)}))}))}}},Ra=(0,D.Z)($a,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VInput"),l=(0,t.up)("FormItem"),u=(0,t.up)("TagsSelect"),h=(0,t.up)("VButton"),d=(0,t.up)("VForm");return(0,t.wg)(),(0,t.j4)(d,{ref:"form",model:o.dataQuery,rules:s.rules,"label-position":"top"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{label:e.i18n.name,prop:"name"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataQuery.name,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.dataQuery.name=e}),size:"large",autofocus:!0,placeholder:e.i18n.query_name},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.description,prop:"description"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataQuery.description,"onUpdate:modelValue":n[1]||(n[1]=function(e){return o.dataQuery.description=e}),type:"textarea",placeholder:e.i18n.describe_your_query_optional,autosize:{minRows:3,maxRows:7}},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.tags,prop:"tags"},{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{modelValue:o.dataQuery.tags,"onUpdate:modelValue":n[2]||(n[2]=function(e){return o.dataQuery.tags=e}),placeholder:e.i18n.select_query_tags},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(h,{size:"large",class:"mt-3",long:"",type:"primary",onClick:s.submit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.save),1)]})),_:1},8,["onClick"])]})),_:1},8,["model","rules"])}]]);var Ia={class:"bg-white"},Fa={key:0,class:"fw-bold mb-3"},ja={class:"fs-4 fw-bold my-1"},Na=function(e){return(0,t.dD)("data-v-576d2934"),e=e(),(0,t.Cn)(),e}((function(){return(0,t._)("p",{class:"fs-4 fw-bold my-1"}," Format ",-1)})),za={class:"fs-4 fw-bold my-1"},qa={class:"footer p-2"},Va=n(9215),Ba=n(4567),Wa=n(733);const Ua={name:"VariableSettings",components:{VariableInput:Ba.Z,OptionsInput:Wa.Z},props:{variable:{type:Object,required:!0},withName:{type:Boolean,required:!1,default:!1},withRemove:{type:Boolean,required:!1,default:!1}},emits:["update:variable","remove"],computed:{schema:function(){return B.fK},rules:function(){return{name:[{required:this.withName}]}},variableTypes:function(){return[{label:this.i18n.text,value:"text"},{label:this.i18n.number,value:"number"},{label:this.i18n.date,value:"date"},{label:this.i18n.date_and_time,value:"datetime"},{label:this.i18n.reference,value:"reference"},{label:this.i18n.select,value:"select"}]}},methods:{updateDisplayName:function(e){this.variable.display_name=(0,Di.MI)(e.replace(/_id$/,""))},resetDefault:function(){this.variable.default_value=this.variable.is_array?[]:""},onTypeChange:function(){this.variable.default_value="",this.$emit("update:variable",this.variable)}}},Ha=(0,D.Z)(Ua,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VInput"),l=(0,t.up)("FormItem"),u=(0,t.up)("MSelect"),h=(0,t.up)("OptionsInput"),d=(0,t.up)("VariableInput"),p=(0,t.up)("Checkbox"),f=(0,t.up)("VButton"),m=(0,t.up)("VForm");return(0,t.wg)(),(0,t.j4)(m,{ref:"form",rules:s.rules,"label-position":"top",model:i.variable},{default:(0,t.w5)((function(){return[i.withName?((0,t.wg)(),(0,t.j4)(l,{key:0,label:e.i18n.name,prop:"name"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:i.variable.name,"onUpdate:modelValue":[n[0]||(n[0]=function(e){return i.variable.name=e}),s.updateDisplayName],placeholder:e.i18n.name},null,8,["modelValue","placeholder","onUpdate:modelValue"])]})),_:1},8,["label"])):(0,t.kq)("",!0),(0,t.Wm)(l,{label:e.i18n.input_type,prop:"variable_type"},{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{modelValue:i.variable.variable_type,"onUpdate:modelValue":[n[1]||(n[1]=function(e){return i.variable.variable_type=e}),s.onTypeChange],options:s.variableTypes,"with-deselect":!1},null,8,["modelValue","options","onUpdate:modelValue"])]})),_:1},8,["label"]),"reference"===i.variable.variable_type?((0,t.wg)(),(0,t.j4)(l,{key:1,label:e.i18n.reference_resource,prop:"reference_resource"},{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{modelValue:i.variable.reference_resource,"onUpdate:modelValue":[n[2]||(n[2]=function(e){return i.variable.reference_resource=e}),n[3]||(n[3]=function(t){return e.$emit("update:variable",i.variable)})],"with-deselect":!1,"label-key":"display_name","value-key":"name",placeholder:e.i18n.select_resource_placeholder,filterable:"",options:s.schema},null,8,["modelValue","placeholder","options"])]})),_:1},8,["label"])):(0,t.kq)("",!0),"select"===i.variable.variable_type?((0,t.wg)(),(0,t.j4)(l,{key:2,label:e.i18n.select_options,prop:"select_options"},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{modelValue:i.variable.select_options,"onUpdate:modelValue":[n[4]||(n[4]=function(e){return i.variable.select_options=e}),n[5]||(n[5]=function(t){return e.$emit("update:variable",i.variable)})]},null,8,["modelValue"])]})),_:1},8,["label"])):(0,t.kq)("",!0),(0,t.Wm)(l,{label:e.i18n.default_value,prop:"default_value"},{default:(0,t.w5)((function(){return[(0,t.Wm)(d,{modelValue:i.variable.default_value,"onUpdate:modelValue":[n[6]||(n[6]=function(e){return i.variable.default_value=e}),n[7]||(n[7]=function(t){return e.$emit("update:variable",i.variable)})],variable:i.variable},null,8,["modelValue","variable"])]})),_:1},8,["label"]),"reference"===i.variable.variable_type?((0,t.wg)(),(0,t.j4)(p,{key:3,modelValue:i.variable.is_array,"onUpdate:modelValue":[n[8]||(n[8]=function(e){return i.variable.is_array=e}),s.resetDefault],class:"d-block"},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(" ")+" "+(0,c.zw)(e.i18n.multiple),1)]})),_:1},8,["modelValue","onUpdate:modelValue"])):(0,t.kq)("",!0),i.withRemove?((0,t.wg)(),(0,t.j4)(f,{key:4,long:"",type:"error",ghost:"",size:"small",onClick:n[9]||(n[9]=function(t){return e.$emit("remove",i.variable)})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.remove),1)]})),_:1})):(0,t.kq)("",!0)]})),_:1},8,["rules","model"])}]]);var Za={class:"richtext"},Ka=["innerHTML"],Ga=["innerHTML"],Ya=["innerHTML"],Qa=["innerHTML"],Ja=["innerHTML"],Xa=["innerHTML"];const el={name:"VariablesHint",setup:function(){return{selectSimpleVariableSql:"SELECT * FROM users WHERE role = {{role}}",selectIfElseVariableSql:"SELECT * FROM users\n{{#role}} WHERE role = {{role}} {{/role}}\n{{^role}} WHERE role = 'admin' {{/role}}",selectUserVariableSql:"SELECT * FROM orders as od\nJOIN sales_reps as sr ON sr.id = od.rep_id\nWHERE sr.user_id = {{current_user_id}}"}}},tl=(0,D.Z)(el,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",Za,[(0,t._)("p",{innerHTML:e.i18n.queries_can_contain_variable_via_syntax_html},null,8,Ka),(0,t._)("pre",{innerHTML:r.selectSimpleVariableSql},null,8,Ga),(0,t._)("p",{innerHTML:e.i18n.syntax_is_used_for_if_and_if_not_conditions_html},null,8,Ya),(0,t._)("pre",{innerHTML:r.selectIfElseVariableSql},null,8,Qa),(0,t._)("p",{innerHTML:e.i18n.current_user_variables_are_always_passed_explicitly_and_can_he_used_html},null,8,Ja),(0,t._)("pre",{innerHTML:r.selectUserVariableSql},null,8,Xa)])}]]),nl={name:"QuerySettings",components:{CurrencySelect:Va.Z,Tabs:mr.Z,VariableSettings:Ha,VariablesHint:tl},props:{preferences:{type:Object,required:!0},columns:{type:Array,required:!1,default:function(){return[]}},withVariablesEditor:{type:Boolean,required:!1,default:!1}},emits:["close"],data:function(){return{selectedTab:"visualization"}},computed:{visualizationOptions:function(){return[{label:this.i18n.table,value:"table"},{label:this.i18n.value,value:"value"},{label:this.i18n.kpi,value:"kpi"},{label:this.i18n.markdown,value:"markdown"},{label:this.i18n.html,value:"html"},{label:this.i18n.line_chart,value:"line_chart"},{label:this.i18n.bar_chart,value:"bar_chart"},{label:this.i18n.row_chart,value:"row_chart"},{label:this.i18n.pie_chart,value:"pie_chart"},{label:this.i18n.radar_chart,value:"radar_chart"},{label:this.i18n.funnel,value:"funnel"},{label:this.i18n.map,value:"map"}]},formatOptions:function(){return[{label:this.i18n.decimal,value:"decimal"},{label:this.i18n.percent,value:"percent"},{label:this.i18n.currency,value:"currency"}]}},methods:{maybeSetLabelFormat:function(e){var t,n;["table","markdown","html"].includes(e)||((t=this.preferences.visualization_options).label_format||(t.label_format="decimal"),(n=this.preferences.visualization_options).label_format_options||(n.label_format_options={}))},addNewVariable:function(){this.preferences.variables.push({name:"",display_name:"New variable",variable_type:"text"})},maybeSetCurrency:function(e){var t,n;"currency"===e&&((t=this.preferences.visualization_options).label_format_options||(t.label_format_options={}),(n=this.preferences.visualization_options.label_format_options).currency||(n.currency="USD"))}}},il=(0,D.Z)(nl,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("Tabs"),l=(0,t.up)("VariableSettings"),u=(0,t.up)("Card"),h=(0,t.up)("VButton"),d=(0,t.up)("VariablesHint"),p=(0,t.up)("Radio"),f=(0,t.up)("RadioGroup"),m=(0,t.up)("Checkbox"),g=(0,t.up)("CurrencySelect");return(0,t.wg)(),(0,t.iD)("div",Ia,[(0,t.Wm)(a,{modelValue:o.selectedTab,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.selectedTab=e}),position:"center",tabs:[{label:e.i18n.visualization,value:"visualization"},{label:e.i18n.variables,value:"variables"}]},null,8,["modelValue","tabs"]),(0,t._)("div",{style:(0,c.j5)({height:"calc(var(--vh, 100vh) - 224px)",overflowY:"auto"}),class:"p-2"},["variables"===o.selectedTab?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[i.withVariablesEditor||i.preferences.variables.length?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(i.preferences.variables,(function(e,n){return(0,t.wg)(),(0,t.j4)(u,{key:n,class:"my-2"},{default:(0,t.w5)((function(){return[i.withVariablesEditor?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Fa,(0,c.zw)(e.display_name),1)),(0,t.Wm)(l,{variable:e,"with-name":i.withVariablesEditor,"with-remove":i.withVariablesEditor,onRemove:function(e){return i.preferences.variables.splice(n,1)}},null,8,["variable","with-name","with-remove","onRemove"])]})),_:2},1024)})),128)),i.withVariablesEditor?((0,t.wg)(),(0,t.j4)(h,{key:0,icon:"md-add",long:"",onClick:s.addNewVariable},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_variable),1)]})),_:1},8,["onClick"])):(0,t.kq)("",!0)],64)):((0,t.wg)(),(0,t.j4)(d,{key:1}))],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("p",ja,(0,c.zw)(e.i18n.display_as),1),(0,t.Wm)(f,{modelValue:i.preferences.visualization,"onUpdate:modelValue":n[1]||(n[1]=function(e){return i.preferences.visualization=e}),class:"d-flex flex-column"},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.visualizationOptions,(function(e){return(0,t.wg)(),(0,t.j4)(p,{key:e.value,label:e.value,border:"",size:"large",class:"my-1 me-0","onUpdate:modelValue":s.maybeSetLabelFormat},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.label),1)]})),_:2},1032,["label","onUpdate:modelValue"])})),128))]})),_:1},8,["modelValue"]),["bar_chart","row_chart","line_chart","funnel"].includes(i.preferences.visualization)?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Wm)(m,{modelValue:i.preferences.visualization_options.chart_values_axis,"onUpdate:modelValue":n[2]||(n[2]=function(e){return i.preferences.visualization_options.chart_values_axis=e}),class:"d-block"},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(" ")+" "+(0,c.zw)(e.i18n.values_axis),1)]})),_:1},8,["modelValue"]),["bar_chart","row_chart"].includes(i.preferences.visualization)?((0,t.wg)(),(0,t.j4)(m,{key:0,modelValue:i.preferences.visualization_options.chart_stacked,"onUpdate:modelValue":n[3]||(n[3]=function(e){return i.preferences.visualization_options.chart_stacked=e}),class:"d-block"},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(" ")+" "+(0,c.zw)(e.i18n.stacked_bars),1)]})),_:1},8,["modelValue"])):(0,t.kq)("",!0)],64)):(0,t.kq)("",!0),["table","markdown","html","value","map"].includes(i.preferences.visualization)?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[Na,(0,t.Wm)(f,{modelValue:i.preferences.visualization_options.label_format,"onUpdate:modelValue":[n[4]||(n[4]=function(e){return i.preferences.visualization_options.label_format=e}),s.maybeSetCurrency],class:"d-flex flex-column"},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.formatOptions,(function(e){return(0,t.wg)(),(0,t.j4)(p,{key:e.value,label:e.value,border:"",size:"large",class:"my-1 me-0"},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.label),1)]})),_:2},1032,["label"])})),128))]})),_:1},8,["modelValue","onUpdate:modelValue"])],64)),["table","markdown","html"].includes(i.preferences.visualization)||"currency"!==i.preferences.visualization_options.label_format?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)(t.HY,{key:2},[(0,t._)("p",za,(0,c.zw)(e.i18n.currency),1),(0,t.Wm)(g,{modelValue:i.preferences.visualization_options.label_format_options.currency,"onUpdate:modelValue":n[5]||(n[5]=function(e){return i.preferences.visualization_options.label_format_options.currency=e})},null,8,["modelValue"])],64))],64))],4),(0,t._)("div",qa,[(0,t.Wm)(h,{long:"",type:"default",onClick:n[6]||(n[6]=function(t){return e.$emit("close")})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.ok),1)]})),_:1})])])}],["__scopeId","data-v-576d2934"]]),rl=il;var ol={class:"d-flex justify-content-between align-items-center"},sl={class:"fs-4 fw-bold"};const al={name:"RevisionsModal",props:{auditableName:{type:String,required:!0},auditableId:{type:[String,Number],required:!0}},emits:["revert"],data:function(){return{isLoading:!1,audits:[]}},computed:{auditableClasses:function(){return{query:"Motor::Query",dashboard:"Motor::Dashboard",alert:"Motor::Alert",form:"Motor::Form"}}},mounted:function(){var e=this;this.loadAudits().then((function(){e.isLoading=!1}))},methods:{formatDate:Ri.p,loadAudits:function(){var e=this;return V.Z.get("audits",{params:{filter:{auditable_type:this.auditableClasses[this.auditableName],auditable_id:this.auditableId},sort:"-created_at",include:"revision"}}).then((function(t){e.audits=t.data.data})).catch((function(e){console.error(e)}))}}},ll=(0,D.Z)(al,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("Spin"),l=(0,t.up)("VButton"),u=(0,t.up)("Card");return(0,t.wg)(),(0,t.iD)("div",null,[o.isLoading?((0,t.wg)(),(0,t.j4)(a,{key:0,fix:""})):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.audits,(function(n){return(0,t.wg)(),(0,t.j4)(u,{key:n.id,class:"mb-2"},{default:(0,t.w5)((function(){return[(0,t._)("div",ol,[(0,t._)("p",sl,(0,c.zw)(s.formatDate(n.created_at,null,!0)),1),(0,t.Wm)(l,{type:"warning",onClick:function(t){return e.$emit("revert",n.revision)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.revert),1)]})),_:2},1032,["onClick"])])]})),_:2},1024)})),128))])}]]),cl={name:"ApiConfigSelect",props:{modelValue:{type:[String,Number],required:!1,default:""},size:{type:String,required:!1,default:"default"}},emits:["update:modelValue"],data:function(){return{configs:[]}},mounted:function(){this.loadConfigs()},methods:{labelFunction:function(e){return"origin"===e.name?"Origin":e.url},addOption:function(e){return Promise.resolve({name:e,url:e})},loadConfigs:function(){var e=this;return V.Z.get("api_configs",{params:{fields:{api_config:"id,name,url"}}}).then((function(t){e.configs=t.data.data})).catch((function(e){console.error(e)}))}}},ul=(0,D.Z)(cl,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("MSelect");return(0,t.wg)(),(0,t.j4)(a,{"model-value":i.modelValue,size:i.size,options:o.configs,"label-function":s.labelFunction,"value-key":"name","allow-create":!0,"create-function":s.addOption,placeholder:e.i18n.url,"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value","size","options","label-function","create-function","placeholder"])}]]);var hl=(0,t.uE)('<svg xmlns="http://www.w3.org/2000/svg" class="align-middle" width="14" height="14" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><ellipse cx="12" cy="6" rx="8" ry="3"></ellipse><path d="M4 6v6a8 3 0 0 0 16 0v-6"></path><path d="M4 12v6a8 3 0 0 0 16 0v-6"></path></svg>',1),dl={class:"align-middle ms-1"};const pl={name:"DbLabel",props:{option:{type:Object,required:!0}}},fl=(0,D.Z)(pl,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("span",null,[hl,(0,t._)("span",dl,(0,c.zw)(i.option.label),1)])}]]);function ml(){ml=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(e){a=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof h?t:h,o=Object.create(r.prototype),s=new k(i||[]);return o._invoke=function(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return{value:void 0,done:!0}}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===u)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var l=c(e,t,n);if("normal"===l.type){if(i=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(i="completed",n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function h(){}function d(){}function p(){}var f={};a(f,r,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(C([])));g&&g!==t&&n.call(g,r)&&(f=g);var v=p.prototype=h.prototype=Object.create(f);function y(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function i(r,o,s,a){var l=c(e[r],e,o);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,a)}),(function(e){i("throw",e,s,a)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,a)}))}a(l.arg)}var r;this._invoke=function(e,n){function o(){return new t((function(t,r){i(e,n,t,r)}))}return r=r?r.then(o,o):o()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var i=c(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function C(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,a(v,"constructor",p),a(p,"constructor",d),d.displayName=a(p,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),a(b.prototype,o,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new b(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},y(v),a(v,s,"Generator"),a(v,r,(function(){return this})),a(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(a&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function gl(e,t,n,i,r,o,s){try{var a=e[o](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(i,r)}function vl(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){gl(o,i,r,s,a,"next",e)}function a(e){gl(o,i,r,s,a,"throw",e)}s(void 0)}))}}function yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yl(Object(n),!0).forEach((function(t){wl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _l="motor:queries:vsplit",xl=["current_user","current_user_id","current_user_email"],kl={name:"",sql_body:"",tags:[],preferences:{query_type:"sql",database:Ke.MP.includes("Default")?"Default":"primary",visualization:"table",visualization_options:{},variables:[]}};const Cl={name:"QueriesShow",components:{CodeEditor:La.Z,QueryResult:jr.Z,Settings:rl,VariablesForm:Dr.Z,ApiSelect:ul},data:function(){return{vSplit:0,isLoading:!1,isLoadingQuery:!1,isMarkdownEditor:!1,isHtmlEditor:!1,query:bl({},kl),dataQuery:{sql_body:"",preferences:{}},variablesData:{},isSettingsOpened:!1,errors:[],columns:[],data:[],dataHTML:""}},computed:{databaseNames:function(){return Ke.MP},dbLabelComponent:function(){return fl},queryParamsVariables:function(){return this.$route.query||{}},queryType:function(){return this.dataQuery.preferences.query_type||"sql"},isNewPage:function(){return"new_query"===this.$route.name&&!this.query.id},showApiUi:function(){return"api"===this.queryType||!this.isNewPage&&this.dataQuery.preferences.api_path},queryTypes:function(){return[{label:this.i18n.sql,value:"sql"},{label:this.i18n.api,value:"api"}]},defaultVariablesData:function(){return(this.dataQuery.preferences.variables||[]).reduce((function(e,t){var n;return e[t.name]=null!==(n=t.default_value)&&void 0!==n?n:"",e}),{})},defaultSplit:function(){return.35},cachedQueryName:function(){var e,t=this;return null===(e=W.db.find((function(e){var n;return e.id.toString()===(null===(n=t.$route.params)||void 0===n?void 0:n.id)})))||void 0===e?void 0:e.name},locationHashParams:function(){return JSON.parse(window.atob(location.hash.replace(/^#/,""))||"null")},isEdit:function(){return 0!==this.vSplit||this.isSettingsOpened||this.isEdited},isEdited:function(){return JSON.stringify(this.dataQuery.preferences)!==JSON.stringify(this.query.preferences)||this.dataQuery.sql_body!==this.query.sql_body},isExisting:function(){return this.$route.params.id},canSave:function(){return(this.dataQuery.sql_body||this.dataQuery.preferences.api_path)&&this.isEdit&&this.isCanEdit},canSaveNew:function(){return this.query.id&&this.isEdited&&this.$can("create","Motor::Query")},isCanEdit:function(){return this.query.id?this.$can("edit","Motor::Query",this.query):this.$can("create","Motor::Query")},isVariablesForm:function(){var e;return!(null===(e=this.dataQuery.preferences.variables)||void 0===e||!e.length)},queryDataLocationHashString:function(){return"#"+window.btoa(this.dataQueryString)},queryString:function(){return JSON.stringify({sql_body:this.query.sql_body,preferences:this.query.preferences})},dataQueryString:function(){return JSON.stringify({sql_body:this.dataQuery.sql_body,preferences:this.dataQuery.preferences})}},watch:{$route:function(e,t){var n,i,r=(null===(n=e.params.id)||void 0===n?void 0:n.toString())!==(null===(i=this.query.id)||void 0===i?void 0:i.toString());r||"query"!==e.name&&"new_query"!==e.name||JSON.stringify(e.query||{})===JSON.stringify(t.query||{})||(this.assignVariablesData(),this.loadQueryData()),r&&"query"===e.name&&this.onMounted(),"new_query"===e.name&&(r?(this.dataQuery=bl({},kl),this.query=bl({},kl),this.onMounted()):e.hash!==this.queryDataLocationHashString&&(this.dataQuery=JSON.parse(JSON.stringify(JSON.parse(window.atob(location.hash.replace(/^#/,""))||"null")))||bl({},kl),this.dataQuery.preferences=bl(bl({},kl.preferences),this.dataQuery.preferences)))},"dataQuery.sql_body":(0,H.Z)(function(){var e=vl(ml().mark((function e(t){return ml().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"api"!==this.dataQuery.preferences.query_type&&this.assignVariablesFromSql(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),500),"dataQuery.preferences.visualization":function(e){"markdown"===e&&(this.isMarkdownEditor=!0)},dataQuery:{deep:!0,handler:(0,H.Z)(function(){var e=vl(ml().mark((function e(t){return ml().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.dataQueryString!==this.queryString?location.replace(this.queryDataLocationHashString):location.hash&&(location.hash="");case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),500)}},created:function(){this.assignDataFromLocationHash(),this.onMounted()},methods:{widthLessThan:Ge.aJ,changeQueryType:function(e){this.dataQuery.preferences.query_type=e,this.data=[],this.columns=[]},openRevisionsModal:function(){var e=this;this.$Drawer.open(ll,{auditableName:"query",auditableId:this.query.id,onRevert:function(t){Object.assign(e.dataQuery,{sql_body:t.sql_body,preferences:t.preferences}),e.query.name=t.name,e.$Message.info(e.i18n.revision_has_been_applied),e.openEditor(),e.$Drawer.remove()}},{closable:!0,title:this.i18n.query_revisions})},assignDataFromLocationHash:function(){this.dataQuery=JSON.parse(JSON.stringify(this.locationHashParams))||bl({},kl),this.dataQuery.preferences=bl(bl({},kl.preferences),this.dataQuery.preferences)},assignVariablesData:function(){this.variablesData=bl(bl({},this.defaultVariablesData),this.queryParamsVariables)},toggleSettings:function(){this.isSettingsOpened=!this.isSettingsOpened},onMounted:function(){this.assignVariablesData(),this.vSplit=0,this.$route.params.id?this.loadQuery():(this.query=JSON.parse(JSON.stringify(kl)),this.data=[],this.columns=[],this.openEditor(),(this.dataQuery.sql_body||this.dataQuery.preferences.api_path)&&(this.assignVariablesData(),this.loadQueryData()))},openEditor:function(){this.vSplit=JSON.parse(localStorage.getItem(_l))||.35},loadQuery:function(){var e=this;return this.isLoadingQuery=!0,V.Z.get("queries/".concat(this.$route.params.id),{params:{include:"tags"}}).then((function(t){return e.query=bl(bl({},t.data.data),{},{preferences:bl(bl({},kl.preferences),t.data.data.preferences)}),e.locationHashParams||Object.assign(e.dataQuery,JSON.parse(JSON.stringify({sql_body:e.query.sql_body,preferences:bl(bl({},kl.preferences),e.query.preferences)}))),e.assignVariablesData(),e.loadQueryData()})).catch((function(t){var n,i;null!==(n=t.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message)})).finally((function(){e.isLoadingQuery=!1}))},assignVariablesFromSql:function(e){var t=this;if(e){var n=e.match(/{{[#/^]?\s*(\w+)\s*}}/g);if(n){var i=n.map((function(e){return e.replace(/\W/g,"")})).filter((function(e,t,n){return t===n.indexOf(e)}));this.dataQuery.preferences.variables.forEach((function(e,t,n){var r=i.indexOf(e.name);-1===r?n.splice(t,1):i.splice(r,1)})),i.forEach((function(e){if(!xl.includes(e)&&!e.match(/_database_url$/)){var n={name:e,display_name:(0,Di.MI)(e),variable_type:"text"},i=B.r3[e.replace(/_id$/,"")];i&&Object.assign(n,{display_name:(0,Z.Z)(i.display_name),reference_resource:i.name,variable_type:"reference"}),t.dataQuery.preferences.variables.push(n)}}))}else this.dataQuery.preferences.variables=[]}else this.dataQuery.preferences.variables=[]},save:function(){var e=this;this.$Modal.open(Ra,{query:bl(bl({},this.query),{},{tags:this.query.tags.map((function(e){return e.name})),sql_body:this.dataQuery.sql_body,preferences:this.dataQuery.preferences}),action:this.query.id?"edit":"new",onSuccess:function(t){e.query=t,e.$Modal.remove(),e.$Message.info(e.i18n.query_has_been_saved),e.$router.push({name:"query",params:{id:t.id},query:e.$route.query})}},{title:this.i18n.save_query,closable:!0})},saveSplitPosition:function(){localStorage.setItem(_l,JSON.stringify(this.vSplit))},saveAsNew:function(){var e=this;this.$Modal.open(Ra,{query:{name:this.query.name,description:this.query.description,tags:this.query.tags.map((function(e){return e.name})),preferences:this.dataQuery.preferences,sql_body:this.dataQuery.sql_body},action:"new",onSuccess:function(t){e.query=t,e.$Modal.remove(),e.$Message.info(e.i18n.query_has_been_saved),e.$router.push({name:"query",params:{id:t.id},query:e.$route.query})}},{title:this.i18n.save_query,closable:!0})},maybeUpdateVariablesQueryParams:function(){var e=this,t=this.dataQueryString!==this.queryString?this.queryDataLocationHashString:"";if(Object.keys(this.defaultVariablesData).length){var n=Object.keys(this.defaultVariablesData).reduce((function(t,n){var i,r;return(null!==(i=e.variablesData[n])&&void 0!==i?i:"").toString()!==(null!==(r=e.defaultVariablesData[n])&&void 0!==r?r:"").toString()&&(t[n]=e.variablesData[n]),t}),{});Object.keys(n).length?this.$router.replace({query:bl({},n),hash:t}):Object.keys(this.queryParamsVariables).length&&this.$router.replace({query:null,hash:t})}},loadQueryData:function(){return this.maybeUpdateVariablesQueryParams(),"api"===this.queryType?this.runApiQuery():!this.dataQuery.sql_body||!this.isEdited&&this.query.id?this.$route.params.id?this.runExistingQuery():void 0:this.runQuery()},runExistingQuery:function(){var e=this;if(!this.isLoading)return this.isLoading=!0,V.Z.get("run_queries/".concat(this.$route.params.id),{params:{variables:this.variablesData}}).then((function(t){e.errors=[],e.data=t.data.data,e.columns=t.data.meta.columns})).catch((function(t){var n;e.errors=null===(n=t.response.data)||void 0===n?void 0:n.errors})).finally((function(){e.isLoading=!1}))},runApiQuery:function(){var e=this;if(!this.isLoading)return this.isLoading=!0,(0,Nr.L)(this.dataQuery,this.variablesData).then((function(t){e.errors=[],e.data=t.data||[],e.columns=t.columns||[],e.dataHTML=t.dataHTML||""})).catch((function(t){var n,i;console.error(t),t.response?e.errors=(null===(n=t.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.errors)||[t.message]:e.$Message.error(t.message)})).finally((function(){e.isLoading=!1}))},runQuery:function(){var e=this;if(!this.isLoading)return this.isLoading=!0,V.Z.post("run_queries",{data:this.dataQuery,variables:this.variablesData}).then((function(t){e.errors=[],e.data=t.data.data,e.columns=t.data.meta.columns})).catch((function(t){var n;t.response?e.errors=(null===(n=t.response.data)||void 0===n?void 0:n.errors)||[t.message]:e.$Message.error(t.message)})).finally((function(){e.isLoading=!1}))}}},Sl=(0,D.Z)(Cl,[["render",function(n,i,r,o,s,a){var l=(0,t.up)("VButton"),u=(0,t.up)("Settings"),h=(0,t.up)("VariablesForm"),d=(0,t.up)("CodeEditor"),p=(0,t.up)("ApiSelect"),f=(0,t.up)("VInput"),m=(0,t.up)("Spin"),g=(0,t.up)("QueryResult"),v=(0,t.up)("MSelect"),y=(0,t.up)("Split");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",va,[(0,t._)("div",{class:(0,c.C_)(["d-flex align-items-center",a.isNewPage?"col-4":"col-8"])},[(0,t._)("h1",ya,(0,c.zw)(s.query.name||a.cachedQueryName||(a.isExisting?"":n.i18n.new_query)),1)],2),a.isNewPage?((0,t.wg)(),(0,t.iD)("div",ba,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.queryTypes,(function(e){return(0,t.wg)(),(0,t.j4)(l,{key:e.value,type:a.queryType===e.value?"primary":"dashed",class:(0,c.C_)(["bg-transparent mx-1",a.queryType===e.value?"ivu-tag-color-primary":"text-dark"]),onClick:function(t){return a.changeQueryType(e.value)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.label),1)]})),_:2},1032,["type","class","onClick"])})),128))])):(0,t.kq)("",!0),(0,t._)("div",wa,[s.query.id&&s.query.updated_at!==s.query.created_at&&n.$can("edit","Motor::Query",s.query)?((0,t.wg)(),(0,t.j4)(l,{key:0,size:"large",class:"bg-white me-2 md-icon-only d-none d-sm-block",icon:"md-time",onClick:a.openRevisionsModal},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.revisions),1)]})),_:1},8,["onClick"])):(0,t.kq)("",!0),0!==s.vSplit&&"markdown"===s.dataQuery.preferences.visualization?((0,t.wg)(),(0,t.j4)(l,{key:1,size:"large",class:"me-2 md-icon-only",icon:s.isMarkdownEditor?"md-code-working":"logo-markdown",onClick:i[0]||(i[0]=function(e){return s.isMarkdownEditor=!s.isMarkdownEditor})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.isMarkdownEditor?n.i18n.edit_sql:n.i18n.edit_markdown),1)]})),_:1},8,["icon"])):(0,t.kq)("",!0),0!==s.vSplit&&"html"===s.dataQuery.preferences.visualization?((0,t.wg)(),(0,t.j4)(l,{key:2,size:"large",class:"me-2 md-icon-only",icon:s.isHtmlEditor?"md-code-working":"logo-html5",onClick:i[1]||(i[1]=function(e){return s.isHtmlEditor=!s.isHtmlEditor})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.isHtmlEditor?n.i18n.edit_sql:n.i18n.edit_html),1)]})),_:1},8,["icon"])):(0,t.kq)("",!0),0===s.vSplit&&n.$can("edit","Motor::Query",s.query)&&"sql"===a.queryType?((0,t.wg)(),(0,t.j4)(l,{key:3,size:"large",class:"bg-white me-2 md-icon-only",icon:"md-create",onClick:a.openEditor},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.edit),1)]})),_:1},8,["onClick"])):(0,t.kq)("",!0),!a.canSaveNew||0===s.vSplit&&"api"!==a.queryType?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(l,{key:4,size:"large",class:"bg-white me-2 d-none d-sm-block",onClick:a.saveAsNew},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.save_as_new),1)]})),_:1},8,["onClick"])),a.canSave?((0,t.wg)(),(0,t.j4)(l,{key:5,size:"large",ghost:"",type:"primary",class:"bg-white me-2",onClick:a.save},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.save),1)]})),_:1},8,["onClick"])):(0,t.kq)("",!0),(0,t.Wm)(l,{size:"large",type:"primary",loading:s.isLoading,"data-role":"run",icon:"md-play",onClick:a.loadQueryData},null,8,["loading","onClick"])])]),(0,t._)("div",{style:(0,c.j5)({height:a.isVariablesForm?"calc(var(--vh, 100vh) - 218px)":"calc(var(--vh, 100vh) - 135px)"}),class:"row border-top m-0"},[s.isSettingsOpened?((0,t.wg)(),(0,t.iD)("div",_a,[(0,t.Wm)(u,{preferences:s.dataQuery.preferences,columns:s.columns,"with-variables-editor":"api"===a.queryType,style:{height:"100%"},onClose:a.toggleSettings},null,8,["preferences","columns","with-variables-editor","onClose"])])):(0,t.kq)("",!0),(0,t._)("div",{class:(0,c.C_)(["p-0",{"col-6 col-lg-9 d-none d-md-inline":s.isSettingsOpened,"col-12":!s.isSettingsOpened,"h-100":"api"===a.queryType}])},[a.isVariablesForm?((0,t.wg)(),(0,t.iD)("div",xa,[(0,t.Wm)(h,{data:s.variablesData,"onUpdate:data":i[2]||(i[2]=function(e){return s.variablesData=e}),variables:s.dataQuery.preferences.variables,onSubmit:a.loadQueryData},null,8,["data","variables","onSubmit"])])):(0,t.kq)("",!0),a.showApiUi?((0,t.wg)(),(0,t.iD)("div",ka,[a.isCanEdit&&(s.isMarkdownEditor||s.isHtmlEditor)?((0,t.wg)(),(0,t.iD)("div",Ca,["markdown"===s.dataQuery.preferences.visualization&&s.isMarkdownEditor?((0,t.wg)(),(0,t.j4)(d,{key:0,modelValue:s.dataQuery.preferences.visualization_options.markdown,"onUpdate:modelValue":i[3]||(i[3]=function(e){return s.dataQuery.preferences.visualization_options.markdown=e}),language:"markdown",columns:s.columns,autofocus:!0,placeholder:"## Heading",variables:s.dataQuery.preferences.variables,onRun:a.loadQueryData},null,8,["modelValue","columns","variables","onRun"])):"html"===s.dataQuery.preferences.visualization&&s.isHtmlEditor?((0,t.wg)(),(0,t.j4)(d,{key:1,modelValue:s.dataQuery.preferences.visualization_options.html,"onUpdate:modelValue":i[4]||(i[4]=function(e){return s.dataQuery.preferences.visualization_options.html=e}),language:"liquid",columns:s.columns,autofocus:!0,placeholder:"<div>Liquid HTML template: {{column}}</div>",variables:s.dataQuery.preferences.variables,onRun:a.loadQueryData},null,8,["modelValue","columns","variables","onRun"])):(0,t.kq)("",!0)])):(0,t.kq)("",!0),(0,t._)("div",{class:(0,c.C_)(["p-3 bg-white d-flex",{"border-bottom":!s.data.length&&!s.errors.length}])},[(0,t.Wm)(p,{modelValue:s.dataQuery.preferences.api_config_name,"onUpdate:modelValue":i[5]||(i[5]=function(e){return s.dataQuery.preferences.api_config_name=e}),class:"w-50 pe-1"},null,8,["modelValue"]),(0,t.Wm)(f,{modelValue:s.dataQuery.preferences.api_path,"onUpdate:modelValue":i[6]||(i[6]=function(e){return s.dataQuery.preferences.api_path=e}),class:"w-50 ps-1",placeholder:n.i18n.api_path,onKeyup:(0,e.D2)(a.loadQueryData,["enter"])},null,8,["modelValue","placeholder","onKeyup"]),(0,t.Wm)(l,{icon:"md-settings",class:"ms-2",onClick:a.toggleSettings},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.settings),1)]})),_:1},8,["onClick"])],2),(0,t._)("div",{class:"position-relative",style:(0,c.j5)({height:s.isMarkdownEditor||s.isHtmlEditor?"60%":"100%"})},[s.isLoading||s.isLoadingQuery?((0,t.wg)(),(0,t.j4)(m,{key:0,fix:""})):s.data.length||s.errors.length||s.dataHTML?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Sa,(0,c.zw)(n.i18n.no_data),1)),!s.data.length&&!s.errors.length||s.isLoadingQuery?s.dataHTML?((0,t.wg)(),(0,t.iD)("div",{key:3,class:"h-100 overflow-auto",innerHTML:s.dataHTML},null,8,Aa)):(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(g,{key:2,data:s.data,errors:s.errors,title:s.query.name,columns:s.columns,"query-id":s.query.id,"with-alert":!!s.query.id&&n.$can("create","Motor::Alert")&&"api"!==a.queryType,"with-settings":a.isCanEdit,"with-table-toggle":!0,"show-markdown-table":!a.widthLessThan("md")&&a.isEdit,preferences:s.dataQuery.preferences,onSettings:a.toggleSettings},null,8,["data","errors","title","columns","query-id","with-alert","with-settings","show-markdown-table","preferences","onSettings"]))],4)])):((0,t.wg)(),(0,t.j4)(y,{key:2,modelValue:s.vSplit,"onUpdate:modelValue":[i[11]||(i[11]=function(e){return s.vSplit=e}),a.saveSplitPosition],mode:"vertical",style:(0,c.j5)({height:s.isSettingsOpened&&a.isVariablesForm?"calc(100% - 82px)":"100%"})},{top:(0,t.w5)((function(){return[s.vSplit>0&&a.isCanEdit?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},["markdown"===s.dataQuery.preferences.visualization&&s.isMarkdownEditor?((0,t.wg)(),(0,t.j4)(d,{key:0,modelValue:s.dataQuery.preferences.visualization_options.markdown,"onUpdate:modelValue":i[7]||(i[7]=function(e){return s.dataQuery.preferences.visualization_options.markdown=e}),language:"markdown",autofocus:!0,columns:s.columns,placeholder:"## Heading",variables:s.dataQuery.preferences.variables,onRun:a.loadQueryData},null,8,["modelValue","columns","variables","onRun"])):"html"===s.dataQuery.preferences.visualization&&s.isHtmlEditor?((0,t.wg)(),(0,t.j4)(d,{key:1,modelValue:s.dataQuery.preferences.visualization_options.html,"onUpdate:modelValue":i[8]||(i[8]=function(e){return s.dataQuery.preferences.visualization_options.html=e}),language:"liquid",autofocus:!0,columns:s.columns,placeholder:"<div>Liquid HTML template: {{column}}</div>",variables:s.dataQuery.preferences.variables,onRun:a.loadQueryData},null,8,["modelValue","columns","variables","onRun"])):((0,t.wg)(),(0,t.j4)(d,{key:2,modelValue:s.dataQuery.sql_body,"onUpdate:modelValue":i[9]||(i[9]=function(e){return s.dataQuery.sql_body=e}),language:"pgsql",autofocus:!0,placeholder:"SELECT * FROM ...",variables:s.dataQuery.preferences.variables,onRun:a.loadQueryData},null,8,["modelValue","variables","onRun"])),a.databaseNames.length>1?((0,t.wg)(),(0,t.iD)("div",Ta,[(0,t.Wm)(v,{modelValue:s.dataQuery.preferences.database,"onUpdate:modelValue":[i[10]||(i[10]=function(e){return s.dataQuery.preferences.database=e}),a.loadQueryData],options:a.databaseNames,class:"float-right","with-deselect":!1,style:{float:"right",width:"200px"},"option-component":a.dbLabelComponent,"data-role":"db-selector"},null,8,["modelValue","options","option-component","onUpdate:modelValue"])])):(0,t.kq)("",!0)],64)):(0,t.kq)("",!0)]})),bottom:(0,t.w5)((function(){return[s.isLoading||s.isLoadingQuery?((0,t.wg)(),(0,t.j4)(m,{key:0,fix:""})):s.data.length||s.errors.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Oa,(0,c.zw)(n.i18n.no_data),1)),!s.data.length&&!s.errors.length||s.isLoadingQuery?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(g,{key:2,data:s.data,errors:s.errors,title:s.query.name,columns:s.columns,"query-id":s.query.id,"with-alert":!!s.query.id&&n.$can("create","Motor::Alert"),"with-settings":a.isCanEdit,"with-table-toggle":!0,"show-markdown-table":!a.widthLessThan("md")&&a.isEdit,preferences:s.dataQuery.preferences,onSettings:a.toggleSettings},null,8,["data","errors","title","columns","query-id","with-alert","with-settings","show-markdown-table","preferences","onSettings"]))]})),_:1},8,["modelValue","style","onUpdate:modelValue"]))],2)],4)],64)}]]),Al=Sl;var Tl={class:"row mx-0 mx-md-2 mt-3 mb-2"},Ol={class:"col-2"},Ll={class:"col-10 col-lg-10 text-end d-none d-md-block"},El={class:"row mx-0 mx-md-2"},Dl={class:"d-none d-lg-block col-lg-2"},Pl={class:"col-12 col-lg-8"},Ml={key:1,class:"text-center mt-2"},$l={class:"mb-3"},Rl={key:2,class:"text-center mt-2"},Il={class:"text-center bg-white rounded border mb-2 p-1"},Fl={key:0},jl={class:"fs-4 fw-bold",style:{margin:"25px 0 5px 0"}};function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(n),!0).forEach((function(t){ql(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ql(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vl={name:"TagsNavigation",props:{taggableItems:{type:Array,required:!0},taggableFilteredItems:{type:Array,required:!0},selectedTags:{type:Array,required:!0}},emits:["update:selectedTags"],computed:{tags:function(){var e=this;return Object.values(this.taggableItems.reduce((function(t,n){return n.tags.forEach((function(i){var r;t[r=i.name]||(t[r]=zl(zl({},i),{},{count:0})),e.taggableFilteredItems.includes(n)&&t[i.name].count++})),t}),this.selectedTags.reduce((function(e,t){return e[t]={name:t,count:0},e}),{}))).sort((function(e,t){return e.name>t.name?1:-1}))}},methods:{clearSelectedTags:function(){this.$emit("update:selectedTags",[])},toggleTag:function(e){if(this.selectedTags.includes(e)){var t=this.selectedTags.indexOf(e);this.selectedTags.splice(t,1)}else this.selectedTags.push(e);this.$emit("update:selectedTags",this.selectedTags)}}},Bl=(0,D.Z)(Vl,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("Tag"),l=(0,t.up)("VButton");return s.tags.length?((0,t.wg)(),(0,t.iD)("div",Fl,[(0,t._)("p",jl,(0,c.zw)(e.i18n.tags),1),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.tags,(function(e){return(0,t.wg)(),(0,t.j4)(a,{key:e,type:"dot",size:"large",color:i.selectedTags.includes(e.name)?"primary":"light",onClick:function(t){return s.toggleTag(e.name)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.name)+" ("+(0,c.zw)(e.count)+") ",1)]})),_:2},1032,["color","onClick"])})),128)),i.selectedTags.length?((0,t.wg)(),(0,t.j4)(l,{key:0,type:"text",icon:"md-close",class:"ms-2 mt-2 bg-transparent",size:"small",onClick:s.clearSelectedTags},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.clear_selection),1)]})),_:1},8,["onClick"])):(0,t.kq)("",!0)])):(0,t.kq)("",!0)}],["__scopeId","data-v-97e69fa4"]]),Wl=Bl;var Ul={class:"ivu-card-body"},Hl={class:"fs-4 fw-bold text-dark"},Zl=(0,t._)("div",null,null,-1);const Kl={name:"ReportItem",props:{item:{type:Object,required:!0},itemType:{type:String,required:!0}},emits:["remove"],computed:{itemModelClass:function(){return"Motor::".concat((0,Di.MI)(this.itemType))},iconClass:function(){return{query:"md-list",dashboard:"md-analytics",alert:"md-notifications",form:"md-list-box"}[this.itemType]},apiPath:function(){return"query"===this.itemType?"queries/".concat(this.item.id):"dashboard"===this.itemType?"dashboards/".concat(this.item.id):"alert"===this.itemType?"alerts/".concat(this.item.id):"form"===this.itemType?"forms/".concat(this.item.id):""}},methods:{remove:function(){var e=this;this.$Dialog.confirm({title:this.i18n.selected_item_will_be_removed_are_you_sure,closable:!0,onOk:function(){V.Z.delete(e.apiPath).then((function(t){e.$Message.info("".concat((0,Di.MI)(e.itemType)," ").concat(e.i18n.has_been_removed_succesfully)),e.$emit("remove")})).catch((function(t){console.error(t),e.$Message.error(e.i18n.unable_to_remove_item)}))}})}}},Gl=(0,D.Z)(Kl,[["render",function(n,i,r,o,s,a){var l=(0,t.up)("Icon"),u=(0,t.up)("VButton"),h=(0,t.up)("RouterLink");return(0,t.wg)(),(0,t.j4)(h,{class:"report-item ivu-card ivu-card-bordered mb-2",to:{name:r.itemType,params:{id:r.item.id}}},{default:(0,t.w5)((function(){return[(0,t._)("div",Ul,[(0,t._)("p",Hl,[(0,t.Wm)(l,{type:a.iconClass},null,8,["type"]),(0,t.Uk)(" "+(0,c.zw)(r.item.name||r.item.title)+" ",1),n.$can("destroy",a.itemModelClass,r.item)?((0,t.wg)(),(0,t.j4)(u,{key:0,class:"text-dark float-end pb-2",type:"text",icon:"md-trash",onClick:(0,e.iM)(a.remove,["prevent"])},null,8,["onClick"])):(0,t.kq)("",!0)]),Zl])]})),_:1},8,["to"])}]]);function Yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yl(Object(n),!0).forEach((function(t){Jl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xl={queries:"query",dashboards:"dashboard",alerts:"alert"};function ec(){history.replaceState(Ql(Ql({},history.state),{},{tableScrollTop:this.$refs.table.scrollTop,tableScrollLeft:this.$refs.table.scrollLeft}),document.title,location.href)}const tc={name:"ReportsIndex",components:{Tabs:mr.Z,TagsNav:Wl,ReportItem:Gl},beforeRouteUpdate:ec,beforeRouteLeave:ec,data:function(){return{isLoading:!1,searchQuery:"",selectedTags:[],selectedType:this.$route.params.type||"all",pageParams:{current:1,pageSize:20,pageSizeOpts:[20,50,100]}}},computed:{normalizedQueryParams:function(){var e={};return this.selectedTags.length&&(e.tags=this.selectedTags.join(",")),this.searchQuery&&(e.q=this.searchQuery),this.pageParams.current>1&&(e.page=this.pageParams.current),20!==this.pageParams.pageSize&&(e.per_page=this.pageParams.pageSize),e},tabs:function(){var e=this.normalizedQueryParams;return[{value:"all",label:this.i18n.all,to:{name:"reports",query:e}},this.$can("read","Motor::Query")&&{value:"queries",label:this.i18n.queries,to:{name:"reports",params:{type:"queries"},query:e}},this.$can("read","Motor::Dashboard")&&{value:"dashboards",label:this.i18n.dashboards,to:{name:"reports",params:{type:"dashboards"},query:e}},this.$can("read","Motor::Alert")&&{value:"alerts",label:this.i18n.alerts,to:{name:"reports",params:{type:"alerts"},query:e}}].filter(Boolean)},items:function(){var e=this;return W.ay.filter((function(t){return"all"===e.selectedType||t.type===Xl[e.selectedType]}))},filteredItems:function(){var e=this;return this.items.filter((function(t){return(!e.selectedTags.length||e.selectedTags.every((function(e){return t.tags.some((function(t){return t.name===e}))})))&&(!e.searchQuery||(t.name||t.title).toLowerCase().includes(e.searchQuery.toLowerCase()))}))},paginatedItems:function(){var e=this.pageParams.pageSize;return this.filteredItems.slice((this.pageParams.current-1)*e,this.pageParams.current*e)}},watch:{$route:function(e,t){var n,i,r;this.selectedType=e.params.type||"all",null!==(n=e.query)&&void 0!==n&&n.tags?this.selectedTags=e.query.tags.split(","):this.selectedTags=[],null!==(i=e.query)&&void 0!==i&&i.q&&(this.searchQuery=null===(r=e.query)||void 0===r?void 0:r.q)},selectedType:function(){this.$refs.table.scrollTop=0}},mounted:function(){var e,t,n,i,r,o=this;0===this.items.length&&(this.isLoading=!0),this.loadItems().finally((function(){o.isLoading=!1})),"number"==typeof history.state.tableScrollTop&&this.$nextTick((function(){o.$refs.table.scrollTop=history.state.tableScrollTop,o.$refs.table.scrollLeft=history.state.tableScrollLeft})),null!==(e=this.$route.query)&&void 0!==e&&e.tags&&(this.selectedTags=this.$route.query.tags.split(",")),null!==(t=this.$route.query)&&void 0!==t&&t.q&&(this.searchQuery=null===(r=this.$route.query)||void 0===r?void 0:r.q),null!==(n=this.$route.query)&&void 0!==n&&n.page&&(this.pageParams.current=this.$route.query.page),null!==(i=this.$route.query)&&void 0!==i&&i.per_page&&(this.pageParams.pageSize=this.$route.query.per_page)},methods:{loadItems:W.XD,onTagsChange:function(e){this.selectedTags=e,this.updateQueryParams()},updateQueryParams:function(){this.$router.replace({query:this.normalizedQueryParams})},reloadItems:function(){var e=this;this.isLoading=!0,this.loadItems().finally((function(){e.isLoading=!1}))}}},nc=(0,D.Z)(tc,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VButton"),l=(0,t.up)("TagsNav"),u=(0,t.up)("Tabs"),h=(0,t.up)("VInput"),d=(0,t.up)("Spin"),p=(0,t.up)("ReportItem"),f=(0,t.up)("Pagination");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",Tl,[(0,t._)("div",Ol,[(0,t._)("h1",null,(0,c.zw)(e.i18n.reports),1)]),(0,t._)("div",Ll,[e.$can("create","Motor::Query")?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-add",size:"large",type:"default",class:"me-2",to:{name:"new_query"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_query),1)]})),_:1})):(0,t.kq)("",!0),e.$can("create","Motor::Dashboard")?((0,t.wg)(),(0,t.j4)(a,{key:1,icon:"md-add",size:"large",type:"default",class:"me-2",to:{name:"new_dashboard"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_dashboard),1)]})),_:1})):(0,t.kq)("",!0),e.$can("create","Motor::Alert")?((0,t.wg)(),(0,t.j4)(a,{key:2,icon:"md-add",size:"large",type:"default",to:{name:"new_alert"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_alert),1)]})),_:1})):(0,t.kq)("",!0)])]),(0,t._)("div",El,[(0,t._)("div",Dl,[(0,t.Wm)(l,{"selected-tags":o.selectedTags,"onUpdate:selected-tags":n[0]||(n[0]=function(e){return o.selectedTags=e}),"taggable-items":s.items,"taggable-filtered-items":s.filteredItems,"onUpdate:selectedTags":s.onTagsChange},null,8,["selected-tags","taggable-items","taggable-filtered-items","onUpdate:selectedTags"])]),(0,t._)("div",Pl,[(0,t.Wm)(u,{modelValue:o.selectedType,"onUpdate:modelValue":n[1]||(n[1]=function(e){return o.selectedType=e}),tabs:s.tabs},null,8,["modelValue","tabs"]),(0,t.Wm)(h,{modelValue:o.searchQuery,"onUpdate:modelValue":[n[2]||(n[2]=function(e){return o.searchQuery=e}),n[3]||(n[3]=function(e){return[o.pageParams.current=1,s.updateQueryParams()]})],search:"",placeholder:e.i18n.search,size:"large",class:"mb-2"},null,8,["modelValue","placeholder"]),(0,t._)("div",{ref:"table",style:(0,c.j5)({height:"calc(var(--vh, 100vh) - 274px)",overflowY:"auto",position:"relative"})},[o.isLoading?((0,t.wg)(),(0,t.j4)(d,{key:0,fix:""})):o.searchQuery||o.selectedTags.length||s.paginatedItems.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Ml,[(0,t._)("div",$l,(0,c.zw)(e.i18n.looks_like_you_are_new_here),1),"dashboards"===o.selectedType&&e.$can("create","Motor::Dashboard")?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-add",size:"large",type:"default",class:"me-2",to:{name:"new_dashboard"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_dashboard),1)]})),_:1})):"alerts"===o.selectedType&&e.$can("create","Motor::Alert")?((0,t.wg)(),(0,t.j4)(a,{key:1,icon:"md-add",size:"large",type:"default",to:{name:"new_alert"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_alert),1)]})),_:1})):((0,t.wg)(),(0,t.j4)(a,{key:2,icon:"md-add",size:"large",type:"default",class:"me-2",to:{name:"new_query"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_query),1)]})),_:1}))])),o.searchQuery&&!s.paginatedItems.length?((0,t.wg)(),(0,t.iD)("p",Rl,(0,c.zw)(e.i18n.not_found),1)):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.paginatedItems,(function(e){return(0,t.wg)(),(0,t.iD)("div",{key:e.type+e.id,class:"col-12"},[(0,t.Wm)(p,{item:e,"item-type":e.type,onRemove:s.reloadItems},null,8,["item","item-type","onRemove"])])})),128))],4),(0,t._)("div",Il,[(0,t.Wm)(f,{current:o.pageParams.current,total:s.filteredItems.length,"page-size":o.pageParams.pageSize,"page-size-opts":o.pageParams.pageSizeOpts,size:"small","show-sizer":"","show-elevator":"","show-total":"","onUpdate:current":n[4]||(n[4]=function(e){return[o.pageParams.current=e,s.updateQueryParams()]}),"onUpdate:pageSize":n[5]||(n[5]=function(e){return o.pageParams.pageSize=e})},null,8,["current","total","page-size","page-size-opts"])])])])],64)}]]),ic=nc;var rc={class:"row mx-0 mx-md-2 mt-3 mb-2"},oc={class:"col-2"},sc={class:""},ac={class:"col-10 col-lg-10 text-end"},lc={class:"row mx-0 mx-md-2"},cc={class:"d-none d-lg-block col-lg-2"},uc={class:"col-12 col-lg-8"},hc={key:1,class:"text-center mt-2"},dc={class:"mb-3"},pc={key:2,class:"text-center mt-2"},fc={class:"text-center bg-white rounded border mb-2 p-1"};function mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mc(Object(n),!0).forEach((function(t){vc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yc(){history.replaceState(gc(gc({},history.state),{},{tableScrollTop:this.$refs.table.scrollTop,tableScrollLeft:this.$refs.table.scrollLeft}),document.title,location.href)}const bc={name:"FormsIndex",components:{ReportItem:Gl,TagsNav:Wl},beforeRouteUpdate:yc,beforeRouteLeave:yc,data:function(){return{isLoading:!1,searchQuery:"",selectedTags:[],pageParams:{current:1,pageSize:20,pageSizeOpts:[20,50,100]}}},computed:{items:function(){return U.r},filteredItems:function(){var e=this;return this.items.filter((function(t){return(!e.selectedTags.length||e.selectedTags.every((function(e){return t.tags.some((function(t){return t.name===e}))})))&&(!e.searchQuery||(t.name||t.title).toLowerCase().includes(e.searchQuery.toLowerCase()))}))},paginatedItems:function(){var e=this.pageParams.pageSize;return this.filteredItems.slice((this.pageParams.current-1)*e,this.pageParams.current*e)}},watch:{$route:function(e,t){var n,i,r;null!==(n=e.query)&&void 0!==n&&n.tags?this.selectedTags=e.query.tags.split(","):this.selectedTags=[],null!==(i=e.query)&&void 0!==i&&i.q&&(this.searchQuery=null===(r=e.query)||void 0===r?void 0:r.q)}},mounted:function(){var e,t,n,i,r,o=this;(0,U.j)(),"number"==typeof history.state.tableScrollTop&&this.$nextTick((function(){o.$refs.table.scrollTop=history.state.tableScrollTop,o.$refs.table.scrollLeft=history.state.tableScrollLeft})),null!==(e=this.$route.query)&&void 0!==e&&e.tags&&(this.selectedTags=this.$route.query.tags.split(",")),null!==(t=this.$route.query)&&void 0!==t&&t.q&&(this.searchQuery=null===(r=this.$route.query)||void 0===r?void 0:r.q),null!==(n=this.$route.query)&&void 0!==n&&n.page&&(this.pageParams.current=this.$route.query.page),null!==(i=this.$route.query)&&void 0!==i&&i.per_page&&(this.pageParams.pageSize=this.$route.query.per_page)},methods:{updateQueryParams:function(){var e={};this.selectedTags.length&&(e.tags=this.selectedTags.join(",")),this.searchQuery&&(e.q=this.searchQuery),this.pageParams.current>1&&(e.page=this.pageParams.current),20!==this.pageParams.pageSize&&(e.per_page=this.pageParams.pageSize),this.$router.replace({query:e})},onTagsChange:function(e){this.selectedTags=e,this.updateQueryParams()},reloadItems:function(){var e=this;this.isLoading=!0,(0,U.j)().finally((function(){e.isLoading=!1}))}}},wc=(0,D.Z)(bc,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VButton"),l=(0,t.up)("TagsNav"),u=(0,t.up)("VInput"),h=(0,t.up)("Spin"),d=(0,t.up)("ReportItem"),p=(0,t.up)("Pagination");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",rc,[(0,t._)("div",oc,[(0,t._)("h1",sc,(0,c.zw)(e.i18n.forms),1)]),(0,t._)("div",ac,[e.$can("create","Motor::Form")?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-add",size:"large",type:"default",to:{name:"new_form"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_form),1)]})),_:1})):(0,t.kq)("",!0)])]),(0,t._)("div",lc,[(0,t._)("div",cc,[(0,t.Wm)(l,{"selected-tags":o.selectedTags,"onUpdate:selected-tags":n[0]||(n[0]=function(e){return o.selectedTags=e}),"taggable-items":s.items,"taggable-filtered-items":s.filteredItems,"onUpdate:selectedTags":s.onTagsChange},null,8,["selected-tags","taggable-items","taggable-filtered-items","onUpdate:selectedTags"])]),(0,t._)("div",uc,[(0,t.Wm)(u,{modelValue:o.searchQuery,"onUpdate:modelValue":[n[1]||(n[1]=function(e){return o.searchQuery=e}),n[2]||(n[2]=function(e){return[o.pageParams.current=1,s.updateQueryParams()]})],search:"",placeholder:e.i18n.search,size:"large",class:"mb-2"},null,8,["modelValue","placeholder"]),(0,t._)("div",{ref:"table",style:(0,c.j5)({height:"calc(var(--vh, 100vh) - 219px)",overflowY:"auto",position:"relative"})},[o.isLoading?((0,t.wg)(),(0,t.j4)(h,{key:0,fix:""})):o.searchQuery||o.selectedTags.length||s.paginatedItems.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",hc,[(0,t._)("div",dc,(0,c.zw)(e.i18n.looks_like_you_are_new_here),1),e.$can("create","Motor::Form")?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-add",size:"large",type:"default",to:{name:"new_form"}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_form),1)]})),_:1})):(0,t.kq)("",!0)])),o.searchQuery&&!s.paginatedItems.length?((0,t.wg)(),(0,t.iD)("p",pc,(0,c.zw)(e.i18n.not_found),1)):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.paginatedItems,(function(e){return(0,t.wg)(),(0,t.iD)("div",{key:e.id,class:"col-12"},[(0,t.Wm)(d,{item:e,"item-type":"form",onRemove:s.reloadItems},null,8,["item","onRemove"])])})),128))],4),(0,t._)("div",fc,[(0,t.Wm)(p,{current:o.pageParams.current,total:s.filteredItems.length,"page-size":o.pageParams.pageSize,"page-size-opts":o.pageParams.pageSizeOpts,size:"small","show-sizer":"","show-elevator":"","show-total":"","onUpdate:current":n[3]||(n[3]=function(e){return[o.pageParams.current=e,s.updateQueryParams()]}),"onUpdate:pageSize":n[4]||(n[4]=function(e){return o.pageParams.pageSize=e})},null,8,["current","total","page-size","page-size-opts"])])])])],64)}],["__scopeId","data-v-e01140b8"]]),_c=wc;var xc={class:"position-relative overflow-auto",style:{height:"calc(var(--vh, 100vh) - 60px)"}},kc={class:"m-auto",style:{width:"800px"}},Cc={key:1,class:"text-center mt-4"},Sc={class:"d-flex"},Ac={style:{width:"calc(100% - 100px)"}},Tc={class:"fs-5 fw-bold"},Oc=["innerHTML"],Lc={style:{width:"100px"},class:"d-flex align-items-center"};const Ec={name:"Notification",props:{notification:{type:Object,required:!0}},computed:{sanitizedHtml:function(){return Qo().sanitize((0,Jo.TU)(this.notification.description.replace(/\n+/g,"\n\n")))},note:function(){return"Motor::Reminder"===this.notification.record_type?this.notification.record.record:this.notification.record},recordModel:function(){return B.OU[this.note.record_type]}},methods:{resolve:function(){var e=this;V.Z.put("notifications/".concat(this.notification.id),{data:{status:"resolved"}}).then((function(t){e.notification.status=t.data.data.status})).catch((function(e){console.error(e)}))}}},Dc={name:"NotificationsIndex",components:{Notification:(0,D.Z)(Ec,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VButton"),l=(0,t.up)("Card");return(0,t.wg)(),(0,t.j4)(l,{class:"m-3",style:(0,c.j5)({opacity:"resolved"===i.notification.status?.6:1})},{default:(0,t.w5)((function(){return[(0,t._)("div",Sc,[(0,t._)("div",Ac,[(0,t._)("p",Tc,(0,c.zw)(i.notification.title),1),(0,t._)("div",{innerHTML:s.sanitizedHtml},null,8,Oc)]),(0,t._)("div",Lc,[(0,t.Wm)(a,{to:{name:"resources",params:{fragments:[s.recordModel.slug,s.note.record_id]},query:{tab:"notes"}},icon:"ios-redo",class:"fw-bold me-2",style:{"border-radius":"100%"},size:"large",type:"primary",ghost:""},null,8,["to"]),"pending"===i.notification.status?((0,t.wg)(),(0,t.j4)(a,{key:0,icon:"md-checkmark",class:"fw-bold",style:{"border-radius":"100%"},size:"large",type:"success",ghost:"",onClick:s.resolve},null,8,["onClick"])):((0,t.wg)(),(0,t.j4)(a,{key:1,disabled:!0,icon:"md-checkmark",style:{"border-radius":"100%"},class:"fw-bold",size:"large",type:"success"}))])])]})),_:1},8,["style"])}]])},data:function(){return{notifications:[],isLoading:!1}},computed:{},mounted:function(){this.loadNotifications(),it.on("notify",this.loadNotifications)},beforeUnmount:function(){it.off("notify",{handler:this.loadNotifications})},methods:{loadNotifications:function(){var e=this;this.isLoading=!0,V.Z.get("notifications",{params:{page:{limit:1e3},filter:{status:"pending"},include:"record,record.author,record.record"}}).then((function(t){e.notifications=t.data.data})).catch((function(e){console.error(e)})).finally((function(){e.isLoading=!1}))}}},Pc=(0,D.Z)(Dc,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("Spin"),l=(0,t.up)("Notification");return(0,t.wg)(),(0,t.iD)("div",xc,[(0,t._)("div",kc,[o.isLoading?((0,t.wg)(),(0,t.j4)(a,{key:0,fix:""})):(0,t.kq)("",!0),o.isLoading||o.notifications.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Cc,(0,c.zw)(e.i18n.nothing_to_show_here_yet),1)),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.notifications,(function(e){return(0,t.wg)(),(0,t.j4)(l,{key:e.id,notification:e},null,8,["notification"])})),128))])])}]]);var Mc={class:"row mx-0 mx-md-2",style:{"min-height":"74px"}},$c={class:"col-8"},Rc={class:"row"},Ic={class:"col d-flex align-items-center"},Fc={class:"my-3 overflow-hidden text-truncate"},jc={class:"col-4 d-flex align-items-center justify-content-end"},Nc={class:"row border-top m-0"},zc={key:1,class:"text-center mt-3"},qc={key:0,class:"col-12 col-md-6 col-lg-3 border-left bg-white p-0",style:{height:"100%",overflowY:"auto"}},Vc={class:"bg-white p-2","data-role":"editor",style:{height:"calc(var(--vh, 100vh) - 135px)"}},Bc={key:0,class:"sticky-footer d-flex"};const Wc={name:"FormEditor",components:{ItemsList:n(9422).default},props:{fields:{type:Array,required:!0}},data:function(){return{showFooter:!0}},mounted:function(){var e=this;(0,t.YP)((function(){return!e.$refs.itemsList.newField&&!e.$refs.itemsList.newGroup&&!e.$refs.itemsList.newTextItem}),(function(t){e.showFooter=t}))},methods:{toggleNewTextItem:function(){this.$refs.itemsList.toggleNewTextItem()},toggleNewField:function(){this.$refs.itemsList.toggleNewField()},toggleNewGroup:function(){this.$refs.itemsList.toggleNewGroup()}}},Uc=(0,D.Z)(Wc,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("ItemsList"),l=(0,t.up)("VButton"),u=(0,t.up)("DropdownItem"),h=(0,t.up)("DropdownMenu"),d=(0,t.up)("Dropdown");return(0,t.wg)(),(0,t.iD)("div",Vc,[(0,t._)("div",null,[(0,t.Wm)(a,{ref:"itemsList",items:i.fields,"with-buttons":!1},null,8,["items"])]),o.showFooter?((0,t.wg)(),(0,t.iD)("div",Bc,[(0,t.Wm)(l,{long:"",type:"default",icon:"md-add",class:"me-1",onClick:s.toggleNewField},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_field),1)]})),_:1},8,["onClick"]),(0,t.Wm)(l,{long:"",type:"default",icon:"md-add",class:"ms-1",onClick:s.toggleNewGroup},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_group),1)]})),_:1},8,["onClick"]),(0,t.Wm)(d,{trigger:"click",class:"ms-1 text-start"},{list:(0,t.w5)((function(){return[(0,t.Wm)(h,null,{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{onClick:s.toggleNewTextItem},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add_text),1)]})),_:1},8,["onClick"])]})),_:1})]})),default:(0,t.w5)((function(){return[(0,t.Wm)(l,{long:"",type:"default",icon:"md-more"})]})),_:1})])):(0,t.kq)("",!0)])}]]);var Hc={class:"d-flex"},Zc={class:"mb-4"},Kc={key:0,class:"row"},Gc={class:"row"},Yc={class:"row"},Qc={class:"col fs-3 fw-bold"},Jc={class:"col"},Xc={class:"w-100 d-inline-block"};function eu(e){return function(e){if(Array.isArray(e))return tu(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return tu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const nu={name:"ListInput",props:{modelValue:{type:Array,required:!1,default:function(){return[]}}},emits:["update:modelValue"],data:function(){return{value:eu(this.modelValue||[])}},mounted:function(){this.value.length||this.addNew()},methods:{emitUpdate:function(e){this.$emit("update:modelValue",eu(this.value))},removeItem:function(e){this.value.splice(e,1),this.emitUpdate(),this.value.length||this.addNew()},addNew:function(){this.value.push({key:"",value:""})}}},iu=(0,D.Z)(nu,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VInput"),l=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)("div",Xc,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.value,(function(e,n){return(0,t.wg)(),(0,t.iD)("div",{key:n,class:"my-2 d-flex"},[(0,t.Wm)(a,{modelValue:e.key,"onUpdate:modelValue":[function(t){return e.key=t},s.emitUpdate],class:"w-50 me-1",placeholder:"Key"},null,8,["modelValue","onUpdate:modelValue"]),(0,t.Wm)(a,{modelValue:e.value,"onUpdate:modelValue":[function(t){return e.value=t},s.emitUpdate],class:"w-50 mx-1",placeholder:"Value"},null,8,["modelValue","onUpdate:modelValue"]),(0,t.Wm)(l,{icon:"md-trash",class:"ms-1",onClick:function(e){return s.removeItem(n)}},null,8,["onClick"])])})),128)),(0,t.Wm)(l,{long:"",icon:"md-add",onClick:s.addNew},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.add),1)]})),_:1},8,["onClick"])])}]]);function ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ru(Object(n),!0).forEach((function(t){su(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function su(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const au={name:"ApiForm",components:{KeyValueInput:iu},props:{config:{type:Object,required:!1,default:function(){return{credentials:{},preferences:{}}}},withName:{type:Boolean,required:!1,default:!1},submitText:{type:String,required:!1,default:"Submit"}},emits:["success","error","submit"],data:function(){return{isLoading:!1,dataConfig:{}}},computed:{rules:function(){return{name:[{required:!0}],url:[{required:!0}]}}},watch:{configs:function(){this.dataConfig=ou({},this.config)}},created:function(){this.dataConfig=ou({},this.config)},methods:{handleSubmit:function(e){var t=this;this.$refs.form.validate((function(e){e&&t.$emit("submit",t.dataConfig)}))}}},lu=(0,D.Z)(au,[["render",function(n,i,r,o,s,a){var l=(0,t.up)("VInput"),u=(0,t.up)("FormItem"),h=(0,t.up)("KeyValueInput"),d=(0,t.up)("VButton"),p=(0,t.up)("Spin"),f=(0,t.up)("VForm");return(0,t.wg)(),(0,t.j4)(f,{ref:"form",model:s.dataConfig,rules:a.rules,onSubmit:(0,e.iM)(a.handleSubmit,["prevent"])},{default:(0,t.w5)((function(){return[r.withName?((0,t.wg)(),(0,t.j4)(u,{key:0,prop:"name",label:"Name",class:"col-12"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{modelValue:s.dataConfig.name,"onUpdate:modelValue":i[0]||(i[0]=function(e){return s.dataConfig.name=e}),type:"text",placeholder:"API name"},null,8,["modelValue"])]})),_:1})):(0,t.kq)("",!0),(0,t.Wm)(u,{prop:"url",label:"URL",class:"col-12"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{modelValue:s.dataConfig.url,"onUpdate:modelValue":i[1]||(i[1]=function(e){return s.dataConfig.url=e}),type:"text",placeholder:"URL"},null,8,["modelValue"])]})),_:1}),(0,t.Wm)(u,{prop:"description",label:"Description",class:"col-12"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{modelValue:s.dataConfig.description,"onUpdate:modelValue":i[2]||(i[2]=function(e){return s.dataConfig.description=e}),type:"textarea",autosize:{minRows:3,maxRows:6},placeholder:"API Description"},null,8,["modelValue"])]})),_:1}),(0,t.Wm)(u,{prop:"credentials.headers",label:"Headers",class:"col-12"},{default:(0,t.w5)((function(){return[(0,t.Wm)(h,{modelValue:s.dataConfig.credentials.headers,"onUpdate:modelValue":i[3]||(i[3]=function(e){return s.dataConfig.credentials.headers=e})},null,8,["modelValue"])]})),_:1}),(0,t.Wm)(d,{type:"primary",class:"mt-1",size:"large",long:"",onClick:a.handleSubmit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(r.submitText),1)]})),_:1},8,["onClick"]),s.isLoading?((0,t.wg)(),(0,t.j4)(p,{key:1,fix:""})):(0,t.kq)("",!0)]})),_:1},8,["model","rules","onSubmit"])}]]);function cu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cu(Object(n),!0).forEach((function(t){hu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const du={name:"ApiSettingsPage",components:{ApiForm:lu},data:function(){return{isLoaded:!1,configs:[]}},mounted:function(){var e=this;this.loadConfigs().then((function(){e.isLoaded=!0}))},methods:{loadConfigs:function(){var e=this;return V.Z.get("api_configs",{}).then((function(t){e.configs=t.data.data})).catch((function(e){console.error(e)}))},openAddApiModal:function(){var e=this;this.$Modal.open(lu,{withName:!0,onSubmit:function(t){e.handleUpdate(t).then((function(){e.$Modal.remove()}))}},{title:this.i18n.add_api,closable:!0})},remove:function(e){var t=this;this.$Dialog.confirm({title:"Are you sure?",closable:!0,onOk:function(){V.Z.delete("api_configs/".concat(e.id),{}).then((function(n){t.$Message.info("API has been removed"),t.configs.splice(t.configs.findIndex((function(t){return t.id===e.id})),1)})).catch((function(e){console.error(e)}))}})},handleUpdate:function(e){var t=this;return V.Z.post("api_configs",{data:uu({},e)}).then((function(n){t.$Message.info("API has been updated successfuly"),t.configs.splice(t.configs.findIndex((function(t){return t.id===e.id})),1,e),t.loadConfigs()})).catch((function(e){var n,i;null!==(n=e.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?t.$Message.error(e.response.data.errors.join("\n")):console.error(e)}))}}},pu=(0,D.Z)(du,[["render",function(n,i,r,o,s,a){var l=(0,t.up)("ApiForm"),u=(0,t.up)("Card"),h=(0,t.up)("VButton"),d=(0,t.up)("VInput"),p=(0,t.up)("VForm"),f=(0,t.up)("Icon"),m=(0,t.up)("Spin");return(0,t.wg)(),(0,t.iD)(t.HY,null,[s.configs.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(u,{key:0,class:"mb-3"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{"submit-text":"Update","with-name":!0,onSubmit:a.handleUpdate},null,8,["onSubmit"])]})),_:1})),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.configs,(function(i,r){return(0,t.wg)(),(0,t.j4)(u,{key:r,class:"mb-3"},{default:(0,t.w5)((function(){return[(0,t._)("div",null,[(0,t._)("div",Yc,[(0,t._)("div",Qc,(0,c.zw)(i.name),1),(0,t._)("div",Jc,["origin"!==i.name?((0,t.wg)(),(0,t.j4)(h,{key:0,type:"error",class:"float-end",ghost:"",icon:"md-trash",onClick:function(e){return a.remove(i)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.remove),1)]})),_:2},1032,["onClick"])):(0,t.kq)("",!0)])])]),i.showFullForm||"origin"===i.name?"origin"!==i.name?((0,t.wg)(),(0,t.j4)(l,{key:1,config:i,"submit-text":"Update",onSubmit:a.handleUpdate},null,8,["config","onSubmit"])):(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(p,{key:0,class:"mt-3",model:i,onSubmit:(0,e.iM)((function(e){return a.handleUpdate(i)}),["prevent"])},{default:(0,t.w5)((function(){return[(0,t.Wm)(d,{modelValue:i.url,"onUpdate:modelValue":function(e){return i.url=e},type:"text",placeholder:"URL"},null,8,["modelValue","onUpdate:modelValue"]),(0,t.Wm)(h,{icon:"ios-arrow-down",type:"text",long:"",onClick:function(e){return i.showFullForm=!0}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.expand),1)]})),_:2},1032,["onClick"])]})),_:2},1032,["model","onSubmit"]))]})),_:2},1024)})),128)),(0,t.Wm)(h,{long:"",type:"dashed",class:"mb-3",onClick:a.openAddApiModal},{default:(0,t.w5)((function(){return[(0,t.Wm)(f,{type:"md-add"}),(0,t.Uk)(" "+(0,c.zw)(n.i18n.add_api),1)]})),_:1},8,["onClick"]),s.isLoaded?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(m,{key:1,fix:""}))],64)}]]),fu=pu;function mu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const gu={name:"SaveCustomForm",components:{TagsSelect:Da,ApiSelect:ul,CodeEditor:La.Z},props:{form:{type:Object,required:!0}},emits:["success"],data:function(){return{loadDefault:!1,dataForm:{preferences:{request_type:"rest"}}}},computed:{formTypes:function(){return[{value:"rest",label:"REST"},{value:"graphql",label:"GraphQL"}]},graphqlColumns:function(){return[{name:"$form_data"}].concat(function(e){if(Array.isArray(e))return mu(e)}(e=this.dataForm.preferences.fields.map((function(e){return{name:"$".concat(e.name)}})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return mu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mu(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var e},rules:function(){return{name:[{required:!0,message:(0,De.w)("name")}],api_path:[{required:!0,message:(0,De.w)("path")}],api_config_name:[{required:!0,message:(0,De.w)("api")}],http_method:[{required:!0,message:(0,De.w)("method")}]}},apiRequest:function(){var e={data:this.dataForm,include:"tags"};return this.loadDefault||delete this.dataForm.preferences.default_values_api_path,this.form.id?V.Z.put("forms/".concat(this.dataForm.id),e):V.Z.post("forms",e)}},created:function(){var e;this.dataForm=JSON.parse(JSON.stringify(this.form)),(e=this.dataForm.preferences).request_type||(e.request_type="rest"),this.loadDefault=!!this.dataForm.preferences.default_values_api_path||!!this.dataForm.preferences.graphql_query},methods:{changeFormType:function(e){this.dataForm.preferences.request_type=e},openApiSettings:function(){this.$Modal.remove(),this.$Drawer.open(fu,{},{title:"API Settings",closable:!0})},submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.apiRequest.then((function(t){e.$emit("success",t.data.data)})).catch((function(t){var n,i;null!==(n=t.response.data)&&void 0!==n&&null!==(i=n.errors)&&void 0!==i&&i.length&&e.$refs.form.setErrors(t.response.data.errors)}))}))}}},vu=(0,D.Z)(gu,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VInput"),l=(0,t.up)("FormItem"),u=(0,t.up)("ApiSelect"),h=(0,t.up)("VButton"),d=(0,t.up)("Radio"),p=(0,t.up)("RadioGroup"),f=(0,t.up)("MSelect"),m=(0,t.up)("CodeEditor"),g=(0,t.up)("Checkbox"),v=(0,t.up)("TagsSelect"),y=(0,t.up)("VForm");return(0,t.wg)(),(0,t.j4)(y,{ref:"form",model:o.dataForm,rules:s.rules,"label-position":"top"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{label:e.i18n.name,prop:"name"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataForm.name,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.dataForm.name=e}),size:"large",autofocus:!0,placeholder:e.i18n.form_name},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.api,prop:"api_config_name"},{default:(0,t.w5)((function(){return[(0,t._)("div",Hc,[(0,t.Wm)(u,{modelValue:o.dataForm.api_config_name,"onUpdate:modelValue":n[1]||(n[1]=function(e){return o.dataForm.api_config_name=e})},null,8,["modelValue"]),(0,t.Wm)(h,{icon:"md-settings",class:"ms-2",onClick:s.openApiSettings},null,8,["onClick"])])]})),_:1},8,["label"]),(0,t._)("div",Zc,[(0,t.Wm)(p,{modelValue:o.dataForm.preferences.request_type,"onUpdate:modelValue":n[2]||(n[2]=function(e){return o.dataForm.preferences.request_type=e}),class:"d-flex"},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.formTypes,(function(e,n){return(0,t.wg)(),(0,t.j4)(d,{key:e.value,label:e.value,border:"",size:"large",style:(0,c.j5)(0!==n?"margin-left: 15px !important":""),class:"my-1 me-0 w-100","onUpdate:modelValue":s.changeFormType},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.label),1)]})),_:2},1032,["label","style","onUpdate:modelValue"])})),128))]})),_:1},8,["modelValue"])]),o.dataForm.preferences.request_type&&"rest"!==o.dataForm.preferences.request_type?"graphql"===o.dataForm.preferences.request_type?((0,t.wg)(),(0,t.j4)(m,{key:1,modelValue:o.dataForm.preferences.graphql_mutation,"onUpdate:modelValue":n[5]||(n[5]=function(e){return o.dataForm.preferences.graphql_mutation=e}),language:"graphqlschema",autofocus:!0,columns:s.graphqlColumns,class:"mb-2",style:{height:"200px"},placeholder:"mutation { }"},null,8,["modelValue","columns"])):(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",Kc,[(0,t.Wm)(l,{label:e.i18n.method,prop:"http_method",class:"col-3 pe-0"},{default:(0,t.w5)((function(){return[(0,t.Wm)(f,{modelValue:o.dataForm.http_method,"onUpdate:modelValue":n[3]||(n[3]=function(e){return o.dataForm.http_method=e}),"with-deselect":!1,options:["POST","PUT"]},null,8,["modelValue"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.path,prop:"api_path",class:"col-9"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataForm.api_path,"onUpdate:modelValue":n[4]||(n[4]=function(e){return o.dataForm.api_path=e}),placeholder:"/api/path/{id}..."},null,8,["modelValue","placeholder"])]})),_:1},8,["label"])])),(0,t._)("div",Gc,[(0,t.Wm)(l,{label:e.i18n.load_initial_data,class:"col-3 pe-0"},{default:(0,t.w5)((function(){return[(0,t.Wm)(g,{modelValue:o.loadDefault,"onUpdate:modelValue":n[6]||(n[6]=function(e){return o.loadDefault=e})},null,8,["modelValue"])]})),_:1},8,["label"]),!o.loadDefault||o.dataForm.preferences.request_type&&"rest"!==o.dataForm.preferences.request_type?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(l,{key:0,label:e.i18n.api_path,prop:"default_values_api_path",class:"col-9"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataForm.preferences.default_values_api_path,"onUpdate:modelValue":n[7]||(n[7]=function(e){return o.dataForm.preferences.default_values_api_path=e}),placeholder:"/api/path/{id}..."},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]))]),o.loadDefault&&"graphql"===o.dataForm.preferences.request_type?((0,t.wg)(),(0,t.j4)(m,{key:2,modelValue:o.dataForm.preferences.graphql_query,"onUpdate:modelValue":n[8]||(n[8]=function(e){return o.dataForm.preferences.graphql_query=e}),language:"graphqlschema",columns:s.graphqlColumns,class:"mb-2",style:{height:"200px"},placeholder:"query { }"},null,8,["modelValue","columns"])):(0,t.kq)("",!0),(0,t.Wm)(l,{label:e.i18n.description,prop:"description"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataForm.description,"onUpdate:modelValue":n[9]||(n[9]=function(e){return o.dataForm.description=e}),type:"textarea",placeholder:e.i18n.describe_your_form_optional,autosize:{minRows:3,maxRows:7}},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.tags,prop:"tags"},{default:(0,t.w5)((function(){return[(0,t.Wm)(v,{modelValue:o.dataForm.tags,"onUpdate:modelValue":n[10]||(n[10]=function(e){return o.dataForm.tags=e}),placeholder:e.i18n.select_form_tags},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(h,{size:"large",class:"mt-3",long:"",type:"primary",onClick:s.submit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.save),1)]})),_:1},8,["onClick"])]})),_:1},8,["model","rules"])}]]),yu=vu;var bu={key:0,class:"d-flex align-items-center justify-content-center flex-column"};const wu={name:"UnsavedChanges",props:{modelValue:{type:Object,required:!0},storageKey:{type:String,required:!0}},emits:["update:modelValue"],data:function(){return{isUnsavedResolved:!1,defaultValue:JSON.parse(JSON.stringify(this.modelValue))}},computed:{isUnsavedChanges:function(){return!!this.storageString},isValueChanged:function(){return JSON.stringify(this.defaultValue)!==JSON.stringify(this.modelValue)},storageString:function(){return localStorage.getItem(this.storageKey)},storageObject:function(){return JSON.parse(this.storageString)},storageValue:function(){return this.storageObject.value},storageTimestamp:function(){return this.storageObject.timestamp}},watch:{modelValue:{deep:!0,handler:(0,H.Z)((function(){this.handleModelValueChange()}),2e3)}},methods:{formatDate:Ri.p,handleModelValueChange:function(){this.isValueChanged?this.saveInLocalStorage():this.clearStorage()},clearStorage:function(){localStorage.removeItem(this.storageKey),this.isUnsavedResolved=!0},resetWithDefaultValue:function(e){this.defaultValue=JSON.parse(JSON.stringify(e)),this.clearStorage()},restoreFromStorage:function(){this.$emit("update:modelValue",this.storageValue),this.isUnsavedResolved=!0},saveInLocalStorage:function(){localStorage.setItem(this.storageKey,JSON.stringify({timestamp:new Date,value:this.modelValue}))}}},_u=(0,D.Z)(wu,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VButton");return s.isUnsavedChanges&&!o.isUnsavedResolved?((0,t.wg)(),(0,t.iD)("div",bu,[(0,t._)("div",null,(0,c.zw)(e.i18n.there_are_unsaved_changes_from.replace("%{timestamp}",s.formatDate(s.storageTimestamp,null,!0))),1),(0,t._)("div",null,[(0,t.Wm)(a,{type:"text",icon:"md-close",class:"bg-transparent",onClick:s.clearStorage},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.clear),1)]})),_:1},8,["onClick"]),(0,t.Wm)(a,{type:"text",icon:"md-refresh",class:"bg-transparent",onClick:s.restoreFromStorage},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.restore),1)]})),_:1},8,["onClick"])])])):(0,t.kq)("",!0)}]]);function xu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ku(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(n),!0).forEach((function(t){Cu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Su={string:"input",integer:"number",float:"number",boolean:"checkbox",image:"file",tag:"input",currency:"number",percentage:"number",change:"number",chart:"number",link:"input"},Au={tags:[],http_method:"POST",api_path:"",preferences:{fields:[]}};const Tu={name:"FromShow",components:{Editor:Uc,CustomFormWrapper:Ci.default,UnsavedChanges:_u},data:function(){return{isLoading:!1,isFormDataLoaded:!1,isEditorOpened:!1,form:JSON.parse(JSON.stringify(Au))}},computed:{isExisting:function(){return this.$route.params.id},resourceName:function(){var e;return null===(e=this.$route.query)||void 0===e?void 0:e.resource},resourceAction:function(){var e;return null===(e=this.$route.query)||void 0===e?void 0:e.action},resourceModel:function(){return B.r3[this.resourceName]},resourceDefaultFieldParams:function(){return this.resourceModel.columns.map((function(e){if(["read_write","write_only"].includes(e.access_type)){var t={name:e.name,display_name:e.display_name,default_value:e.default_value,field_type:Su[e.column_type]||e.column_type,is_array:e.is_array,validators:e.validators.filter((function(e){return e.required}))};return e.reference&&(t.reference={model_name:e.reference.model_name}),t}return null})).filter(Boolean)},resourceDefaultFormParams:function(){var e=["create","update"].includes(this.resourceAction)?this.resourceDefaultFieldParams:[];return this.resourceAction&&"create"!==this.resourceAction&&e.unshift({name:"id",display_name:(0,Z.Z)(this.resourceModel.display_name),default_value:"",field_type:"reference",reference:{model_name:this.resourceModel.name},validators:[{required:!0}]}),ku(ku({},Au),{},{name:"".concat(this.i18n[this.resourceAction]||this.resourceAction," ").concat((0,Z.Z)(this.resourceModel.display_name)),preferences:{fields:e}})},canEdit:function(){return this.isExisting?this.$can("update","Motor::Form",this.form):this.$can("create","Motor::Form")},cachedFormName:function(){var e,t=this;return null===(e=U.r.find((function(e){var n;return e.id.toString()===(null===(n=t.$route.params)||void 0===n?void 0:n.id)})))||void 0===e?void 0:e.name}},watch:{$route:function(e,t){var n;["form","new_form"].includes(e.name)&&e.params.id!==(null===(n=this.form.id)||void 0===n?void 0:n.toString())&&this.onMounted()}},created:function(){this.onMounted()},methods:{onMounted:function(){this.$route.params.id?this.loadForm():(this.isEditorOpened=!0,this.resourceModel?this.form=JSON.parse(JSON.stringify(this.resourceDefaultFormParams)):this.form=JSON.parse(JSON.stringify(Au)))},toggleEditor:function(){this.isEditorOpened=!this.isEditorOpened},loadForm:function(){var e=this;return this.isLoading=!0,V.Z.get("forms/".concat(this.$route.params.id),{params:{include:"tags"}}).then((function(t){e.form=t.data.data})).catch((function(t){var n,i;null!==(n=t.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message)})).finally((function(){e.isLoading=!1}))},submit:function(){this.$refs.customFormWrapper.submit()},onSuccess:function(e){var t=this;if(this.$refs.unsavedChanges.resetWithDefaultValue(e),this.form=e,this.$Modal.remove(),this.$Message.info(this.i18n.form_has_been_saved),this.resourceModel&&this.resourceAction){var n=this.resourceModel.actions.find((function(e){return e.name===(0,Di.It)(t.resourceAction)}))||{name:(0,Di.It)(this.resourceAction),display_name:this.resourceAction};this.updateResourceAction(ku(ku({},n),{},{action_type:"form",preferences:{form_id:this.form.id}}),this.resourceName)}(0,U.j)(),this.$router.push({name:"form",params:{id:e.id}}),this.isEditorOpened=!1},updateResourceAction:function(e,t){return V.Z.post("resources",{data:{name:this.resourceModel.name,preferences:{actions:[e]}}}).then((function(n){var i=B.r3[t].actions,r=i.find((function(t){return t.name===e.name}));r?Object.assign(r,e):i.push(e)})).catch((function(e){console.error(e)}))},saveAsNew:function(){var e=this;this.$Modal.open(yu,{form:ku(ku({},this.form),{},{id:null,tags:this.form.tags.map((function(e){return e.name}))}),action:"new",onSuccess:function(t){e.onSuccess(t)}},{title:this.i18n.save_form,closable:!0})},save:function(){var e=this;this.$Modal.open(yu,{form:ku(ku({},this.form),{},{tags:this.form.tags.map((function(e){return e.name}))}),onSuccess:function(t){e.onSuccess(t)}},{title:this.i18n.save_form,closable:!0})},toggleNewField:function(){this.$refs.editor.toggleNewField()}}},Ou=(0,D.Z)(Tu,[["render",function(n,i,r,o,s,a){var l,u=(0,t.up)("UnsavedChanges"),h=(0,t.up)("VButton"),d=(0,t.up)("Spin"),p=(0,t.up)("CustomFormWrapper"),f=(0,t.up)("Card"),m=(0,t.up)("Editor");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",Mc,[(0,t._)("div",$c,[(0,t._)("div",Rc,[(0,t._)("div",Ic,[(0,t._)("h1",Fc,(0,c.zw)(s.form.name||a.cachedFormName||(a.isExisting?"":n.i18n.new_form)),1)]),((0,t.wg)(),(0,t.j4)(u,{ref:"unsavedChanges",key:s.form.id||"new",modelValue:s.form,"onUpdate:modelValue":i[0]||(i[0]=function(e){return s.form=e}),"storage-key":"form:".concat(n.$route.params.id||"new"),class:"col d-none d-xl-flex"},null,8,["modelValue","storage-key"]))])]),(0,t._)("div",jc,[a.canEdit?((0,t.wg)(),(0,t.j4)(h,{key:0,size:"large",class:"bg-white md-icon-only",icon:s.isEditorOpened?"md-close":"md-create",onClick:a.toggleEditor},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.isEditorOpened?n.i18n.close_editor:n.i18n.edit),1)]})),_:1},8,["icon","onClick"])):(0,t.kq)("",!0),s.form.id&&n.$can("create","Motor::Form")?((0,t.wg)(),(0,t.j4)(h,{key:1,size:"large",class:"bg-white ms-2 d-none d-sm-block",onClick:a.saveAsNew},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.save_as_new),1)]})),_:1},8,["onClick"])):(0,t.kq)("",!0),s.form.preferences.fields.length&&a.canEdit?((0,t.wg)(),(0,t.j4)(h,{key:2,size:"large",class:"bg-white ms-2",ghost:"",type:"primary",onClick:a.save},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.save),1)]})),_:1},8,["onClick"])):(0,t.kq)("",!0),s.form.api_path?((0,t.wg)(),(0,t.j4)(h,{key:3,size:"large",type:"primary",class:"ms-2 d-none d-md-block",onClick:a.submit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.submit),1)]})),_:1},8,["onClick"])):(0,t.kq)("",!0)])]),(0,t._)("div",Nc,[(0,t._)("div",{style:(0,c.j5)({height:"calc(var(--vh, 100vh) - 138px)",overflowY:"auto"}),class:(0,c.C_)([s.isEditorOpened?"col-6 col-lg-9 d-none d-md-block":"col-12","pt-4 position-relative"])},[s.isLoading||!s.isFormDataLoaded?((0,t.wg)(),(0,t.j4)(d,{key:0,fix:""})):(0,t.kq)("",!0),!s.isEditorOpened||s.form.id||s.form.preferences.fields.length||null!==(l=n.$refs.editor)&&void 0!==l&&l.$refs.itemsList.newField?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",zc,[(0,t.Wm)(h,{size:"large",icon:"md-add",onClick:a.toggleNewField},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n.i18n.add_field),1)]})),_:1},8,["onClick"])])),(0,t.wy)((0,t.Wm)(f,{style:{"max-width":"640px",margin:"0 auto"},class:"mb-3"},{default:(0,t.w5)((function(){return[(0,t.Wm)(p,{ref:"customFormWrapper",form:s.form,onLoaded:i[1]||(i[1]=function(e){return s.isFormDataLoaded=!0})},null,8,["form"])]})),_:1},512),[[e.F8,s.isFormDataLoaded&&s.form.preferences.fields.length]])],6),s.isEditorOpened?((0,t.wg)(),(0,t.iD)("div",qc,[(0,t.Wm)(m,{ref:"editor",fields:s.form.preferences.fields},null,8,["fields"])])):(0,t.kq)("",!0)])],64)}]]);var Lu={class:"row mx-0 mx-md-2",style:{"min-height":"74px"}},Eu={class:"col-8"},Du={class:"row"},Pu={class:"col d-flex align-items-center"},Mu={class:"my-3 overflow-hidden text-truncate"},$u={class:"col-4 d-flex align-items-center justify-content-end"},Ru={key:0,class:"pb-2 px-2"},Iu={key:0,class:"col-12 col-md-6 col-lg-3 border-left bg-white p-0",style:{height:"100%",overflowY:"auto"}},Fu={key:1},ju={class:"fw-bold mb-3"},Nu={class:"footer p-2"},zu={class:"bg-white p-2",style:{height:"calc(100% - 46px)"}},qu=["onClick"],Vu={class:"ivu-card-body d-flex align-items-center justify-content-between py-2"},Bu={class:"d-flex align-items-center"},Wu={class:"d-flex flex-column me-2"},Uu={class:"d-flex align-items-center"},Hu={style:{position:"relative"}},Zu={key:0,class:"text-center mt-2"},Ku=["onClick"],Gu={class:"ivu-card-body py-2"},Yu={class:"fs-4 fw-bold"};const Qu={name:"ReportsIndex",props:{excludeIds:{type:Array,required:!1,default:function(){return[]}}},emits:["select"],data:function(){return{isLoading:!1,searchQuery:""}},computed:{items:function(){return W.db},searchPlaceholder:function(){return this.i18n.search_query},filteredItems:function(){var e=this;return this.items.filter((function(t){return!e.excludeIds.includes(t.id)&&(!e.searchQuery||t.name.toLowerCase().includes(e.searchQuery.toLowerCase()))}))}},mounted:function(){var e=this;0===this.items.length&&(this.isLoading=!0),this.loadQueries().finally((function(){e.isLoading=!1}))},methods:{loadQueries:W.Kp}},Ju=(0,D.Z)(Qu,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("Spin"),l=(0,t.up)("VInput");return(0,t.wg)(),(0,t.iD)("div",Hu,[o.isLoading?((0,t.wg)(),(0,t.j4)(a,{key:0,fix:""})):(0,t.kq)("",!0),(0,t.Wm)(l,{modelValue:o.searchQuery,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.searchQuery=e}),search:"",placeholder:s.searchPlaceholder,size:"large",class:"mb-2"},null,8,["modelValue","placeholder"]),(0,t._)("div",{style:(0,c.j5)({height:"calc(var(--vh, 100vh) - 245px)",overflowY:"auto"})},[o.searchQuery&&!s.filteredItems.length?((0,t.wg)(),(0,t.iD)("p",Zu,(0,c.zw)(e.i18n.not_found),1)):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.filteredItems,(function(n){return(0,t.wg)(),(0,t.iD)("div",{key:n.id,class:"col-12"},[(0,t._)("div",{class:"ivu-card ivu-card-bordered mb-2",onClick:function(t){return e.$emit("select",n)}},[(0,t._)("div",Gu,[(0,t._)("p",Yu,(0,c.zw)(n.name),1)])],8,Ku)])})),128))],4)])}],["__scopeId","data-v-a74953fe"]]),Xu=Ju;var eh={class:"d-flex align-items-center controls"},th={class:"d-flex flex-column align-items-center"},nh=function(e){return(0,t.dD)("data-v-6f75a054"),e=e(),(0,t.Cn)(),e}((function(){return(0,t._)("span",{class:"divider"}," x ",-1)})),ih={class:"d-flex flex-column align-items-center"};const rh={name:"DashboardSizeControl",props:{modelValue:{type:String,required:!1,default:function(){return"3x2"}},maxValues:{type:Array,required:!1,default:function(){return[6,4]}}},emits:["update:modelValue"],data:function(){return{dataValue:this.modelValue.split("x").map((function(e){return parseInt(e)}))}},watch:{modelValue:function(e){this.dataValue=e.split("x").map((function(e){return parseInt(e)}))}},methods:{toggle:function(e,t){var n="width"===e?0:1,i=this.dataValue[n]+t;i>this.maxValues[n]?i=1:i<1&&(i=this.maxValues[n]),this.dataValue[n]=i,this.$emit("update:modelValue",this.dataValue.join("x"))}}},oh={name:"DashboardEditor",components:{QueriesList:Xu,SizeControl:(0,D.Z)(rh,[["render",function(n,i,r,o,s,a){var l=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)("div",eh,[(0,t._)("div",th,[(0,t._)("i",{class:"ion ion-md-arrow-dropup",onClick:i[0]||(i[0]=(0,e.iM)((function(e){return a.toggle("width",-1)}),["prevent"]))}),(0,t.Wm)(l,{class:"width",type:"dashed",onClick:i[1]||(i[1]=function(e){return a.toggle("width",1)})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.dataValue[0]),1)]})),_:1}),(0,t._)("i",{class:"ion ion-md-arrow-dropdown",onClick:i[2]||(i[2]=(0,e.iM)((function(e){return a.toggle("width",1)}),["prevent"]))})]),nh,(0,t._)("div",ih,[(0,t._)("i",{class:"ion ion-md-arrow-dropup",onClick:i[3]||(i[3]=(0,e.iM)((function(e){return a.toggle("height",-1)}),["prevent"]))}),(0,t.Wm)(l,{class:"height",type:"dashed",onClick:i[4]||(i[4]=function(e){return a.toggle("height",1)})},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.dataValue[1]),1)]})),_:1}),(0,t._)("i",{class:"ion ion-md-arrow-dropdown",onClick:i[5]||(i[5]=(0,e.iM)((function(e){return a.toggle("height",1)}),["prevent"]))})])])}],["__scopeId","data-v-6f75a054"]])},props:{dashboard:{type:Object,required:!0}},emits:["add-query","remove-query","click-item","move"],data:function(){return{isQueriesListOpened:!1}},computed:{layout:function(){return this.dashboard.preferences.layout},sizeOptions:function(){return[{label:"25%",value:25},{label:"33%",value:33},{label:"50%",value:50},{label:"66%",value:66},{label:"100%",value:100}]}},mounted:function(){this.isQueriesListOpened=!this.layout.length},methods:{findQueryName:function(e){var t;return null===(t=this.dashboard.queries.find((function(t){return t.id===e}))||W.db.find((function(t){return t.id===e})))||void 0===t?void 0:t.name},onEnd:function(e){var t=e.newIndex;this.$emit("move",this.layout[t])},removeItem:function(e){var t=this.layout.indexOf(e);this.layout.splice(t,1),this.$emit("remove-query",e.query_id)},onSelectQuery:function(e){this.isQueriesListOpened=!1,this.layout.push({title:e.name,query_id:e.id,size:"3x2"}),this.$emit("add-query",e.id)},toggleQueriesList:function(){this.isQueriesListOpened=!this.isQueriesListOpened}}},sh=(0,D.Z)(oh,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("QueriesList"),l=(0,t.up)("Icon"),u=(0,t.up)("Contenteditable"),h=(0,t.up)("SizeControl"),d=(0,t.up)("VButton"),p=(0,t.up)("VueDraggableNext");return(0,t.wg)(),(0,t.iD)("div",zu,[(0,t._)("div",null,[o.isQueriesListOpened?((0,t.wg)(),(0,t.j4)(a,{key:0,"exclude-ids":s.layout.map((function(e){return e.query_id})),onSelect:s.onSelectQuery},null,8,["exclude-ids","onSelect"])):((0,t.wg)(),(0,t.j4)(p,{key:1,list:s.layout,handle:".handle",onEnd:s.onEnd},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.layout,(function(n){return(0,t.wg)(),(0,t.iD)("div",{key:n.query_id,class:"ivu-card ivu-card-bordered cursor-default mb-2",onClick:function(t){return e.$emit("click-item",n)}},[(0,t._)("div",Vu,[(0,t._)("div",Bu,[(0,t._)("div",Wu,[(0,t.Wm)(l,{type:"ios-menu",class:"cursor-grab handle"})]),(0,t.Wm)(u,{modelValue:n.title,"onUpdate:modelValue":function(e){return n.title=e},"with-edit-button":!1,class:"fs-4 fw-bold"},null,8,["modelValue","onUpdate:modelValue"])]),(0,t._)("div",Uu,[(0,t.Wm)(h,{modelValue:n.size,"onUpdate:modelValue":function(e){return n.size=e},class:"me-1"},null,8,["modelValue","onUpdate:modelValue"]),(0,t.Wm)(d,{size:"small",type:"text",icon:"md-trash",onClick:function(e){return s.removeItem(n)}},null,8,["onClick"])])])],8,qu)})),128))]})),_:1},8,["list","onEnd"]))]),(0,t._)("div",{class:(0,c.C_)(["sticky-footer",s.layout.length||o.isQueriesListOpened?"":"p-0 border-0"])},[(0,t.Wm)(d,{long:"",type:"default",icon:o.isQueriesListOpened?"md-close":"md-add",onClick:s.toggleQueriesList},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(o.isQueriesListOpened?e.i18n.cancel:e.i18n.add_query),1)]})),_:1},8,["icon","onClick"])],2)])}],["__scopeId","data-v-a4fc2b14"]]),ah=sh;var lh=(0,t.Uk)(" Save ");function ch(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function uh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const hh={name:"DashboardForm",components:{TagsSelect:Da},props:{board:{type:Object,required:!0}},emits:["success"],data:function(){return{dataBoard:{}}},computed:{rules:function(){return{title:[{required:!0,message:(0,De.w)("title")}]}},apiRequest:function(){var e={data:this.dataBoard,include:"tags,queries",fields:{queries:"id,name,preferences"}};return this.board.id?V.Z.put("dashboards/".concat(this.dataBoard.id),e):V.Z.post("dashboards",e)}},created:function(){this.dataBoard=JSON.parse(JSON.stringify(this.board))},methods:{submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.apiRequest.then((function(t){e.$emit("success",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ch(Object(n),!0).forEach((function(t){uh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ch(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.data.data))})).catch((function(t){var n;null!==(n=t.response.data.errors)&&void 0!==n&&n.length&&e.$refs.form.setErrors(t.response.data.errors)}))}))}}},dh=(0,D.Z)(hh,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VInput"),l=(0,t.up)("FormItem"),c=(0,t.up)("TagsSelect"),u=(0,t.up)("VButton"),h=(0,t.up)("VForm");return(0,t.wg)(),(0,t.j4)(h,{ref:"form",model:o.dataBoard,rules:s.rules,"label-position":"top"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{label:e.i18n.title,prop:"title"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataBoard.title,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.dataBoard.title=e}),size:"large",autofocus:!0,placeholder:e.i18n.dashboard_title},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.description,prop:"description"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataBoard.description,"onUpdate:modelValue":n[1]||(n[1]=function(e){return o.dataBoard.description=e}),type:"textarea",placeholder:e.i18n.describe_your_dashboard_optional,autosize:{minRows:3,maxRows:7}},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.tags,prop:"tags"},{default:(0,t.w5)((function(){return[(0,t.Wm)(c,{modelValue:o.dataBoard.tags,"onUpdate:modelValue":n[2]||(n[2]=function(e){return o.dataBoard.tags=e}),placeholder:e.i18n.select_dashboard_tags},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(u,{size:"large",class:"mt-3",long:"",type:"primary",onClick:s.submit},{default:(0,t.w5)((function(){return[lh]})),_:1},8,["onClick"])]})),_:1},8,["model","rules"])}]]);function ph(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ph(Object(n),!0).forEach((function(t){mh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ph(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gh={name:"DashboardsNew",components:{Editor:ah,DashboardLayout:Br,VariablesForm:Dr.Z,VariableSettings:Ha,UnsavedChanges:_u},data:function(){return{isLoading:!1,isDashboardLoading:!1,isVariableSettingsOpened:!1,isEditorOpened:!1,variablesData:{},dashboard:{tags:[],preferences:{layout:[],variables:[]},queries:[]}}},computed:{isExisting:function(){return this.$route.params.id},refreshTimerOptions:function(){return[{title:this.i18n.every_5_seconds,value:5e3},{title:this.i18n.every_30_seconds,value:3e4},{title:this.i18n.every_minute,value:6e4},{title:this.i18n.every_5_minutes,value:3e5},{title:this.i18n.do_not_refresh,value:0}]},isCanEdit:function(){return this.dashboard.id?this.$can("edit","Motor::Dashboard",this.dashboard):this.$can("create","Motor::Dashboard")},isSettingsOpened:function(){return this.isEditorOpened||this.isVariableSettingsOpened},cachedDashboardTitle:function(){var e,t=this;return null===(e=W.n3.find((function(e){var n;return e.id.toString()===(null===(n=t.$route.params)||void 0===n?void 0:n.id)})))||void 0===e?void 0:e.title},variables:function(){var e=this;return Object.values(this.dashboard.queries.reduce((function(t,n){var i;return null===(i=n.preferences.variables)||void 0===i||i.forEach((function(n){var i,r;t[i=n.name]||(t[i]=(null===(r=e.dashboard.preferences.variables)||void 0===r?void 0:r.find((function(e){return e.name===n.name})))||n)})),t}),{}))},queryParamsVariables:function(){return this.$route.query||{}},defaultVariablesData:function(){return this.variables.reduce((function(e,t){var n;return e[t.name]=null!==(n=t.default_value)&&void 0!==n?n:"",e}),{})}},watch:{$route:function(e,t){var n;"dashboard"!==e.name&&"new_dashboard"!==e.name||(e.params.id!==(null===(n=this.dashboard.id)||void 0===n?void 0:n.toString())?(this.dashboard={tags:[],preferences:{layout:[],variables:[]},queries:[]},e.params.id?(this.loadDashboard(),this.isEditorOpened=!1):this.isEditorOpened=!0):JSON.stringify(e.query)!==JSON.stringify(t.query)&&(this.assignVariablesData(),this.refresh()))}},mounted:function(){var e=this;this.$route.params.id?this.loadDashboard().then((function(){e.setAutorefreshInterval()})):this.isEditorOpened=!0},beforeUnmount:function(){this.timer&&clearInterval(this.timer)},methods:{maybeUpdateVariablesQueryParams:function(){var e=this;if(Object.keys(this.defaultVariablesData).length){var t=Object.keys(this.defaultVariablesData).reduce((function(t,n){var i,r;return(null!==(i=e.variablesData[n])&&void 0!==i?i:"").toString()!==(null!==(r=e.defaultVariablesData[n])&&void 0!==r?r:"").toString()&&(t[n]=e.variablesData[n]),t}),{});Object.keys(t).length?this.$router.replace({query:fh({},t)}):Object.keys(this.queryParamsVariables).length&&this.$router.replace({query:null})}},toggleEditor:function(){this.isVariableSettingsOpened=!1,this.isEditorOpened=!this.isEditorOpened},toggleVariablesSettings:function(){this.isEditorOpened=!1,this.isVariableSettingsOpened=!this.isVariableSettingsOpened},assignVariablePreferences:function(e){var t,n;null!==(t=this.dashboard.preferences.variables)&&void 0!==t&&t.find((function(t){return t.name===e.name}))||((n=this.dashboard.preferences).variables||(n.variables=[]),this.dashboard.preferences.variables.push(e))},removeQuery:function(e){var t=this.dashboard.queries.findIndex((function(t){return t.id===e}));this.dashboard.queries.splice(t,1)},assignVariablesData:function(){this.variablesData=fh(fh({},this.defaultVariablesData),this.queryParamsVariables)},addQuery:function(e){var t=this;V.Z.get("queries/".concat(e),{params:{fields:{query:"id,name,preferences"}}}).then((function(e){t.dashboard.queries.push(e.data.data)})).catch((function(e){console.error(e)}))},refresh:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.maybeUpdateVariablesQueryParams(),this.$nextTick((function(){e.isLoading=!0,e.$refs.layout.reload(t).then((function(){e.isLoading=!1}))}))},loadDashboard:function(){var e=this;return this.isDashboardLoading=!0,V.Z.get("dashboards/".concat(this.$route.params.id),{params:{include:"tags,queries",fields:{queries:"id,name,preferences"}}}).then((function(t){e.dashboard=t.data.data,e.assignVariablesData()})).catch((function(t){var n,i;null!==(n=t.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message)})).finally((function(){e.isDashboardLoading=!1}))},onSuccess:function(e){this.$refs.unsavedChanges.resetWithDefaultValue(e),this.dashboard=e,this.$Modal.remove(),this.$Message.info(this.i18n.dashboard_has_been_saved),this.$router.push({name:"dashboard",params:{id:e.id}}),this.isEditorOpened=!1},saveAsNew:function(){var e=this;this.$Modal.open(dh,{board:{title:this.dashboard.title,description:this.dashboard.description,tags:this.dashboard.tags.map((function(e){return e.name})),preferences:this.dashboard.preferences},onSuccess:function(t){e.onSuccess(t)}},{title:this.i18n.save_dashboard,closable:!0})},save:function(){var e=this;this.$Modal.open(dh,{board:{id:this.dashboard.id,title:this.dashboard.title,description:this.dashboard.description,tags:this.dashboard.tags.map((function(e){return e.name})),preferences:this.dashboard.preferences},onSuccess:function(t){e.onSuccess(t)}},{title:this.i18n.save_dashboard,closable:!0})},updateTimerValue:function(e){this.timer&&clearInterval(this.timer),this.dashboard.preferences.autorefresh_interval=e,this.setAutorefreshInterval()},setAutorefreshInterval:function(){var e=this;this.dashboard.preferences.autorefresh_interval&&(this.timer=setInterval((function(){return e.refresh(!1)}),this.dashboard.preferences.autorefresh_interval))}}},vh=(0,D.Z)(gh,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("UnsavedChanges"),l=(0,t.up)("VButton"),u=(0,t.up)("DropdownItem"),h=(0,t.up)("DropdownMenu"),d=(0,t.up)("Dropdown"),p=(0,t.up)("VariablesForm"),f=(0,t.up)("Spin"),m=(0,t.up)("DashboardLayout"),g=(0,t.up)("Editor"),v=(0,t.up)("VariableSettings"),y=(0,t.up)("Card");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",Lu,[(0,t._)("div",Eu,[(0,t._)("div",Du,[(0,t._)("div",Pu,[(0,t._)("h1",Mu,(0,c.zw)(o.dashboard.title||s.cachedDashboardTitle||(s.isExisting?"":e.i18n.new_dashboard)),1)]),((0,t.wg)(),(0,t.j4)(a,{ref:"unsavedChanges",key:o.dashboard.id||"new",modelValue:o.dashboard,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.dashboard=e}),"storage-key":"dashboard:".concat(e.$route.params.id||"new"),class:"col d-none d-xl-flex"},null,8,["modelValue","storage-key"]))])]),(0,t._)("div",$u,[(0,t.Wm)(d,{trigger:"click",class:"me-2",placement:"bottom-end"},{list:(0,t.w5)((function(){return[(0,t.Wm)(h,null,{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.refreshTimerOptions,(function(e){return(0,t.wg)(),(0,t.j4)(u,{key:e.value,onClick:function(t){return s.updateTimerValue(e.value)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.title),1)]})),_:2},1032,["onClick"])})),128))]})),_:1})]})),default:(0,t.w5)((function(){return[(0,t.Wm)(l,{size:"large",icon:"md-timer",type:o.dashboard.preferences.autorefresh_interval?"primary":"default",class:"bg-white",ghost:!!o.dashboard.preferences.autorefresh_interval},null,8,["type","ghost"])]})),_:1}),s.variables.length&&s.isCanEdit?((0,t.wg)(),(0,t.j4)(l,{key:0,size:"large",class:"me-2 md-icon-only d-none d-sm-block",icon:o.isVariableSettingsOpened?"md-close":"md-flask",onClick:s.toggleVariablesSettings},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(o.isVariableSettingsOpened?e.i18n.close_variables:e.i18n.variables),1)]})),_:1},8,["icon","onClick"])):(0,t.kq)("",!0),s.isCanEdit?((0,t.wg)(),(0,t.j4)(l,{key:1,size:"large",class:"bg-white me-2 md-icon-only",icon:o.isEditorOpened?"md-close":"md-create",onClick:s.toggleEditor},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(o.isEditorOpened?e.i18n.close_editor:e.i18n.edit),1)]})),_:1},8,["icon","onClick"])):(0,t.kq)("",!0),s.isExisting&&e.$can("create","Motor::Dashboard")?((0,t.wg)(),(0,t.j4)(l,{key:2,size:"large",class:"bg-white me-2 d-none d-sm-block",onClick:s.saveAsNew},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.save_as_new),1)]})),_:1},8,["onClick"])):(0,t.kq)("",!0),s.isCanEdit?((0,t.wg)(),(0,t.j4)(l,{key:3,size:"large",class:"bg-white me-2",ghost:"",type:"primary",onClick:s.save},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.save),1)]})),_:1},8,["onClick"])):(0,t.kq)("",!0),(0,t.Wm)(l,{size:"large",type:"primary",loading:o.isLoading,class:"d-none d-sm-block",icon:"md-refresh",onClick:s.refresh},null,8,["loading","onClick"])])]),(0,t._)("div",{style:(0,c.j5)({height:s.isSettingsOpened?"calc(var(--vh, 100vh) - 134px)":"100%"}),class:"row border-top m-0"},[(0,t._)("div",{class:(0,c.C_)([s.isSettingsOpened?"col-6 col-lg-9 d-none d-md-block":"col-12","position-relative"]),style:(0,c.j5)({height:"100%",overflowY:s.isSettingsOpened?"auto":"unset"})},[s.variables.length?((0,t.wg)(),(0,t.iD)("div",Ru,[(0,t.Wm)(p,{data:o.variablesData,"onUpdate:data":n[1]||(n[1]=function(e){return o.variablesData=e}),variables:s.variables,onSubmit:s.refresh},null,8,["data","variables","onSubmit"])])):(0,t.kq)("",!0),o.isDashboardLoading?((0,t.wg)(),(0,t.j4)(f,{key:1,fix:"",style:{height:"calc(var(--vh, 100vh) - 134px)"}})):(0,t.kq)("",!0),(0,t.Wm)(m,{ref:"layout",class:"pt-1",variables:o.variablesData,dashboard:o.dashboard},null,8,["variables","dashboard"])],6),s.isSettingsOpened?((0,t.wg)(),(0,t.iD)("div",Iu,[o.isEditorOpened?((0,t.wg)(),(0,t.j4)(g,{key:0,dashboard:o.dashboard,onRemoveQuery:s.removeQuery,onClickItem:e.$refs.layout.scrollInto,onMove:e.$refs.layout.scrollInto,onAddQuery:s.addQuery},null,8,["dashboard","onRemoveQuery","onClickItem","onMove","onAddQuery"])):(0,t.kq)("",!0),o.isVariableSettingsOpened?((0,t.wg)(),(0,t.iD)("div",Fu,[(0,t._)("div",{style:(0,c.j5)({minHeight:"calc(var(--vh, 100vh) - 203px)"})},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.variables,(function(e){return(0,t.wg)(),(0,t.j4)(y,{key:e.name,class:"m-2"},{default:(0,t.w5)((function(){return[(0,t._)("div",ju,(0,c.zw)(e.display_name),1),(0,t.Wm)(v,{variable:e,"onUpdate:variable":s.assignVariablePreferences},null,8,["variable","onUpdate:variable"])]})),_:2},1024)})),128))],4),(0,t._)("div",Nu,[(0,t.Wm)(l,{long:"",type:"default",icon:"md-close",onClick:s.toggleVariablesSettings},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.close),1)]})),_:1},8,["onClick"])])])):(0,t.kq)("",!0)])):(0,t.kq)("",!0)],4)],64)}],["__scopeId","data-v-40984613"]]);var yh={class:"row mx-0 mx-md-2",style:{"min-height":"74px"}},bh={class:"col-7 col-md-8 d-flex align-items-center"},wh={class:"my-3 overflow-hidden text-truncate"},_h={class:"col-5 col-md-4 d-flex align-items-center justify-content-end"},xh={class:"col-6 col-lg-7 d-none d-md-block p-0",style:{height:"100%",position:"relative"}},kh={key:1,class:"d-flex justify-content-center align-items-center",style:{height:"100%"}},Ch={key:3,class:"mt-5"},Sh={class:"col-12 col-md-6 col-lg-5 border-left bg-white p-3",style:{height:"100%",overflowY:"auto",position:"relative"}},Ah={class:"row"},Th={class:"col-7"},Oh={class:"col-5 ps-0"},Lh=n(6383);const Eh={name:"IntervalInput",props:{modelValue:{type:String,required:!1,default:""}},emits:["update:modelValue"],computed:{quickSelectOptions:function(){return["every day","every Monday","every month"]}}},Dh=(0,D.Z)(Eh,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VInput"),l=(0,t.up)("VButton");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(a,{"model-value":i.modelValue,size:"large",placeholder:e.i18n.every_day_at_hh_mm,"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value","placeholder"]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.quickSelectOptions,(function(n){return(0,t.wg)(),(0,t.j4)(l,{key:n,size:"small",class:"me-1",onClick:function(t){return e.$emit("update:modelValue",n)}},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(n),1)]})),_:2},1032,["onClick"])})),128))],64)}]]);var Ph=null;const Mh={name:"SlackConversationsSelect",props:{modelValue:{type:Array,require:!1,default:function(){return[]}}},emits:["update:modelValue","update:userEmails"],data:function(){return{conversations:[]}},mounted:function(){this.loadConversations()},methods:{buildLabel:function(e){return e.is_channel?"#".concat(e.name):"@".concat(e.name)},onSelectedItemsUpdate:function(e){var t=e.map((function(e){var t;return null!==(t=e.profile)&&void 0!==t&&t.email?{id:e.id,email:e.profile.email}:null})).filter(Boolean);this.$emit("update:userEmails",t)},loadConversations:function(){var e=this;return Ph||(Ph=V.Z.get("slack_conversations")),Ph.then((function(t){e.conversations=t.data.data})).catch((function(e){console.error(e)}))}}},$h=(0,D.Z)(Mh,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("MSelect");return(0,t.wg)(),(0,t.j4)(a,{"model-value":i.modelValue,filterable:"",multiple:"",options:o.conversations,"value-key":"id","label-function":s.buildLabel,placeholder:e.i18n.select_conversations,size:"large","onUpdate:selectedOptions":s.onSelectedItemsUpdate,"onUpdate:modelValue":n[0]||(n[0]=function(t){return e.$emit("update:modelValue",t)})},null,8,["model-value","options","label-function","placeholder","onUpdate:selectedOptions"])}]]),Rh={name:"TimezoneSelect",props:{modelValue:{type:String,required:!1,default:function(){return localStorage.getItem("timezone")||""}},size:{type:String,required:!1,default:"default"}},emits:["update:modelValue"],computed:{options:function(){return["UTC","Eastern Time (US & Canada)","Central Time (US & Canada)","Mountain Time (US & Canada)","Pacific Time (US & Canada)","Atlantic Time (Canada)","Abu Dhabi","Adelaide","Alaska","Almaty","American Samoa","Amsterdam","Arizona","Astana","Athens","Auckland","Azores","Baghdad","Baku","Bangkok","Beijing","Belgrade","Berlin","Bern","Bogota","Brasilia","Bratislava","Brisbane","Brussels","Bucharest","Budapest","Buenos Aires","Cairo","Canberra","Cape Verde Is.","Caracas","Casablanca","Central America","Chatham Is.","Chennai","Chihuahua","Chongqing","Copenhagen","Darwin","Dhaka","Dublin","Edinburgh","Ekaterinburg","Fiji","Georgetown","Greenland","Guadalajara","Guam","Hanoi","Harare","Hawaii","Helsinki","Hobart","Hong Kong","Indiana (East)","International Date Line West","Irkutsk","Islamabad","Istanbul","Jakarta","Jerusalem","Kabul","Kaliningrad","Kamchatka","Karachi","Kathmandu","Kolkata","Krasnoyarsk","Kuala Lumpur","Kuwait","Kyiv","La Paz","Lima","Lisbon","Ljubljana","London","Madrid","Magadan","Marshall Is.","Mazatlan","Melbourne","Mexico City","Mid-Atlantic","Midway Island","Minsk","Monrovia","Monterrey","Montevideo","Moscow","Mumbai","Muscat","Nairobi","New Caledonia","New Delhi","Newfoundland","Novosibirsk","Nuku'alofa","Osaka","Paris","Perth","Port Moresby","Prague","Pretoria","Puerto Rico","Quito","Rangoon","Riga","Riyadh","Rome","Samara","Samoa","Santiago","Sapporo","Sarajevo","Saskatchewan","Seoul","Singapore","Skopje","Sofia","Solomon Is.","Srednekolymsk","Sri Jayawardenepura","St. Petersburg","Stockholm","Sydney","Taipei","Tallinn","Tashkent","Tbilisi","Tehran","Tijuana","Tokelau Is.","Tokyo","Ulaanbaatar","Urumqi","Vienna","Vilnius","Vladivostok","Volgograd","Warsaw","Wellington","West Central Africa","Yakutsk","Yerevan","Zagreb","Zurich"]}},mounted:function(){this.$emit("update:modelValue",this.modelValue)},methods:{updateValue:function(e){localStorage.setItem("timezone",e),this.$emit("update:modelValue",e)}}},Ih=(0,D.Z)(Rh,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("MSelect");return(0,t.wg)(),(0,t.j4)(a,{"model-value":i.modelValue,filterable:"",size:i.size,placeholder:e.i18n.timezone,options:s.options,"with-deselect":!1,"onUpdate:modelValue":s.updateValue},null,8,["model-value","size","placeholder","options","onUpdate:modelValue"])}]]);function Fh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function jh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fh(Object(n),!0).forEach((function(t){Nh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zh={name:"AlertForm",components:{SelectQuery:Lh.Z,TagsSelect:Da,IntervalInput:Dh,TimezoneSelect:Ih,SlackConversationsSelect:$h},props:{alert:{type:Object,required:!0},withSubmit:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1}},emits:["submit","select-query","change-emails"],data:function(){return{dataAlert:{}}},computed:{adapter:function(){return this.dataAlert.preferences.adapter},adapterOptions:function(){return[{label:"Email",value:"email"},{label:"Slack",value:"slack"}]},rules:function(){return{name:[{required:!0,message:(0,De.w)("name")}],query_id:[{required:!0,message:(0,De.w)("query")}],to_emails:[{required:"slack"!==this.adapter,message:this.i18n.field_list_cant_be_empty.replace("%{field}",this.i18n.emails)}],"preferences.interval":[{required:!0,message:(0,De.w)("interval")}],"preferences.timezone":[{required:!0,message:(0,De.w)("timezone")}]}}},watch:{alert:function(){this.dataAlert=JSON.parse(JSON.stringify(this.normalizeAlert(this.alert)))}},created:function(){this.dataAlert=JSON.parse(JSON.stringify(this.normalizeAlert(this.alert)))},methods:{normalizeAlert:function(e){return jh(jh({},e),{},{to_emails:e.to_emails.split(",").filter(Boolean),tags:e.tags.map((function(e){return e.name})),preferences:jh({adapter:"email"},e.preferences)})},submit:function(){var e=this;this.$refs.form.validate((function(t){t&&e.$emit("submit",e.dataAlert)}))}}};function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Vh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qh(Object(n),!0).forEach((function(t){Bh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wh={name:"",description:"",to_emails:"",query_id:null,tags:[],preferences:{adapter:"email"}};const Uh={name:"NewAlert",components:{AlertForm:(0,D.Z)(zh,[["render",function(e,n,i,r,o,s){var a=(0,t.up)("VInput"),l=(0,t.up)("FormItem"),u=(0,t.up)("SelectQuery"),h=(0,t.up)("Radio"),d=(0,t.up)("RadioGroup"),p=(0,t.up)("SlackConversationsSelect"),f=(0,t.up)("MSelect"),m=(0,t.up)("IntervalInput"),g=(0,t.up)("TimezoneSelect"),v=(0,t.up)("Checkbox"),y=(0,t.up)("TagsSelect"),b=(0,t.up)("VButton"),w=(0,t.up)("VForm");return(0,t.wg)(),(0,t.j4)(w,{ref:"form",model:o.dataAlert,rules:s.rules,"label-position":"top"},{default:(0,t.w5)((function(){return[(0,t.Wm)(l,{label:e.i18n.name,prop:"name"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataAlert.name,"onUpdate:modelValue":n[0]||(n[0]=function(e){return o.dataAlert.name=e}),size:"large",autofocus:!o.dataAlert.id,placeholder:e.i18n.alert_name},null,8,["modelValue","autofocus","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.query,prop:"query_id"},{default:(0,t.w5)((function(){return[(0,t.Wm)(u,{modelValue:o.dataAlert.query_id,"onUpdate:modelValue":[n[1]||(n[1]=function(e){return o.dataAlert.query_id=e}),n[2]||(n[2]=function(t){return e.$emit("select-query",o.dataAlert.query_id)})],size:"large"},null,8,["modelValue"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.send_via,prop:"preferences.adapter"},{default:(0,t.w5)((function(){return[(0,t.Wm)(d,{modelValue:o.dataAlert.preferences.adapter,"onUpdate:modelValue":n[3]||(n[3]=function(e){return o.dataAlert.preferences.adapter=e}),class:"d-flex flex-row justify-content-between"},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.adapterOptions,(function(e){return(0,t.wg)(),(0,t.j4)(h,{key:e.value,style:{width:"49%",height:"40px"},label:e.value,border:"",size:"large",class:"py-1"},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.label),1)]})),_:2},1032,["label"])})),128))]})),_:1},8,["modelValue"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.send_to,prop:"to_emails"},{default:(0,t.w5)((function(){return["slack"===s.adapter?((0,t.wg)(),(0,t.j4)(p,{key:0,modelValue:o.dataAlert.preferences.slack_conversation_ids,"onUpdate:modelValue":n[4]||(n[4]=function(e){return o.dataAlert.preferences.slack_conversation_ids=e})},null,8,["modelValue"])):((0,t.wg)(),(0,t.j4)(f,{key:1,modelValue:o.dataAlert.to_emails,"onUpdate:modelValue":n[5]||(n[5]=function(e){return o.dataAlert.to_emails=e}),filterable:"","allow-create":"",multiple:"",options:o.dataAlert.to_emails,placeholder:e.i18n.emails,size:"large"},null,8,["modelValue","options","placeholder"]))]})),_:1},8,["label"]),(0,t._)("div",Ah,[(0,t._)("div",Th,[(0,t.Wm)(l,{label:e.i18n.interval,prop:"preferences.interval"},{default:(0,t.w5)((function(){return[(0,t.Wm)(m,{modelValue:o.dataAlert.preferences.interval,"onUpdate:modelValue":n[6]||(n[6]=function(e){return o.dataAlert.preferences.interval=e})},null,8,["modelValue"])]})),_:1},8,["label"])]),(0,t._)("div",Oh,[(0,t.Wm)(l,{label:e.i18n.timezone,prop:"preferences.timezone"},{default:(0,t.w5)((function(){return[(0,t.Wm)(g,{modelValue:o.dataAlert.preferences.timezone,"onUpdate:modelValue":n[7]||(n[7]=function(e){return o.dataAlert.preferences.timezone=e}),size:"large"},null,8,["modelValue"])]})),_:1},8,["label"])])]),(0,t.Wm)(l,{label:e.i18n.send_empty,prop:"preferences.send_empty"},{default:(0,t.w5)((function(){return[(0,t.Wm)(v,{modelValue:o.dataAlert.preferences.send_empty,"onUpdate:modelValue":n[8]||(n[8]=function(e){return o.dataAlert.preferences.send_empty=e})},null,8,["modelValue"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.description,prop:"description"},{default:(0,t.w5)((function(){return[(0,t.Wm)(a,{modelValue:o.dataAlert.description,"onUpdate:modelValue":n[9]||(n[9]=function(e){return o.dataAlert.description=e}),type:"textarea",placeholder:e.i18n.describe_this_alert_optional,autosize:{minRows:3,maxRows:7}},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),(0,t.Wm)(l,{label:e.i18n.tags,prop:"tags"},{default:(0,t.w5)((function(){return[(0,t.Wm)(y,{modelValue:o.dataAlert.tags,"onUpdate:modelValue":n[10]||(n[10]=function(e){return o.dataAlert.tags=e}),placeholder:e.i18n.select_alert_tags},null,8,["modelValue","placeholder"])]})),_:1},8,["label"]),i.withSubmit?((0,t.wg)(),(0,t.j4)(b,{key:0,size:"large",class:"mt-3",long:"",type:"primary",loading:i.loading,onClick:s.submit},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.save),1)]})),_:1},8,["loading","onClick"])):(0,t.kq)("",!0)]})),_:1},8,["model","rules"])}]]),QueryResult:jr.Z},data:function(){return{isSendingLoading:!1,isEnabledToggleLoading:!1,isSubmitting:!1,isLoadingQuery:!1,isLoadingAlert:!1,data:[],columns:[],errors:[],alert:{}}},computed:{cachedAlertName:function(){var e,t=this;return null===(e=W.vS.find((function(e){var n;return e.id.toString()===(null===(n=t.$route.params)||void 0===n?void 0:n.id)})))||void 0===e?void 0:e.name},isCanEdit:function(){return this.alert.id?this.$can("edit","Motor::Alert",this.alert):this.$can("create","Motor::Alert")}},watch:{$route:function(e,t){var n;["alert","new_alert"].includes(e.name)&&e.params.id!==(null===(n=this.alert.id)||void 0===n?void 0:n.toString())&&this.onMounted()}},created:function(){this.onMounted()},methods:{onSelectQuery:function(e){this.alert.query_id=e,e&&this.loadQuery()},sendNow:function(){var e=this;this.isSendingLoading=!0,V.Z.post("send_alerts",{data:{query_id:this.alert.query_id,to_emails:this.alert.to_emails,description:this.alert.description,name:this.alert.name,preferences:this.alert.preferences}}).then((function(t){e.$Message.info(e.i18n.alert_email_has_been_sent)})).catch((function(t){var n,i;console.error(t),null!==(n=t.response.data)&&void 0!==n&&null!==(i=n.errors)&&void 0!==i&&i.length?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(e.i18n.unable_to_send_email)})).finally((function(){e.isSendingLoading=!1}))},toggleEnabled:function(){var e=this;this.isEnabledToggleLoading=!0,V.Z.put("alerts/".concat(this.alert.id),{data:{is_enabled:!this.alert.is_enabled}}).then((function(t){e.alert.is_enabled=t.data.data.is_enabled,e.$Message.info(e.alert.is_enabled?e.i18n.alert_has_been_activated:e.i18n.alert_has_been_disabled)})).catch((function(t){var n,i;null!==(n=t.response.data)&&void 0!==n&&null!==(i=n.errors)&&void 0!==i&&i.length&&e.$Message.error(t.response.data.errors.join("\n"))})).finally((function(){e.isEnabledToggleLoading=!1}))},submitRequest:function(e){var t=Vh(Vh({},e),{},{to_emails:e.to_emails.join(",")});return e.id?V.Z.put("alerts/".concat(e.id),{data:t,include:"tags"}):V.Z.post("alerts",{data:t,include:"tags"})},onMounted:function(){var e,t=this;this.$route.params.id?this.loadAlert().then((function(){t.loadQuery()})):(this.alert=Vh({},Wh),this.alert.query_id=null===(e=this.$route.query)||void 0===e?void 0:e.query_id)},onSubmit:function(e){var t=this;this.isSubmitting=!0,this.submitRequest(e).then((function(e){t.alert=e.data.data,t.$router.push({name:"alert",params:{id:t.alert.id}}),t.$Message.info(t.i18n.alert_has_been_saved)})).catch((function(e){var n,i,r;null!==(n=e.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&null!==(r=i.errors)&&void 0!==r&&r.length?t.$refs.form.$refs.form.setErrors(e.response.data.errors):console.error(e)})).finally((function(){t.isSubmitting=!1}))},onSaveClick:function(){this.$refs.form.submit()},loadAlert:function(){var e=this;return this.isLoadingAlert=!0,V.Z.get("alerts/".concat(this.$route.params.id),{params:{include:"tags,query"}}).then((function(t){e.alert=t.data.data})).catch((function(t){var n,i;console.error(t),null!==(n=t.response)&&void 0!==n&&null!==(i=n.data)&&void 0!==i&&i.errors?e.$Message.error(t.response.data.errors.join("\n")):e.$Message.error(t.message)})).finally((function(){e.isLoadingAlert=!1}))},loadQuery:function(){var e=this;return this.isLoadingQuery=!0,V.Z.get("run_queries/".concat(this.alert.query_id),{}).then((function(t){e.data=t.data.data,e.columns=t.data.meta.columns})).catch((function(e){console.error(e)})).finally((function(){e.isLoadingQuery=!1}))}}},Hh=(0,D.Z)(Uh,[["render",function(e,n,i,r,o,s){var a,l=(0,t.up)("VButton"),u=(0,t.up)("Spin"),h=(0,t.up)("QueryResult"),d=(0,t.up)("AlertForm");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",yh,[(0,t._)("div",bh,[(0,t._)("h1",wh,(0,c.zw)(o.alert.name||s.cachedAlertName||e.i18n.new_alert),1)]),(0,t._)("div",_h,[o.alert.id&&e.$can("update","Motor::Alert")?((0,t.wg)(),(0,t.j4)(l,{key:0,size:"large",class:"bg-white ms-2 md-icon-only",loading:o.isEnabledToggleLoading,icon:o.alert.is_enabled?"md-close":"md-checkmark",onClick:s.toggleEnabled},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(o.alert.is_enabled?e.i18n.disable:e.i18n.activate),1)]})),_:1},8,["loading","icon","onClick"])):(0,t.kq)("",!0),o.alert.query_id&&(o.alert.to_emails.length||"slack"===o.alert.preferences.adapter)&&e.$can("manage","Motor::Alert")?((0,t.wg)(),(0,t.j4)(l,{key:1,size:"large",icon:"md-send",loading:o.isSendingLoading,class:"bg-white ms-2 md-icon-only",onClick:s.sendNow},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.send_now),1)]})),_:1},8,["loading","onClick"])):(0,t.kq)("",!0),s.isCanEdit?((0,t.wg)(),(0,t.j4)(l,{key:2,size:"large",ghost:"",type:"primary",class:"bg-white ms-2",onClick:s.onSaveClick},{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(e.i18n.save),1)]})),_:1},8,["onClick"])):(0,t.kq)("",!0)])]),(0,t._)("div",{class:"row border-top m-0",style:(0,c.j5)({height:"calc(var(--vh, 100vh) - 134px)"})},[(0,t._)("div",xh,[o.isLoadingQuery||o.isLoadingAlert?((0,t.wg)(),(0,t.j4)(u,{key:0,fix:""})):o.data.length?o.alert.query_id?((0,t.wg)(),(0,t.j4)(h,{key:2,data:o.data,errors:o.errors,borderless:!0,preferences:null===(a=o.alert.query)||void 0===a?void 0:a.preferences,"with-settings":!1,columns:o.columns},null,8,["data","errors","preferences","columns"])):o.isLoadingQuery||o.isLoadingAlert?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("p",Ch,(0,c.zw)(e.i18n.query_not_selected),1)):((0,t.wg)(),(0,t.iD)("div",kh,(0,c.zw)(e.i18n.no_data),1))]),(0,t._)("div",Sh,[o.isLoadingAlert?((0,t.wg)(),(0,t.j4)(u,{key:0,fix:""})):((0,t.wg)(),(0,t.j4)(d,{key:1,ref:"form",alert:o.alert,"with-submit":s.isCanEdit,loading:o.isSubmitting,onSubmit:s.onSubmit,onSelectQuery:s.onSelectQuery,onChangeEmails:n[0]||(n[0]=function(e){return o.alert.to_emails=e})},null,8,["alert","with-submit","loading","onSubmit","onSelectQuery"]))])],4)],64)}]]);var Zh=[{path:"/",component:ga,name:"home"},{path:"/data",component:ga,name:"data_home"},{path:"/notifications",component:Pc,name:"notifications"},{path:"/data/:fragments+",component:ga,name:"resources"},{path:"/queries/new",component:Al,name:"new_query"},{path:"/dashboards/:id",component:vh,name:"dashboard"},{path:"/dashboards/new",component:vh,name:"new_dashboard"},{path:"/queries/:id",component:Al,name:"query"},{path:"/alerts/new",component:Hh,name:"new_alert"},{path:"/alerts/:id",component:Hh,name:"alert"},{path:"/forms/new",component:Ou,name:"new_form"},{path:"/forms/:id",component:Ou,name:"form"},{path:"/forms",component:_c,name:"forms"},{path:"/reports/:type?",component:ic,name:"reports"}],Kh=function(e){const n=function(e,t){const n=[],i=new Map;function r(e,n,i){const a=!i,l=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:tn(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}(e);l.aliasOf=i&&i.record;const c=on(t,e),u=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(_t({},l,{components:i?i.record.components:l.components,path:e,aliasOf:i?i.record:l}))}let h,d;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,i="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&i+u)}if(h=en(t,n,c),i?i.alias.push(h):(d=d||h,d!==h&&d.alias.push(h),a&&e.name&&!nn(h)&&o(e.name)),"children"in l){const e=l.children;for(let t=0;t<e.length;t++)r(e[t],h,i&&i.children[t])}i=i||h,s(h)}return d?()=>{o(d)}:kt}function o(e){if(qt(e)){const t=i.get(e);t&&(i.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&i.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function s(e){let t=0;for(;t<n.length&&Qt(e,n[t])>=0&&(e.record.path!==n[t].record.path||!sn(e,n[t]));)t++;n.splice(t,0,e),e.record.name&&!nn(e)&&i.set(e.record.name,e)}return t=on({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>r(e))),{addRoute:r,resolve:function(e,t){let r,o,s,a={};if("name"in e&&e.name){if(r=i.get(e.name),!r)throw Ut(1,{location:e});s=r.record.name,a=_t(function(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}(t.params,r.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params),o=r.stringify(a)}else if("path"in e)o=e.path,r=n.find((e=>e.re.test(o))),r&&(a=r.parse(o),s=r.record.name);else{if(r=t.name?i.get(t.name):n.find((e=>e.re.test(t.path))),!r)throw Ut(1,{location:e,currentLocation:t});s=r.record.name,a=_t({},t.params,e.params),o=r.stringify(a)}const l=[];let c=r;for(;c;)l.unshift(c.record),c=c.parent;return{name:s,path:o,params:a,matched:l,meta:rn(l)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(e){return i.get(e)}}}(e.routes,e),i=e.parseQuery||Sn,r=e.stringifyQuery||An,o=e.history,s=On(),a=On(),l=On(),c=(0,g.XI)(Vt);let u=Vt;wt&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=xt.bind(null,(e=>""+e)),d=xt.bind(null,kn),p=xt.bind(null,Cn);function f(e,t){if(t=_t({},t||c.value),"string"==typeof e){const r=St(i,e,t.path),s=n.resolve({path:r.path},t),a=o.createHref(r.fullPath);return _t(r,s,{params:p(s.params),hash:Cn(r.hash),redirectedFrom:void 0,href:a})}let s;if("path"in e)s=_t({},e,{path:St(i,e.path,t.path).path});else{const n=_t({},e.params);for(const e in n)null==n[e]&&delete n[e];s=_t({},e,{params:d(e.params)}),t.params=d(t.params)}const a=n.resolve(s,t),l=e.hash||"";a.params=h(p(a.params));const u=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,_t({},e,{hash:(f=l,_n(f).replace(vn,"{").replace(bn,"}").replace(mn,"^")),path:a.path}));var f;const m=o.createHref(u);return _t({fullPath:u,hash:l,query:r===An?Tn(e.query):e.query||{}},a,{redirectedFrom:void 0,href:m})}function m(e){return"string"==typeof e?St(i,e,c.value.path):_t({},e)}function v(e,t){if(u!==e)return Ut(8,{from:t,to:e})}function y(e){return w(e)}function b(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let i="function"==typeof n?n(e):n;return"string"==typeof i&&(i=i.includes("?")||i.includes("#")?i=m(i):{path:i},i.params={}),_t({query:e.query,hash:e.hash,params:e.params},i)}}function w(e,t){const n=u=f(e),i=c.value,o=e.state,s=e.force,a=!0===e.replace,l=b(n);if(l)return w(_t(m(l),{state:o,force:s,replace:a}),t||n);const h=n;let d;return h.redirectedFrom=t,!s&&function(e,t,n){const i=t.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Tt(t.matched[i],n.matched[r])&&Ot(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,i,n)&&(d=Ut(16,{to:h,from:i}),D(i,i,!0,!1)),(d?Promise.resolve(d):x(h,i)).catch((e=>Ht(e)?Ht(e,2)?e:E(e):L(e,h,i))).then((e=>{if(e){if(Ht(e,2))return w(_t(m(e.to),{state:o,force:s,replace:a}),t||h)}else e=C(h,i,!0,a,o);return k(h,i,e),e}))}function _(e,t){const n=v(e,t);return n?Promise.reject(n):Promise.resolve()}function x(e,t){let n;const[i,r,o]=function(e,t){const n=[],i=[],r=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const o=t.matched[s];o&&(e.matched.find((e=>Tt(e,o)))?i.push(o):n.push(o));const a=e.matched[s];a&&(t.matched.find((e=>Tt(e,a)))||r.push(a))}return[n,i,r]}(e,t);n=En(i.reverse(),"beforeRouteLeave",e,t);for(const r of i)r.leaveGuards.forEach((i=>{n.push(Ln(i,e,t))}));const l=_.bind(null,e,t);return n.push(l),ei(n).then((()=>{n=[];for(const i of s.list())n.push(Ln(i,e,t));return n.push(l),ei(n)})).then((()=>{n=En(r,"beforeRouteUpdate",e,t);for(const i of r)i.updateGuards.forEach((i=>{n.push(Ln(i,e,t))}));return n.push(l),ei(n)})).then((()=>{n=[];for(const i of e.matched)if(i.beforeEnter&&!t.matched.includes(i))if(Array.isArray(i.beforeEnter))for(const r of i.beforeEnter)n.push(Ln(r,e,t));else n.push(Ln(i.beforeEnter,e,t));return n.push(l),ei(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=En(o,"beforeRouteEnter",e,t),n.push(l),ei(n)))).then((()=>{n=[];for(const i of a.list())n.push(Ln(i,e,t));return n.push(l),ei(n)})).catch((e=>Ht(e,8)?e:Promise.reject(e)))}function k(e,t,n){for(const i of l.list())i(e,t,n)}function C(e,t,n,i,r){const s=v(e,t);if(s)return s;const a=t===Vt,l=wt?history.state:{};n&&(i||a?o.replace(e.fullPath,_t({scroll:a&&l&&l.scroll},r)):o.push(e.fullPath,r)),c.value=e,D(e,t,n,a),E()}let S;let A,T=On(),O=On();function L(e,t,n){E(e);const i=O.list();return i.length?i.forEach((i=>i(e,t,n))):console.error(e),Promise.reject(e)}function E(e){return A||(A=!e,S||(S=o.listen(((e,t,n)=>{const i=f(e),r=b(i);if(r)return void w(_t(r,{replace:!0}),i).catch(kt);u=i;const s=c.value;var a,l;wt&&(a=It(s.fullPath,n.delta),l=Rt(),Ft.set(a,l)),x(i,s).catch((e=>Ht(e,12)?e:Ht(e,2)?(w(e.to,i).then((e=>{Ht(e,20)&&!n.delta&&n.type===Dt.pop&&o.go(-1,!1)})).catch(kt),Promise.reject()):(n.delta&&o.go(-n.delta,!1),L(e,i,s)))).then((e=>{(e=e||C(i,s,!1))&&(n.delta?o.go(-n.delta,!1):n.type===Dt.pop&&Ht(e,20)&&o.go(-1,!1)),k(i,s,e)})).catch(kt)}))),T.list().forEach((([t,n])=>e?n(e):t())),T.reset()),e}function D(n,i,r,o){const{scrollBehavior:s}=e;if(!wt||!s)return Promise.resolve();const a=!r&&function(e){const t=Ft.get(e);return Ft.delete(e),t}(It(n.fullPath,0))||(o||!r)&&history.state&&history.state.scroll||null;return(0,t.Y3)().then((()=>s(n,i,a))).then((e=>e&&function(e){let t;if("el"in e){const n=e.el,i="string"==typeof n&&n.startsWith("#"),r="string"==typeof n?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}(e))).catch((e=>L(e,n,i)))}const P=e=>o.go(e);let M;const $=new Set,R={currentRoute:c,addRoute:function(e,t){let i,r;return qt(e)?(i=n.getRecordMatcher(e),r=t):r=e,n.addRoute(r,i)},removeRoute:function(e){const t=n.getRecordMatcher(e);t&&n.removeRoute(t)},hasRoute:function(e){return!!n.getRecordMatcher(e)},getRoutes:function(){return n.getRoutes().map((e=>e.record))},resolve:f,options:e,push:y,replace:function(e){return y(_t(m(e),{replace:!0}))},go:P,back:()=>P(-1),forward:()=>P(1),beforeEach:s.add,beforeResolve:a.add,afterEach:l.add,onError:O.add,isReady:function(){return A&&c.value!==Vt?Promise.resolve():new Promise(((e,t)=>{T.add([e,t])}))},install(e){const i=this;e.component("RouterLink",Mn),e.component("RouterView",jn),e.config.globalProperties.$router=i,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,g.SU)(c)}),wt&&!M&&c.value===Vt&&(M=!0,y(o.location).catch((e=>{})));const r={};for(const e in Vt)r[e]=(0,t.Fl)((()=>c.value[e]));e.provide(vt,i),e.provide(yt,(0,g.qj)(r)),e.provide(bt,c);const s=e.unmount;$.add(e),e.unmount=function(){$.delete(e),$.size<1&&(u=Vt,S&&S(),S=null,c.value=Vt,M=!1,A=!1),s()},__VUE_PROD_DEVTOOLS__&&wt&&Vn(e,i,n)}};return R}({history:function(e){const t=function(e){const{history:t,location:n}=window,i={value:Nt(e,n)},r={value:t.state};function o(i,o,s){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+i:jt()+e+i;try{t[s?"replaceState":"pushState"](o,"",l),r.value=o}catch(e){console.error(e),n[s?"replace":"assign"](l)}}return r.value||o(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:i,state:r,push:function(e,n){const s=_t({},r.value,t.state,{forward:e,scroll:Rt()});o(s.current,s,!0),o(e,_t({},zt(i.value,e,null),{position:s.position+1},n),!1),i.value=e},replace:function(e,n){o(e,_t({},t.state,zt(r.value.back,e,r.value.forward,!0),n,{position:r.value.position}),!0),i.value=e}}}(e=function(e){if(!e)if(wt){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(Ct,"")}(e)),n=function(e,t,n,i){let r=[],o=[],s=null;const a=({state:o})=>{const a=Nt(e,location),l=n.value,c=t.value;let u=0;if(o){if(n.value=a,t.value=o,s&&s===l)return void(s=null);u=c?o.position-c.position:0}else i(a);r.forEach((e=>{e(n.value,l,{delta:u,type:Dt.pop,direction:u?u>0?Pt.forward:Pt.back:Pt.unknown})}))};function l(){const{history:e}=window;e.state&&e.replaceState(_t({},e.state,{scroll:Rt()}),"")}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l),{pauseListeners:function(){s=n.value},listen:function(e){r.push(e);const t=()=>{const t=r.indexOf(e);t>-1&&r.splice(t,1)};return o.push(t),t},destroy:function(){for(const e of o)e();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}}}(e,t.state,t.location,t.replace),i=_t({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:$t.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}(Ke.sb),parseQuery:ni().parse,stringifyQuery:ni().stringify,routes:Zh});const Gh=Kh;var Yh=n(7074),Qh=n(2975),Jh=n.n(Qh);const Xh={class:"ivu-poptip-content"},ed=(0,t._)("div",{class:"ivu-poptip-arrow"},null,-1),td={class:"ivu-poptip-inner"},nd={key:0,class:"ion ion-ios-help-circle"},id={key:1,class:"ivu-poptip-body-message"},rd={key:0,class:"ivu-poptip-footer"},od=[(0,t._)("span",null,"Cancel",-1)],sd=[(0,t._)("span",null,"OK",-1)];var ad=n(526);const ld={name:"Popover",components:{RenderCell:ad.Z},props:{content:{type:String,required:!1,default:""},title:{type:String,required:!1,default:""},confirm:{type:Boolean,required:!1,default:!1},bodyStyle:{type:[String,Object],required:!1,default:""},render:{type:Function,required:!1,default:null}}},cd=(0,D.Z)(ld,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("RenderCell");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(["ivu-poptip-popper ivu-poptip",{"ivu-poptip-confirm":r.confirm}])},[(0,t._)("div",Xh,[ed,(0,t._)("div",td,[(0,t._)("div",{class:"ivu-poptip-body",style:(0,c.j5)(r.bodyStyle)},[r.confirm?((0,t.wg)(),(0,t.iD)("i",nd)):(0,t.kq)("",!0),r.title?((0,t.wg)(),(0,t.iD)("div",id,(0,c.zw)(r.title),1)):(0,t.kq)("",!0),r.render?((0,t.wg)(),(0,t.j4)(l,{key:2,render:r.render},null,8,["render"])):(0,t.kq)("",!0),r.content?((0,t.wg)(),(0,t.iD)(t.HY,{key:3},[(0,t.Uk)((0,c.zw)(r.content),1)],64)):(0,t.kq)("",!0),(0,t.WI)(n.$slots,"default")],4),r.confirm?((0,t.wg)(),(0,t.iD)("div",rd,[(0,t._)("button",{type:"button",class:"ivu-btn ivu-btn-text ivu-btn-small",onClick:i[0]||(i[0]=(0,e.iM)((e=>n.$emit("on-cancel")),["prevent"]))},od),(0,t._)("button",{type:"button",class:"ivu-btn ivu-btn-primary ivu-btn-small",onClick:i[1]||(i[1]=(0,e.iM)((e=>n.$emit("on-ok")),["prevent"]))},sd)])):(0,t.kq)("",!0)])])],2)}]]);function ud(){hd.currentPopover&&(hd.currentPopover.remove(),hd.currentPopover.popper.remove(),hd.currentPopover=null)}document.addEventListener("click",(e=>{!hd.currentPopover||hd.currentPopover.popper.contains(event.target)||hd.currentPopover.reference.contains(event.target)||ud()}));const hd={currentPopover:null,show(n,i,r,o={}){ud();const s=(0,e.ri)({render:()=>(0,t.h)(cd,{bodyStyle:"padding: 0"},(()=>[(0,t.h)(i,r)]))}),a=(0,Yh.Z)(s,this.app);this.currentPopover=new(Jh())(n,a,{placement:o.placement||"bottom",modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}}}),this.currentPopover.remove=()=>{o.onRemove&&o.onRemove(),this.currentPopover.destroy()}},remove(){ud()},install(e,t){this.app=e,e.config.globalProperties.$Popover=this,e.config.globalProperties.$router&&e.config.globalProperties.$router.afterEach((()=>{this.remove()}))}},dd=hd;let pd,fd;function md(){pd&&(pd.destroy(),pd.popper.remove(),fd.unobserve(pd.popper))}document.addEventListener("click",(e=>{pd&&!pd.popper.contains(event.target)&&md()})),document.addEventListener("DOMContentLoaded",(()=>{dd.app.config.globalProperties.$router&&dd.app.config.globalProperties.$router.afterEach((()=>{md()}))}));const gd={removeCurrentPopover:md,mounted(n,i){i.value.disabled||(n.addEventListener(i.value.trigger||"click",(()=>{md();const r=(0,e.ri)({render:()=>(0,t.h)(cd,i.value)}),o=(0,Yh.Z)(r,dd.app);"mouseenter"===i.value.trigger&&o.addEventListener("mouseleave",(e=>{o.contains(e.toElement)||md()}));const s=document.querySelector("[data-popover-container]")||document.createElement("div");s.setAttribute("data-popover-container","true"),s.classList.add("mdm"),s.appendChild(o),document.body.appendChild(s);const a=document.body.getBoundingClientRect().height-n.getBoundingClientRect().y<200;pd=new(Jh())(n,o,{placement:(a?"right-end":i.value.placement)||"top"}),pd.trigger=i.value.trigger,fd=new ResizeObserver((()=>{pd.update()})),a&&fd.observe(o)})),"mouseenter"===i.value.trigger&&n.addEventListener("mouseleave",(e=>{pd.popper.contains(e.toElement)||md()})))}};var vd=n(9585);const yd=["data-transfer"],bd={class:"ivu-modal-header-content"};var wd=n(2143),_d=n(9712),xd=n(3456),kd=n(3996),Cd=n(2662),Sd=n(2075),Ad=n(1980),Td=n(6378),Od=n(3760);const Ld={name:"Modal",components:{Icon:wd.Z,VButton:_d.Z},directives:{TransferDom:xd.Z},mixins:[kd.Z,Cd.Z,Sd.Z],props:{modelValue:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:()=>!0},title:{type:String},width:{type:[Number,String],default:520},okText:{type:String},cancelText:{type:String},loading:{type:Boolean,default:!1},styles:{type:Object,default:()=>({})},className:{type:String},footerHide:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1},transitionNames:{type:Array,default:()=>["ease","fade"]},transfer:{type:Boolean,default:()=>!0},fullscreen:{type:Boolean,default:!1},mask:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},zIndex:{type:Number,default:1e3}},emits:["visible-change","update:modelValue","on-cancel","on-hidden"],data(){return{prefixCls:"ivu-modal",wrapShow:!1,showHead:!0,buttonLoading:!1,visible:this.modelValue,dragData:{x:null,y:null,dragX:null,dragY:null,dragging:!1},modalIndex:this.handleGetModalIndex(),isMouseTriggerIn:!1}},computed:{wrapClasses(){return["ivu-modal-wrap",{"ivu-modal-hidden":!this.wrapShow,[`${this.className}`]:!!this.className,"ivu-modal-no-mask":!this.showMask}]},wrapStyles(){return{zIndex:this.modalIndex+this.zIndex}},maskClasses:()=>"ivu-modal-mask",classes(){return["ivu-modal",{"ivu-modal-fullscreen":this.fullscreen,"ivu-modal-fullscreen-no-header":this.fullscreen&&!this.showHead,"ivu-modal-fullscreen-no-footer":this.fullscreen&&this.footerHide}]},contentClasses(){return["ivu-modal-content",{"ivu-modal-content-no-mask":!this.showMask,"ivu-modal-content-drag":this.draggable,"ivu-modal-content-dragging":this.draggable&&this.dragData.dragging}]},mainStyles(){const e={},t=parseInt(this.width),n=null!==this.dragData.x?{top:0}:{width:t<=100?`${t}%`:`${t}px`},i=this.styles?this.styles:{};return Object.assign(e,n,i),e},contentStyles(){const e={};if(this.draggable){const t=this.styles.top?parseFloat(this.styles.top):0,n=this.styles.left?parseFloat(this.styles.left):0;null!==this.dragData.x&&(e.left=this.dragData.x-n+"px"),null!==this.dragData.y&&(e.top=`${this.dragData.y}px`),null!==this.dragData.y&&(e.top=this.dragData.y-t+"px");const i=parseInt(this.width),r={width:i<=100?`${i}%`:`${i}px`};Object.assign(e,r)}return e},localeOkText(){return void 0===this.okText?this.t("i.modal.okText"):this.okText},localeCancelText(){return void 0===this.cancelText?this.t("i.modal.cancelText"):this.cancelText},showMask(){return!this.draggable&&this.mask}},watch:{modelValue(e){this.visible=e},visible(e){!1===e?(this.buttonLoading=!1,this.timer=setTimeout((()=>{this.wrapShow=!1,this.removeScrollEffect()}),300)):(this.lastVisible!==e&&(this.modalIndex=this.handleGetModalIndex(),(0,Od.qZ)()),this.timer&&clearTimeout(this.timer),this.wrapShow=!0,this.scrollable||this.addScrollEffect()),this.broadcast("Table","on-visible-change",e),this.broadcast("Slider","on-visible-change",e),this.$emit("visible-change",e),this.lastVisible=e,this.lastVisibleIndex=Od.Yg},loading(e){e||(this.buttonLoading=!1)},scrollable(e){e?this.removeScrollEffect():this.addScrollEffect()},title(e){void 0===this.$slots.header&&(this.showHead=!!e)}},mounted(){this.visible&&(this.wrapShow=!0);let e=!0;void 0!==this.$slots.header||this.title||(e=!1),this.showHead=e,document.addEventListener("keydown",this.EscClose)},methods:{close(){this.visible=!1,this.$emit("update:modelValue",!1),this.$emit("on-cancel")},handleMask(){this.maskClosable&&this.showMask&&!window.getSelection().toString()&&this.close()},handleWrapClick(e){if(this.isMouseTriggerIn)return void(this.isMouseTriggerIn=!1);const t=e.target.getAttribute("class");t&&t.indexOf("ivu-modal-wrap")>-1&&this.handleMask()},handleMousedown(){this.isMouseTriggerIn=!0},cancel(){this.close()},ok(){this.loading?this.buttonLoading=!0:(this.visible=!1,this.$emit("update:modelValue",!1)),this.$emit("on-ok")},EscClose(e){this.visible&&27===e.keyCode&&this.close()},animationFinish(){this.$emit("on-hidden")},handleMoveStart(e){if(!this.draggable)return!1;const t=this.$refs.content.getBoundingClientRect();this.dragData.x=t.x||t.left,this.dragData.y=t.y||t.top;const n={x:e.clientX,y:e.clientY};this.dragData.dragX=n.x,this.dragData.dragY=n.y,this.dragData.dragging=!0,(0,Ad.on)(window,"mousemove",this.handleMoveMove),(0,Ad.on)(window,"mouseup",this.handleMoveEnd)},handleMoveMove(e){if(!this.dragData.dragging)return!1;const t={x:e.clientX,y:e.clientY},n=t.x-this.dragData.dragX,i=t.y-this.dragData.dragY;this.dragData.x+=n,this.dragData.y+=i,this.dragData.dragX=t.x,this.dragData.dragY=t.y},handleMoveEnd(){this.dragData.dragging=!1,(0,Ad.S)(window,"mousemove",this.handleMoveMove),(0,Ad.S)(window,"mouseup",this.handleMoveEnd)},handleGetModalIndex:()=>((0,Od.kC)(),Od.Iy),handleClickModal(){if(this.draggable){if(Od.Yg!==this.lastVisibleIndex)return void(this.lastVisibleIndex=Od.Yg);this.modalIndex=this.handleGetModalIndex()}}},beforeUnmont(){document.removeEventListener("keydown",this.EscClose),this.removeScrollEffect()}},Ed=(0,D.Z)(Ld,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("Icon"),u=(0,t.up)("VButton"),h=(0,t.Q2)("transfer-dom");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{"data-transfer":r.transfer},[(0,t.Wm)(e.uT,{name:r.transitionNames[1]},{default:(0,t.w5)((()=>[a.showMask?(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(a.maskClasses),style:(0,c.j5)(a.wrapStyles),onClick:i[0]||(i[0]=(...e)=>a.handleMask&&a.handleMask(...e))},null,6)),[[e.F8,s.visible]]):(0,t.kq)("",!0)])),_:1},8,["name"]),(0,t._)("div",{class:(0,c.C_)(a.wrapClasses),style:(0,c.j5)(a.wrapStyles),onClick:i[5]||(i[5]=(...e)=>a.handleWrapClick&&a.handleWrapClick(...e))},[(0,t.Wm)(e.uT,{name:r.transitionNames[0],onAfterLeave:a.animationFinish},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("div",{class:(0,c.C_)(a.classes),style:(0,c.j5)(a.mainStyles),onMousedown:i[4]||(i[4]=(...e)=>a.handleMousedown&&a.handleMousedown(...e))},[(0,t._)("div",{ref:"content",class:(0,c.C_)(a.contentClasses),style:(0,c.j5)(a.contentStyles),onClick:i[3]||(i[3]=(...e)=>a.handleClickModal&&a.handleClickModal(...e))},[(0,t._)("div",bd,[r.closable?((0,t.wg)(),(0,t.iD)("a",{key:0,class:(0,c.C_)([s.prefixCls+"-close"]),onClick:i[1]||(i[1]=(...e)=>a.close&&a.close(...e))},[(0,t.WI)(n.$slots,"close",{},(()=>[(0,t.Wm)(l,{type:"ios-close"})]))],2)):(0,t.kq)("",!0),s.showHead?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)([s.prefixCls+"-header"]),onMousedown:i[2]||(i[2]=(...e)=>a.handleMoveStart&&a.handleMoveStart(...e))},[(0,t.WI)(n.$slots,"header",{},(()=>[(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-header-inner"])},(0,c.zw)(r.title),3)]))],34)):(0,t.kq)("",!0)]),(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-body"])},[(0,t.WI)(n.$slots,"default")],2),r.footerHide?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)([s.prefixCls+"-footer"])},[(0,t.WI)(n.$slots,"footer",{},(()=>[(0,t.Wm)(u,{type:"text",onClick:a.cancel},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(a.localeCancelText),1)])),_:1},8,["onClick"]),(0,t.Wm)(u,{type:"primary",loading:s.buttonLoading,onClick:a.ok},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(a.localeOkText),1)])),_:1},8,["loading","onClick"])]))],2))],6)],38),[[e.F8,s.visible]])])),_:3},8,["name","onAfterLeave"])],6)],8,yd)),[[h]])}]]),Dd={width:620,closable:!1,footerHide:!0},Pd=new class{open(e,t,n){const i={...Dd,...n};this.getModalInstance(e,t,i).show(i)}remove(){this.modalInstance&&(this.getModalInstance().remove(),this.modalInstance=null)}getModalInstance(e,t,n){return this.modalInstance=this.modalInstance||(0,vd.Z)(this.app,Ed,n,(n=>n(e,{...t})),(()=>{n.onClose&&n.onClose(),this.modalInstance=null})),this.modalInstance}install(e,t){this.app=e,e.config.globalProperties.$Modal=this,e.config.globalProperties.$router&&e.config.globalProperties.$router.afterEach((()=>{this.remove()}))}};var Md=n(675);const $d={getInstance(n,i=!0){return this.dialogInstance=this.dialogInstance||function(n){let i,r;const o=n||{},s=(0,e.ri)({mixins:[kd.Z],data:()=>Object.assign({},o,{visible:!1,width:416,title:"",body:"",iconType:"",iconName:"",okText:void 0,cancelText:void 0,showCancel:!1,loading:!1,buttonLoading:!1,scrollable:!1,closable:!1,closing:!1}),computed:{iconTypeCls(){return["ivu-modal-confirm-head-icon",`ivu-modal-confirm-head-icon-${this.iconType}`]},iconNameCls(){return["ion",`ion-${this.iconName}`]},localeOkText(){return this.okText?this.okText:this.t("i.modal.okText")},localeCancelText(){return this.cancelText?this.cancelText:this.t("i.modal.cancelText")}},methods:{cancel(){this.closing||(i.visible=!1,this.buttonLoading=!1,this.onCancel(),this.remove())},ok(){this.closing||(this.loading?this.buttonLoading=!0:(i.visible=!1,this.remove()),this.onOk())},remove(){this.closing=!0,setTimeout((()=>{this.closing=!1,this.destroy()}),300)},destroy(){this.$el&&document.body.removeChild(this.$el),this.onRemove()},onOk(){},onCancel(){},onRemove(){}},render(){const e=[];let n,i;return this.showCancel&&e.push((0,t.h)(_d.Z,{type:"text",onClick:this.cancel},{default:()=>this.localeCancelText})),e.push((0,t.h)(_d.Z,{type:"primary",loading:this.buttonLoading,onClick:this.ok},{default:()=>this.localeOkText})),n=this.render?(0,t.h)("div",{class:"ivu-modal-confirm-body ivu-modal-confirm-body-render"},[this.render(t.h)]):(0,t.h)("div",{class:"ivu-modal-confirm-body"},[(0,t.h)("div",{innerHTML:this.body})]),this.title&&(i=(0,t.h)("div",{class:"ivu-modal-confirm-head"},[(0,t.h)("div",{class:this.iconTypeCls},[(0,t.h)("i",{class:this.iconNameCls})]),(0,t.h)("div",{class:"ivu-modal-confirm-head-title",innerHTML:this.title})])),r=(0,t.h)(Ed,Object.assign({},o,{width:this.width,scrollable:this.scrollable,closable:this.closable,modelValue:this.visible,onInput:e=>{this.visible=e},onOnCancel:this.cancel}),(()=>[(0,t.h)("div",{class:"ivu-modal-confirm"},[i,n,(0,t.h)("div",{class:"ivu-modal-confirm-footer"},e)])])),r}}),a=document.createElement("div");return document.body.appendChild(s.mount(a).$el),i=r.component.proxy,{show(e){switch(i.$parent.showCancel=e.showCancel,i.$parent.iconType=e.icon,e.icon){case"info":i.$parent.iconName="ios-information-circle";break;case"success":i.$parent.iconName="ios-checkmark-circle";break;case"warning":i.$parent.iconName="ios-alert";break;case"error":i.$parent.iconName="ios-close-circle";break;case"confirm":i.$parent.iconName="ios-help-circle"}"width"in e&&(i.$parent.width=e.width),"closable"in e&&(i.$parent.closable=e.closable),"title"in e&&(i.$parent.title=e.title),"content"in e&&(i.$parent.body=e.content),"okText"in e&&(i.$parent.okText=e.okText),"cancelText"in e&&(i.$parent.cancelText=e.cancelText),"onCancel"in e&&(i.$parent.onCancel=e.onCancel),"onOk"in e&&(i.$parent.onOk=e.onOk),"loading"in e&&(i.$parent.loading=e.loading),"scrollable"in e&&(i.$parent.scrollable=e.scrollable),i.$parent.onRemove=e.onRemove,i.visible=!0},remove(){i.visible=!1,i.$parent.buttonLoading=!1,i.$parent.remove()},component:i}}({closable:!1,maskClosable:!1,footerHide:!0,render:n,lockScroll:i}),this.dialogInstance},show(e){const t="render"in e?e.render:void 0,n=!("lockScroll"in e)||e.lockScroll,i=this.getInstance(t,n);e.onRemove=()=>{this.dialogInstance=null},i.show(e)},info(e={}){return"object"==typeof e&&(e.icon="info",e.showCancel=!1),this.show(e)},success(e={}){return e.icon="success",e.showCancel=!1,this.show(e)},warning(e={}){return e.icon="warning",e.showCancel=!1,this.show(e)},error(e={}){return e.icon="error",e.showCancel=!1,this.show(e)},confirm(e={}){return e.icon="confirm",e.showCancel=!0,this.show(e)},remove:()=>!1,install(e,t){e.config.globalProperties.$Dialog=this}},Rd=["innerHTML"],Id=[(0,t._)("i",{class:"ivu-icon ivu-icon-ios-close"},null,-1)],Fd=["innerHTML"],jd=[(0,t._)("i",{class:"ivu-icon ivu-icon-ios-close"},null,-1)],Nd={components:{RenderCell:ad.Z},props:{prefixCls:{type:String,default:""},duration:{type:Number,default:1.5},type:{type:String},content:{type:String,default:""},withIcon:Boolean,render:{type:Function},hasTitle:Boolean,styles:{type:Object,default:function(){return{right:"50%"}}},closable:{type:Boolean,default:!1},className:{type:String},name:{type:String,required:!0},onClose:{type:Function},transitionName:{type:String},background:{type:Boolean,default:!1},msgType:{type:String}},data:()=>({withDesc:!1}),computed:{baseClass(){return`${this.prefixCls}-notice`},renderFunc(){return this.render||function(){}},classes(){return[this.baseClass,{[`${this.className}`]:!!this.className,[`${this.baseClass}-closable`]:this.closable,[`${this.baseClass}-with-desc`]:this.withDesc,[`${this.baseClass}-with-background`]:this.background}]},contentClasses(){return[`${this.baseClass}-content`,void 0!==this.render?`${this.baseClass}-content-with-render`:""]},messageContentClasses(){return[`${this.baseClass}-content`,{[`${this.baseClass}-content-${this.msgType}`]:this.msgType,[`${this.baseClass}-content-background`]:this.background}]},contentWithIcon(){return[this.withIcon?`${this.prefixCls}-content-with-icon`:"",!this.hasTitle&&this.withIcon?`${this.prefixCls}-content-with-render-notitle`:""]},messageClasses(){return[`${this.baseClass}-content`,void 0!==this.render?`${this.baseClass}-content-with-render`:""]}},mounted(){if(this.clearCloseTimer(),0!==this.duration&&(this.closeTimer=setTimeout((()=>{this.close()}),1e3*this.duration)),"ivu-notice"===this.prefixCls){const e=this.$refs.content.querySelectorAll(`.${this.prefixCls}-desc`)[0];this.withDesc=!!this.render||!!e&&""!==e.innerHTML}},methods:{clearCloseTimer(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)},close(){this.clearCloseTimer(),this.onClose(),this.$parent.close(this.name)},handleEnter(e){"message"===this.type&&(e.style.height=e.scrollHeight+"px")},handleLeave(e){"message"===this.type&&1!==document.getElementsByClassName("ivu-message-notice").length&&(e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)}},beforeUnmont(){this.clearCloseTimer()}},zd=(0,D.Z)(Nd,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("render-cell");return(0,t.wg)(),(0,t.j4)(e.uT,{name:r.transitionName,appear:"",onEnter:a.handleEnter,onLeave:a.handleLeave},{default:(0,t.w5)((()=>[(0,t._)("div",{class:(0,c.C_)(a.classes),style:(0,c.j5)(r.styles)},["notice"===r.type?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("div",{ref:"content",class:(0,c.C_)(a.contentClasses),innerHTML:r.content},null,10,Rd),(0,t._)("div",{class:(0,c.C_)(a.contentWithIcon)},[(0,t.Wm)(l,{render:a.renderFunc},null,8,["render"])],2),r.closable?((0,t.wg)(),(0,t.iD)("a",{key:0,class:(0,c.C_)([a.baseClass+"-close"]),onClick:i[0]||(i[0]=(...e)=>a.close&&a.close(...e))},Id,2)):(0,t.kq)("",!0)],64)):(0,t.kq)("",!0),"message"===r.type?((0,t.wg)(),(0,t.iD)("div",{key:1,ref:"content",class:(0,c.C_)(a.messageContentClasses)},[(0,t._)("div",{class:(0,c.C_)([a.baseClass+"-content-text"]),innerHTML:r.content},null,10,Fd),(0,t._)("div",{class:(0,c.C_)([a.baseClass+"-content-text"])},[(0,t.Wm)(l,{render:a.renderFunc},null,8,["render"])],2),r.closable?((0,t.wg)(),(0,t.iD)("a",{key:0,class:(0,c.C_)([a.baseClass+"-close"]),onClick:i[1]||(i[1]=(...e)=>a.close&&a.close(...e))},jd,2)):(0,t.kq)("",!0)],2)):(0,t.kq)("",!0)],6)])),_:1},8,["name","onEnter","onLeave"])}]]);let qd=0;const Vd=Date.now(),Bd={components:{Notice:zd},props:{prefixCls:{type:String,default:"ivu-notification"},styles:{type:Object,default:function(){return{top:"65px",left:"50%"}}},content:{type:String},className:{type:String}},data(){return{notices:[],tIndex:this.handleGetIndex()}},computed:{classes(){return[`${this.prefixCls}`,{[`${this.className}`]:!!this.className}]},wrapStyles(){const e=Object.assign({},this.styles);return e["z-index"]=1010+this.tIndex,e}},methods:{add(e){const t=e.name||"ivuNotification_"+Vd+"_"+qd++,n=Object.assign({styles:{right:"50%"},content:"",duration:1.5,closable:!1,name:t},e);this.notices.push(n),this.tIndex=this.handleGetIndex()},close(e){const t=this.notices;for(let n=0;n<t.length;n++)if(t[n].name===e){this.notices.splice(n,1);break}},closeAll(){this.notices=[]},handleGetIndex:()=>((0,Od.kC)(),Od.Iy)}},Wd=(0,D.Z)(Bd,[["render",function(e,n,i,r,o,s){const a=(0,t.up)("Notice");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes),style:(0,c.j5)(s.wrapStyles)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(o.notices,(e=>((0,t.wg)(),(0,t.j4)(a,{key:e.name,"prefix-cls":i.prefixCls,styles:e.styles,type:e.type,content:e.content,duration:e.duration,render:e.render,"has-title":e.hasTitle,"with-icon":e.withIcon,closable:e.closable,name:e.name,"transition-name":e.transitionName,background:e.background,"msg-type":e.msgType,"on-close":e.onClose},null,8,["prefix-cls","styles","type","content","duration","render","has-title","with-icon","closable","name","transition-name","background","msg-type","on-close"])))),128))],6)}]]),Ud=Wd,Hd="ivu_message_key_",Zd={top:24,duration:1.5};let Kd=1;const Gd={info:"ios-information-circle",success:"ios-checkmark-circle",warning:"ios-alert",error:"ios-close-circle",loading:"ios-loading"},Yd={info(e){return this.message("info",e)},success(e){return this.message("success",e)},warning(e){return this.message("warning",e)},error(e){return this.message("error",e)},loading(e){return this.message("loading",e)},message(e,t){return"string"==typeof t&&(t={content:t}),this.notice(t.content,t.duration,e,t.onClose,t.closable,t.render,t.background)},getMessageInstance(){return this.messageInstance=this.messageInstance||function(n){let i,r;const o=n||{},s=(0,e.ri)({render:()=>(i=(0,t.h)(Ud,o),i)}),a=document.createElement("div"),l=document.createElement("div");return document.body.appendChild(l),l.appendChild(s.mount(a).$el),r=i.component.proxy,{notice(e){r.add(e)},remove(e){r.close(e)},component:r,destroy(e){r.closeAll(),setTimeout((()=>{document.body.removeChild(document.getElementsByClassName(e)[0])}),500)}}}({prefixCls:"ivu-message",styles:{top:`${Zd.top}px`}}),this.messageInstance},notice(e="",t=Zd.duration,n,i=function(){},r=!1,o=function(){},s=!1){const a=Gd[n],l="loading"===n?" ivu-load-loop":"",c=this.getMessageInstance();return c.notice({name:`${Hd}${Kd}`,duration:t,styles:{},transitionName:"move-up",content:`\n            <div class="ivu-message-custom-content ivu-message-${n}">\n                <i class="ion ion-${a} ${l}"></i>\n                <span>${e}</span>\n            </div>\n        `,render:o,onClose:i,closable:r,type:"message",msgType:n,background:s}),function(){const e=Kd++;return function(){c.remove(`${Hd}${e}`)}}()},config(e){(e.top||0===e.top)&&(Zd.top=e.top),(e.duration||0===e.duration)&&(Zd.duration=e.duration)},destroy(){const e=getMessageInstance();this.messageInstance=null,e.destroy("ivu-message")},install(e,t){e.config.globalProperties.$Message=this}};var Qd=n(5582);const Jd={name:"CollapseTransition",props:{appear:{type:Boolean,default:!1}},methods:{beforeEnter(e){(0,Td.cn)(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter(e){(0,Td.IV)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave(e){0!==e.scrollHeight&&((0,Td.cn)(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave(e){(0,Td.IV)(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}}},Xd=(0,D.Z)(Jd,[["render",function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.j4)(e.uT,{onBeforeEnter:a.beforeEnter,onEnter:a.enter,onAfterEnter:a.afterEnter,onBeforeLeave:a.beforeLeave,onLeave:a.leave,onAfterLeave:a.afterLeave},{default:(0,t.w5)((()=>[(0,t.WI)(n.$slots,"default")])),_:3},8,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])}]]),ep={data(){return{menu:(0,Td.ah)(this,"Menu")}},computed:{hasParentSubmenu(){return!!(0,Td.ah)(this,"Submenu")},parentSubmenuNum(){return(0,Td.VC)(this,"Submenu").length},mode(){return this.menu.mode}}};var tp=n(9560);const np={name:"Submenu",components:{Icon:wd.Z,SelectDropdown:Qd.Z,CollapseTransition:Xd},mixins:[Cd.Z,ep,tp.Z],props:{name:{type:[String,Number],required:!0},collapse:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},data(){return{prefixCls:"ivu-menu",active:!1,opened:!this.collapse,dropWidth:parseFloat((0,Td.C2)(this.$el,"width"))}},computed:{classes(){return["ivu-menu-submenu",{"ivu-menu-item-active":this.active&&!this.hasParentSubmenu,"ivu-menu-opened":this.opened,"ivu-menu-submenu-disabled":this.disabled,"ivu-menu-submenu-has-parent-submenu":this.hasParentSubmenu,"ivu-menu-child-item-active":this.active}]},accordion(){return this.menu.accordion},dropStyle(){const e={};return this.dropWidth&&(e.minWidth=`${this.dropWidth}px`),e},titleStyle:()=>({}),arrowType:()=>"ios-arrow-down",customArrowType:()=>"",arrowSize:()=>""},watch:{mode(e){"horizontal"===e&&this.$refs.drop.update()},opened(e){"vertical"!==this.mode&&(e?(this.dropWidth=parseFloat((0,Td.C2)(this.$el,"width")),this.$refs.drop.update()):this.$refs.drop.destroy())}},mounted(){this.mitt.on("on-menu-item-select",this.onMenuItemSelect),this.mitt.on("on-update-active-name",this.onUpdateActiveName)},methods:{onMenuItemSelect(e){return"horizontal"===this.mode&&(this.opened=!1),this.dispatch("Menu","on-menu-item-select",e),!0},onUpdateActiveName(e){(0,Td.ah)(this,"Submenu")&&this.dispatch("Submenu","on-update-active-name",e),(0,Td.Hj)(this,"Submenu")&&(0,Td.Hj)(this,"Submenu").forEach((e=>{e.active=!1})),this.active=this.name===e.split(".")[0]},handleMouseenter(){this.disabled||"vertical"!==this.mode&&(clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.menu.updateOpenKeys(this.name),this.opened=!0}),250))},handleMouseleave(){this.disabled||"vertical"!==this.mode&&(clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.menu.updateOpenKeys(this.name),this.opened=!1}),150))},handleItemClick(e){if(this.disabled)return;if("horizontal"===this.mode)return;const t=this.opened;this.accordion&&this.$parent.$children.forEach((e=>{"Submenu"===e.$options.name&&(e.opened=!1)})),this.collapse&&(this.opened=!t,this.menu.updateOpenKeys(this.name));const n=(0,Td.ah)(this,"Menu");n&&n.handleEmitSelectEvent(this.name),this.onUpdateActiveName(this.name),this.handleCheckClick(e,!1)}}},ip=(0,D.Z)(np,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("Icon"),u=(0,t.up)("CollapseTransition"),h=(0,t.up)("SelectDropdown");return(0,t.wg)(),(0,t.iD)("li",{class:(0,c.C_)(a.classes),onMouseenter:i[0]||(i[0]=(...e)=>a.handleMouseenter&&a.handleMouseenter(...e)),onMouseleave:i[1]||(i[1]=(...e)=>a.handleMouseleave&&a.handleMouseleave(...e))},[((0,t.wg)(),(0,t.j4)((0,t.LL)(n.to?"a":"li"),{ref:"reference",class:(0,c.C_)([s.prefixCls+"-submenu-title"]),style:(0,c.j5)(a.titleStyle),href:n.linkUrl,onClick:(0,e.iM)(a.handleItemClick,["prevent"])},{default:(0,t.w5)((()=>[(0,t.WI)(n.$slots,"title"),r.collapse?((0,t.wg)(),(0,t.j4)(l,{key:0,type:a.arrowType,custom:a.customArrowType,size:a.arrowSize,class:(0,c.C_)([s.prefixCls+"-submenu-title-icon"])},null,8,["type","custom","size","class"])):(0,t.kq)("",!0)])),_:3},8,["class","style","href","onClick"])),"vertical"===n.mode?((0,t.wg)(),(0,t.j4)(u,{key:0},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("ul",{class:(0,c.C_)([s.prefixCls])},[(0,t.WI)(n.$slots,"default")],2),[[e.F8,s.active]])])),_:3})):((0,t.wg)(),(0,t.j4)(e.uT,{key:1,name:"slide-up"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(h,{ref:"drop",placement:"bottom",style:(0,c.j5)(a.dropStyle)},{default:(0,t.w5)((()=>[(0,t._)("ul",{class:(0,c.C_)([s.prefixCls+"-drop-list"])},[(0,t.WI)(n.$slots,"default")],2)])),_:3},8,["style"]),[[e.F8,s.opened]])])),_:3}))],34)}]]),rp={name:"Menu",mixins:[Cd.Z],props:{mode:{validator:e=>(0,Td.kw)(e,["horizontal","vertical"]),default:"vertical"},theme:{validator:e=>(0,Td.kw)(e,["light","dark","primary"]),default:"light"},activeName:{type:[String,Number]},openNames:{type:Array,default:()=>[]},accordion:{type:Boolean,default:!1},width:{type:String,default:"240px"}},emits:["on-select","on-open-change"],data(){return{currentActiveName:this.activeName,openedNames:[],children:[]}},computed:{classes(){let e=this.theme;return"vertical"===this.mode&&"primary"===this.theme&&(e="light"),["ivu-menu",`ivu-menu-${e}`,{[`ivu-menu-${this.mode}`]:this.mode}]},styles(){const e={};return"vertical"===this.mode&&(e.width=this.width),e}},watch:{openNames(e){this.openedNames=e},activeName(e){this.currentActiveName=e},currentActiveName(){this.updateActiveName()}},mounted(){this.openedNames=[...this.openNames],this.updateOpened(),this.$nextTick((()=>this.updateActiveName())),this.mitt.on("on-menu-item-select",(e=>{this.currentActiveName=e,this.$emit("on-select",e)}))},methods:{updateActiveName(){void 0===this.currentActiveName&&(this.currentActiveName=-1),this.broadcast("Submenu","on-update-active-name",this.currentActiveName),this.broadcast("MenuItem","on-update-active-name",this.currentActiveName)},updateOpenKeys(e){const t=[...this.openedNames].indexOf(e);if(this.accordion&&(0,Td.Hj)(this,"Submenu").forEach((e=>{e.opened=!1})),t>=0){let t=null;(0,Td.Hj)(this,"Submenu").forEach((n=>{n.name===e&&(t=n,n.opened=!1)})),(0,Td.VC)(t,"Submenu").forEach((e=>{e.opened=!0})),(0,Td.Hj)(t,"Submenu").forEach((e=>{e.opened=!1}))}else if(this.accordion){let t=null;(0,Td.Hj)(this,"Submenu").forEach((n=>{n.name===e&&(t=n,n.opened=!0)})),(0,Td.VC)(t,"Submenu").forEach((e=>{e.opened=!0}))}else(0,Td.Hj)(this,"Submenu").forEach((t=>{t.name===e&&(t.opened=!0)}));const n=(0,Td.Hj)(this,"Submenu").filter((e=>e.opened)).map((e=>e.name));this.openedNames=[...n],this.$emit("on-open-change",n)},updateOpened(){},handleEmitSelectEvent(e){this.$emit("on-select",e)}}},op=(0,D.Z)(rp,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("ul",{class:(0,c.C_)(s.classes),style:(0,c.j5)(s.styles)},[(0,t.WI)(e.$slots,"default")],6)}]]),sp=["href","target"],ap={name:"MenuItem",mixins:[Cd.Z,ep,tp.Z],props:{name:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1}},data:()=>({active:!1}),computed:{classes(){return["ivu-menu-item",{"ivu-menu-item-active":this.active,"ivu-menu-item-selected":this.active,"ivu-menu-item-disabled":this.disabled}]},itemStyle:()=>({})},mounted(){this.mitt.on("on-update-active-name",this.updateActiveName)},methods:{updateActiveName(e){this.name===e?(this.active=!0,this.dispatch("Submenu","on-update-active-name",e)):this.active=!1},handleClickItem(e,t=!1){if(!this.disabled)if(t||"_blank"===this.target){this.handleCheckClick(e,t);const n=(0,Td.ah)(this,"Menu");n&&n.handleEmitSelectEvent(this.name)}else(0,Td.ah)(this,"Submenu")?this.dispatch("Submenu","on-menu-item-select",this.name):this.dispatch("Menu","on-menu-item-select",this.name),this.handleCheckClick(e,t)}}},lp=(0,D.Z)(ap,[["render",function(n,i,r,o,s,a){return n.to?((0,t.wg)(),(0,t.iD)("a",{key:0,href:n.linkUrl,target:n.target,class:(0,c.C_)(a.classes),style:(0,c.j5)(a.itemStyle),onClick:[i[0]||(i[0]=(0,e.iM)((e=>a.handleClickItem(e,!1)),["exact"])),i[1]||(i[1]=(0,e.iM)((e=>a.handleClickItem(e,!0)),["ctrl"])),i[2]||(i[2]=(0,e.iM)((e=>a.handleClickItem(e,!0)),["meta"]))]},[(0,t.WI)(n.$slots,"default")],14,sp)):((0,t.wg)(),(0,t.iD)("li",{key:1,class:(0,c.C_)(a.classes),style:(0,c.j5)(a.itemStyle),onClick:i[3]||(i[3]=(0,e.iM)(((...e)=>a.handleClickItem&&a.handleClickItem(...e)),["stop"]))},[(0,t.WI)(n.$slots,"default")],6))}]]),cp={name:"Dropdown",directives:{clickOutside:{mounted(e,{value:t},n){function i(n){if(e.contains(n.target))return!1;"function"==typeof t&&t(n)}e.__vueClickOutside__=i,document.addEventListener("click",i)},update(){},unmount(e,t){document.removeEventListener("click",e.__vueClickOutside__),delete e.__vueClickOutside__}},TransferDom:xd.Z},components:{Drop:Qd.Z},mixins:[Cd.Z],props:{trigger:{validator:e=>(0,Td.kw)(e,["click","hover","custom","contextMenu"]),default:"hover"},placement:{validator:e=>(0,Td.kw)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"]),default:"bottom"},visible:{type:Boolean,default:!1},transfer:{type:Boolean,default:()=>!1},transferClassName:{type:String},stopPropagation:{type:Boolean,default:!1},capture:{type:Boolean,default:()=>!0}},emits:["on-clickoutside","on-visible-change"],data(){return{prefixCls:"ivu-dropdown",currentVisible:this.visible}},computed:{transition(){return["bottom-start","bottom","bottom-end"].indexOf(this.placement)>-1?"slide-up":"fade"},dropdownCls(){return{"ivu-dropdown-transfer":this.transfer,[this.transferClassName]:this.transferClassName}},relClasses(){return["ivu-dropdown-rel",{"ivu-dropdown-rel-user-select-none":"contextMenu"===this.trigger}]}},watch:{visible(e){this.currentVisible=e},currentVisible(e){e?this.$refs.drop.update():this.$refs.drop.destroy(),this.$emit("on-visible-change",e)}},mounted(){this.mitt.on("on-click",(e=>{if(this.stopPropagation)return;const t=this.hasParent();t&&t.$emit("on-click",e)})),this.mitt.on("on-hover-click",(()=>{const e=this.hasParent();e?(this.$nextTick((()=>{if("custom"===this.trigger)return!1;this.currentVisible=!1})),e.$emit("on-hover-click")):this.$nextTick((()=>{if("custom"===this.trigger)return!1;this.currentVisible=!1}))})),this.mitt.on("on-haschild-click",(()=>{this.$nextTick((()=>{if("custom"===this.trigger)return!1;this.currentVisible=!0}));const e=this.hasParent();e&&e.$emit("on-haschild-click")}))},methods:{handleClick(){return"custom"!==this.trigger&&("click"===this.trigger&&void(this.hasParent()||(this.currentVisible=!this.currentVisible)))},handleRightClick(){return"custom"!==this.trigger&&"contextMenu"===this.trigger&&void(this.currentVisible=!this.currentVisible)},handleMouseenter(){return"custom"!==this.trigger&&"hover"===this.trigger&&(this.timeout&&clearTimeout(this.timeout),void(this.timeout=setTimeout((()=>{this.currentVisible=!0}),250)))},handleMouseleave(){return"custom"!==this.trigger&&"hover"===this.trigger&&void(this.timeout&&(clearTimeout(this.timeout),this.timeout=setTimeout((()=>{this.currentVisible=!1}),150)))},onClickoutside(e){this.handleClose(),this.handleRightClose(),this.currentVisible&&this.$emit("on-clickoutside",e)},handleClose(){return"custom"!==this.trigger&&"click"===this.trigger&&void(this.currentVisible=!1)},handleRightClose(){return"custom"!==this.trigger&&"contextMenu"===this.trigger&&void(this.currentVisible=!1)},hasParent(){return(0,Td.ah)(this,"Dropdown")||!1}}},up=(0,D.Z)(cp,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("Drop"),u=(0,t.Q2)("transfer-dom"),h=(0,t.Q2)("click-outside");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)([s.prefixCls]),onMouseenter:i[2]||(i[2]=(...e)=>a.handleMouseenter&&a.handleMouseenter(...e)),onMouseleave:i[3]||(i[3]=(...e)=>a.handleMouseleave&&a.handleMouseleave(...e))},[(0,t._)("div",{ref:"reference",class:(0,c.C_)(a.relClasses),onClick:i[0]||(i[0]=(...e)=>a.handleClick&&a.handleClick(...e)),onContextmenu:i[1]||(i[1]=(0,e.iM)(((...e)=>a.handleRightClick&&a.handleRightClick(...e)),["prevent"]))},[(0,t.WI)(n.$slots,"default")],34),(0,t.Wm)(e.uT,{name:"transition-drop"},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(l,{ref:"drop",class:(0,c.C_)(a.dropdownCls),placement:r.placement,"data-transfer":r.transfer,transfer:r.transfer,onMouseenter:a.handleMouseenter,onMouseleave:a.handleMouseleave},{default:(0,t.w5)((()=>[(0,t.WI)(n.$slots,"list")])),_:3},8,["class","placement","data-transfer","transfer","onMouseenter","onMouseleave"])),[[e.F8,s.currentVisible],[u]])])),_:3})],34)),[[h,a.onClickoutside]])}]]),hp={class:"ivu-dropdown-menu"},dp={name:"DropdownMenu"},pp=(0,D.Z)(dp,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("ul",hp,[(0,t.WI)(e.$slots,"default")])}]]),fp={name:"DropdownItem",props:{name:{type:[String,Number]},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},divided:{type:Boolean,default:!1}},computed:{classes(){return["ivu-dropdown-item",{"ivu-dropdown-item-disabled":this.disabled,"ivu-dropdown-item-selected":this.selected,"ivu-dropdown-item-divided":this.divided}]}},methods:{handleClick(){if(this.disabled)return;const e=(0,Td.ah)(this,"Dropdown");this.$parent&&"Dropdown"===this.$parent.$options.name?this.$parent.mitt.emit("on-haschild-click"):e&&"Dropdown"===e.$options.name&&e.mitt.emit("on-hover-click"),e.mitt.emit("on-click",this.name)}}},mp=(0,D.Z)(fp,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("li",{class:(0,c.C_)(s.classes),onClick:n[0]||(n[0]=(...e)=>s.handleClick&&s.handleClick(...e))},[(0,t.WI)(e.$slots,"default")],2)}]]),gp={name:"Header",computed:{wrapClasses:()=>"ivu-layout-header"}},vp=(0,D.Z)(gp,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.wrapClasses)},[(0,t.WI)(e.$slots,"default")],2)}]]),yp={key:0},bp={name:"Card",components:{Icon:wd.Z},mixins:[tp.Z],props:{bordered:{type:Boolean,default:!0},disHover:{type:Boolean,default:!1},shadow:{type:Boolean,default:!1},padding:{type:Number,default:16},title:{type:String,required:!1,default:""},icon:{type:String,required:!1,default:""}},data:()=>({showHead:!0,showExtra:!0}),computed:{classes(){return["ivu-card",{"ivu-card-bordered":this.bordered&&!this.shadow,"ivu-card-dis-hover":this.disHover||this.shadow,"ivu-card-shadow":this.shadow}]},headClasses:()=>"ivu-card-head",extraClasses:()=>"ivu-card-extra",bodyClasses:()=>"ivu-card-body",bodyStyles(){return 16!==this.padding?{padding:`${this.padding}px`}:""},isHrefPattern(){const{to:e}=this;return!!e},tagName(){const{isHrefPattern:e}=this;return e?"a":"div"},tagProps(){const{isHrefPattern:e}=this;if(e){const{linkUrl:e,target:t}=this;return{href:e,target:t}}return{}}},mounted(){this.showHead=this.title||void 0!==this.$slots.title,this.showExtra=void 0!==this.$slots.extra},methods:{handleClickLink(e){if(!this.isHrefPattern)return;const t=e.ctrlKey||e.metaKey;this.handleCheckClick(e,t)}}},wp=(0,D.Z)(bp,[["render",function(e,n,i,r,o,s){const a=(0,t.up)("Icon");return(0,t.wg)(),(0,t.j4)((0,t.LL)(s.tagName),(0,t.dG)({class:s.classes},s.tagProps,{onClick:s.handleClickLink}),{default:(0,t.w5)((()=>[o.showHead?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(s.headClasses)},[(0,t.WI)(e.$slots,"title",{},(()=>[i.title?((0,t.wg)(),(0,t.iD)("p",yp,[i.icon?((0,t.wg)(),(0,t.j4)(a,{key:0,type:i.icon},null,8,["type"])):(0,t.kq)("",!0),(0,t._)("span",null,(0,c.zw)(i.title),1)])):(0,t.kq)("",!0)]))],2)):(0,t.kq)("",!0),o.showExtra?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)(s.extraClasses)},[(0,t.WI)(e.$slots,"extra")],2)):(0,t.kq)("",!0),(0,t._)("div",{class:(0,c.C_)(s.bodyClasses),style:(0,c.j5)(s.bodyStyles)},[(0,t.WI)(e.$slots,"default")],6)])),_:3},16,["class","onClick"])}]]),_p={name:"Layout",props:{hasSider:{type:Boolean,required:!1,default:!1}},computed:{wrapClasses(){return["ivu-layout",{"ivu-layout-has-sider":this.hasSider}]}}},xp=(0,D.Z)(_p,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.wrapClasses)},[(0,t.WI)(e.$slots,"default")],2)}]]);var kp=n(2983);const Cp=[(0,t._)("i",{class:"ion ion-ios-remove"},null,-1)],Sp=[(0,t._)("i",{class:"ion ion-ios-add"},null,-1)],Ap=["id","disabled","autofocus","readonly","name","value","placeholder"];var Tp=n(8251);function Op(e,t){let n,i,r;try{n=e.toString().split(".")[1].length}catch(e){n=0}try{i=t.toString().split(".")[1].length}catch(e){i=0}return r=Math.pow(10,Math.max(n,i)),(Math.round(e*r)+Math.round(t*r))/r}const Lp={name:"InputNumber",mixins:[Cd.Z,Tp.Z],props:{max:{type:Number,default:1/0},min:{type:Number,default:-1/0},step:{type:Number,default:1},activeChange:{type:Boolean,default:!0},modelValue:{type:[Number,String],default:1},size:{validator:e=>(0,Td.kw)(e,["small","large","default"]),default:()=>"default"},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},name:{type:String},precision:{type:Number},elementId:{type:String},formatter:{type:Function},parser:{type:Function},placeholder:{type:String,default:""},controlsOutside:{type:Boolean,default:!1}},emits:["on-change","update:modelValue","on-focus","on-blur"],data(){return{focused:!1,upDisabled:!1,downDisabled:!1,currentValue:this.modelValue}},computed:{wrapClasses(){return["ivu-input-number",{[`ivu-input-number-${this.size}`]:!!this.size,"ivu-input-number-disabled":this.itemDisabled,"ivu-input-number-focused":this.focused,"ivu-input-number-controls-outside":this.controlsOutside}]},handlerClasses:()=>"ivu-input-number-handler-wrap",upClasses(){return["ivu-input-number-handler","ivu-input-number-handler-up",{"ivu-input-number-handler-up-disabled":this.upDisabled}]},innerUpClasses:()=>"ivu-input-number-handler-up-inner ion ion-ios-arrow-up",downClasses(){return["ivu-input-number-handler","ivu-input-number-handler-down",{"ivu-input-number-handler-down-disabled":this.downDisabled}]},innerDownClasses:()=>"ivu-input-number-handler-down-inner ion ion-ios-arrow-down",inputWrapClasses:()=>"ivu-input-number-input-wrap",inputClasses:()=>"ivu-input-number-input",precisionValue(){return this.currentValue&&this.precision?this.currentValue.toFixed(this.precision):this.currentValue},formatterValue(){return this.formatter&&null!==this.precisionValue?this.formatter(this.precisionValue):this.precisionValue}},watch:{modelValue(e){this.currentValue=e},currentValue(e){this.changeVal(e)},min(){this.changeVal(this.currentValue)},max(){this.changeVal(this.currentValue)}},mounted(){this.changeVal(this.currentValue)},methods:{preventDefault(e){e.preventDefault()},up(e){const t=Number(e.target.value);if(this.upDisabled&&isNaN(t))return!1;this.changeStep("up",e)},down(e){const t=Number(e.target.value);if(this.downDisabled&&isNaN(t))return!1;this.changeStep("down",e)},changeStep(e,t){if(this.itemDisabled||this.readonly)return!1;const n=Number(t.target.value);let i=Number(this.currentValue);const r=Number(this.step);if(isNaN(i))return!1;if(!isNaN(n))if("up"===e){if(!(Op(n,r)<=this.max))return!1;i=n}else if("down"===e){if(!(Op(n,-r)>=this.min))return!1;i=n}"up"===e?i=Op(i,r):"down"===e&&(i=Op(i,-r)),this.setValue(i)},setValue(e){e&&!isNaN(this.precision)&&(e=Number(Number(e).toFixed(this.precision)));const{min:t,max:n}=this;null!==e&&(e>n?e=n:e<t&&(e=t)),this.$nextTick((()=>{this.currentValue=e,this.$emit("update:modelValue",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e)}))},focus(e){this.focused=!0,this.$emit("on-focus",e)},blur(){this.focused=!1,this.$emit("on-blur"),(0,Td.ah)(this,["DatePicker","TimePicker","Cascader","Search"])||this.dispatch("FormItem","on-form-blur",this.currentValue)},keyDown(e){38===e.keyCode?(e.preventDefault(),this.up(e)):40===e.keyCode&&(e.preventDefault(),this.down(e))},change(e){if("change"==e.type&&this.activeChange)return;if("input"==e.type&&!this.activeChange)return;let t=e.target.value.trim();this.parser&&(t=this.parser(t)),0===t.length?this.setValue(null):"input"==e.type&&t.match(/^\-?\.?$|\.$/)||(t=Number(t),isNaN(t)?e.target.value=this.currentValue:(this.currentValue=t,this.setValue(t)))},changeVal(e){if(e=Number(e),isNaN(e))this.upDisabled=!0,this.downDisabled=!0;else{const t=this.step;this.upDisabled=e+t>this.max,this.downDisabled=e-t<this.min}}}},Ep=(0,D.Z)(Lp,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.wrapClasses)},[i.controlsOutside?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(s.handlerClasses)},[(0,t._)("a",{class:(0,c.C_)(s.upClasses),onClick:n[1]||(n[1]=(...e)=>s.up&&s.up(...e))},[(0,t._)("span",{class:(0,c.C_)(s.innerUpClasses),onClick:n[0]||(n[0]=(...e)=>s.preventDefault&&s.preventDefault(...e))},null,2)],2),(0,t._)("a",{class:(0,c.C_)(s.downClasses),onClick:n[3]||(n[3]=(...e)=>s.down&&s.down(...e))},[(0,t._)("span",{class:(0,c.C_)(s.innerDownClasses),onClick:n[2]||(n[2]=(...e)=>s.preventDefault&&s.preventDefault(...e))},null,2)],2)],2)),i.controlsOutside?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)(["ivu-input-number-controls-outside-btn ivu-input-number-controls-outside-down",{"ivu-input-number-controls-outside-btn-disabled":o.downDisabled}]),onClick:n[4]||(n[4]=(...e)=>s.down&&s.down(...e))},Cp,2)):(0,t.kq)("",!0),i.controlsOutside?((0,t.wg)(),(0,t.iD)("div",{key:2,class:(0,c.C_)(["ivu-input-number-controls-outside-btn ivu-input-number-controls-outside-up",{"ivu-input-number-controls-outside-btn-disabled":o.upDisabled}]),onClick:n[5]||(n[5]=(...e)=>s.up&&s.up(...e))},Sp,2)):(0,t.kq)("",!0),(0,t._)("div",{class:(0,c.C_)(s.inputWrapClasses)},[(0,t._)("input",{id:i.elementId,class:(0,c.C_)(s.inputClasses),disabled:e.itemDisabled,autocomplete:"off",spellcheck:"false",autofocus:i.autofocus,readonly:i.readonly||!i.editable,name:i.name,value:s.formatterValue,placeholder:i.placeholder,onFocus:n[6]||(n[6]=(...e)=>s.focus&&s.focus(...e)),onBlur:n[7]||(n[7]=(...e)=>s.blur&&s.blur(...e)),onKeydown:n[8]||(n[8]=(...e)=>s.keyDown&&s.keyDown(...e)),onInput:n[9]||(n[9]=(...e)=>s.change&&s.change(...e)),onMouseup:n[10]||(n[10]=(...e)=>s.preventDefault&&s.preventDefault(...e)),onChange:n[11]||(n[11]=(...e)=>s.change&&s.change(...e))},null,42,Ap)],2)],2)}]]),Dp=["autocomplete"],Pp={name:"Alert",components:{Icon:wd.Z},props:{type:{validator:e=>(0,Td.kw)(e,["success","info","warning","error"]),default:"info"},closable:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!1},banner:{type:Boolean,default:!1}},data:()=>({closed:!1,desc:!1}),computed:{wrapClasses(){return["ivu-alert",`ivu-alert-${this.type}`,{"ivu-alert-with-icon":this.showIcon,"ivu-alert-with-desc":this.desc,"ivu-alert-with-banner":this.banner}]},messageClasses:()=>"ivu-alert-message",descClasses:()=>"ivu-alert-desc",closeClasses:()=>"ivu-alert-close",iconClasses:()=>"ivu-alert-icon",iconType(){let e="";switch(this.type){case"success":e="ios-checkmark-circle";break;case"info":e="ios-information-circle";break;case"warning":e="ios-alert";break;case"error":e="ios-close-circle"}return this.desc&&(e+="-outline"),e}},mounted(){this.desc=void 0!==this.$slots.desc},methods:{close(e){this.closed=!0,this.$emit("on-close",e)}}},Mp={name:"VForm",components:{Alert:(0,D.Z)(Pp,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("Icon");return(0,t.wg)(),(0,t.j4)(e.uT,{name:"fade"},{default:(0,t.w5)((()=>[s.closed?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(a.wrapClasses)},[r.showIcon?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(a.iconClasses)},[(0,t.WI)(n.$slots,"icon",{},(()=>[(0,t.Wm)(l,{type:a.iconType},null,8,["type"])]))],2)):(0,t.kq)("",!0),(0,t._)("span",{class:(0,c.C_)(a.messageClasses)},[(0,t.WI)(n.$slots,"default")],2),(0,t._)("span",{class:(0,c.C_)(a.descClasses)},[(0,t.WI)(n.$slots,"desc")],2),r.closable?((0,t.wg)(),(0,t.iD)("a",{key:1,class:(0,c.C_)(a.closeClasses),onClick:i[0]||(i[0]=(...e)=>a.close&&a.close(...e))},[(0,t.WI)(n.$slots,"close",{},(()=>[(0,t.Wm)(l,{type:"ios-close"})]))],2)):(0,t.kq)("",!0)],2))])),_:3})}]])},mixins:[Cd.Z],provide(){return{FormInstance:this}},props:{model:{type:Object},rules:{type:Object},labelWidth:{type:Number},labelPosition:{validator:e=>(0,Td.kw)(e,["left","right","top"]),default:"right"},inline:{type:Boolean,default:!1},showMessage:{type:Boolean,default:!0},autocomplete:{validator:e=>(0,Td.kw)(e,["on","off"]),default:"off"},hideRequiredMark:{type:Boolean,default:!1},labelColon:{type:[Boolean,String],default:!1},disabled:{type:Boolean,default:!1}},emits:["on-validate"],data:()=>({fields:[],genericErrors:[]}),computed:{classes(){return["ivu-form",`ivu-form-label-${this.labelPosition}`,{"ivu-form-inline":this.inline,"ivu-form-hide-required-mark":this.hideRequiredMark}]},colon(){let e="";return this.labelColon&&(e="boolean"==typeof this.labelColon?":":this.labelColon),e}},watch:{rules(){this.mitt.emit("rules-update")}},created(){this.mitt.on("on-form-item-add",(e=>(e&&this.fields.push(e),!1))),this.mitt.on("on-form-item-remove",(e=>(e.prop&&this.fields.splice(this.fields.indexOf(e),1),!1)))},methods:{resetFields(){this.fields.forEach((e=>{e.resetField()}))},validate(e){return this.genericErrors=[],new Promise((t=>{let n=!0,i=0;0===this.fields.length&&(t(n),"function"==typeof e&&e(n)),this.fields.forEach((r=>{r.validate("",(r=>{r&&(n=!1),++i===this.fields.length&&(t(n),"function"==typeof e&&e(n))}))}))}))},setErrors(e){this.genericErrors=[],(e&&"object"==typeof e&&!Array.isArray(e)?Object.entries(e).map((([e,t])=>({key:e,message:Array.isArray(t)?t.join(", "):t}))):e).forEach((e=>{const t=e.source||e.key||e.field,n=t?t.replace(/\[(\d+)\]/g,(e=>"."+e[1])):null,i=n?this.fields.find((e=>e.prop===n)):null;i?i.setError(e.detail||e.message):this.genericErrors.push([e.key||e.field,e.detail||e.message||e].filter(Boolean).join(" "))}))},validateField(e,t){const n=this.fields.filter((t=>t.prop===e))[0];if(!n)throw new Error("[iView warn]: must call validateField with valid prop string!");n.validate("",t)}}},$p=(0,D.Z)(Mp,[["render",function(e,n,i,r,o,s){const a=(0,t.up)("Alert");return(0,t.wg)(),(0,t.iD)("form",{class:(0,c.C_)(s.classes),autocomplete:i.autocomplete},[o.genericErrors.length?((0,t.wg)(),(0,t.j4)(a,{key:0,type:"error"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(o.genericErrors.join("\n")),1)])),_:1})):(0,t.kq)("",!0),(0,t.WI)(e.$slots,"default")],10,Dp)}]]),Rp=["for"];function Ip(){return Ip=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ip.apply(this,arguments)}function Fp(e){return Fp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fp(e)}function jp(e,t){return jp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jp(e,t)}function Np(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function zp(e,t,n){return zp=Np()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&jp(r,n.prototype),r},zp.apply(null,arguments)}function qp(e){var t="function"==typeof Map?new Map:void 0;return qp=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return zp(e,arguments,Fp(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),jp(i,e)},qp(e)}var Vp=/%[sdj%]/g;function Bp(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function Wp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=1,r=t[0],o=t.length;if("function"==typeof r)return r.apply(null,t.slice(1));if("string"==typeof r){var s=String(r).replace(Vp,(function(e){if("%%"===e)return"%";if(i>=o)return e;switch(e){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch(e){return"[Circular]"}break;default:return e}}));return s}return r}function Up(e,t){return null==e||!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e)}function Hp(e,t,n){var i=0,r=e.length;!function o(s){if(s&&s.length)n(s);else{var a=i;i+=1,a<r?t(e[a],o):n([])}}([])}"undefined"!=typeof process&&process.env;var Zp=function(e){var t,n;function i(t,n){var i;return(i=e.call(this,"Async Validation Error")||this).errors=t,i.fields=n,i}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,jp(t,n),i}(qp(Error));function Kp(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:"function"==typeof t?t():t,field:t.field||e.fullField}}}function Gp(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];"object"==typeof i&&"object"==typeof e[n]?e[n]=Ip({},e[n],i):e[n]=i}return e}function Yp(e,t,n,i,r,o){!e.required||n.hasOwnProperty(e.field)&&!Up(t,o||e.type)||i.push(Wp(r.messages.required,e.fullField))}var Qp={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Jp={integer:function(e){return Jp.number(e)&&parseInt(e,10)===e},float:function(e){return Jp.number(e)&&!Jp.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!Jp.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(Qp.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(Qp.url)},hex:function(e){return"string"==typeof e&&!!e.match(Qp.hex)}},Xp={required:Yp,whitespace:function(e,t,n,i,r){(/^\s+$/.test(t)||""===t)&&i.push(Wp(r.messages.whitespace,e.fullField))},type:function(e,t,n,i,r){if(e.required&&void 0===t)Yp(e,t,n,i,r);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?Jp[o](t)||i.push(Wp(r.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&i.push(Wp(r.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,i,r){var o="number"==typeof e.len,s="number"==typeof e.min,a="number"==typeof e.max,l=t,c=null,u="number"==typeof t,h="string"==typeof t,d=Array.isArray(t);if(u?c="number":h?c="string":d&&(c="array"),!c)return!1;d&&(l=t.length),h&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==e.len&&i.push(Wp(r.messages[c].len,e.fullField,e.len)):s&&!a&&l<e.min?i.push(Wp(r.messages[c].min,e.fullField,e.min)):a&&!s&&l>e.max?i.push(Wp(r.messages[c].max,e.fullField,e.max)):s&&a&&(l<e.min||l>e.max)&&i.push(Wp(r.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,i,r){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&i.push(Wp(r.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,i,r){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||i.push(Wp(r.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"==typeof e.pattern&&(new RegExp(e.pattern).test(t)||i.push(Wp(r.messages.pattern.mismatch,e.fullField,t,e.pattern))))}};function ef(e,t,n,i,r){var o=e.type,s=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(Up(t,o)&&!e.required)return n();Xp.required(e,t,i,s,r,o),Up(t,o)||Xp.type(e,t,i,s,r)}n(s)}var tf={string:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(Up(t,"string")&&!e.required)return n();Xp.required(e,t,i,o,r,"string"),Up(t,"string")||(Xp.type(e,t,i,o,r),Xp.range(e,t,i,o,r),Xp.pattern(e,t,i,o,r),!0===e.whitespace&&Xp.whitespace(e,t,i,o,r))}n(o)},method:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(Up(t)&&!e.required)return n();Xp.required(e,t,i,o,r),void 0!==t&&Xp.type(e,t,i,o,r)}n(o)},number:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(""===t&&(t=void 0),Up(t)&&!e.required)return n();Xp.required(e,t,i,o,r),void 0!==t&&(Xp.type(e,t,i,o,r),Xp.range(e,t,i,o,r))}n(o)},boolean:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(Up(t)&&!e.required)return n();Xp.required(e,t,i,o,r),void 0!==t&&Xp.type(e,t,i,o,r)}n(o)},regexp:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(Up(t)&&!e.required)return n();Xp.required(e,t,i,o,r),Up(t)||Xp.type(e,t,i,o,r)}n(o)},integer:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(Up(t)&&!e.required)return n();Xp.required(e,t,i,o,r),void 0!==t&&(Xp.type(e,t,i,o,r),Xp.range(e,t,i,o,r))}n(o)},float:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(Up(t)&&!e.required)return n();Xp.required(e,t,i,o,r),void 0!==t&&(Xp.type(e,t,i,o,r),Xp.range(e,t,i,o,r))}n(o)},array:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(null==t&&!e.required)return n();Xp.required(e,t,i,o,r,"array"),null!=t&&(Xp.type(e,t,i,o,r),Xp.range(e,t,i,o,r))}n(o)},object:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(Up(t)&&!e.required)return n();Xp.required(e,t,i,o,r),void 0!==t&&Xp.type(e,t,i,o,r)}n(o)},enum:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(Up(t)&&!e.required)return n();Xp.required(e,t,i,o,r),void 0!==t&&Xp.enum(e,t,i,o,r)}n(o)},pattern:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(Up(t,"string")&&!e.required)return n();Xp.required(e,t,i,o,r),Up(t,"string")||Xp.pattern(e,t,i,o,r)}n(o)},date:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(Up(t,"date")&&!e.required)return n();var s;Xp.required(e,t,i,o,r),Up(t,"date")||(s=t instanceof Date?t:new Date(t),Xp.type(e,s,i,o,r),s&&Xp.range(e,s.getTime(),i,o,r))}n(o)},url:ef,hex:ef,email:ef,required:function(e,t,n,i,r){var o=[],s=Array.isArray(t)?"array":typeof t;Xp.required(e,t,i,o,r,s),n(o)},any:function(e,t,n,i,r){var o=[];if(e.required||!e.required&&i.hasOwnProperty(e.field)){if(Up(t)&&!e.required)return n();Xp.required(e,t,i,o,r)}n(o)}};function nf(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var rf=nf();function of(e){this.rules=null,this._messages=rf,this.define(e)}of.prototype={messages:function(e){return e&&(this._messages=Gp(nf(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");var t,n;for(t in this.rules={},e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e,t,n){var i=this;void 0===t&&(t={}),void 0===n&&(n=function(){});var r,o,s=e,a=t,l=n;if("function"==typeof a&&(l=a,a={}),!this.rules||0===Object.keys(this.rules).length)return l&&l(),Promise.resolve();if(a.messages){var c=this.messages();c===rf&&(c=nf()),Gp(c,a.messages),a.messages=c}else a.messages=this.messages();var u={};(a.keys||Object.keys(this.rules)).forEach((function(t){r=i.rules[t],o=s[t],r.forEach((function(n){var r=n;"function"==typeof r.transform&&(s===e&&(s=Ip({},s)),o=s[t]=r.transform(o)),(r="function"==typeof r?{validator:r}:Ip({},r)).validator=i.getValidationMethod(r),r.field=t,r.fullField=r.fullField||t,r.type=i.getType(r),r.validator&&(u[t]=u[t]||[],u[t].push({rule:r,value:o,source:s,field:t}))}))}));var h={};return function(e,t,n,i){if(t.first){var r=new Promise((function(t,r){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n])})),t}(e);Hp(o,n,(function(e){return i(e),e.length?r(new Zp(e,Bp(e))):t()}))}));return r.catch((function(e){return e})),r}var o=t.firstFields||[];!0===o&&(o=Object.keys(e));var s=Object.keys(e),a=s.length,l=0,c=[],u=new Promise((function(t,r){var u=function(e){if(c.push.apply(c,e),++l===a)return i(c),c.length?r(new Zp(c,Bp(c))):t()};s.length||(i(c),t()),s.forEach((function(t){var i=e[t];-1!==o.indexOf(t)?Hp(i,n,u):function(e,t,n){var i=[],r=0,o=e.length;function s(e){i.push.apply(i,e),++r===o&&n(i)}e.forEach((function(e){t(e,s)}))}(i,n,u)}))}));return u.catch((function(e){return e})),u}(u,a,(function(e,t){var n,i=e.rule,r=!("object"!==i.type&&"array"!==i.type||"object"!=typeof i.fields&&"object"!=typeof i.defaultField);function o(e,t){return Ip({},t,{fullField:i.fullField+"."+e})}function s(n){void 0===n&&(n=[]);var s=n;if(Array.isArray(s)||(s=[s]),!a.suppressWarning&&s.length&&of.warning("async-validator:",s),s.length&&void 0!==i.message&&(s=[].concat(i.message)),s=s.map(Kp(i)),a.first&&s.length)return h[i.field]=1,t(s);if(r){if(i.required&&!e.value)return void 0!==i.message?s=[].concat(i.message).map(Kp(i)):a.error&&(s=[a.error(i,Wp(a.messages.required,i.field))]),t(s);var l={};if(i.defaultField)for(var c in e.value)e.value.hasOwnProperty(c)&&(l[c]=i.defaultField);for(var u in l=Ip({},l,e.rule.fields))if(l.hasOwnProperty(u)){var d=Array.isArray(l[u])?l[u]:[l[u]];l[u]=d.map(o.bind(null,u))}var p=new of(l);p.messages(a.messages),e.rule.options&&(e.rule.options.messages=a.messages,e.rule.options.error=a.error),p.validate(e.value,e.rule.options||a,(function(e){var n=[];s&&s.length&&n.push.apply(n,s),e&&e.length&&n.push.apply(n,e),t(n.length?n:null)}))}else t(s)}r=r&&(i.required||!i.required&&e.value),i.field=e.field,i.asyncValidator?n=i.asyncValidator(i,e.value,s,e.source,a):i.validator&&(!0===(n=i.validator(i,e.value,s,e.source,a))?s():!1===n?s(i.message||i.field+" fails"):n instanceof Array?s(n):n instanceof Error&&s(n.message)),n&&n.then&&n.then((function(){return s()}),(function(e){return s(e)}))}),(function(e){!function(e){var t,n,i,r=[],o={};for(t=0;t<e.length;t++)n=e[t],i=void 0,Array.isArray(n)?r=(i=r).concat.apply(i,n):r.push(n);r.length?o=Bp(r):(r=null,o=null),l(r,o)}(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!tf.hasOwnProperty(e.type))throw new Error(Wp("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?tf.required:tf[this.getType(e)]||!1}},of.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");tf[e]=t},of.warning=function(){},of.messages=rf,of.validators=tf;const sf=of;function af(e,t){let n=e;const i=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split(".");let r=0;for(let e=i.length;r<e-1;++r){const e=i[r];if(!(e in n))throw new Error("[iView warn]: please transfer a valid prop path to form item!");n=n[e]}return{o:n,k:i[r],v:n[i[r]]}}const lf={name:"FormItem",mixins:[Cd.Z],inject:["FormInstance"],props:{label:{type:String,default:""},labelWidth:{type:Number},prop:{type:String},required:{type:Boolean,default:!1},rules:{type:[Object,Array]},error:{type:String},validateStatus:{type:Boolean},showMessage:{type:Boolean,default:!0},labelFor:{type:String}},data:()=>({prefixCls:"ivu-form-item",isRequired:!1,validateState:"",validateMessage:"",validateDisabled:!1,validator:{}}),computed:{classes(){return["ivu-form-item",{"ivu-form-item-required":this.required||this.isRequired,"ivu-form-item-error":"error"===this.validateState,"ivu-form-item-validating":"validating"===this.validateState}]},fieldValue(){const e=this.FormInstance.model;if(!e||!this.prop)return;let t=this.prop;return-1!==t.indexOf(":")&&(t=t.replace(/:/,".")),af(e,t).v},labelStyles(){const e={},t=0===this.labelWidth||this.labelWidth?this.labelWidth:this.FormInstance.labelWidth;return(t||0===t)&&(e.width=`${t}px`),e},contentStyles(){const e={},t=0===this.labelWidth||this.labelWidth?this.labelWidth:this.FormInstance.labelWidth;return(t||0===t)&&(e.marginLeft=`${t}px`),e}},watch:{error:{handler(e){this.validateMessage=e,this.validateState=e?"error":""},immediate:!0},validateStatus(e){this.validateState=e},rules(){this.setRules()},required(e,t){this.isRequired=e,t&&!e&&this.resetField()}},mounted(){this.prop&&(this.dispatch("VForm","on-form-item-add",this),Object.defineProperty(this,"initialValue",{value:this.fieldValue}),this.setRules()),this.FormInstance.mitt.on("rules-update",this.setRules)},beforeUnmount(){this.dispatch("VForm","on-form-item-remove",this)},methods:{setRules(){const e=this.getRules();e.length&&this.required||(e.length?e.every((e=>{this.isRequired=e.required})):this.required?this.isRequired=this.required:e.length||(this.isRequired=!1),this.mitt.off("on-form-blur",this.onFieldBlur),this.mitt.off("on-form-change",this.onFieldChange),this.mitt.on("on-form-blur",this.onFieldBlur),this.mitt.on("on-form-change",this.onFieldChange))},getRules(){let e=this.FormInstance.rules;const t=this.rules;return e=e?e[this.prop]:[],[].concat(t||e||[])},getFilteredRule(e){return this.getRules().filter((t=>!t.trigger||-1!==t.trigger.indexOf(e)))},validate(e,t=function(){}){let n=this.getFilteredRule(e);if(!n||0===n.length){if(!this.required)return t(),!0;n=[{required:!0}]}this.validateState="validating";const i={};i[this.prop]=n;const r=new sf(i),o={};o[this.prop]=this.fieldValue,r.validate(o,{firstFields:!0},(e=>{this.validateState=e?"error":"success",this.validateMessage=e?e[0].message:"",t(this.validateMessage),this.FormInstance&&this.FormInstance.$emit("on-validate",this.prop,!e,this.validateMessage||null)})),this.validateDisabled=!1},setError(e){this.validateState="error",this.validateMessage=e},resetField(){this.validateState="",this.validateMessage="";const e=this.FormInstance.model,t=this.fieldValue;let n=this.prop;-1!==n.indexOf(":")&&(n=n.replace(/:/,"."));const i=af(e,n);Array.isArray(t)?(this.validateDisabled=!0,i.o[i.k]=[].concat(this.initialValue)):(this.validateDisabled=!0,i.o[i.k]=this.initialValue)},onFieldBlur(){this.validate("blur")},onFieldChange(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")}}},cf=(0,D.Z)(lf,[["render",function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.classes)},[r.label||n.$slots.label?((0,t.wg)(),(0,t.iD)("label",{key:0,class:(0,c.C_)([s.prefixCls+"-label"]),for:r.labelFor,style:(0,c.j5)(a.labelStyles)},[(0,t.WI)(n.$slots,"label",{},(()=>[(0,t.Uk)((0,c.zw)(r.label)+(0,c.zw)(a.FormInstance.colon),1)]))],14,Rp)):(0,t.kq)("",!0),(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content"]),style:(0,c.j5)(a.contentStyles)},[(0,t.WI)(n.$slots,"default"),(0,t.Wm)(e.uT,{name:"fade"},{default:(0,t.w5)((()=>["error"===s.validateState&&r.showMessage&&a.FormInstance.showMessage?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)([s.prefixCls+"-error-tip"])},(0,c.zw)(s.validateMessage),3)):(0,t.kq)("",!0)])),_:1})],6)],2)}]]),uf=["disabled","checked","name"],hf={name:"Radio",mixins:[Cd.Z,Tp.Z],props:{modelValue:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number]},disabled:{type:Boolean,default:!1},size:{validator:e=>(0,Td.kw)(e,["small","large","default"]),default:()=>"default"},name:{type:String},border:{type:Boolean,default:!1}},emits:["update:modelValue","on-chage"],data(){return{currentValue:this.modelValue,group:!1,groupName:this.name,parent:(0,Td.ah)(this,"RadioGroup"),focusWrapper:!1,focusInner:!1}},computed:{wrapClasses(){return["ivu-radio-wrapper",{"ivu-radio-group-item":this.group,"ivu-radio-wrapper-checked":this.currentValue,"ivu-radio-wrapper-disabled":this.itemDisabled,[`ivu-radio-${this.size}`]:!!this.size,"ivu-radio-focus":this.focusWrapper,"ivu-radio-border":this.border}]},radioClasses(){return["ivu-radio",{"ivu-radio-checked":this.currentValue,"ivu-radio-disabled":this.itemDisabled}]},innerClasses(){return["ivu-radio-inner",{"ivu-radio-focus":this.focusInner}]},inputClasses:()=>"ivu-radio-input"},watch:{modelValue(e){if(e!==this.trueValue&&e!==this.falseValue)throw"Value should be trueValue or falseValue.";this.updateValue()}},mounted(){this.parent&&(this.group=!0,this.name&&this.name!==this.parent.name?console.warn&&console.warn("[iview] Name does not match Radio Group name."):this.groupName=this.parent.name),this.group?this.parent.updateValue():this.updateValue()},methods:{change(e){if(this.itemDisabled)return!1;const t=e.target.checked;this.currentValue=t;const n=t?this.trueValue:this.falseValue;this.$emit("update:modelValue",n),this.group?void 0!==this.label&&this.parent.change({value:this.label,checked:this.modelValue}):(this.$emit("on-change",n),this.dispatch("FormItem","on-form-change",n))},updateValue(){this.currentValue=this.modelValue===this.trueValue},onBlur(){this.focusWrapper=!1,this.focusInner=!1},onFocus(){this.group&&"button"===this.parent.type?this.focusWrapper=!0:this.focusInner=!0}}},df=(0,D.Z)(hf,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("label",{class:(0,c.C_)(s.wrapClasses)},[(0,t._)("span",{class:(0,c.C_)(s.radioClasses)},[(0,t._)("span",{class:(0,c.C_)(s.innerClasses)},null,2),(0,t._)("input",{type:"radio",class:(0,c.C_)(s.inputClasses),disabled:e.itemDisabled,checked:o.currentValue,name:o.groupName,onChange:n[0]||(n[0]=(...e)=>s.change&&s.change(...e)),onFocus:n[1]||(n[1]=(...e)=>s.onFocus&&s.onFocus(...e)),onBlur:n[2]||(n[2]=(...e)=>s.onBlur&&s.onBlur(...e))},null,42,uf)],2),(0,t.WI)(e.$slots,"default",{},(()=>[(0,t.Uk)((0,c.zw)(i.label),1)]))],2)}]]),pf=["name"];let ff=0;const mf=Date.now(),gf={name:"RadioGroup",mixins:[Cd.Z],props:{modelValue:{type:[String,Number],default:""},size:{validator:e=>(0,Td.kw)(e,["small","large","default"]),default:()=>"default"},type:{validator:e=>(0,Td.kw)(e,["button"])},vertical:{type:Boolean,default:!1},name:{type:String,default:()=>`ivuRadioGroup_${mf}_${ff++}`},buttonStyle:{validator:e=>(0,Td.kw)(e,["default","solid"]),default:"default"}},emits:["update:modelValue","on-change"],data(){return{currentValue:this.modelValue,childrens:[]}},computed:{classes(){return["ivu-radio-group",{[`ivu-radio-group-${this.size}`]:!!this.size,[`ivu-radio-${this.size}`]:!!this.size,[`ivu-radio-group-${this.type}`]:!!this.type,[`ivu-radio-group-button-${this.buttonStyle}`]:"button"===this.type&&"default"!==this.buttonStyle,"ivu-radio-group-vertical":this.vertical}]}},watch:{modelValue(){this.currentValue!==this.modelValue&&(this.currentValue=this.modelValue,this.$nextTick((()=>{this.updateValue()})))}},mounted(){this.updateValue()},methods:{updateValue(){this.childrens=(0,Td.Hj)(this,"Radio"),this.childrens&&this.childrens.forEach((e=>{e.currentValue=this.currentValue===e.label,e.group=!0}))},change(e){this.currentValue=e.value,this.updateValue(),this.$emit("update:modelValue",e.value),this.$emit("on-change",e.value),this.dispatch("FormItem","on-form-change",e.value)}}},vf=(0,D.Z)(gf,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes),name:i.name},[(0,t.WI)(e.$slots,"default")],10,pf)}]]),yf={name:"Spin",mixins:[Sd.Z],props:{size:{validator:e=>(0,Td.kw)(e,["small","large","default"]),default:()=>"default"},fix:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1}},data:()=>({showText:!1,visible:!1}),computed:{classes(){return["ivu-spin",{[`ivu-spin-${this.size}`]:!!this.size,"ivu-spin-fix":this.fix,"ivu-spin-show-text":this.showText,"ivu-spin-fullscreen":this.fullscreen}]},mainClasses:()=>"ivu-spin-main",dotClasses:()=>"ivu-spin-dot",textClasses:()=>"ivu-spin-text",fullscreenVisible(){return!this.fullscreen||this.visible}},watch:{visible(e){e?this.addScrollEffect():this.removeScrollEffect()}},mounted(){this.showText=void 0!==this.$slots.default}},bf=(0,D.Z)(yf,[["render",function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.j4)(e.uT,{name:"fade"},{default:(0,t.w5)((()=>[a.fullscreenVisible?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(a.classes)},[(0,t._)("div",{class:(0,c.C_)(a.mainClasses)},[(0,t._)("span",{class:(0,c.C_)(a.dotClasses)},null,2),(0,t._)("div",{class:(0,c.C_)(a.textClasses)},[(0,t.WI)(n.$slots,"default")],2)],2)],2)):(0,t.kq)("",!0)])),_:3})}]]),wf=["disabled","value","name"],_f=["disabled","checked","name"],xf={key:0},kf={name:"Checkbox",mixins:[Cd.Z,Tp.Z],props:{disabled:{type:Boolean,default:!1},modelValue:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number,Boolean]},indeterminate:{type:Boolean,default:!1},size:{validator:e=>(0,Td.kw)(e,["small","large","default"]),default:()=>"default"},name:{type:String},border:{type:Boolean,default:!1}},emits:["on-change","update:modelValue"],data(){return{model:[],currentValue:this.modelValue,group:!1,showSlot:!0,parent:(0,Td.ah)(this,"CheckboxGroup"),focusInner:!1}},computed:{wrapClasses(){return["ivu-checkbox-wrapper",{"ivu-checkbox-group-item":this.group,"ivu-checkbox-wrapper-checked":this.currentValue,"ivu-checkbox-wrapper-disabled":this.itemDisabled,[`ivu-checkbox-${this.size}`]:!!this.size,"ivu-checkbox-border":this.border}]},checkboxClasses(){return["ivu-checkbox",{"ivu-checkbox-checked":this.currentValue,"ivu-checkbox-disabled":this.itemDisabled,"ivu-checkbox-indeterminate":this.indeterminate}]},innerClasses(){return["ivu-checkbox-inner",{"ivu-checkbox-focus":this.focusInner}]},inputClasses:()=>"ivu-checkbox-input"},watch:{modelValue(e){if(e===this.trueValue||e===this.falseValue)this.updateModel();else{if(![null,void 0,""].includes(e))throw"Value should be trueValue or falseValue.";this.updateModel()}}},mounted(){this.parent=(0,Td.ah)(this,"CheckboxGroup"),this.parent&&(this.group=!0),this.group?this.parent.updateModel(!0):(this.updateModel(),this.showSlot=void 0!==this.$slots.default)},methods:{change(e){if(this.itemDisabled)return!1;const t=e.target.checked;this.currentValue=t;const n=t?this.trueValue:this.falseValue;this.$emit("update:modelValue",n),this.group?this.parent.change(this.model):(this.$emit("on-change",n),this.dispatch("FormItem","on-form-change",n))},updateModel(){this.currentValue=this.modelValue===this.trueValue},onBlur(){this.focusInner=!1},onFocus(){this.focusInner=!0}}},Cf=(0,D.Z)(kf,[["render",function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("label",{class:(0,c.C_)(a.wrapClasses)},[(0,t._)("span",{class:(0,c.C_)(a.checkboxClasses)},[(0,t._)("span",{class:(0,c.C_)(a.innerClasses)},null,2),s.group?(0,t.wy)(((0,t.wg)(),(0,t.iD)("input",{key:0,"onUpdate:modelValue":i[0]||(i[0]=e=>s.model=e),type:"checkbox",class:(0,c.C_)(a.inputClasses),disabled:n.itemDisabled,value:r.label,name:r.name,onChange:i[1]||(i[1]=(...e)=>a.change&&a.change(...e)),onFocus:i[2]||(i[2]=(...e)=>a.onFocus&&a.onFocus(...e)),onBlur:i[3]||(i[3]=(...e)=>a.onBlur&&a.onBlur(...e))},null,42,wf)),[[e.e8,s.model]]):((0,t.wg)(),(0,t.iD)("input",{key:1,type:"checkbox",class:(0,c.C_)(a.inputClasses),disabled:n.itemDisabled,checked:s.currentValue,name:r.name,onChange:i[4]||(i[4]=(...e)=>a.change&&a.change(...e)),onFocus:i[5]||(i[5]=(...e)=>a.onFocus&&a.onFocus(...e)),onBlur:i[6]||(i[6]=(...e)=>a.onBlur&&a.onBlur(...e))},null,42,_f))],2),(0,t.WI)(n.$slots,"default",{},(()=>[s.showSlot?((0,t.wg)(),(0,t.iD)("span",xf,(0,c.zw)(r.label),1)):(0,t.kq)("",!0)]))],2)}]]),Sf=["default","primary","success","warning","error","blue","green","red","yellow","pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"],Af=["pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"],Tf={name:"Tag",components:{Icon:wd.Z},props:{closable:{type:Boolean,default:!1},checkable:{type:Boolean,default:!1},checked:{type:Boolean,default:!0},color:{type:String,default:"default"},type:{validator:e=>(0,Td.kw)(e,["border","dot"])},name:{type:[String,Number]},fade:{type:Boolean,default:!0},size:{validator:e=>(0,Td.kw)(e,["default","medium","large"]),default:"default"}},data(){return{isChecked:this.checked}},computed:{classes(){return["ivu-tag",`ivu-tag-size-${this.size}`,{[`ivu-tag-${this.color}`]:!!this.color&&(0,Td.kw)(this.color,Sf),[`ivu-tag-${this.type}`]:!!this.type,"ivu-tag-closable":this.closable,"ivu-tag-checked":this.isChecked}]},wraperStyles(){return(0,Td.kw)(this.color,Sf)?{}:{background:this.isChecked?this.defaultTypeColor:"transparent",borderWidth:"1px",borderStyle:"solid",borderColor:"dot"!==this.type&&"border"!==this.type&&this.isChecked?this.borderColor:this.lineColor,color:this.lineColor}},textClasses(){return["ivu-tag-text","border"===this.type&&(0,Td.kw)(this.color,Sf)?`ivu-tag-color-${this.color}`:"","dot"!==this.type&&"border"!==this.type&&"default"!==this.color&&this.isChecked&&Af.indexOf(this.color)<0?"ivu-tag-color-white":""]},dotClasses:()=>"ivu-tag-dot-inner",iconClass(){return"dot"===this.type?"":"border"===this.type?(0,Td.kw)(this.color,Sf)?`ivu-tag-color-${this.color}`:"":void 0!==this.color?"default"===this.color?"":"rgb(255, 255, 255)":""},showDot(){return!!this.type&&"dot"===this.type},lineColor(){return"dot"===this.type?"":"border"===this.type?void 0!==this.color?(0,Td.kw)(this.color,Sf)?"":this.color:"":void 0!==this.color?"default"===this.color?"":"rgb(255, 255, 255)":""},borderColor(){return void 0!==this.color?"default"===this.color?"":this.color:""},dotColor(){return void 0!==this.color?(0,Td.kw)(this.color,Sf)?"":this.color:""},textColorStyle(){return(0,Td.kw)(this.color,Sf)?{}:"dot"!==this.type&&"border"!==this.type?this.isChecked?{color:this.lineColor}:{}:{color:this.lineColor}},bgColorStyle(){return(0,Td.kw)(this.color,Sf)?{}:{background:this.dotColor}},defaultTypeColor(){return"dot"!==this.type&&"border"!==this.type&&void 0!==this.color?(0,Td.kw)(this.color,Sf)?"":this.color:""}},watch:{checked(e){this.isChecked=e}},methods:{close(e){void 0===this.name?this.$emit("on-close",e):this.$emit("on-close",e,this.name)},check(){if(!this.checkable)return;const e=!this.isChecked;this.isChecked=e,void 0===this.name?this.$emit("on-change",e):this.$emit("on-change",e,this.name)}}},Of=(0,D.Z)(Tf,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("Icon");return r.fade?((0,t.wg)(),(0,t.j4)(e.uT,{key:0,name:"fade"},{default:(0,t.w5)((()=>[(0,t._)("div",{class:(0,c.C_)(a.classes),style:(0,c.j5)(a.wraperStyles),onClick:i[0]||(i[0]=(...e)=>a.check&&a.check(...e))},[a.showDot?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(a.dotClasses),style:(0,c.j5)(a.bgColorStyle)},null,6)):(0,t.kq)("",!0),(0,t._)("span",{class:(0,c.C_)(a.textClasses),style:(0,c.j5)(a.textColorStyle)},[(0,t.WI)(n.$slots,"default")],6),r.closable?((0,t.wg)(),(0,t.j4)(l,{key:1,class:(0,c.C_)(a.iconClass),color:a.lineColor,type:"ios-close",onClick:(0,e.iM)(a.close,["stop"])},null,8,["class","color","onClick"])):(0,t.kq)("",!0)],6)])),_:3})):((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)(a.classes),style:(0,c.j5)(a.wraperStyles),onClick:i[1]||(i[1]=(...e)=>a.check&&a.check(...e))},[a.showDot?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(a.dotClasses),style:(0,c.j5)(a.bgColorStyle)},null,6)):(0,t.kq)("",!0),(0,t._)("span",{class:(0,c.C_)(a.textClasses),style:(0,c.j5)(a.textColorStyle)},[(0,t.WI)(n.$slots,"default")],6),r.closable?((0,t.wg)(),(0,t.j4)(l,{key:1,class:(0,c.C_)(a.iconClass),color:a.lineColor,type:"ios-close",onClick:(0,e.iM)(a.close,["stop"])},null,8,["class","color","onClick"])):(0,t.kq)("",!0)],6))}]]),Lf=(0,t.Uk)(" "+(0,c.zw)(" ")+" "),Ef={name:"Panel",components:{Icon:wd.Z,CollapseTransition:Xd},props:{name:{type:String,default:""},hideArrow:{type:Boolean,default:!1}},data:()=>({index:0,isActive:!1,mounted:!1}),computed:{itemClasses(){return["ivu-collapse-item",{"ivu-collapse-item-active":this.isActive}]},headerClasses:()=>"ivu-collapse-header",contentClasses:()=>"ivu-collapse-content",boxClasses:()=>"ivu-collapse-content-box"},mounted(){this.mounted=!0,this.$parent.setActive()},methods:{toggle(){this.$parent.toggle({name:this.name||this.index,isActive:this.isActive})}}},Df=(0,D.Z)(Ef,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("Icon"),u=(0,t.up)("collapse-transition");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.itemClasses)},[(0,t._)("div",{class:(0,c.C_)(a.headerClasses),onClick:i[0]||(i[0]=(...e)=>a.toggle&&a.toggle(...e))},[r.hideArrow?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(l,{key:0,type:"ios-arrow-forward"})),Lf,(0,t.WI)(n.$slots,"default")],2),s.mounted?((0,t.wg)(),(0,t.j4)(u,{key:0},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("div",{class:(0,c.C_)(a.contentClasses)},[(0,t._)("div",{class:(0,c.C_)(a.boxClasses)},[(0,t.WI)(n.$slots,"content")],2)],2),[[e.F8,s.isActive]])])),_:3})):(0,t.kq)("",!0)],2)}]]),Pf=["tabindex"],Mf=["name","value"];var $f=n(9338);const Rf={class:"ivu-tag ivu-tag-checked"},If={key:1,class:"ivu-tag ivu-tag-checked"},Ff={class:"ivu-tag-text ivu-select-max-tag"},jf=["id","disabled","placeholder"],Nf={name:"SelectHead",components:{Icon:wd.Z},mixins:[kd.Z],inject:["selectComponent"],props:{disabled:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},remote:{type:Boolean,default:!1},initialLabel:{type:[String,Number,Array]},values:{type:Array,default:()=>[]},clearable:{type:[Function,Boolean],default:!1},inputElementId:{type:String},placeholder:{type:String},queryProp:{type:String,default:""},prefix:{type:String},maxTagCount:{type:Number},maxTagPlaceholder:{type:Function},allowCreate:{type:Boolean},showCreateItem:{type:Boolean}},emits:["on-input-blur","on-query-change","on-input-focus","on-keydown"],data(){return{prefixCls:"ivu-select",query:"",inputLength:20,remoteInitialLabel:this.initialLabel,preventRemoteCall:!1}},computed:{singleDisplayClasses(){const{filterable:e,multiple:t,showPlaceholder:n}=this;return[{"ivu-select-head-with-prefix":this.$slots.prefix||this.prefix,"ivu-select-placeholder":n&&!e,"ivu-select-selected-value":!n&&!t&&!e}]},singleDisplayValue(){return this.multiple&&this.values.length>0||this.filterable?"":`${this.selectedSingle}`||this.localePlaceholder},showPlaceholder(){let e=!1;if(this.multiple)!this.values.length>0&&(e=!0);else{const t=this.values[0];void 0!==t&&""!==String(t).trim()||(e=!this.remoteInitialLabel)}return e},resetSelect(){return!this.showPlaceholder&&this.clearable},inputStyle(){const e={};return this.multiple&&(this.showPlaceholder?e.width="100%":e.width=`${this.inputLength}px`),e},localePlaceholder(){return void 0===this.placeholder?this.t("i.select.placeholder"):this.placeholder},selectedSingle(){const e=this.values[0];return e?e.label:this.remoteInitialLabel||""},selectedMultiple(){return this.multiple?this.values:[]},headCls(){return{"ivu-select-head-flex":this.filterable&&(this.$slots.prefix||this.prefix)}},arrowType:()=>"ios-arrow-down",customArrowType:()=>"",arrowSize:()=>""},watch:{values([e]){if(this.filterable){if(this.preventRemoteCall=!0,this.multiple)return this.query="",void(this.preventRemoteCall=!1);this.query=void 0===e||""===e||null===e?"":e.label,this.$nextTick((()=>this.preventRemoteCall=!1))}},query(e){this.preventRemoteCall?this.preventRemoteCall=!1:this.$emit("on-query-change",e)},queryProp(e){e!==this.query&&(this.query=e)}},methods:{onInputFocus(){this.$emit("on-input-focus")},onInputBlur(){this.showCreateItem||(this.values.length||(this.query=""),this.$emit("on-input-blur"))},removeTag(e){if(this.disabled)return!1;this.selectComponent.onOptionClick(e)},resetInputState(){this.inputLength=12*this.$refs.input.value.length+20,this.$emit("on-keydown")},handleInputDelete(e){const t=e.target.value;this.multiple&&this.selectedMultiple.length&&""===this.query&&""===t&&this.removeTag(this.selectedMultiple[this.selectedMultiple.length-1])},handleInputEnter(){this.$emit("on-enter")},onHeaderClick(e){this.filterable&&e.target===this.$el&&this.$refs.input.focus()},onClear(){this.$emit("on-clear")}}},zf=(0,D.Z)(Nf,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("Icon");return(0,t.wg)(),(0,t.iD)("div",null,[n.$slots.prefix||r.prefix?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)([s.prefixCls+"-prefix"])},[(0,t.WI)(n.$slots,"prefix",{},(()=>[r.prefix?((0,t.wg)(),(0,t.j4)(l,{key:0,type:r.prefix},null,8,["type"])):(0,t.kq)("",!0)]))],2)):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.selectedMultiple,((n,i)=>((0,t.wg)(),(0,t.iD)("div",Rf,[void 0===r.maxTagCount||i<r.maxTagCount?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t._)("span",{class:(0,c.C_)(["ivu-tag-text",{"ivu-select-multiple-tag-hidden":n.disabled}])},(0,c.zw)(void 0!==n.tag?n.tag:n.label),3),n.disabled?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(l,{key:0,type:"ios-close",size:"large",onClickCapture:(0,e.iM)((e=>a.removeTag(n)),["stop"])},null,8,["onClickCapture"]))],64)):(0,t.kq)("",!0)])))),256)),void 0!==r.maxTagCount&&a.selectedMultiple.length>r.maxTagCount?((0,t.wg)(),(0,t.iD)("div",If,[(0,t._)("span",Ff,[r.maxTagPlaceholder?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,c.zw)(r.maxTagPlaceholder(a.selectedMultiple.length-r.maxTagCount)),1)],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)("+ "+(0,c.zw)(a.selectedMultiple.length-r.maxTagCount)+"...",1)],64))])])):(0,t.kq)("",!0),(0,t.wy)((0,t._)("span",{class:(0,c.C_)(a.singleDisplayClasses)},(0,c.zw)(a.singleDisplayValue),3),[[e.F8,a.singleDisplayValue]]),r.filterable?(0,t.wy)(((0,t.wg)(),(0,t.iD)("input",{key:2,id:r.inputElementId,ref:"input","onUpdate:modelValue":i[0]||(i[0]=e=>s.query=e),type:"text",disabled:r.disabled,class:(0,c.C_)([s.prefixCls+"-input"]),placeholder:a.showPlaceholder?a.localePlaceholder:"",style:(0,c.j5)(a.inputStyle),autocomplete:"off",spellcheck:"false",onKeydown:[i[1]||(i[1]=(...e)=>a.resetInputState&&a.resetInputState(...e)),i[2]||(i[2]=(0,e.D2)(((...e)=>a.handleInputDelete&&a.handleInputDelete(...e)),["delete"])),i[3]||(i[3]=(0,e.D2)(((...e)=>a.handleInputEnter&&a.handleInputEnter(...e)),["enter"]))],onFocus:i[4]||(i[4]=(...e)=>a.onInputFocus&&a.onInputFocus(...e)),onBlur:i[5]||(i[5]=(...e)=>a.onInputBlur&&a.onInputBlur(...e))},null,46,jf)),[[e.nr,s.query]]):(0,t.kq)("",!0),a.resetSelect?((0,t.wg)(),(0,t.j4)(l,{key:3,type:"ios-close-circle",class:(0,c.C_)([s.prefixCls+"-arrow"]),onClick:(0,e.iM)(a.onClear,["stop"])},null,8,["class","onClick"])):(0,t.kq)("",!0),a.resetSelect||r.remote?(0,t.kq)("",!0):((0,t.wg)(),(0,t.j4)(l,{key:4,type:a.arrowType,custom:a.customArrowType,size:a.arrowSize,class:(0,c.C_)([s.prefixCls+"-arrow"])},null,8,["type","custom","size","class"]))])}]]),qf=zf,Vf=/^voption$|^option$/i,Bf=/option-?group/i,Wf=e=>{if(e.type&&e.type.name&&e.type.name.match(Vf))return[e];if(!e.children)return[];const t=(Array.isArray(e.children)?e.children:"function"==typeof e.children?e.children():[]).reduce(((e,t)=>[...e,...Wf(t)]),[]).filter(Boolean);return t.length>0?t:[]},Uf=e=>e.reduce(((e,t)=>e.concat(Wf(t))),[]),Hf=(e,t,n)=>({...e,props:{...e.props,[t]:n}}),Zf={name:"VSelect",components:{FunctionalOptions:{props:{options:{type:Array,default:[]},slotOptions:{type:Array,default:[]},slotUpdateHook:{type:Function,default:()=>{}}},render(){if(this.$parent.$parent.$parent.$slots.default){const e=this.slotOptions[0]?.children?.map&&this.slotOptions[0]?.children?.map((e=>e.props))||[],t=this.$parent.$parent.$parent.$slots.default()[0].children[0]?.children?.map&&this.$parent.$parent.$parent.$slots.default()[0].children[0]?.children.map((e=>e.props))||[];JSON.stringify(e)!==JSON.stringify(t)&&this.slotUpdateHook()}return(0,t.h)("ul",{},[this.$slots.default(),this.options])}},SelectDropdown:Qd.Z,SelectHead:qf,Icon:wd.Z},directives:{clickOutside:$f.X,TransferDom:xd.Z},mixins:[Cd.Z,kd.Z,Tp.Z],provide(){return{selectComponent:this}},props:{modelValue:{type:[String,Number,Array],default:""},label:{type:[String,Number,Array],default:""},defaultLabel:{type:[String,Number,Array],default:""},multiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},placeholder:{type:String},filterable:{type:Boolean,default:!1},filterMethod:{type:Function},remoteMethod:{type:Function},loading:{type:Boolean,default:!1},loadingText:{type:String},size:{validator:e=>(0,Td.kw)(e,["small","large","default"]),default:()=>"default"},labelInValue:{type:Boolean,default:!1},notFoundText:{type:String},placement:{validator:e=>(0,Td.kw)(e,["top","bottom","top-start","bottom-start","top-end","bottom-end"]),default:"bottom-start"},transfer:{type:Boolean,default:()=>!1},autoComplete:{type:Boolean,default:!1},name:{type:String},elementId:{type:String},transferClassName:{type:String},prefix:{type:String},maxTagCount:{type:Number},maxTagPlaceholder:{type:Function},allowCreate:{type:Boolean,default:!1},capture:{type:Boolean,default:()=>!0},filterByLabel:{type:Boolean,default:!1}},emits:["update:modelValue","on-change","on-open-change","on-query-change","on-select"],data(){return{prefixCls:"ivu-select",values:[],dropDownWidth:0,visible:!1,focusIndex:-1,isFocused:!1,query:"",initialLabel:this.label,hasMouseHoverHead:!1,slotOptions:[],optionComponents:[],caretPosition:-1,lastRemoteQuery:"",unchangedQuery:!0,hasExpectedValue:!1,isTyping:!1,preventRemoteCall:!1,filterQueryChange:!1}},computed:{classes(){return["ivu-select",{"ivu-select-visible":this.visible,"ivu-select-disabled":this.itemDisabled,"ivu-select-multiple":this.multiple,"ivu-select-single":!this.multiple,[`ivu-select-${this.size}`]:!!this.size}]},dropdownCls(){return{"ivu-select-dropdown-transfer":this.transfer,"ivu-select-multiple":this.multiple&&this.transfer,"ivu-auto-complete":this.autoComplete,[this.transferClassName]:this.transferClassName}},selectionCls(){return{"ivu-select-selection":!this.autoComplete,"ivu-select-selection-focused":this.isFocused}},localeNotFoundText(){return void 0===this.notFoundText?this.t("i.select.noMatch"):this.notFoundText},localeLoadingText(){return void 0===this.loadingText?this.t("i.select.loading"):this.loadingText},showCreateItem(){let e=!1;if(this.allowCreate&&""!==this.query){e=!0;const t=(0,Td.Hj)(this,"VOption");t&&t.length&&t.find((e=>e.optionLabel===this.query))&&(e=!1)}return e},transitionName(){return"bottom"===this.placement?"slide-up":"slide-down"},dropVisible(){let e=!0;const t=!this.selectOptions||0===this.selectOptions.length;return!this.loading&&""===this.query&&t&&(e=!1),this.autoComplete&&t&&(e=!1),this.visible&&e},showNotFoundLabel(){const{loading:e,remote:t,selectOptions:n}=this;return n&&0===n.length&&(!t||t&&!e)},publicValue(){return this.labelInValue?this.multiple?this.values:this.values[0]:this.multiple?this.values.map((e=>e.value)):(this.values[0]||{}).value},canBeCleared(){const e=this.hasMouseHoverHead,t=!this.multiple&&!this.itemDisabled&&this.clearable;return e&&t&&this.reset},selectOptions(){const e=[],t=this.slotOptions||[];let n=-1;const i=this.focusIndex,r=this.values.filter(Boolean).map((({value:e})=>e));if(this.autoComplete){const e=(t,n)=>({...t,children:Array.isArray(t.children)?t.children.map(n).map((t=>e(t,n))):t.children}),n=Uf(t)[i];return t.map((t=>{return t===n||(i=t,"props.value".split(".").reduce(((e,t)=>e&&e[t]||null),i)==this.modelValue)?Hf(t,"isFocused",!0):e(t,(e=>n&&e.props.value===n.props.value?(this.optionComponents.forEach((e=>{e.dataIsFocused=e.$.vnode.key===n.props.key})),Hf(e,"isFocused",!0)):e));var i}))}for(const o of t)if(o.type.name.match(Bf)){let t=o.children;this.filterable&&this.isTyping&&(t=t.filter((e=>this.validateOption(e)))),t=t.map((e=>(n+=1,this.processOption(e,r,n==i)))),t.length>0&&e.push({...o,componentOptions:{...cOptions,children:t}})}else{if(this.filterQueryChange&&!(this.filterable?this.validateOption(o):o))continue;n+=1,e.push(this.processOption(o,r,n==i))}return e},flatOptions(){return Uf(this.selectOptions)},selectTabindex(){return this.itemDisabled||this.filterable?-1:0},remote(){return"function"==typeof this.remoteMethod}},watch:{modelValue(e){const{getInitialValue:t,getOptionData:n,publicValue:i,values:r}=this;this.checkUpdateStatus(),""===e?this.values=[]:((e,t,n)=>{const i=JSON.stringify(e),r=JSON.stringify(t),o=JSON.stringify(n.map((e=>e.value)));return i!==r||i!==o||o!==r})(e,i,r)&&(this.$nextTick((()=>{this.values=t().map(n).filter(Boolean)})),this.multiple||this.dispatch("FormItem","on-form-change",this.publicValue))},values(e,t){const n=JSON.stringify(e),i=JSON.stringify(t),r=e.map((e=>e.value));this.autoComplete?this.focusIndex=0:this.optionComponents.forEach(((e,t)=>{e.dataSelected=r.includes(e.value),e.dataIsFocused=r.includes(e.value),r.includes(e.value)&&(this.focusIndex=t)}));const o=this.publicValue&&this.labelInValue?this.multiple?this.publicValue.map((({value:e})=>e)):this.publicValue.value:this.publicValue;n!==i&&o!==this.value&&(this.$emit("update:modelValue",o),this.$emit("on-change",this.publicValue),this.dispatch("FormItem","on-form-change",this.publicValue))},query(e){this.$emit("on-query-change",e);const{remoteMethod:t,lastRemoteQuery:n}=this,i=t&&(e!==n||!n)&&!this.preventRemoteCall;if(this.preventRemoteCall=!1,i){this.focusIndex=-1;const t=this.remoteMethod(e);this.initialLabel="",t&&t.then&&t.then((e=>{e&&(this.options=e)}))}""!==e&&this.remote&&(this.lastRemoteQuery=e)},loading(e){!1===e&&this.updateSlotOptions()},isFocused(e){(this.filterable?this.$el.querySelector('input[type="text"]'):this.$el)[this.isFocused?"focus":"blur"]();const[t]=this.values;if(t&&this.filterable&&!this.multiple&&!e){const e=String(t.label||t.value).trim();e&&this.query!==e&&(this.preventRemoteCall=!0,this.query=e.trim())}},focusIndex(e){if(e<0||this.autoComplete)return;const t=this.flatOptions[e].props.value,n=(this,i=e=>e.value==t,(0,Td.Hj)(this,"VOption").find(i));var i;const r=n.$el.getBoundingClientRect().bottom-this.$refs.dropdown.$el.getBoundingClientRect().bottom,o=n.$el.getBoundingClientRect().top-this.$refs.dropdown.$el.getBoundingClientRect().top;r>0&&(this.$refs.dropdown.$el.scrollTop+=r),o<0&&(this.$refs.dropdown.$el.scrollTop+=o)},dropVisible(e){this.broadcast("SelectDropdown",e?"on-update-popper":"on-destroy-popper")},selectOptions(){this.hasExpectedValue&&this.selectOptions.length>0&&(0===this.values.length&&(this.values=this.getInitialValue()),this.values=this.values.map(this.getOptionData).filter(Boolean),this.hasExpectedValue=!1),this.broadcast("SelectDropdown","on-update-popper")},visible(e){this.$emit("on-open-change",e)},slotOptions(e,t){if(!this.remote){const e=this.getInitialValue();this.flatOptions&&this.flatOptions.length&&e.length&&!this.multiple&&(this.values=e.map(this.getOptionData).filter(Boolean))}e&&t&&e.length!==t.length&&this.broadcast("SelectDropdown","on-update-popper")}},mounted(){if(this.updateSlotOptions(),this.mitt.on("on-select-selected",this.onOptionClick),!this.remote&&this.selectOptions.length>0&&(this.values=this.getInitialValue().map((e=>"number"==typeof e||e?this.getOptionData(e):null)).filter(Boolean)),this.checkUpdateStatus(),this.remote&&this.modelValue&&this.defaultLabel)if(this.multiple){if(this.multiple&&this.defaultLabel instanceof Array&&this.value.length===this.defaultLabel.length){const e=this.value.map(((e,t)=>({value:e,label:this.defaultLabel[t]})));this.$emit("on-set-default-options",JSON.parse(JSON.stringify(e))),setTimeout((()=>{this.values=e}))}}else this.query=this.defaultLabel},beforeUnmont(){this.mitt.off("on-select-selected")},methods:{setQuery(e){e?this.onQueryChange(e):null===e&&(this.onQueryChange(""),this.values=[],this.lastRemoteQuery="")},clearSingleSelect(){this.multiple||this.$emit("update:modelValue",""),this.$emit("on-clear"),this.hideMenu(),this.clearable&&this.reset()},getOptionData(e){const t=this.flatOptions.find((({props:t})=>t.value==e));if(!t)return null;const n=(e=>e.props.label?e.props.label:e.component?e.component.proxy.$el.innerHTML.trim():e.children.default().map((e=>e.children)).join().trim())(t),i=t.props.disabled;return{value:e,label:n,disabled:i}},getInitialValue(){const{multiple:e,remote:t,modelValue:n}=this;let i=Array.isArray(n)?n:[n];if(e||void 0!==i[0]&&(""!==String(i[0]).trim()||Number.isFinite(i[0]))||(i=[]),t&&!e&&n){const e=this.getOptionData(n);this.query=e?e.label:String(n)}return i.filter((e=>Boolean(e)||0===e))},processOption(e,t,n){if(!e.props)return e;const i=e.props.value,r=e.props.disabled,o=t.includes(i),s={...e.props,selected:o,isFocused:n,disabled:void 0!==r&&!1!==r};return e.component&&(e.component.selected=o,e.component.isFocused=n),{...e,props:s}},validateOption({children:e,el:t,props:n}){const i=n.value,r=n.label||"",o=t&&t.textContent||(e&&e.default()||[]).reduce(((e,t)=>`${e} ${t.elm?t.elm.textContent:t.text||t.children}`),"")||"",s=this.filterByLabel?[r].toString():[i,r,o].toString(),a=this.query.toLowerCase().trim();return s.toLowerCase().includes(a)},toggleMenu(e,t){if(this.itemDisabled)return!1;this.visible=void 0!==t?t:!this.visible,this.visible&&(this.dropDownWidth=this.$el.getBoundingClientRect().width,this.broadcast("SelectDropdown","on-update-popper"))},hideMenu(){this.toggleMenu(null,!1),this.isTyping=!1,setTimeout((()=>this.unchangedQuery=!0),300)},onClickOutside(e){if(this.visible){if("mousedown"===e.type)return void e.preventDefault();if(this.transfer){const{$el:t}=this.$refs.dropdown;if(t===e.target||t.contains(e.target))return}if(this.filterable){const e=this.$el.querySelector('input[type="text"]');this.caretPosition=e.selectionStart,this.$nextTick((()=>{const t=-1===this.caretPosition?e.value.length:this.caretPosition;e.setSelectionRange(t,t)}))}this.autoComplete||e.stopPropagation(),e.preventDefault(),this.hideMenu(),this.isFocused=!0,this.$emit("on-clickoutside",e)}else this.caretPosition=-1,this.isFocused=!1},reset(){this.query="",this.focusIndex=-1,this.unchangedQuery=!0,this.values=[],this.filterQueryChange=!1},handleKeydown(e){const t=e.key||e.code,n=e.keyCode||e.which;if("Backspace"!==t&&8!==n)if(this.visible){if(e.preventDefault(),"Tab"===t&&e.stopPropagation(),"Escape"===t&&(e.stopPropagation(),this.hideMenu()),"ArrowUp"===t&&this.navigateOptions(-1),"ArrowDown"===t&&this.navigateOptions(1),"Enter"===t){if(-1===this.focusIndex)return this.hideMenu();const e=this.flatOptions[this.focusIndex];if(e){const t=this.getOptionData(e.props.value);this.onOptionClick(t)}else this.hideMenu()}}else["ArrowUp","ArrowDown"].includes(e.key)&&this.toggleMenu(null,!0)},navigateOptions(e){const t=this.flatOptions.length-1;let n=this.focusIndex+e;if(n<0&&(n=t),n>t&&(n=0),e>0){let e=-1;for(let t=0;t<this.flatOptions.length&&(!this.flatOptions[t].props.disabled&&(e=t),!(e>=n));t++);n=e}else{let e=this.flatOptions.length;for(let i=t;i>=0&&(!this.flatOptions[i].props.disabled&&(e=i),!(e<=n));i--);n=e}this.focusIndex=n},onOptionClick(e){if(this.multiple){this.remote?this.lastRemoteQuery=this.lastRemoteQuery||this.query:this.lastRemoteQuery="";const t=this.values.find((({value:t})=>t==e.value));this.values=t?this.values.filter((({value:t})=>t!==e.value)):this.values.concat(e),this.isFocused=!0}else this.query=String(e.label).trim(),this.values=[e],this.lastRemoteQuery="",this.hideMenu();if(this.focusIndex=this.flatOptions.findIndex((t=>!(!t||!t.props)&&t.props.value==e.value)),this.filterable){const e=this.$el.querySelector('input[type="text"]');this.autoComplete||this.$nextTick((()=>e.focus()))}this.$emit("on-select",e),this.broadcast("SelectDropdown","on-update-popper"),setTimeout((()=>{this.filterQueryChange=!1}),300)},onQueryChange(e){if(this.isTyping=!0,e.length>0&&e!==this.query)if(this.autoComplete){const e=document.hasFocus&&document.hasFocus()&&document.activeElement===this.$el.querySelector("input");this.visible=e}else this.visible=!0;this.query=e,this.unchangedQuery=this.visible,this.filterQueryChange=!0},toggleHeaderFocus({type:e}){this.itemDisabled||(this.isFocused="focus"===e)},updateSlotOptions(){this.$slots.default&&this.$slots.default()[0].children&&(this.slotOptions=this.$slots.default()[0].children)},checkUpdateStatus(){this.getInitialValue().length>0&&0===this.selectOptions.length&&(this.hasExpectedValue=!0)},handleCreateItem(){if(this.allowCreate&&""!==this.query&&this.showCreateItem){const e=this.query;this.$emit("on-create",e),this.query="";const t={value:e,label:e,tag:void 0};this.multiple?this.onOptionClick(t):this.$nextTick((()=>this.onOptionClick(t)))}}}},Kf=(0,D.Z)(Zf,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("SelectHead"),u=(0,t.up)("Icon"),h=(0,t.up)("FunctionalOptions"),d=(0,t.up)("SelectDropdown"),p=(0,t.Q2)("transfer-dom"),f=(0,t.Q2)("click-outside");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.classes)},[(0,t._)("div",{ref:"reference",class:(0,c.C_)(a.selectionCls),tabindex:a.selectTabindex,onBlur:i[2]||(i[2]=(...e)=>a.toggleHeaderFocus&&a.toggleHeaderFocus(...e)),onFocus:i[3]||(i[3]=(...e)=>a.toggleHeaderFocus&&a.toggleHeaderFocus(...e)),onClick:i[4]||(i[4]=(...e)=>a.toggleMenu&&a.toggleMenu(...e)),onKeydown:[i[5]||(i[5]=(0,e.D2)(((...e)=>a.handleKeydown&&a.handleKeydown(...e)),["esc"])),i[6]||(i[6]=(0,e.D2)(((...e)=>a.handleKeydown&&a.handleKeydown(...e)),["enter"])),i[7]||(i[7]=(0,e.D2)((0,e.iM)(((...e)=>a.handleKeydown&&a.handleKeydown(...e)),["prevent"]),["up"])),i[8]||(i[8]=(0,e.D2)((0,e.iM)(((...e)=>a.handleKeydown&&a.handleKeydown(...e)),["prevent"]),["down"])),i[9]||(i[9]=(0,e.D2)(((...e)=>a.handleKeydown&&a.handleKeydown(...e)),["tab"])),i[10]||(i[10]=(0,e.D2)(((...e)=>a.handleKeydown&&a.handleKeydown(...e)),["delete"]))],onMouseenter:i[11]||(i[11]=e=>s.hasMouseHoverHead=!0),onMouseleave:i[12]||(i[12]=e=>s.hasMouseHoverHead=!1)},[(0,t.WI)(n.$slots,"input",{},(()=>[(0,t._)("input",{type:"hidden",name:r.name,value:a.publicValue},null,8,Mf),(0,t.Wm)(l,{filterable:r.filterable,multiple:r.multiple,values:s.values,clearable:a.canBeCleared,prefix:r.prefix,disabled:n.itemDisabled,remote:a.remote,"input-element-id":r.elementId,"initial-label":s.initialLabel,placeholder:r.placeholder,"query-prop":s.query,"max-tag-count":r.maxTagCount,"max-tag-placeholder":r.maxTagPlaceholder,"allow-create":r.allowCreate,"show-create-item":a.showCreateItem,onOnQueryChange:a.onQueryChange,onOnInputFocus:i[0]||(i[0]=e=>s.isFocused=!0),onOnInputBlur:i[1]||(i[1]=e=>s.isFocused=!1),onOnClear:a.clearSingleSelect,onOnEnter:a.handleCreateItem},{default:(0,t.w5)((()=>[(0,t.WI)(n.$slots,"prefix",{slot:"prefix"})])),_:3},8,["filterable","multiple","values","clearable","prefix","disabled","remote","input-element-id","initial-label","placeholder","query-prop","max-tag-count","max-tag-placeholder","allow-create","show-create-item","onOnQueryChange","onOnClear","onOnEnter"])]))],42,Pf),(0,t.Wm)(e.uT,{name:"transition-drop"},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(d,{ref:"dropdown",class:(0,c.C_)(a.dropdownCls),placement:r.placement,"data-transfer":r.transfer,transfer:r.transfer},{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("ul",{class:(0,c.C_)([s.prefixCls+"-not-found"])},[(0,t._)("li",null,(0,c.zw)(a.localeNotFoundText),1)],2),[[e.F8,a.showNotFoundLabel&&!r.allowCreate]]),!a.remote||a.remote&&!r.loading?((0,t.wg)(),(0,t.j4)(h,{key:0,options:a.selectOptions,"slot-update-hook":a.updateSlotOptions,"slot-options":s.slotOptions,class:(0,c.C_)(s.prefixCls+"-dropdown-list")},{default:(0,t.w5)((()=>[a.showCreateItem?((0,t.wg)(),(0,t.iD)("li",{key:0,class:(0,c.C_)(s.prefixCls+"-item"),onClick:i[13]||(i[13]=(...e)=>a.handleCreateItem&&a.handleCreateItem(...e))},[(0,t.Uk)((0,c.zw)(s.query)+" ",1),(0,t.Wm)(u,{type:"md-return-left",class:(0,c.C_)(s.prefixCls+"-item-enter")},null,8,["class"])],2)):(0,t.kq)("",!0)])),_:1},8,["options","slot-update-hook","slot-options","class"])):((0,t.wg)(),(0,t.iD)("ul",{key:1,class:(0,c.C_)(s.prefixCls+"-dropdown-list")},[a.showCreateItem?((0,t.wg)(),(0,t.iD)("li",{key:0,class:(0,c.C_)(s.prefixCls+"-item"),onClick:i[14]||(i[14]=(...e)=>a.handleCreateItem&&a.handleCreateItem(...e))},[(0,t.Uk)((0,c.zw)(s.query)+" ",1),(0,t.Wm)(u,{type:"md-return-left",class:(0,c.C_)(s.prefixCls+"-item-enter")},null,8,["class"])],2)):(0,t.kq)("",!0)],2)),(0,t.wy)((0,t._)("ul",{class:(0,c.C_)([s.prefixCls+"-loading"])},(0,c.zw)(a.localeLoadingText),3),[[e.F8,r.loading]])])),_:1},8,["class","placement","data-transfer","transfer"])),[[e.F8,a.dropVisible],[p]])])),_:1})],2)),[[f,a.onClickOutside,r.capture],[f,a.onClickOutside,r.capture,{mousedown:!0}],[f,a.onClickOutside,r.capture,{touchstart:!0}]])}]]),Gf={name:"VOption",componentName:"select-item",mixins:[Cd.Z,Tp.Z],inject:["selectComponent"],props:{value:{type:[String,Number],required:!0},label:{type:[String,Number]},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},isFocused:{type:Boolean,default:!1},tag:{type:[String,Number]}},emits:["on-select-selected","on-clickoutside"],data:()=>({searchLabel:"",autoComplete:!1,dataSelected:!1,dataIsFocused:!1}),computed:{classes(){return["ivu-select-item",{"ivu-select-item-disabled":this.itemDisabled,"ivu-select-item-selected":this.dataSelected&&!this.autoComplete,"ivu-select-item-focus":this.dataIsFocused}]},showLabel(){return this.label?this.label:this.value},optionLabel(){return this.label||this.$el&&this.$el.textContent}},watch:{selected(e){this.dataSelected=e},isFocused(e){this.dataIsFocused=e}},mounted(){const e=this.selectComponent;e&&(this.autoComplete=e.autoComplete),this.selectComponent.optionComponents.push(this)},beforeUnmount(){const e=this.selectComponent.optionComponents.indexOf(this);this.selectComponent.optionComponents.splice(e,1)},methods:{select(){if(this.itemDisabled)return!1;this.selectComponent.mitt.emit("on-select-selected",{value:this.value,label:this.optionLabel,tag:this.tag}),this.$emit("on-select-selected",{value:this.value,label:this.optionLabel,tag:this.tag})}}},Yf=(0,D.Z)(Gf,[["render",function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("li",{class:(0,c.C_)(a.classes),onClick:i[0]||(i[0]=(0,e.iM)(((...e)=>a.select&&a.select(...e)),["stop"])),onMousedown:i[1]||(i[1]=(0,e.iM)((()=>{}),["prevent"]))},[(0,t.WI)(n.$slots,"default",{},(()=>[(0,t.Uk)((0,c.zw)(a.showLabel),1)]))],34)}]]),Qf=[(0,t._)("i",{class:"ivu-icon ivu-icon-ios-menu"},null,-1)];(0,Td.Ae)();const Jf={name:"Sider",props:{modelValue:{type:Boolean,default:!1},width:{type:[Number,String],default:200},collapsedWidth:{type:[Number,String],default:64},hideTrigger:{type:Boolean,default:!1},breakpoint:{type:String,validator:e=>(0,Td.kw)(e,["xs","sm","md","lg","xl","xxl"])},collapsible:{type:Boolean,default:!1},defaultCollapsed:{type:Boolean,default:!1},reverseArrow:{type:Boolean,default:!1}},data:()=>({prefixCls:"ivu-layout-sider",mediaMatched:!1}),computed:{wrapClasses(){return["ivu-layout-sider",this.siderWidth?"":"ivu-layout-sider-zero-width",this.modelValue?"ivu-layout-sider-collapsed":""]},wrapStyles(){return{width:`${this.siderWidth}px`,minWidth:`${this.siderWidth}px`,maxWidth:`${this.siderWidth}px`,flex:`0 0 ${this.siderWidth}px`}},triggerClasses(){return["ivu-layout-sider-trigger",this.modelValue?"ivu-layout-sider-trigger-collapsed":""]},childClasses(){return`${this.prefixCls}-children`},zeroWidthTriggerClasses(){return["ivu-layout-sider-zero-width-trigger",this.reverseArrow?"ivu-layout-sider-zero-width-trigger-left":""]},triggerIconClasses(){return["ivu-icon","ivu-icon-ios-arrow-"+(this.reverseArrow?"forward":"back"),"ivu-layout-sider-trigger-icon"]},siderWidth(){return this.collapsible?this.modelValue?this.mediaMatched?0:parseInt(this.collapsedWidth):parseInt(this.width):this.width},showZeroTrigger(){return!!this.collapsible&&(this.mediaMatched&&!this.hideTrigger||0===parseInt(this.collapsedWidth)&&this.modelValue&&!this.hideTrigger)},showBottomTrigger(){return!!this.collapsible&&!this.mediaMatched&&!this.hideTrigger}},watch:{modelValue(e){this.$emit("on-collapse",e)}},mounted(){this.defaultCollapsed&&this.$emit("input",this.defaultCollapsed),void 0!==this.breakpoint&&((0,Ad.on)(window,"resize",this.onWindowResize),this.matchMedia())},beforeUnmount(){void 0!==this.breakpoint&&(0,Ad.S)(window,"resize",this.onWindowResize)},methods:{toggleCollapse(){const e=!!this.collapsible&&!this.modelValue;this.$emit("update:modelValue",e)},matchMedia(){let e;window.matchMedia&&(e=window.matchMedia);const t=this.mediaMatched;this.mediaMatched=e(`(max-width: ${Td.pp[this.breakpoint]})`).matches,this.mediaMatched!==t&&this.$emit("input",this.mediaMatched)},onWindowResize(){this.matchMedia()}}},Xf=(0,D.Z)(Jf,[["render",function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.wrapClasses),style:(0,c.j5)(a.wrapStyles)},[(0,t.wy)((0,t._)("span",{class:(0,c.C_)(a.zeroWidthTriggerClasses),onClick:i[0]||(i[0]=(...e)=>a.toggleCollapse&&a.toggleCollapse(...e))},Qf,2),[[e.F8,a.showZeroTrigger]]),(0,t._)("div",{class:(0,c.C_)(a.childClasses)},[(0,t.WI)(n.$slots,"default")],2),(0,t.WI)(n.$slots,"trigger",{},(()=>[(0,t.wy)((0,t._)("div",{class:(0,c.C_)(a.triggerClasses),style:(0,c.j5)({width:a.siderWidth+"px"}),onClick:i[1]||(i[1]=(...e)=>a.toggleCollapse&&a.toggleCollapse(...e))},[(0,t._)("i",{class:(0,c.C_)(a.triggerIconClasses)},null,2)],6),[[e.F8,a.showBottomTrigger]])]))],6)}]]),em={name:"Breadcrumb",props:{separator:{type:String,default:"/"}},computed:{classes:()=>"ivu-breadcrumb"},watch:{separator(){this.updateChildren()}},mounted(){this.updateChildren()},updated(){this.$nextTick((()=>{this.updateChildren()}))},methods:{updateChildren(){(0,Td.Hj)(this,"BreadcrumbItem").forEach((e=>{e.separator=this.separator}))}}},tm=(0,D.Z)(em,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes)},[(0,t.WI)(e.$slots,"default")],2)}]]),nm=["href","target"],im=["innerHTML"],rm={name:"BreadcrumbItem",mixins:[tp.Z],props:{},data:()=>({separator:"",showSeparator:!1}),computed:{linkClasses:()=>"ivu-breadcrumb-item-link",separatorClasses:()=>"ivu-breadcrumb-item-separator"},mounted(){this.showSeparator=void 0!==this.$slots.separator}},om=(0,D.Z)(rm,[["render",function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("span",null,[n.to?((0,t.wg)(),(0,t.iD)("a",{key:0,href:n.linkUrl,target:n.target,class:(0,c.C_)(a.linkClasses),onClick:[i[0]||(i[0]=(0,e.iM)((e=>n.handleCheckClick(e,!1)),["exact"])),i[1]||(i[1]=(0,e.iM)((e=>n.handleCheckClick(e,!0)),["ctrl"])),i[2]||(i[2]=(0,e.iM)((e=>n.handleCheckClick(e,!0)),["meta"]))]},[(0,t.WI)(n.$slots,"default")],10,nm)):((0,t.wg)(),(0,t.iD)("span",{key:1,class:(0,c.C_)(a.linkClasses)},[(0,t.WI)(n.$slots,"default")],2)),s.showSeparator?((0,t.wg)(),(0,t.iD)("span",{key:3,class:(0,c.C_)(a.separatorClasses)},[(0,t.WI)(n.$slots,"separator")],2)):((0,t.wg)(),(0,t.iD)("span",{key:2,class:(0,c.C_)(a.separatorClasses),innerHTML:s.separator},null,10,im))])}]]),sm=["title"],am=[(0,t._)("a",null,[(0,t._)("i",{class:"ion ion--ios-arrow-back"})],-1)],lm=["title"],cm=["value","disabled"],um=(0,t._)("span",null,"/",-1),hm=["title"],dm=[(0,t._)("a",null,[(0,t._)("i",{class:"ion ion-ios-arrow-forward"})],-1)],pm=["title"],fm={key:1,class:"ion ion-ios-arrow-back"},mm=[(0,t._)("a",null,"1",-1)],gm=["title"],vm=[(0,t._)("a",null,[(0,t._)("i",{class:"ion ion-ios-arrow-back"}),(0,t._)("i",{class:"ion ion-ios-more"})],-1)],ym=["title"],bm=["title"],wm=["title"],_m=["title"],xm=["title"],km=["title"],Cm=["title"],Sm=["title"],Am=[(0,t._)("a",null,[(0,t._)("i",{class:"ion ion-ios-arrow-forward"}),(0,t._)("i",{class:"ion ion-ios-more"})],-1)],Tm=["title"],Om=["title"],Lm={key:1,class:"ion ion-ios-arrow-forward"},Em=["value","disabled"],Dm={name:"PageOption",components:{VSelect:Kf,VOption:Yf},mixins:[kd.Z],props:{pageSizeOpts:Array,showSizer:Boolean,showElevator:Boolean,current:Number,_current:Number,pageSize:Number,allPages:Number,isSmall:Boolean,placement:String,transfer:Boolean,disabled:Boolean},emits:["on-size"],data(){return{currentPageSize:this.pageSize}},computed:{size(){return this.isSmall?"small":"default"},optsClasses:()=>["ivu-page-options"],sizerClasses:()=>["ivu-page-options-sizer"],ElevatorClasses:()=>["ivu-page-options-elevator"]},watch:{pageSize(e){this.currentPageSize=e}},methods:{changeSize(){this.$emit("on-size",this.currentPageSize)},changePage(e){let t=e.target.value.trim(),n=0;if(/^[1-9][0-9]*$/.test(t+"")){if(t=Number(t),t!=this.current){const e=this.allPages;n=t>e?e:t}}else n=1;n&&(this.$emit("on-page",n),e.target.value=n)}}},Pm=(0,D.Z)(Dm,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("VOption"),u=(0,t.up)("VSelect");return r.showSizer||r.showElevator?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(a.optsClasses)},[r.showSizer?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(a.sizerClasses)},[(0,t.Wm)(u,{modelValue:s.currentPageSize,"onUpdate:modelValue":i[0]||(i[0]=e=>s.currentPageSize=e),size:a.size,placement:r.placement,transfer:r.transfer,disabled:r.disabled,onOnChange:a.changeSize},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(r.pageSizeOpts,(e=>((0,t.wg)(),(0,t.j4)(l,{key:e,value:e,style:{"text-align":"center"}},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(e)+(0,c.zw)(n.t("i.page.page")),1)])),_:2},1032,["value"])))),128))])),_:1},8,["modelValue","size","placement","transfer","disabled","onOnChange"])],2)):(0,t.kq)("",!0),r.showElevator?((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)(a.ElevatorClasses)},[(0,t.Uk)((0,c.zw)(n.t("i.page.goto"))+" ",1),(0,t._)("input",{type:"text",value:r._current,autocomplete:"off",spellcheck:"false",disabled:r.disabled,onKeyup:i[1]||(i[1]=(0,e.D2)(((...e)=>a.changePage&&a.changePage(...e)),["enter"]))},null,40,Em),(0,t.Uk)(" "+(0,c.zw)(n.t("i.page.p")),1)],2)):(0,t.kq)("",!0)],2)):(0,t.kq)("",!0)}]]),Mm={name:"Page",components:{PageOptions:Pm},mixins:[kd.Z],props:{current:{type:Number,default:1},total:{type:Number,default:0},pageSize:{type:Number,default:10},pageSizeOpts:{type:Array,default:()=>[10,20,30,40]},placement:{validator:e=>(0,Td.kw)(e,["top","bottom"]),default:"bottom"},transfer:{type:Boolean,default:()=>!1},size:{validator:e=>(0,Td.kw)(e,["small"])},simple:{type:Boolean,default:!1},showTotal:{type:Boolean,default:!1},showElevator:{type:Boolean,default:!1},showSizer:{type:Boolean,default:!1},className:{type:String},styles:{type:Object},prevText:{type:String,default:""},nextText:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:current","on-change"],data(){return{prefixCls:"ivu-page",currentPage:this.current,currentPageSize:this.pageSize}},computed:{isSmall(){return!!this.size},allPages(){const e=Math.ceil(this.total/this.currentPageSize);return 0===e?1:e},simpleWrapClasses(){return["ivu-page","ivu-page-simple",{[`${this.className}`]:!!this.className}]},simplePagerClasses:()=>"ivu-page-simple-pager",wrapClasses(){return["ivu-page",{[`${this.className}`]:!!this.className,"ivu-page-with-disabled":this.disabled,mini:!!this.size}]},prevClasses(){return["ivu-page-prev",{"ivu-page-disabled":1===this.currentPage||this.disabled,"ivu-page-custom-text":""!==this.prevText}]},nextClasses(){return["ivu-page-next",{"ivu-page-disabled":this.currentPage===this.allPages||this.disabled,"ivu-page-custom-text":""!==this.nextText}]},firstPageClasses(){return["ivu-page-item",{"ivu-page-item-active":1===this.currentPage}]},lastPageClasses(){return["ivu-page-item",{"ivu-page-item-active":this.currentPage===this.allPages}]}},watch:{total(e){const t=Math.ceil(e/this.currentPageSize);t<this.currentPage&&(this.currentPage=0===t?1:t)},current(e){this.currentPage=e},pageSize(e){this.currentPageSize=e}},methods:{changePage(e){this.disabled||this.currentPage!=e&&(this.currentPage=e,this.$emit("update:current",e),this.$emit("on-change",e))},prev(){if(this.disabled)return;const e=this.currentPage;if(e<=1)return!1;this.changePage(e-1)},next(){if(this.disabled)return;const e=this.currentPage;if(e>=this.allPages)return!1;this.changePage(e+1)},fastPrev(){if(this.disabled)return;const e=this.currentPage-5;e>0?this.changePage(e):this.changePage(1)},fastNext(){if(this.disabled)return;const e=this.currentPage+5;e>this.allPages?this.changePage(this.allPages):this.changePage(e)},onSize(e){this.disabled||this.currentPageSize!=e&&(this.currentPageSize=e,this.$emit("update:page-size",e),this.$emit("on-page-size-change",e),this.changePage(1))},onPage(e){this.disabled||this.changePage(e)},keyDown(e){const t=e.keyCode;t>=48&&t<=57||t>=96&&t<=105||8===t||37===t||39===t||e.preventDefault()},keyUp(e){const t=e.keyCode,n=parseInt(e.target.value);if(38===t)this.prev();else if(40===t)this.next();else if(13===t){let t=1;t=n>this.allPages?this.allPages:n<=0||!n?1:n,e.target.value=t,this.changePage(t)}}}},$m=(0,D.Z)(Mm,[["render",function(e,n,i,r,o,s){const a=(0,t.up)("PageOptions");return i.simple?((0,t.wg)(),(0,t.iD)("ul",{key:0,class:(0,c.C_)(s.simpleWrapClasses),style:(0,c.j5)(i.styles)},[(0,t._)("li",{title:e.t("i.page.prev"),class:(0,c.C_)(s.prevClasses),onClick:n[0]||(n[0]=(...e)=>s.prev&&s.prev(...e))},am,10,sm),(0,t._)("div",{class:(0,c.C_)(s.simplePagerClasses),title:o.currentPage+"/"+s.allPages},[(0,t._)("input",{type:"text",value:o.currentPage,autocomplete:"off",spellcheck:"false",disabled:i.disabled,onKeydown:n[1]||(n[1]=(...e)=>s.keyDown&&s.keyDown(...e)),onKeyup:n[2]||(n[2]=(...e)=>s.keyUp&&s.keyUp(...e)),onChange:n[3]||(n[3]=(...e)=>s.keyUp&&s.keyUp(...e))},null,40,cm),um,(0,t.Uk)(" "+(0,c.zw)(s.allPages),1)],10,lm),(0,t._)("li",{title:e.t("i.page.next"),class:(0,c.C_)(s.nextClasses),onClick:n[4]||(n[4]=(...e)=>s.next&&s.next(...e))},dm,10,hm)],6)):((0,t.wg)(),(0,t.iD)("ul",{key:1,class:(0,c.C_)(s.wrapClasses),style:(0,c.j5)(i.styles)},[i.showTotal?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)([o.prefixCls+"-total"])},[(0,t.WI)(e.$slots,"default",{},(()=>[(0,t.Uk)((0,c.zw)(i.total)+" ",1),i.total<=1?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,c.zw)(e.t("i.page.item")),1)],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,c.zw)(e.t("i.page.items")),1)],64))]))],2)):(0,t.kq)("",!0),(0,t._)("li",{title:e.t("i.page.prev"),class:(0,c.C_)(s.prevClasses),onClick:n[5]||(n[5]=(...e)=>s.prev&&s.prev(...e))},[(0,t._)("a",null,[""!==i.prevText?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,c.zw)(i.prevText),1)],64)):((0,t.wg)(),(0,t.iD)("i",fm))])],10,pm),(0,t._)("li",{title:"1",class:(0,c.C_)(s.firstPageClasses),onClick:n[6]||(n[6]=e=>s.changePage(1))},mm,2),o.currentPage>5?((0,t.wg)(),(0,t.iD)("li",{key:1,title:e.t("i.page.prev5"),class:(0,c.C_)([o.prefixCls+"-item-jump-prev"]),onClick:n[7]||(n[7]=(...e)=>s.fastPrev&&s.fastPrev(...e))},vm,10,gm)):(0,t.kq)("",!0),5===o.currentPage?((0,t.wg)(),(0,t.iD)("li",{key:2,title:o.currentPage-3,class:(0,c.C_)([o.prefixCls+"-item"]),onClick:n[8]||(n[8]=e=>s.changePage(o.currentPage-3))},[(0,t._)("a",null,(0,c.zw)(o.currentPage-3),1)],10,ym)):(0,t.kq)("",!0),o.currentPage-2>1?((0,t.wg)(),(0,t.iD)("li",{key:3,title:o.currentPage-2,class:(0,c.C_)([o.prefixCls+"-item"]),onClick:n[9]||(n[9]=e=>s.changePage(o.currentPage-2))},[(0,t._)("a",null,(0,c.zw)(o.currentPage-2),1)],10,bm)):(0,t.kq)("",!0),o.currentPage-1>1?((0,t.wg)(),(0,t.iD)("li",{key:4,title:o.currentPage-1,class:(0,c.C_)([o.prefixCls+"-item"]),onClick:n[10]||(n[10]=e=>s.changePage(o.currentPage-1))},[(0,t._)("a",null,(0,c.zw)(o.currentPage-1),1)],10,wm)):(0,t.kq)("",!0),1!=o.currentPage&&o.currentPage!=s.allPages?((0,t.wg)(),(0,t.iD)("li",{key:5,title:o.currentPage,class:(0,c.C_)([o.prefixCls+"-item",o.prefixCls+"-item-active"])},[(0,t._)("a",null,(0,c.zw)(o.currentPage),1)],10,_m)):(0,t.kq)("",!0),o.currentPage+1<s.allPages?((0,t.wg)(),(0,t.iD)("li",{key:6,title:o.currentPage+1,class:(0,c.C_)([o.prefixCls+"-item"]),onClick:n[11]||(n[11]=e=>s.changePage(o.currentPage+1))},[(0,t._)("a",null,(0,c.zw)(o.currentPage+1),1)],10,xm)):(0,t.kq)("",!0),o.currentPage+2<s.allPages?((0,t.wg)(),(0,t.iD)("li",{key:7,title:o.currentPage+2,class:(0,c.C_)([o.prefixCls+"-item"]),onClick:n[12]||(n[12]=e=>s.changePage(o.currentPage+2))},[(0,t._)("a",null,(0,c.zw)(o.currentPage+2),1)],10,km)):(0,t.kq)("",!0),s.allPages-o.currentPage==4?((0,t.wg)(),(0,t.iD)("li",{key:8,title:o.currentPage+3,class:(0,c.C_)([o.prefixCls+"-item"]),onClick:n[13]||(n[13]=e=>s.changePage(o.currentPage+3))},[(0,t._)("a",null,(0,c.zw)(o.currentPage+3),1)],10,Cm)):(0,t.kq)("",!0),s.allPages-o.currentPage>=5?((0,t.wg)(),(0,t.iD)("li",{key:9,title:e.t("i.page.next5"),class:(0,c.C_)([o.prefixCls+"-item-jump-next"]),onClick:n[14]||(n[14]=(...e)=>s.fastNext&&s.fastNext(...e))},Am,10,Sm)):(0,t.kq)("",!0),s.allPages>1?((0,t.wg)(),(0,t.iD)("li",{key:10,title:s.allPages,class:(0,c.C_)(s.lastPageClasses),onClick:n[15]||(n[15]=e=>s.changePage(s.allPages))},[(0,t._)("a",null,(0,c.zw)(s.allPages),1)],10,Tm)):(0,t.kq)("",!0),(0,t._)("li",{title:e.t("i.page.next"),class:(0,c.C_)(s.nextClasses),onClick:n[16]||(n[16]=(...e)=>s.next&&s.next(...e))},[(0,t._)("a",null,[""!==i.nextText?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,c.zw)(i.nextText),1)],64)):((0,t.wg)(),(0,t.iD)("i",Lm))])],10,Om),(0,t.Wm)(a,{"show-sizer":i.showSizer,"page-size":o.currentPageSize,"page-size-opts":i.pageSizeOpts,placement:i.placement,transfer:i.transfer,"show-elevator":i.showElevator,_current:o.currentPage,current:o.currentPage,disabled:i.disabled,"all-pages":s.allPages,"is-small":s.isSmall,onOnSize:s.onSize,onOnPage:s.onPage},null,8,["show-sizer","page-size","page-size-opts","placement","transfer","show-elevator","_current","current","disabled","all-pages","is-small","onOnSize","onOnPage"])],6))}]]),Rm={name:"Trigger",props:{mode:{type:String,default:""}},data:()=>({prefix:"ivu-split-trigger",initOffset:0}),computed:{isVertical(){return"vertical"===this.mode},classes(){return[this.prefix,this.isVertical?`${this.prefix}-vertical`:`${this.prefix}-horizontal`]},barConClasses(){return[`${this.prefix}-bar-con`,this.isVertical?"vertical":"horizontal"]}}},Im={name:"Split",components:{Trigger:(0,D.Z)(Rm,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes)},[(0,t._)("div",{class:(0,c.C_)(s.barConClasses)},[n[0]||((0,t.qZ)(-1),n[0]=((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(8,(e=>(0,t._)("i",{key:`trigger-${e}`,class:(0,c.C_)(`${o.prefix}-bar`)},null,2))),64)),(0,t.qZ)(1),n[0])],2)],2)}]])},props:{modelValue:{type:[Number,String],default:.5},mode:{validator:e=>(0,Td.kw)(e,["horizontal","vertical"]),default:"horizontal"},min:{type:[Number,String],default:"40px"},max:{type:[Number,String],default:"40px"}},emits:["update:modelValue","on-moving","on-move-end","on-move-start"],data:()=>({prefix:"ivu-split",offset:0,oldOffset:0,isMoving:!1,computedMin:0,computedMax:0,currentValue:.5}),computed:{wrapperClasses(){return[`${this.prefix}-wrapper`,this.isMoving?"no-select":""]},paneClasses(){return[`${this.prefix}-pane`,{[`${this.prefix}-pane-moving`]:this.isMoving}]},isHorizontal(){return"horizontal"===this.mode},anotherOffset(){return 100-this.offset},valueIsPx(){return"string"==typeof this.modelValue},offsetSize(){return this.isHorizontal?"offsetWidth":"offsetHeight"}},watch:{modelValue(e){e!==this.currentValue&&(this.currentValue=e,this.computeOffset())}},mounted(){this.$nextTick((()=>{this.computeOffset()})),(0,Ad.on)(window,"resize",this.computeOffset)},beforeUnmount(){(0,Ad.S)(window,"resize",this.computeOffset)},methods:{px2percent:(e,t)=>parseFloat(e)/parseFloat(t),getComputedThresholdValue(e){const t=this.$refs.outerWrapper[this.offsetSize];return this.valueIsPx?"string"==typeof this[e]?this[e]:t*this[e]:"string"==typeof this[e]?this.px2percent(this[e],t):this[e]},getMin(e,t){return this.valueIsPx?`${Math.min(parseFloat(e),parseFloat(t))}px`:Math.min(e,t)},getMax(e,t){return this.valueIsPx?`${Math.max(parseFloat(e),parseFloat(t))}px`:Math.max(e,t)},getAnotherOffset(e){let t=0;return t=this.valueIsPx?this.$refs.outerWrapper[this.offsetSize]-parseFloat(e)+"px":1-e,t},handleMove(e){const t=(this.isHorizontal?e.pageX:e.pageY)-this.initOffset,n=this.$refs.outerWrapper[this.offsetSize];let i=this.valueIsPx?`${parseFloat(this.oldOffset)+t}px`:this.px2percent(n*this.oldOffset+t,n);const r=this.getAnotherOffset(i);parseFloat(i)<=parseFloat(this.computedMin)&&(i=this.getMax(i,this.computedMin)),parseFloat(r)<=parseFloat(this.computedMax)&&(i=this.getAnotherOffset(this.getMax(r,this.computedMax))),e.atMin=this.modelValue===this.computedMin,e.atMax=this.valueIsPx?this.getAnotherOffset(this.modelValue)===this.computedMax:this.getAnotherOffset(this.modelValue).toFixed(5)===this.computedMax.toFixed(5),this.$emit("update:modelValue",i),this.$emit("on-moving",e)},handleUp(){this.isMoving=!1,(0,Ad.S)(document,"mousemove",this.handleMove),(0,Ad.S)(document,"mouseup",this.handleUp),this.$emit("on-move-end")},handleMousedown(e){this.initOffset=this.isHorizontal?e.pageX:e.pageY,this.oldOffset=this.modelValue,this.isMoving=!0,(0,Ad.on)(document,"mousemove",this.handleMove),(0,Ad.on)(document,"mouseup",this.handleUp),this.$emit("on-move-start")},computeOffset(){this.$nextTick((()=>{this.computedMin=this.getComputedThresholdValue("min"),this.computedMax=this.getComputedThresholdValue("max"),this.offset=1e4*(this.valueIsPx?this.px2percent(this.modelValue,this.$refs.outerWrapper[this.offsetSize]):this.modelValue)/100}))}}},Fm=(0,D.Z)(Im,[["render",function(e,n,i,r,o,s){const a=(0,t.up)("trigger");return(0,t.wg)(),(0,t.iD)("div",{ref:"outerWrapper",class:(0,c.C_)(s.wrapperClasses)},[s.isHorizontal?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)(`${o.prefix}-horizontal`)},[(0,t._)("div",{style:(0,c.j5)({right:`${s.anotherOffset}%`}),class:(0,c.C_)(["left-pane",s.paneClasses])},[(0,t.WI)(e.$slots,"left")],6),(0,t._)("div",{class:(0,c.C_)(`${o.prefix}-trigger-con`),style:(0,c.j5)({left:`${o.offset}%`}),onMousedown:n[0]||(n[0]=(...e)=>s.handleMousedown&&s.handleMousedown(...e))},[(0,t.WI)(e.$slots,"trigger",{},(()=>[(0,t.Wm)(a,{mode:"vertical"})]))],38),(0,t._)("div",{style:(0,c.j5)({left:`${o.offset}%`}),class:(0,c.C_)(["right-pane",s.paneClasses])},[(0,t.WI)(e.$slots,"right")],6)],2)):((0,t.wg)(),(0,t.iD)("div",{key:1,class:(0,c.C_)(`${o.prefix}-vertical`)},[(0,t._)("div",{style:(0,c.j5)({bottom:`${s.anotherOffset}%`}),class:(0,c.C_)(["top-pane",s.paneClasses])},[(0,t.WI)(e.$slots,"top")],6),(0,t._)("div",{class:(0,c.C_)(`${o.prefix}-trigger-con`),style:(0,c.j5)({top:`${o.offset}%`}),onMousedown:n[1]||(n[1]=(...e)=>s.handleMousedown&&s.handleMousedown(...e))},[(0,t.WI)(e.$slots,"trigger",{},(()=>[(0,t.Wm)(a,{mode:"horizontal"})]))],38),(0,t._)("div",{style:(0,c.j5)({top:`${o.offset}%`}),class:(0,c.C_)(["bottom-pane",s.paneClasses])},[(0,t.WI)(e.$slots,"bottom")],6)],2))],2)}]]);var jm={},Nm=/d{1,4}|M{1,4}|yy(?:yy)?|S{1,3}|Do|ZZ|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,zm=/\d\d?/,qm=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Vm=function(){};function Bm(e,t){for(var n=[],i=0,r=e.length;i<r;i++)n.push(e[i].substr(0,t));return n}function Wm(e){return function(t,n,i){var r=i[e].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~r&&(t.month=r)}}function Um(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}var Hm=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Zm=["January","February","March","April","May","June","July","August","September","October","November","December"],Km=Bm(Zm,3),Gm=Bm(Hm,3);jm.i18n={dayNamesShort:Gm,dayNames:Hm,monthNamesShort:Km,monthNames:Zm,amPm:["am","pm"],DoFn:function(e){return e+["th","st","nd","rd"][e%10>3?0:(e-e%10!=10)*e%10]}};var Ym={D:function(e){return e.getDay()},DD:function(e){return Um(e.getDay())},Do:function(e,t){return t.DoFn(e.getDate())},d:function(e){return e.getDate()},dd:function(e){return Um(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return Um(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return String(e.getFullYear()).substr(2)},yyyy:function(e){return e.getFullYear()},h:function(e){return e.getHours()%12||12},hh:function(e){return Um(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return Um(e.getHours())},m:function(e){return e.getMinutes()},mm:function(e){return Um(e.getMinutes())},s:function(e){return e.getSeconds()},ss:function(e){return Um(e.getSeconds())},S:function(e){return Math.round(e.getMilliseconds()/100)},SS:function(e){return Um(Math.round(e.getMilliseconds()/10),2)},SSS:function(e){return Um(e.getMilliseconds(),3)},a:function(e,t){return e.getHours()<12?t.amPm[0]:t.amPm[1]},A:function(e,t){return e.getHours()<12?t.amPm[0].toUpperCase():t.amPm[1].toUpperCase()},ZZ:function(e){var t=e.getTimezoneOffset();return(t>0?"-":"+")+Um(100*Math.floor(Math.abs(t)/60)+Math.abs(t)%60,4)}},Qm={d:[zm,function(e,t){e.day=t}],M:[zm,function(e,t){e.month=t-1}],yy:[zm,function(e,t){var n=+(""+(new Date).getFullYear()).substr(0,2);e.year=""+(t>68?n-1:n)+t}],h:[zm,function(e,t){e.hour=t}],m:[zm,function(e,t){e.minute=t}],s:[zm,function(e,t){e.second=t}],yyyy:[/\d{4}/,function(e,t){e.year=t}],S:[/\d/,function(e,t){e.millisecond=100*t}],SS:[/\d{2}/,function(e,t){e.millisecond=10*t}],SSS:[/\d{3}/,function(e,t){e.millisecond=t}],D:[zm,Vm],ddd:[qm,Vm],MMM:[qm,Wm("monthNamesShort")],MMMM:[qm,Wm("monthNames")],a:[qm,function(e,t,n){var i=t.toLowerCase();i===n.amPm[0]?e.isPm=!1:i===n.amPm[1]&&(e.isPm=!0)}],ZZ:[/[\+\-]\d\d:?\d\d/,function(e,t){var n,i=(t+"").match(/([\+\-]|\d\d)/gi);i&&(n=60*i[1]+parseInt(i[2],10),e.timezoneOffset="+"===i[0]?n:-n)}]};Qm.DD=Qm.DD,Qm.dddd=Qm.ddd,Qm.Do=Qm.dd=Qm.d,Qm.mm=Qm.m,Qm.hh=Qm.H=Qm.HH=Qm.h,Qm.MM=Qm.M,Qm.ss=Qm.s,Qm.A=Qm.a,jm.masks={default:"ddd MMM dd yyyy HH:mm:ss",shortDate:"M/D/yy",mediumDate:"MMM d, yyyy",longDate:"MMMM d, yyyy",fullDate:"dddd, MMMM d, yyyy",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},jm.format=function(e,t,n){var i=n||jm.i18n;if("number"==typeof e&&(e=new Date(e)),"[object Date]"!==Object.prototype.toString.call(e)||isNaN(e.getTime()))throw new Error("Invalid Date in fecha.format");return(t=jm.masks[t]||t||jm.masks.default).replace(Nm,(function(t){return t in Ym?Ym[t](e,i):t.slice(1,t.length-1)}))},jm.parse=function(e,t,n){var i=n||jm.i18n;if("string"!=typeof t)throw new Error("Invalid format in fecha.parse");if(t=jm.masks[t]||t,e.length>1e3)return!1;var r=!0,o={};if(t.replace(Nm,(function(t){if(Qm[t]){var n=Qm[t],s=e.search(n[0]);~s?e.replace(n[0],(function(t){return n[1](o,t,i),e=e.substr(s+t.length),t})):r=!1}return Qm[t]?"":t.slice(1,t.length-1)})),!r)return!1;var s,a=new Date;return!0===o.isPm&&null!=o.hour&&12!=+o.hour?o.hour=+o.hour+12:!1===o.isPm&&12==+o.hour&&(o.hour=0),null!=o.timezoneOffset?(o.minute=+(o.minute||0)-+o.timezoneOffset,s=new Date(Date.UTC(o.year||a.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0))):s=new Date(o.year||a.getFullYear(),o.month||0,o.day||1,o.hour||0,o.minute||0,o.second||0,o.millisecond||0),s};const Jm=jm,Xm=function(e){let t=new Date(e);return isNaN(t.getTime())&&"string"==typeof e&&(t=e.split("-").map(Number),t[1]+=1,t=new Date(...t)),isNaN(t.getTime())?null:t},eg=function(e){const t=new Date(e);return t.setHours(0,0,0,0),t.getTime()},tg=(e,t,n)=>{if(!t||!n)return!1;const[i,r]=[t,n].sort();return e>=i&&e<=r},ng=function(e,t){return(e=Xm(e))?Jm.format(e,t||"yyyy-MM-dd"):""},ig=function(e,t){return Jm.parse(e,t||"yyyy-MM-dd")},rg=function(e,t){return new Date(e,t+1,0).getDate()},og=function(e,t){const n=new Date(e),i=n.getMonth()+t,r=rg(n.getFullYear(),i);return r<n.getDate()&&n.setDate(r),n.setMonth(i),n},sg=function(){const e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e},ag=function(){const e={yyyy:e=>e.getFullYear(),m:e=>e.getMonth()+1,mm:e=>("0"+(e.getMonth()+1)).slice(-2),mmm:(e,t)=>e.toLocaleDateString(t,{month:"long"}).slice(0,3),Mmm:(e,t)=>{const n=e.toLocaleDateString(t,{month:"long"});return(n[0].toUpperCase()+n.slice(1).toLowerCase()).slice(0,3)},mmmm:(e,t)=>e.toLocaleDateString(t,{month:"long"}),Mmmm:(e,t)=>{const n=e.toLocaleDateString(t,{month:"long"});return n[0].toUpperCase()+n.slice(1).toLowerCase()}},t=new RegExp(["yyyy","Mmmm","mmmm","Mmm","mmm","mm","m"].join("|"),"g");return function(n,i,r){const o=i.match(/(\[[^\]]+\])([^\[\]]+)(\[[^\]]+\])/).slice(1);return{separator:o[1],labels:[o[0],o[2]].map((i=>({label:i.replace(/\[[^\]]+\]/,(i=>i.slice(1,-1).replace(t,(t=>e[t](r,n))))),type:-1!=i.indexOf("yy")?"year":"month"})))}}}(),lg={date:"yyyy-MM-dd",month:"yyyy-MM",year:"yyyy",datetime:"yyyy-MM-dd HH:mm:ss",time:"HH:mm:ss",timerange:"HH:mm:ss",daterange:"yyyy-MM-dd",datetimerange:"yyyy-MM-dd HH:mm:ss"},cg=function(e,t){return ng(e,t)},ug=function(e,t){return ig(e,t)},hg=function(e,t,n){if(Array.isArray(e)&&2===e.length){const i=e[0],r=e[1];if(i&&r)return ng(i,t)+n+ng(r,t)}else if(!Array.isArray(e)&&e instanceof Date)return ng(e,t);return""},dg=function(e,t,n){const i=Array.isArray(e)?e:e.split(n);if(2===i.length){const e=i[0],n=i[1];return[e instanceof Date?e:ig(e,t),n instanceof Date?n:ig(n,t)]}return[]},pg={default:{formatter:e=>e?""+e:"",parser:e=>void 0===e||""===e?null:e},date:{formatter:cg,parser:ug},datetime:{formatter:cg,parser:ug},daterange:{formatter:hg,parser:dg},datetimerange:{formatter:hg,parser:dg},timerange:{formatter:hg,parser:dg},time:{formatter:cg,parser:ug},month:{formatter:cg,parser:ug},year:{formatter:cg,parser:ug},multiple:{formatter:(e,t)=>e.filter(Boolean).map((e=>ng(e,t))).join(","),parser:(e,t)=>("string"==typeof e?e.split(","):e).map((e=>e instanceof Date?e:("string"==typeof e?e=e.trim():"number"==typeof e||e||(e=""),ig(e,t))))},number:{formatter:e=>e?""+e:"",parser(e){const t=Number(e);return isNaN(e)?null:t}}},fg="ivu-date-picker",mg={40:"up",39:"right",38:"down",37:"left"},gg=(e,t,n)=>"left"===e?-1*t:"right"===e?1*t:"up"===e?1*n:"down"===e?-1*n:void 0,vg=e=>e?[e.getHours(),e.getMinutes(),e.getSeconds()]:[0,0,0],yg={components:{iInput:kp.Z,Drop:Qd.Z,Icon:wd.Z},directives:{clickOutside:$f.X,TransferDom:xd.Z},mixins:[Cd.Z,Tp.Z],props:{format:{type:String},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},editable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!0},confirm:{type:Boolean,default:!1},open:{type:Boolean,default:null},multiple:{type:Boolean,default:!1},timePickerOptions:{default:()=>({}),type:Object},splitPanels:{type:Boolean,default:!1},showWeekNumbers:{type:Boolean,default:!1},startDate:{type:Date},size:{validator:e=>(0,Td.kw)(e,["small","large","default"]),default:()=>"default"},placeholder:{type:String,default:""},placement:{validator:e=>(0,Td.kw)(e,["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end"]),default:"bottom-start"},transfer:{type:Boolean,default:()=>!1},name:{type:String},elementId:{type:String},steps:{type:Array,default:()=>[]},modelValue:{type:[Date,String,Array]},options:{type:Object,default:()=>({})},separator:{type:String,default:" - "},capture:{type:Boolean,default:()=>!0},transferClassName:{type:String}},emits:["update:modelValue","on-open-change","on-change","on-open-change","on-ok","on-clickoutside"],data(){const e=this.type.includes("range"),t=e?[null,null]:[null],n=((e?this.modelValue:[this.modelValue])||[]).reduce(((e,t)=>e&&!t||"string"==typeof t&&""===t.trim()),!0)?t:this.parseDate(this.modelValue),i=n.map(vg);return{prefixCls:fg,showClose:!1,visible:!1,internalValue:n,disableClickOutSide:!1,disableCloseUnderTransfer:!1,selectionMode:this.onSelectionModeChange(this.type),forceInputRerender:1,isFocused:!1,focusedDate:n[0]||this.startDate||new Date,focusedTime:{column:0,picker:0,time:i,active:!1},internalFocus:!1}},computed:{wrapperClasses(){return[fg,{"ivu-date-picker-focused":this.isFocused}]},publicVModelValue(){if(this.multiple)return this.internalValue.slice();{const e=this.type.includes("range");let t=this.internalValue.map((e=>e instanceof Date?new Date(e):e||""));return this.type.match(/^time/)&&(t=t.map(this.formatDate)),e||this.multiple?t:t[0]}},publicStringValue(){const{formatDate:e,publicVModelValue:t,type:n}=this;return n.match(/^time/)?t:this.multiple?e(t):Array.isArray(t)?t.map(e):e(t)},opened(){return null===this.open?this.visible:this.open},transition(){return this.placement.match(/^bottom/)?"slide-up":"slide-down"},visualValue(){return this.formatDate(this.internalValue)},isConfirm(){return this.confirm||"datetime"===this.type||"datetimerange"===this.type||this.multiple},arrowType(){let e="";return e="time"===this.type||"timerange"===this.type?"ios-time-outline":"ios-calendar-outline",this.showClose&&(e="ios-close-circle"),e},customArrowType:()=>"",arrowSize:()=>"",dropdownCls(){return{"ivu-date-picker-transfer":this.transfer,[this.transferClassName]:this.transferClassName}}},watch:{visible(e){!1===e&&this.$refs.drop.destroy(),e&&this.$refs.drop.update(),this.$emit("on-open-change",e)},modelValue(e){this.internalValue=this.parseDate(e)},open(e){this.visible=!0===e},type(e){this.onSelectionModeChange(e)},publicVModelValue(e,t){(JSON.stringify(e)!==JSON.stringify(t)||typeof e!=typeof t)&&this.$emit("update:modelValue",e)}},mounted(){const e=this.modelValue,t=this.publicVModelValue;typeof e==typeof t&&JSON.stringify(e)===JSON.stringify(t)||this.$emit("update:modelValue",this.publicVModelValue),null!==this.open&&(this.visible=this.open),this.mitt.on("focus-input",(()=>this.focus())),this.mitt.on("update-popper",(()=>this.updatePopper()))},beforeUnmount(){this.mitt.off("focus-input"),this.mitt.off("update-popper")},methods:{onSelectionModeChange(e){return e.match(/^date/)&&(e="date"),this.selectionMode=(0,Td.kw)(e,["year","month","date","time"])&&e,this.selectionMode},handleTransferClick(){this.transfer&&(this.disableCloseUnderTransfer=!0)},handleClose(e){if(this.disableCloseUnderTransfer)return this.disableCloseUnderTransfer=!1,!1;if(e&&"mousedown"===e.type&&this.visible)return e.preventDefault(),void e.stopPropagation();if(this.visible){const t=this.$refs.pickerPanel&&this.$refs.pickerPanel.$el;if(e&&t&&t.contains(e.target))return;return this.visible=!1,e&&e.preventDefault(),e&&e.stopPropagation(),void this.$emit("on-clickoutside",e)}this.isFocused=!1,this.disableClickOutSide=!1},handleFocus(e){this.readonly||(this.isFocused=!0,e&&"focus"===e.type||this.itemDisabled||(this.visible=!0))},handleBlur(e){this.internalFocus?this.internalFocus=!1:this.visible?e.preventDefault():(this.isFocused=!1,this.onSelectionModeChange(this.type),this.internalValue=this.internalValue.slice(),this.reset(),this.$refs.pickerPanel.onToggleVisibility(!1))},handleKeydown(e){const t=e.keyCode;if(9===t)if(this.visible)if(e.stopPropagation(),e.preventDefault(),this.isConfirm){const t=".ivu-picker-confirm > *",n=this.$refs.drop.$el.querySelectorAll(t);this.internalFocus=!0,[...n][e.shiftKey?"pop":"shift"]().focus()}else this.handleClose();else this.focused=!1;const n=[37,38,39,40];if(this.visible||!n.includes(t)){if(27===t&&this.visible&&(e.stopPropagation(),this.handleClose()),13===t){const e=(0,Td.Hj)(this,"TimeSpinner");if(e.length>0){const t=e[0].showSeconds?3:2,n=Math.floor(this.focusedTime.column/t),i=this.focusedTime.time[n];return void e[n].chooseValue(i)}if(this.type.match(/range/))this.$refs.pickerPanel.handleRangePick(this.focusedDate,"date");else{const e=(0,Td.Hj)(this,"PanelTable"),t=e=>{const t=["year","month","date"].indexOf(this.type)+1;return[e.getFullYear(),e.getMonth(),e.getDate()].slice(0,t).join("-")};e.find((({cells:e})=>e.find((({date:e,disabled:n})=>t(e)===t(this.focusedDate)&&!n))))&&this.onPick(this.focusedDate,!1,"date")}}n.includes(t)&&(this.focusedTime.active&&e.preventDefault(),this.navigateDatePanel(mg[t],e.shiftKey))}else this.visible=!0},reset(){this.$refs.pickerPanel.reset&&this.$refs.pickerPanel.reset()},navigateTimePanel(e){this.focusedTime.active=!0;const t=e.match(/left|right/),n=e.match(/up|down/),i=(0,Td.Hj)(this,"TimeSpinner"),r=(i[0].showSeconds?3:2)*i.length,o=(n=>(this.focusedTime.column+(t?"left"===e?-1:1:0)+r)%r)(),s=r/i.length,a=Math.floor(o/s),l=o%s;if(t){const e=this.internalValue.map(vg);this.focusedTime={...this.focusedTime,column:o,time:e},i.forEach(((t,n)=>{n===a?t.updateFocusedTime(l,e[a]):t.updateFocusedTime(-1,t.focusedTime)}))}if(n){const t="up"===e?1:-1,n=["hours","minutes","seconds"],r=i[a][`${n[l]}List`],o=r.findIndex((({text:e})=>this.focusedTime.time[a][l]===e)),s=r[(o+t+r.length)%r.length].text,c=this.focusedTime.time.map(((e,t)=>(t!==a||(e[l]=s),e)));this.focusedTime={...this.focusedTime,time:c},i.forEach(((e,t)=>{t===a?e.updateFocusedTime(l,c[t]):e.updateFocusedTime(-1,e.focusedTime)}))}},navigateDatePanel(e,t){const n=(0,Td.Hj)(this,"TimeSpinner");if(n.length>0)return void this.navigateTimePanel(e,t,n);if(t){"year"===this.type?this.focusedDate=new Date(this.focusedDate.getFullYear()+gg(e,0,10),this.focusedDate.getMonth(),this.focusedDate.getDate()):this.focusedDate=new Date(this.focusedDate.getFullYear()+gg(e,0,1),this.focusedDate.getMonth()+gg(e,1,0),this.focusedDate.getDate());const t=e.match(/left|down/)?"prev":"next",n=e.match(/up|down/)?"-double":"",i=this.$refs.drop.$el.querySelector(`.ivu-date-picker-${t}-btn-arrow${n}`);return void(i&&(e=>{const t="ivu-date-picker-btn-pulse";e.classList.add(t),setTimeout((()=>e.classList.remove(t)),200)})(i))}const i=this.focusedDate||this.internalValue&&this.internalValue[0]||new Date,r=new Date(i);if(this.type.match(/^date/)){const t=rg(i.getFullYear(),i.getMonth()),n=i.getDate(),o=r.getDate()+gg(e,1,7);o<1?e.match(/left|right/)?(r.setMonth(r.getMonth()+1),r.setDate(o)):r.setDate(n+7*Math.floor((t-n)/7)):o>t?e.match(/left|right/)?(r.setMonth(r.getMonth()-1),r.setDate(o)):r.setDate(n%7):r.setDate(o)}this.type.match(/^month/)&&r.setMonth(r.getMonth()+gg(e,1,3)),this.type.match(/^year/)&&r.setFullYear(r.getFullYear()+gg(e,1,3)),this.focusedDate=r},handleInputChange(e){const t=this.type.includes("range")||this.multiple,n=this.visualValue,i=e.target.value,r=this.parseDate(i),o=this.options&&"function"==typeof this.options.disabledDate&&this.options.disabledDate,s=t?r:r[0],a=o&&o(s),l=r.reduce(((e,t)=>e&&t instanceof Date),!0);i!==n&&!a&&l?(this.emitChange(this.type),this.internalValue=r):this.forceInputRerender++},handleInputMouseenter(){this.readonly||this.itemDisabled||this.visualValue&&this.clearable&&(this.showClose=!0)},handleInputMouseleave(){this.showClose=!1},handleIconClick(e){this.showClose?(e&&e.stopPropagation(),this.handleClear()):this.itemDisabled||this.handleFocus()},handleClear(){this.visible=!1,this.internalValue=this.internalValue.map((()=>null)),this.$emit("on-clear"),this.dispatch("FormItem","on-form-change",""),this.emitChange(this.type),this.reset(),setTimeout((()=>this.onSelectionModeChange(this.type)),500)},emitChange(e){this.$nextTick((()=>{this.$emit("on-change",this.publicStringValue,e),this.dispatch("FormItem","on-form-change",this.publicStringValue)}))},parseDate(e){const t=this.type.includes("range"),n=this.type,i=(pg[n]||pg.default).parser,r=this.format||lg[n],o=pg.multiple.parser;if(!e||"time"!==n||e instanceof Date)if(this.multiple&&e)e=o(e,r,this.separator);else if(t)if(e)if("string"==typeof e)e=i(e,r,this.separator);else if("timerange"===n)e=i(e,r,this.separator).map((e=>e||""));else{const[t,n]=e;t instanceof Date&&n instanceof Date?e=e.map((e=>new Date(e))):"string"==typeof t&&"string"==typeof n?e=i(e.join(this.separator),r,this.separator):t&&n||(e=[null,null])}else e=[null,null];else"string"==typeof e&&0!==n.indexOf("time")&&(e=i(e,r)||null);else e=i(e,r,this.separator);return t||this.multiple?e||[]:[e]},formatDate(e){const t=lg[this.type];if(this.multiple)return(0,pg.multiple.formatter)(e,this.format||t,this.separator);{const{formatter:n}=pg[this.type]||pg.default;return n(e,this.format||t,this.separator)}},onPick(e,t=!1,n){if(this.multiple){const t=e.getTime(),n=this.internalValue.findIndex((e=>e&&e.getTime()===t)),i=[...this.internalValue,e].filter(Boolean).map((e=>e.getTime())).filter(((e,t,i)=>i.indexOf(e)===t&&t!==n));this.internalValue=i.map((e=>new Date(e)))}else e=this.parseDate(e),this.internalValue=Array.isArray(e)?e:[e];this.internalValue[0]&&(this.focusedDate=this.internalValue[0]),this.focusedTime={...this.focusedTime,time:this.internalValue.map(vg)},this.isConfirm||this.onSelectionModeChange(this.type),this.isConfirm||(this.visible=t),this.emitChange(n)},onPickSuccess(){this.visible=!1,this.$emit("on-ok"),this.focus(),this.reset()},focus(){this.$refs.input&&this.$refs.input.focus()},updatePopper(){this.$refs.drop.update()}}},bg=(0,D.Z)(yg,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("Icon"),u=(0,t.up)("i-input"),h=(0,t.up)("Drop"),d=(0,t.Q2)("transfer-dom"),p=(0,t.Q2)("click-outside");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.wrapperClasses)},[(0,t._)("div",{ref:"reference",class:(0,c.C_)([s.prefixCls+"-rel"])},[(0,t.WI)(n.$slots,"default",{},(()=>[((0,t.wg)(),(0,t.j4)(u,{key:s.forceInputRerender,ref:"input","element-id":r.elementId,class:(0,c.C_)([s.prefixCls+"-editor"]),readonly:!r.editable||r.readonly,disabled:n.itemDisabled,size:r.size,placeholder:r.placeholder,"model-value":a.visualValue,name:r.name,onOnInputChange:a.handleInputChange,onOnFocus:a.handleFocus,onOnBlur:a.handleBlur,onClick:a.handleFocus,onKeydown:(0,e.D2)(a.handleKeydown,["native"]),onMouseenter:a.handleInputMouseenter,onMouseleave:a.handleInputMouseleave},{suffix:(0,t.w5)((()=>[(0,t.Wm)(l,{type:a.arrowType,custom:a.customArrowType,size:a.arrowSize,onClick:a.handleIconClick},null,8,["type","custom","size","onClick"])])),_:1},8,["element-id","class","readonly","disabled","size","placeholder","model-value","name","onOnInputChange","onOnFocus","onOnBlur","onClick","onKeydown","onMouseenter","onMouseleave"]))]))],2),(0,t.Wm)(e.uT,{name:"transition-drop"},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(h,{ref:"drop",class:(0,c.C_)(a.dropdownCls),placement:r.placement,"data-transfer":r.transfer,transfer:r.transfer,onClick:a.handleTransferClick},{default:(0,t.w5)((()=>[(0,t._)("div",null,[((0,t.wg)(),(0,t.j4)((0,t.LL)(n.panel),(0,t.dG)({ref:"pickerPanel",visible:s.visible,"show-time":"datetime"===n.type||"datetimerange"===n.type,confirm:a.isConfirm,"selection-mode":s.selectionMode,steps:r.steps,format:r.format,value:s.internalValue,"start-date":r.startDate,"split-panels":r.splitPanels,"show-week-numbers":r.showWeekNumbers,"picker-type":n.type,multiple:r.multiple,"focused-date":s.focusedDate,"time-picker-options":r.timePickerOptions},n.ownPickerProps,{onOnPick:a.onPick,onOnPickClear:a.handleClear,onOnPickSuccess:a.onPickSuccess,onOnPickClick:i[0]||(i[0]=e=>s.disableClickOutSide=!0),onOnSelectionModeChange:a.onSelectionModeChange}),null,16,["visible","show-time","confirm","selection-mode","steps","format","value","start-date","split-panels","show-week-numbers","picker-type","multiple","focused-date","time-picker-options","onOnPick","onOnPickClear","onOnPickSuccess","onOnSelectionModeChange"]))])])),_:1},8,["class","placement","data-transfer","transfer","onClick"])),[[e.F8,a.opened],[d]])])),_:1})],2)),[[p,a.handleClose,r.capture,{mousedown:!0}],[p,a.handleClose,r.capture,{touchstart:!0}],[p,a.handleClose,r.capture]])}]]),wg=["onClick"],_g=["onClick","onMouseenter"];var xg=n(7514),kg=n.n(xg);const Cg={emits:["on-pick-click","on-pick-success","on-pick-clear","on-pick"],name:"PanelTable",props:{tableDate:{type:Date,required:!0},disabledDate:{type:Function},selectionMode:{type:String,required:!0},value:{type:Array,required:!0},rangeState:{type:Object,default:()=>({from:null,to:null,selecting:!1})},focusedDate:{type:Date,required:!0}},computed:{dates(){const{selectionMode:e,value:t,rangeState:n}=this;return"range"===e&&n.selecting?[n.from]:t}},methods:{handleClick(e,t){if(t.stopPropagation(),e.disabled||"weekLabel"===e.type)return;const n=new Date(eg(e.date));this.$emit("on-pick",n),this.$emit("on-pick-click")},handleMouseMove(e){if(!this.rangeState.selecting)return;if(e.disabled)return;const t=e.date;this.$emit("on-change-range",t)}}},Sg="ivu-date-picker-cells",Ag={mixins:[kd.Z,Cg],props:{showWeekNumbers:{type:Boolean,default:!1}},data:()=>({prefixCls:Sg}),computed:{classes(){return[`${Sg}`,{[`${Sg}-show-week-numbers`]:this.showWeekNumbers}]},calendar(){const e=Number(this.t("i.datepicker.weekStartDay"));return new(kg().Generator)({onlyDays:!this.showWeekNumbers,weekStart:e})},headerDays(){const e=Number(this.t("i.datepicker.weekStartDay")),t=["sun","mon","tue","wed","thu","fri","sat"].map((e=>this.t("i.datepicker.weeks."+e))),n=t.splice(e,7-e).concat(t.splice(0,e));return this.showWeekNumbers?[""].concat(n):n},cells(){const e=this.tableDate.getFullYear(),t=this.tableDate.getMonth(),n=eg(new Date),i=this.dates.filter(Boolean).map(eg),[r,o]=this.dates.map(eg),s=this.rangeState.from&&eg(this.rangeState.from),a=this.rangeState.to&&eg(this.rangeState.to),l="range"===this.selectionMode,c="function"==typeof this.disabledDate&&this.disabledDate;return this.calendar(e,t,(e=>{e.date instanceof Date&&e.date.setTime(e.date.getTime()+6e4*e.date.getTimezoneOffset()+288e5);const u=e.date&&eg(e.date),h=e.date&&t===e.date.getMonth();return{...e,type:u===n?"today":e.type,selected:h&&i.includes(u),disabled:e.date&&c&&c(new Date(u)),range:h&&l&&tg(u,s,a),start:h&&l&&u===r,end:h&&l&&u===o}})).cells.slice(this.showWeekNumbers?8:0)}},methods:{getCellCls(e){return[`${Sg}-cell`,{[`${Sg}-cell-selected`]:e.selected||e.start||e.end,[`${Sg}-cell-disabled`]:e.disabled,[`${Sg}-cell-today`]:"today"===e.type,[`${Sg}-cell-prev-month`]:"prevMonth"===e.type,[`${Sg}-cell-next-month`]:"nextMonth"===e.type,[`${Sg}-cell-week-label`]:"weekLabel"===e.type,[`${Sg}-cell-range`]:e.range&&!e.start&&!e.end,[`${Sg}-focused`]:eg(e.date)===eg(this.focusedDate)}]}}},Tg=(0,D.Z)(Ag,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes)},[(0,t._)("div",{class:(0,c.C_)([o.prefixCls+"-header"])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.headerDays,(e=>((0,t.wg)(),(0,t.iD)("span",{key:e},(0,c.zw)(e),1)))),128))],2),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.cells,((n,i)=>((0,t.wg)(),(0,t.iD)("span",{key:String(n.date)+i,class:(0,c.C_)(s.getCellCls(n)),onClick:t=>e.handleClick(n,t),onMouseenter:t=>e.handleMouseMove(n)},[(0,t._)("em",null,(0,c.zw)(n.desc),1)],42,_g)))),128))],2)}]]),Og=["onClick","onMouseenter"],Lg={mixins:[Cg],props:{},computed:{classes:()=>[`${Sg}`,`${Sg}-year`],startYear(){return 10*Math.floor(this.tableDate.getFullYear()/10)},cells(){const e=[],t={text:"",selected:!1,disabled:!1},n=this.dates.filter(Boolean).map((e=>eg(new Date(e.getFullYear(),0,1)))),i=eg(new Date(this.focusedDate.getFullYear(),0,1));for(let r=0;r<10;r++){const o=(0,Td.p$)(t);o.date=new Date(this.startYear+r,0,1),o.disabled="function"==typeof this.disabledDate&&this.disabledDate(o.date)&&"year"===this.selectionMode;const s=eg(o.date);o.selected=n.includes(s),o.focused=s===i,e.push(o)}return e}},methods:{getCellCls:e=>[`${Sg}-cell`,{[`${Sg}-cell-selected`]:e.selected,[`${Sg}-cell-disabled`]:e.disabled,[`${Sg}-cell-focused`]:e.focused,[`${Sg}-cell-range`]:e.range&&!e.start&&!e.end}]}},Eg=(0,D.Z)(Lg,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.cells,(n=>((0,t.wg)(),(0,t.iD)("span",{class:(0,c.C_)(s.getCellCls(n)),onClick:t=>e.handleClick(n,t),onMouseenter:t=>e.handleMouseMove(n)},[(0,t._)("em",null,(0,c.zw)(n.date.getFullYear()),1)],42,Og)))),256))],2)}]]),Dg=["onClick","onMouseenter"],Pg={mixins:[kd.Z,Cg],props:{},computed:{classes:()=>[`${Sg}`,`${Sg}-month`],cells(){const e=[],t={text:"",selected:!1,disabled:!1},n=this.tableDate.getFullYear(),i=this.dates.filter(Boolean).map((e=>eg(new Date(e.getFullYear(),e.getMonth(),1)))),r=eg(new Date(this.focusedDate.getFullYear(),this.focusedDate.getMonth(),1));for(let o=0;o<12;o++){const s=(0,Td.p$)(t);s.date=new Date(n,o,1),s.text=this.tCell(o+1);const a=eg(s.date);s.disabled="function"==typeof this.disabledDate&&this.disabledDate(s.date)&&"month"===this.selectionMode,s.selected=i.includes(a),s.focused=a===r,e.push(s)}return e}},methods:{getCellCls:e=>[`${Sg}-cell`,{[`${Sg}-cell-selected`]:e.selected,[`${Sg}-cell-disabled`]:e.disabled,[`${Sg}-cell-focused`]:e.focused,[`${Sg}-cell-range`]:e.range&&!e.start&&!e.end}],tCell(e){return this.t(`i.datepicker.months.m${e}`)}}},Mg=(0,D.Z)(Pg,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes)},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.cells,(n=>((0,t.wg)(),(0,t.iD)("span",{class:(0,c.C_)(s.getCellCls(n)),onClick:t=>e.handleClick(n,t),onMouseenter:t=>e.handleMouseMove(n)},[(0,t._)("em",null,(0,c.zw)(n.text),1)],42,Dg)))),256))],2)}]]),$g=["onClick"],Rg=["onClick"],Ig=["onClick"],Fg={props:{disabledHours:{type:Array,default:()=>[]},disabledMinutes:{type:Array,default:()=>[]},disabledSeconds:{type:Array,default:()=>[]},hideDisabledOptions:{type:Boolean,default:!1}}},jg=["hours","minutes","seconds"],Ng={name:"TimeSpinner",mixins:[Fg],props:{hours:{type:[Number,String],default:NaN},minutes:{type:[Number,String],default:NaN},seconds:{type:[Number,String],default:NaN},showSeconds:{type:Boolean,default:!0},steps:{type:Array,default:()=>[]}},data(){return{spinerSteps:[1,1,1].map(((e,t)=>Math.abs(this.steps[t])||e)),prefixCls:"ivu-time-picker-cells",compiled:!1,focusedColumn:-1,focusedTime:[0,0,0]}},computed:{classes(){return["ivu-time-picker-cells",{"ivu-time-picker-cells-with-seconds":this.showSeconds}]},hoursList(){const e=[],t=this.spinerSteps[0],n=0===this.focusedColumn&&this.focusedTime[0],i={text:0,selected:!1,disabled:!1,hide:!1};for(let r=0;r<24;r+=t){const t=(0,Td.p$)(i);t.text=r,t.focused=r===n,this.disabledHours.length&&this.disabledHours.indexOf(r)>-1&&(t.disabled=!0,this.hideDisabledOptions&&(t.hide=!0)),this.hours===r&&(t.selected=!0),e.push(t)}return e},minutesList(){const e=[],t=this.spinerSteps[1],n=1===this.focusedColumn&&this.focusedTime[1],i={text:0,selected:!1,disabled:!1,hide:!1};for(let r=0;r<60;r+=t){const t=(0,Td.p$)(i);t.text=r,t.focused=r===n,this.disabledMinutes.length&&this.disabledMinutes.indexOf(r)>-1&&(t.disabled=!0,this.hideDisabledOptions&&(t.hide=!0)),this.minutes===r&&(t.selected=!0),e.push(t)}return e},secondsList(){const e=[],t=this.spinerSteps[2],n=2===this.focusedColumn&&this.focusedTime[2],i={text:0,selected:!1,disabled:!1,hide:!1};for(let r=0;r<60;r+=t){const t=(0,Td.p$)(i);t.text=r,t.focused=r===n,this.disabledSeconds.length&&this.disabledSeconds.indexOf(r)>-1&&(t.disabled=!0,this.hideDisabledOptions&&(t.hide=!0)),this.seconds===r&&(t.selected=!0),e.push(t)}return e}},watch:{hours(e){this.compiled&&this.scroll("hours",this.hoursList.findIndex((t=>t.text==e)))},minutes(e){this.compiled&&this.scroll("minutes",this.minutesList.findIndex((t=>t.text==e)))},seconds(e){this.compiled&&this.scroll("seconds",this.secondsList.findIndex((t=>t.text==e)))},focusedTime(e,t){jg.forEach(((n,i)=>{if(e[i]===t[i]||void 0===e[i])return;const r=this[`${n}List`].findIndex((t=>t.text===e[i]));this.scroll(n,r)}))}},mounted(){this.$nextTick((()=>this.compiled=!0))},methods:{getCellCls:e=>["ivu-time-picker-cells-cell",{"ivu-time-picker-cells-cell-selected":e.selected,"ivu-time-picker-cells-cell-focused":e.focused,"ivu-time-picker-cells-cell-disabled":e.disabled}],chooseValue(e){const t=jg.reduce(((t,n,i)=>{const r=e[i];return this[n]===r?t:{...t,[n]:r}}),{});Object.keys(t).length>0&&this.emitChange(t)},handleClick(e,t){if(t.disabled)return;const n={[e]:t.text};this.emitChange(n)},emitChange(e){this.$emit("on-change",e),this.$emit("on-pick-click")},scroll(e,t){const n=this.$refs[e].scrollTop,i=24*this.getScrollIndex(e,t);(0,Td.SM)(this.$refs[e],n,i,500)},getScrollIndex(e,t){const n=this[`disabled${(0,Td.RI)(e)}`];if(n.length&&this.hideDisabledOptions){let e=0;n.forEach((n=>n<=t?e++:"")),t-=e}return t},updateScroll(){this.$nextTick((()=>{jg.forEach((e=>{this.$refs[e].scrollTop=24*this[`${e}List`].findIndex((t=>t.text==this[e]))}))}))},formatTime:e=>e<10?"0"+e:e,updateFocusedTime(e,t){this.focusedColumn=e,this.focusedTime=t.slice()}}},zg=(0,D.Z)(Ng,[["render",function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.classes)},[(0,t._)("div",{ref:"hours",class:(0,c.C_)([s.prefixCls+"-list"])},[(0,t._)("ul",{class:(0,c.C_)([s.prefixCls+"-ul"])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.hoursList,(n=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("li",{class:(0,c.C_)(a.getCellCls(n)),onClick:e=>a.handleClick("hours",n)},(0,c.zw)(a.formatTime(n.text)),11,$g)),[[e.F8,!n.hide]]))),256))],2)],2),(0,t._)("div",{ref:"minutes",class:(0,c.C_)([s.prefixCls+"-list"])},[(0,t._)("ul",{class:(0,c.C_)([s.prefixCls+"-ul"])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.minutesList,(n=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("li",{class:(0,c.C_)(a.getCellCls(n)),onClick:e=>a.handleClick("minutes",n)},(0,c.zw)(a.formatTime(n.text)),11,Rg)),[[e.F8,!n.hide]]))),256))],2)],2),(0,t.wy)((0,t._)("div",{ref:"seconds",class:(0,c.C_)([s.prefixCls+"-list"])},[(0,t._)("ul",{class:(0,c.C_)([s.prefixCls+"-ul"])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.secondsList,(n=>(0,t.wy)(((0,t.wg)(),(0,t.iD)("li",{class:(0,c.C_)(a.getCellCls(n)),onClick:e=>a.handleClick("seconds",n)},(0,c.zw)(a.formatTime(n.text)),11,Ig)),[[e.F8,!n.hide]]))),256))],2)],2),[[e.F8,r.showSeconds]])],2)}]]),qg=zg,Vg=(0,t.Uk)(" "+(0,c.zw)(" ")+" "),Bg={components:{iButton:_d.Z},mixins:[kd.Z,Cd.Z],props:{showTime:!1,isTime:!1,timeDisabled:!1},emits:["on-pick-click","on-pick-success","on-pick-clear","on-pick"],data:()=>({prefixCls:"ivu-picker"}),computed:{timeClasses:()=>"ivu-picker-confirm-time",labels(){const e=[this.isTime?"selectDate":"selectTime","clear","ok"];return["time","clear","ok"].reduce(((t,n,i)=>(t[n]=this.t("i.datepicker."+e[i]),t)),{})}},methods:{handleClear(){this.$emit("on-pick-clear")},handleSuccess(){this.$emit("on-pick-success")},handleToggleTime(){this.timeDisabled||(this.$emit("on-pick-toggle-time"),this.dispatch("CalendarPicker","focus-input"),this.dispatch("CalendarPicker","update-popper"))},handleTab(e){const t=[...this.$el.children][e.shiftKey?"shift":"pop"]();document.activeElement===t&&(e.preventDefault(),e.stopPropagation(),this.dispatch("CalendarPicker","focus-input"))}}},Wg=(0,D.Z)(Bg,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("i-button");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)([s.prefixCls+"-confirm"]),onKeydownCapture:i[0]||(i[0]=(0,e.D2)(((...e)=>a.handleTab&&a.handleTab(...e)),["tab"]))},[r.showTime?((0,t.wg)(),(0,t.j4)(l,{key:0,class:(0,c.C_)(a.timeClasses),size:"small",type:"text",disabled:r.timeDisabled,onClick:a.handleToggleTime},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(a.labels.time),1)])),_:1},8,["class","disabled","onClick"])):(0,t.kq)("",!0),(0,t.Wm)(l,{size:"small",onClick:a.handleClear,onKeydown:(0,e.D2)(a.handleClear,["enter","native"])},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(a.labels.clear),1)])),_:1},8,["onClick","onKeydown"]),Vg,(0,t.Wm)(l,{size:"small",type:"primary",onClick:a.handleSuccess,onKeydown:(0,e.D2)(a.handleSuccess,["enter","native"])},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(a.labels.ok),1)])),_:1},8,["onClick","onKeydown"])],34)}]]),Ug={emits:["on-pick-click","on-pick-success","on-pick-clear","on-pick"],props:{confirm:{type:Boolean,default:!1}},methods:{iconBtnCls:(e,t="")=>["ivu-picker-panel-icon-btn",`ivu-date-picker-${e}-btn`,`ivu-date-picker-${e}-btn-arrow${t}`],handleShortcutClick(e){e.value&&this.$emit("on-pick",e.value()),e.onClick&&e.onClick(this)},handlePickClear(){this.resetView(),this.$emit("on-pick-clear")},handlePickSuccess(){this.resetView(),this.$emit("on-pick-success")},handlePickClick(){this.$emit("on-pick-click")},resetView(){setTimeout((()=>this.currentView=this.selectionMode),500)},handleClear(){this.dates=this.dates.map((()=>null)),this.rangeState={},this.$emit("on-pick",this.dates),this.handleConfirm()},handleConfirm(e,t){this.$emit("on-pick",this.dates,e,t||this.type)},onToggleVisibility(e){const{timeSpinner:t,timeSpinnerEnd:n}=this.$refs;e&&t&&t.updateScroll(),e&&n&&n.updateScroll()}}},Hg=(e,t,n,i)=>{const r=new Date(e.getTime());return r.setHours(t),r.setMinutes(n),r.setSeconds(i),r},Zg=(e,t,n)=>n.indexOf(e)===t,Kg=()=>!1,Gg={name:"TimePickerPanel",components:{TimeSpinner:qg,Confirm:Wg},mixins:[Ug,kd.Z,Fg],props:{disabledDate:{type:Function,default:Kg},steps:{type:Array,default:()=>[]},format:{type:String,default:"HH:mm:ss"},value:{type:Array,required:!0}},emits:["on-pick"],data(){return{prefixCls:"ivu-picker-panel",timePrefixCls:"ivu-time-picker",date:this.value[0]||sg(),showDate:!1}},computed:{showSeconds(){return!!(this.format||"").match(/ss/)},visibleDate(){const e=this.date,t=e.getMonth()+1,n=this.t("i.datepicker.year"),i=this.t(`i.datepicker.month${t}`);return`${e.getFullYear()}${n} ${i}`},timeSlots(){return this.value[0]?["getHours","getMinutes","getSeconds"].map((e=>this.date[e]())):[]},disabledHMS(){const e=["disabledHours","disabledMinutes","disabledSeconds"];if(this.disabledDate!==Kg&&this.value[0]){const t=[24,60,60],n=["Hours","Minutes","Seconds"].map((e=>this[`disabled${e}`])).map(((e,n)=>{const i=t[n],r=e;for(let e=0;e<i;e+=this.steps[n]||1){const t=this.timeSlots.map(((t,i)=>i===n?e:t)),i=Hg(this.date,...t);this.disabledDate(i,!0)&&r.push(e)}return r.filter(Zg)}));return e.reduce(((e,t,i)=>(e[t]=n[i],e)),{})}return e.reduce(((e,t)=>(e[t]=this[t],e)),{})}},watch:{value(e){let t=e[0]||sg();t=new Date(t),this.date=t}},mounted(){this.$parent&&"DatePicker"===this.$parent.$options.name&&(this.showDate=!0)},methods:{handleChange(e,t=!0){const n=new Date(this.date);Object.keys(e).forEach((t=>{return n[`set${i=t,i[0].toUpperCase()+i.slice(1)}`](e[t]);var i})),t&&this.$emit("on-pick",n,"time")}}},Yg=(0,D.Z)(Gg,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("time-spinner"),u=(0,t.up)("Confirm");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)([s.prefixCls+"-body-wrapper"]),onMousedown:i[0]||(i[0]=(0,e.iM)((()=>{}),["prevent"]))},[(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-body"])},[s.showDate?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)([s.timePrefixCls+"-header"])},(0,c.zw)(a.visibleDate),3)):(0,t.kq)("",!0),(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content"])},[(0,t.Wm)(l,{ref:"timeSpinner","show-seconds":a.showSeconds,steps:r.steps,hours:a.timeSlots[0],minutes:a.timeSlots[1],seconds:a.timeSlots[2],"disabled-hours":a.disabledHMS.disabledHours,"disabled-minutes":a.disabledHMS.disabledMinutes,"disabled-seconds":a.disabledHMS.disabledSeconds,"hide-disabled-options":n.hideDisabledOptions,onOnChange:a.handleChange,onOnPickClick:n.handlePickClick},null,8,["show-seconds","steps","hours","minutes","seconds","disabled-hours","disabled-minutes","disabled-seconds","hide-disabled-options","onOnChange","onOnPickClick"])],2),n.confirm?((0,t.wg)(),(0,t.j4)(u,{key:1,onOnPickClear:n.handlePickClear,onOnPickSuccess:n.handlePickSuccess},null,8,["onOnPickClear","onOnPickSuccess"])):(0,t.kq)("",!0)],2)],34)}]]),Qg={props:{datePanelLabel:Object,currentView:String,datePrefixCls:String}},Jg=(0,D.Z)(Qg,[["render",function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("span",null,[r.datePanelLabel?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)([r.datePrefixCls+"-header-label"]),onClick:i[0]||(i[0]=(...e)=>r.datePanelLabel.labels[0].handler&&r.datePanelLabel.labels[0].handler(...e))},(0,c.zw)(r.datePanelLabel.labels[0].label),3)),[[e.F8,"year"===r.datePanelLabel.labels[0].type||"date"===r.currentView]]):(0,t.kq)("",!0),r.datePanelLabel&&"date"===r.currentView?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,c.zw)(r.datePanelLabel.separator),1)],64)):(0,t.kq)("",!0),r.datePanelLabel?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:2,class:(0,c.C_)([r.datePrefixCls+"-header-label"]),onClick:i[1]||(i[1]=(...e)=>r.datePanelLabel.labels[1].handler&&r.datePanelLabel.labels[1].handler(...e))},(0,c.zw)(r.datePanelLabel.labels[1].label),3)),[[e.F8,"year"===r.datePanelLabel.labels[1].type||"date"===r.currentView]]):(0,t.kq)("",!0)])}]]),Xg={props:{showTime:{type:Boolean,default:!1},format:{type:String,default:"yyyy-MM-dd"},selectionMode:{type:String,validator:e=>(0,Td.kw)(e,["year","month","date","time"]),default:"date"},shortcuts:{type:Array,default:()=>[]},disabledDate:{type:Function,default:()=>!1},value:{type:Array,default:()=>[sg(),sg()]},timePickerOptions:{default:()=>({}),type:Object},showWeekNumbers:{type:Boolean,default:!1},startDate:{type:Date},pickerType:{type:String,require:!0},focusedDate:{type:Date,required:!0}},computed:{isTime(){return"time"===this.currentView}},methods:{handleToggleTime(){this.currentView="time"===this.currentView?"date":"time"}}},ev={name:"DatePickerPanel",components:{Icon:wd.Z,DateTable:Tg,YearTable:Eg,MonthTable:Mg,TimePicker:Yg,Confirm:Wg,datePanelLabel:Jg},mixins:[Ug,kd.Z,Xg],props:{multiple:{type:Boolean,default:!1}},emits:["on-pick","on-selection-mode-change"],data(){const{selectionMode:e,value:t}=this,n=t.slice().sort();return{prefixCls:"ivu-picker-panel",datePrefixCls:"ivu-date-picker",currentView:e||"date",pickerTable:this.getTableType(e),dates:n,panelDate:this.startDate||n[0]||new Date}},computed:{classes(){return["ivu-picker-panel-body-wrapper",{"ivu-picker-panel-with-sidebar":this.shortcuts.length}]},panelPickerHandlers(){return this.pickerTable===`${this.currentView}-table`?this.handlePick:this.handlePreSelection},datePanelLabel(){const e=this.t("i.locale"),t=this.t("i.datepicker.datePanelLabel"),n=this.panelDate,{labels:i,separator:r}=ag(e,t,n),o=e=>()=>this.pickerTable=this.getTableType(e);return{separator:r,labels:i.map((e=>(e.handler=o(e.type),e)))}},timeDisabled(){return!this.dates[0]}},watch:{value(e){this.dates=e;const t=this.multiple?this.dates[this.dates.length-1]:this.startDate||this.dates[0];this.panelDate=t||new Date},currentView(e){this.$emit("on-selection-mode-change",e),"time"===this.currentView&&this.$nextTick((()=>{this.$refs.timePicker.$refs.timeSpinner.updateScroll()}))},selectionMode(e){this.currentView=e,this.pickerTable=this.getTableType(e)},focusedDate(e){const t=e.getFullYear()!==this.panelDate.getFullYear(),n=t||e.getMonth()!==this.panelDate.getMonth();(t||n)&&(this.multiple||(this.panelDate=e))}},methods:{reset(){this.currentView=this.selectionMode,this.pickerTable=this.getTableType(this.currentView)},changeYear(e){"year"===this.selectionMode||"year-table"===this.pickerTable?this.panelDate=new Date(this.panelDate.getFullYear()+10*e,0,1):this.panelDate=og(this.panelDate,12*e)},getTableType:e=>e.match(/^time/)?"time-picker":`${e}-table`,changeMonth(e){this.panelDate=og(this.panelDate,e)},handlePreSelection(e){this.panelDate=e,"year-table"===this.pickerTable?this.pickerTable="month-table":this.pickerTable=this.getTableType(this.currentView)},handlePick(e,t){const{selectionMode:n,panelDate:i}=this;e="year"===n?new Date(e.getFullYear(),0,1):"month"===n?new Date(i.getFullYear(),e.getMonth(),1):new Date(e),this.dates=[e],this.$emit("on-pick",e,!1,t||n)}}},tv=(0,D.Z)(ev,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("Icon"),u=(0,t.up)("date-panel-label"),h=(0,t.up)("time-picker"),d=(0,t.up)("Confirm");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.classes),onMousedown:i[4]||(i[4]=(0,e.iM)((()=>{}),["prevent"]))},[n.shortcuts.length?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)([s.prefixCls+"-sidebar"])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.shortcuts,(e=>((0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)([s.prefixCls+"-shortcut"]),onClick:t=>n.handleShortcutClick(e)},(0,c.zw)(e.text),11,wg)))),256))],2)):(0,t.kq)("",!0),(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-body"])},[(0,t.wy)((0,t._)("div",{class:(0,c.C_)([s.datePrefixCls+"-header"])},[(0,t._)("span",{class:(0,c.C_)(n.iconBtnCls("prev","-double")),onClick:i[0]||(i[0]=e=>a.changeYear(-1))},[(0,t.Wm)(l,{type:"ios-arrow-back"})],2),"date-table"===s.pickerTable?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(n.iconBtnCls("prev")),onClick:i[1]||(i[1]=e=>a.changeMonth(-1))},[(0,t.Wm)(l,{type:"ios-arrow-back"})],2)),[[e.F8,"date"===s.currentView]]):(0,t.kq)("",!0),(0,t.Wm)(u,{"date-panel-label":a.datePanelLabel,"current-view":s.pickerTable.split("-").shift(),"date-prefix-cls":s.datePrefixCls},null,8,["date-panel-label","current-view","date-prefix-cls"]),(0,t._)("span",{class:(0,c.C_)(n.iconBtnCls("next","-double")),onClick:i[2]||(i[2]=e=>a.changeYear(1))},[(0,t.Wm)(l,{type:"ios-arrow-forward"})],2),"date-table"===s.pickerTable?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:1,class:(0,c.C_)(n.iconBtnCls("next")),onClick:i[3]||(i[3]=e=>a.changeMonth(1))},[(0,t.Wm)(l,{type:"ios-arrow-forward"})],2)),[[e.F8,"date"===s.currentView]]):(0,t.kq)("",!0)],2),[[e.F8,"time"!==s.currentView]]),(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content"])},["time"!==s.currentView?((0,t.wg)(),(0,t.j4)((0,t.LL)(s.pickerTable),{key:0,ref:"pickerTable","table-date":s.panelDate,"show-week-numbers":n.showWeekNumbers,value:s.dates,"selection-mode":n.selectionMode,"disabled-date":n.disabledDate,"focused-date":n.focusedDate,onOnPick:a.panelPickerHandlers,onOnPickClick:n.handlePickClick},null,40,["table-date","show-week-numbers","value","selection-mode","disabled-date","focused-date","onOnPick","onOnPickClick"])):(0,t.kq)("",!0)],2),(0,t.wy)((0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content"])},["time"===s.currentView?((0,t.wg)(),(0,t.j4)(h,(0,t.dG)({key:0,ref:"timePicker",value:s.dates,format:n.format,"time-disabled":a.timeDisabled,"disabled-date":n.disabledDate,"focused-date":n.focusedDate},n.timePickerOptions,{onOnPick:a.handlePick,onOnPickClick:n.handlePickClick,onOnPickClear:n.handlePickClear,onOnPickSuccess:n.handlePickSuccess,onOnPickToggleTime:n.handleToggleTime}),null,16,["value","format","time-disabled","disabled-date","focused-date","onOnPick","onOnPickClick","onOnPickClear","onOnPickSuccess","onOnPickToggleTime"])):(0,t.kq)("",!0)],2),[[e.F8,n.isTime]]),n.confirm?((0,t.wg)(),(0,t.j4)(d,{key:0,"show-time":n.showTime,"is-time":n.isTime,onOnPickToggleTime:n.handleToggleTime,onOnPickClear:n.handlePickClear,onOnPickSuccess:n.handlePickSuccess},null,8,["show-time","is-time","onOnPickToggleTime","onOnPickClear","onOnPickSuccess"])):(0,t.kq)("",!0)],2)],34)}]]),nv=["onClick"],iv=e=>e[0].toUpperCase()+e.slice(1),rv={name:"RangeTimePickerPanel",components:{TimeSpinner:qg,Confirm:Wg},mixins:[Ug,kd.Z,Fg],props:{steps:{type:Array,default:()=>[]},format:{type:String,default:"HH:mm:ss"},value:{type:Array,required:!0}},emits:["on-pick"],data(){const[e,t]=this.value.slice();return{prefixCls:"ivu-picker-panel",timePrefixCls:"ivu-time-picker",showDate:!1,dateStart:e||sg(),dateEnd:t||sg()}},computed:{classes(){return["ivu-picker-panel-body-wrapper","ivu-time-picker-with-range",{"ivu-time-picker-with-seconds":this.showSeconds}]},showSeconds(){return!!(this.format||"").match(/ss/)},leftDatePanelLabel(){return this.panelLabelConfig(this.date)},rightDatePanelLabel(){return this.panelLabelConfig(this.dateEnd)}},watch:{value(e){const[t,n]=e.slice();this.dateStart=t||sg(),this.dateEnd=n||sg()}},mounted(){this.$parent&&"DatePicker"===this.$parent.$options.name&&(this.showDate=!0)},methods:{panelLabelConfig(e){const t=this.t("i.locale"),n=this.t("i.datepicker.datePanelLabel"),{labels:i,separator:r}=ag(t,n,e||sg());return[i[0].label,r,i[1].label].join("")},handleChange(e,t,n=!0){const i=new Date(this.dateStart);let r=new Date(this.dateEnd);Object.keys(e).forEach((t=>{i[`set${iv(t)}`](e[t])})),Object.keys(t).forEach((e=>{r[`set${iv(e)}`](t[e])})),r<i&&(r=i),n&&this.$emit("on-pick",[i,r],"time")},handleStartChange(e){this.handleChange(e,{})},handleEndChange(e){this.handleChange({},e)},updateScroll(){this.$refs.timeSpinner.updateScroll(),this.$refs.timeSpinnerEnd.updateScroll()}}},ov=(0,D.Z)(rv,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("time-spinner"),u=(0,t.up)("Confirm");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.classes),onMousedown:i[0]||(i[0]=(0,e.iM)((()=>{}),["prevent"]))},[(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-body"])},[(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content",s.prefixCls+"-content-left"])},[(0,t._)("div",{class:(0,c.C_)([s.timePrefixCls+"-header"])},[s.showDate?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,c.zw)(a.leftDatePanelLabel),1)],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,c.zw)(n.t("i.datepicker.startTime")),1)],64))],2),(0,t.Wm)(l,{ref:"timeSpinner",steps:r.steps,"show-seconds":a.showSeconds,hours:r.value[0]&&s.dateStart.getHours(),minutes:r.value[0]&&s.dateStart.getMinutes(),seconds:r.value[0]&&s.dateStart.getSeconds(),"disabled-hours":n.disabledHours,"disabled-minutes":n.disabledMinutes,"disabled-seconds":n.disabledSeconds,"hide-disabled-options":n.hideDisabledOptions,onOnChange:a.handleStartChange,onOnPickClick:n.handlePickClick},null,8,["steps","show-seconds","hours","minutes","seconds","disabled-hours","disabled-minutes","disabled-seconds","hide-disabled-options","onOnChange","onOnPickClick"])],2),(0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content",s.prefixCls+"-content-right"])},[(0,t._)("div",{class:(0,c.C_)([s.timePrefixCls+"-header"])},[s.showDate?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,c.zw)(a.rightDatePanelLabel),1)],64)):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,c.zw)(n.t("i.datepicker.endTime")),1)],64))],2),(0,t.Wm)(l,{ref:"timeSpinnerEnd",steps:r.steps,"show-seconds":a.showSeconds,hours:r.value[1]&&s.dateEnd.getHours(),minutes:r.value[1]&&s.dateEnd.getMinutes(),seconds:r.value[1]&&s.dateEnd.getSeconds(),"disabled-hours":n.disabledHours,"disabled-minutes":n.disabledMinutes,"disabled-seconds":n.disabledSeconds,"hide-disabled-options":n.hideDisabledOptions,onOnChange:a.handleEndChange,onOnPickClick:n.handlePickClick},null,8,["steps","show-seconds","hours","minutes","seconds","disabled-hours","disabled-minutes","disabled-seconds","hide-disabled-options","onOnChange","onOnPickClick"])],2),n.confirm?((0,t.wg)(),(0,t.j4)(u,{key:0,onOnPickClear:n.handlePickClear,onOnPickSuccess:n.handlePickSuccess},null,8,["onOnPickClear","onOnPickSuccess"])):(0,t.kq)("",!0)],2)],34)}]]),sv=(e,t)=>e&&t?e.getTime()-t.getTime():0,av={name:"RangeDatePickerPanel",components:{Icon:wd.Z,DateTable:Tg,YearTable:Eg,MonthTable:Mg,TimePicker:ov,Confirm:Wg,datePanelLabel:Jg},mixins:[Ug,kd.Z,Xg],props:{splitPanels:{type:Boolean,default:!1}},data(){const[e,t]=this.value.map((e=>e||sg())),n=this.startDate?this.startDate:e;return{prefixCls:"ivu-picker-panel",datePrefixCls:"ivu-date-picker",dates:this.value,rangeState:{from:this.value[0],to:this.value[1],selecting:e&&!t},currentView:this.selectionMode||"range",leftPickerTable:`${this.selectionMode}-table`,rightPickerTable:`${this.selectionMode}-table`,leftPanelDate:n,rightPanelDate:new Date(n.getFullYear(),n.getMonth()+1,1)}},computed:{classes(){return["ivu-picker-panel-body-wrapper","ivu-date-picker-with-range",{"ivu-picker-panel-with-sidebar":this.shortcuts.length,"ivu-date-picker-with-week-numbers":this.showWeekNumbers}]},panelBodyClasses(){return["ivu-picker-panel-body",{"ivu-picker-panel-body-time":this.showTime,"ivu-picker-panel-body-date":!this.showTime}]},leftDatePanelLabel(){return this.panelLabelConfig("left")},rightDatePanelLabel(){return this.panelLabelConfig("right")},leftDatePanelView(){return this.leftPickerTable.split("-").shift()},rightDatePanelView(){return this.rightPickerTable.split("-").shift()},timeDisabled(){return!(this.dates[0]&&this.dates[1])},preSelecting(){const e=`${this.currentView}-table`;return{left:this.leftPickerTable!==e,right:this.rightPickerTable!==e}},panelPickerHandlers(){return{left:this.preSelecting.left?this.handlePreSelection.bind(this,"left"):this.handleRangePick,right:this.preSelecting.right?this.handlePreSelection.bind(this,"right"):this.handleRangePick}}},watch:{value(e){const t=e[0]?Xm(e[0]):null,n=e[1]?Xm(e[1]):null;this.dates=[t,n].sort(sv),this.rangeState={from:this.dates[0],to:this.dates[1],selecting:!1},this.setPanelDates(this.startDate||this.dates[0]||new Date)},currentView(e){const t=this.leftPanelDate.getMonth(),n=this.rightPanelDate.getMonth(),i=this.leftPanelDate.getFullYear()===this.rightPanelDate.getFullYear();"date"===e&&i&&t===n&&this.changePanelDate("right","Month",1),"month"===e&&i&&this.changePanelDate("right","FullYear",1),"year"===e&&i&&this.changePanelDate("right","FullYear",10)},selectionMode(e){this.currentView=e||"range"},focusedDate(e){this.setPanelDates(e||new Date)}},methods:{reset(){this.currentView=this.selectionMode,this.leftPickerTable=`${this.currentView}-table`,this.rightPickerTable=`${this.currentView}-table`},setPanelDates(e){this.leftPanelDate=e;const t=new Date(e.getFullYear(),e.getMonth()+1,1),n=this.dates[1]?this.dates[1].getTime():this.dates[1];this.rightPanelDate=this.splitPanels?new Date(Math.max(n,t.getTime())):t},panelLabelConfig(e){const t=this.t("i.locale"),n=this.t("i.datepicker.datePanelLabel"),i=t=>{const n="month"==t?this.showMonthPicker:this.showYearPicker;return()=>n(e)},r=this[`${e}PanelDate`],{labels:o,separator:s}=ag(t,n,r);return{separator:s,labels:o.map((e=>(e.handler=i(e.type),e)))}},prevYear(e){const t="year"===this.currentView?-10:-1;this.changePanelDate(e,"FullYear",t)},nextYear(e){const t="year"===this.currentView?10:1;this.changePanelDate(e,"FullYear",t)},prevMonth(e){this.changePanelDate(e,"Month",-1)},nextMonth(e){this.changePanelDate(e,"Month",1)},changePanelDate(e,t,n,i=!0){const r=new Date(this[`${e}PanelDate`]);if(r[`set${t}`](r[`get${t}`]()+n),this[`${e}PanelDate`]=r,i)if(this.splitPanels){const n="left"===e?"right":"left";"left"===e&&this.leftPanelDate>=this.rightPanelDate&&this.changePanelDate(n,t,1),"right"===e&&this.rightPanelDate<=this.leftPanelDate&&this.changePanelDate(n,t,-1)}else{const i="left"===e?"right":"left",r=this[`${i}PanelDate`],o=new Date(r);if("Month"===t){const e=new Date(o.getFullYear(),o.getMonth()+n+1,0).getDate();o.setDate(Math.min(e,o.getDate()))}o[`set${t}`](o[`get${t}`]()+n),this[`${i}PanelDate`]=o}},showYearPicker(e){this[`${e}PickerTable`]="year-table"},showMonthPicker(e){this[`${e}PickerTable`]="month-table"},handlePreSelection(e,t){this[`${e}PanelDate`]=t;const n=this[`${e}PickerTable`];if(this[`${e}PickerTable`]="year-table"===n?"month-table":`${this.currentView}-table`,!this.splitPanels){const n="left"===e?"right":"left";this[`${n}PanelDate`]=t;const i="left"===n?-1:1;this.changePanelDate(n,"Month",i,!1)}},handleRangePick(e,t){if(this.rangeState.selecting||"time"===this.currentView){if("time"===this.currentView)this.dates=e;else{const[t,n]=[this.rangeState.from,e].sort(sv);this.dates=[t,n],this.rangeState={from:t,to:n,selecting:!1}}this.handleConfirm(!1,t||"date")}else this.rangeState={from:e,to:null,selecting:!0}},handleChangeRange(e){this.rangeState.to=e}}},lv={name:"CalendarPicker",mixins:[bg],props:{type:{validator:e=>(0,Td.kw)(e,["year","month","date","daterange","datetime","datetimerange"]),default:"date"}},components:{DatePickerPanel:tv,RangeDatePickerPanel:(0,D.Z)(av,[["render",function(n,i,r,o,s,a){const l=(0,t.up)("Icon"),u=(0,t.up)("date-panel-label"),h=(0,t.up)("time-picker"),d=(0,t.up)("Confirm");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.classes),onMousedown:i[8]||(i[8]=(0,e.iM)((()=>{}),["prevent"]))},[n.shortcuts.length?((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)([s.prefixCls+"-sidebar"])},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.shortcuts,(e=>((0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)([s.prefixCls+"-shortcut"]),onClick:t=>n.handleShortcutClick(e)},(0,c.zw)(e.text),11,nv)))),256))],2)):(0,t.kq)("",!0),(0,t._)("div",{class:(0,c.C_)(a.panelBodyClasses)},[(0,t.wy)((0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content",s.prefixCls+"-content-left"])},[(0,t.wy)((0,t._)("div",{class:(0,c.C_)([s.datePrefixCls+"-header"])},[(0,t._)("span",{class:(0,c.C_)(n.iconBtnCls("prev","-double")),onClick:i[0]||(i[0]=e=>a.prevYear("left"))},[(0,t.Wm)(l,{type:"ios-arrow-back"})],2),"date-table"===s.leftPickerTable?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(n.iconBtnCls("prev")),onClick:i[1]||(i[1]=e=>a.prevMonth("left"))},[(0,t.Wm)(l,{type:"ios-arrow-back"})],2)),[[e.F8,"date"===s.currentView]]):(0,t.kq)("",!0),(0,t.Wm)(u,{"date-panel-label":a.leftDatePanelLabel,"current-view":a.leftDatePanelView,"date-prefix-cls":s.datePrefixCls},null,8,["date-panel-label","current-view","date-prefix-cls"]),r.splitPanels||"date-table"!==s.leftPickerTable?((0,t.wg)(),(0,t.iD)("span",{key:1,class:(0,c.C_)(n.iconBtnCls("next","-double")),onClick:i[2]||(i[2]=e=>a.nextYear("left"))},[(0,t.Wm)(l,{type:"ios-arrow-forward"})],2)):(0,t.kq)("",!0),r.splitPanels&&"date-table"===s.leftPickerTable?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:2,class:(0,c.C_)(n.iconBtnCls("next")),onClick:i[3]||(i[3]=e=>a.nextMonth("left"))},[(0,t.Wm)(l,{type:"ios-arrow-forward"})],2)),[[e.F8,"date"===s.currentView]]):(0,t.kq)("",!0)],2),[[e.F8,"time"!==s.currentView]]),"time"!==s.currentView?((0,t.wg)(),(0,t.j4)((0,t.LL)(s.leftPickerTable),{key:0,ref:"leftYearTable","table-date":s.leftPanelDate,"selection-mode":"range","disabled-date":n.disabledDate,"range-state":s.rangeState,"show-week-numbers":n.showWeekNumbers,value:a.preSelecting.left?[s.dates[0]]:s.dates,"focused-date":n.focusedDate,onOnChangeRange:a.handleChangeRange,onOnPick:a.panelPickerHandlers.left,onOnPickClick:n.handlePickClick},null,40,["table-date","disabled-date","range-state","show-week-numbers","value","focused-date","onOnChangeRange","onOnPick","onOnPickClick"])):(0,t.kq)("",!0)],2),[[e.F8,!n.isTime]]),(0,t.wy)((0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content",s.prefixCls+"-content-right"])},[(0,t.wy)((0,t._)("div",{class:(0,c.C_)([s.datePrefixCls+"-header"])},[r.splitPanels||"date-table"!==s.rightPickerTable?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(n.iconBtnCls("prev","-double")),onClick:i[4]||(i[4]=e=>a.prevYear("right"))},[(0,t.Wm)(l,{type:"ios-arrow-back"})],2)):(0,t.kq)("",!0),r.splitPanels&&"date-table"===s.rightPickerTable?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:1,class:(0,c.C_)(n.iconBtnCls("prev")),onClick:i[5]||(i[5]=e=>a.prevMonth("right"))},[(0,t.Wm)(l,{type:"ios-arrow-back"})],2)),[[e.F8,"date"===s.currentView]]):(0,t.kq)("",!0),(0,t.Wm)(u,{"date-panel-label":a.rightDatePanelLabel,"current-view":a.rightDatePanelView,"date-prefix-cls":s.datePrefixCls},null,8,["date-panel-label","current-view","date-prefix-cls"]),(0,t._)("span",{class:(0,c.C_)(n.iconBtnCls("next","-double")),onClick:i[6]||(i[6]=e=>a.nextYear("right"))},[(0,t.Wm)(l,{type:"ios-arrow-forward"})],2),"date-table"===s.rightPickerTable?(0,t.wy)(((0,t.wg)(),(0,t.iD)("span",{key:2,class:(0,c.C_)(n.iconBtnCls("next")),onClick:i[7]||(i[7]=e=>a.nextMonth("right"))},[(0,t.Wm)(l,{type:"ios-arrow-forward"})],2)),[[e.F8,"date"===s.currentView]]):(0,t.kq)("",!0)],2),[[e.F8,"time"!==s.currentView]]),"time"!==s.currentView?((0,t.wg)(),(0,t.j4)((0,t.LL)(s.rightPickerTable),{key:0,ref:"rightYearTable","table-date":s.rightPanelDate,"selection-mode":"range","range-state":s.rangeState,"disabled-date":n.disabledDate,"show-week-numbers":n.showWeekNumbers,value:a.preSelecting.right?[s.dates[s.dates.length-1]]:s.dates,"focused-date":n.focusedDate,onOnChangeRange:a.handleChangeRange,onOnPick:a.panelPickerHandlers.right,onOnPickClick:n.handlePickClick},null,40,["table-date","range-state","disabled-date","show-week-numbers","value","focused-date","onOnChangeRange","onOnPick","onOnPickClick"])):(0,t.kq)("",!0)],2),[[e.F8,!n.isTime]]),(0,t.wy)((0,t._)("div",{class:(0,c.C_)([s.prefixCls+"-content"])},["time"===s.currentView?((0,t.wg)(),(0,t.j4)(h,(0,t.dG)({key:0,ref:"timePicker",value:s.dates,format:n.format,"time-disabled":a.timeDisabled},n.timePickerOptions,{onOnPick:a.handleRangePick,onOnPickClick:n.handlePickClick,onOnPickClear:n.handlePickClear,onOnPickSuccess:n.handlePickSuccess,onOnPickToggleTime:n.handleToggleTime}),null,16,["value","format","time-disabled","onOnPick","onOnPickClick","onOnPickClear","onOnPickSuccess","onOnPickToggleTime"])):(0,t.kq)("",!0)],2),[[e.F8,n.isTime]]),n.confirm?((0,t.wg)(),(0,t.j4)(d,{key:0,"show-time":n.showTime,"is-time":n.isTime,"time-disabled":a.timeDisabled,onOnPickToggleTime:n.handleToggleTime,onOnPickClear:n.handlePickClear,onOnPickSuccess:n.handlePickSuccess},null,8,["show-time","is-time","time-disabled","onOnPickToggleTime","onOnPickClear","onOnPickSuccess"])):(0,t.kq)("",!0)],2)],34)}]])},computed:{panel(){return"daterange"===this.type||"datetimerange"===this.type?"RangeDatePickerPanel":"DatePickerPanel"},ownPickerProps(){return this.options}}},cv={class:"ivu-badge-status-text"},uv=["blue","green","red","yellow","pink","magenta","volcano","orange","gold","lime","cyan","geekblue","purple"],hv={name:"Badge",props:{count:Number,dot:{type:Boolean,default:!1},overflowCount:{type:[Number,String],default:99},className:String,showZero:{type:Boolean,default:!1},text:{type:String,default:""},status:{validator:e=>(0,Td.kw)(e,["success","processing","default","error","warning"])},type:{validator:e=>(0,Td.kw)(e,["success","primary","normal","error","warning","info"])},offset:{type:Array},color:{type:String}},computed:{classes:()=>"ivu-badge",dotClasses:()=>"ivu-badge-dot",countClasses(){return["ivu-badge-count",{[`${this.className}`]:!!this.className,"ivu-badge-count-alone":this.alone,[`ivu-badge-count-${this.type}`]:!!this.type}]},customCountClasses(){return["ivu-badge-count","ivu-badge-count-custom",{[`${this.className}`]:!!this.className}]},statusClasses(){return["ivu-badge-status-dot",{[`ivu-badge-status-${this.status}`]:!!this.status,[`ivu-badge-status-${this.color}`]:!!this.color&&(0,Td.kw)(this.color,uv)}]},statusStyles(){return(0,Td.kw)(this.color,uv)?{}:{backgroundColor:this.color}},styles(){const e={};return this.offset&&2===this.offset.length&&(e["margin-top"]=`${this.offset[0]}px`,e["margin-right"]=`${this.offset[1]}px`),e},finalCount(){return""!==this.text?this.text:parseInt(this.count)>=parseInt(this.overflowCount)?`${this.overflowCount}+`:this.count},badge(){let e=!1;return this.count&&(e=!(0===parseInt(this.count))),this.dot&&(e=!0,null!==this.count&&0===parseInt(this.count)&&(e=!1)),""!==this.text&&(e=!0),e||this.showZero},hasCount(){return!!(this.count||""!==this.text||this.showZero&&0===parseInt(this.count))},alone(){return void 0===this.$slots.default}}},dv=(0,D.Z)(hv,[["render",function(n,i,r,o,s,a){return r.dot?((0,t.wg)(),(0,t.iD)("span",{key:0,ref:"badge",class:(0,c.C_)(a.classes)},[(0,t.WI)(n.$slots,"default"),(0,t.wy)((0,t._)("sup",{class:(0,c.C_)(a.dotClasses),style:(0,c.j5)(a.styles)},null,6),[[e.F8,a.badge]])],2)):r.status||r.color?((0,t.wg)(),(0,t.iD)("span",{key:1,ref:"badge",class:(0,c.C_)([a.classes,"ivu-badge-status"])},[(0,t._)("span",{class:(0,c.C_)(a.statusClasses),style:(0,c.j5)(a.statusStyles)},null,6),(0,t._)("span",cv,[(0,t.WI)(n.$slots,"text",{},(()=>[(0,t.Uk)((0,c.zw)(r.text),1)]))])],2)):((0,t.wg)(),(0,t.iD)("span",{key:2,ref:"badge",class:(0,c.C_)(a.classes)},[(0,t.WI)(n.$slots,"default"),n.$slots.count?((0,t.wg)(),(0,t.iD)("sup",{key:0,style:(0,c.j5)(a.styles),class:(0,c.C_)(a.customCountClasses)},[(0,t.WI)(n.$slots,"count")],6)):a.hasCount?(0,t.wy)(((0,t.wg)(),(0,t.iD)("sup",{key:1,style:(0,c.j5)(a.styles),class:(0,c.C_)(a.countClasses)},[(0,t.WI)(n.$slots,"text",{},(()=>[(0,t.Uk)((0,c.zw)(a.finalCount),1)]))],6)),[[e.F8,a.badge]]):(0,t.kq)("",!0)],2))}]]),pv={name:"Collapse",props:{accordion:{type:Boolean,default:!1},modelValue:{type:[Array,String],required:!1,default:null},simple:{type:Boolean,default:!1}},emits:["on-change","update:modelValue"],data(){return{currentValue:this.modelValue,childrens:[]}},computed:{classes(){return["ivu-collapse",{"ivu-collapse-simple":this.simple}]}},watch:{modelValue(e){this.currentValue=e},currentValue(){this.setActive()}},mounted(){this.setActive()},methods:{setActive(){const e=this.getActiveKey();this.childrens=(0,Td.Hj)(this,"Panel"),this.childrens.forEach(((t,n)=>{const i=t.name||n.toString();t.isActive=e.indexOf(i)>-1,t.index=n}))},getActiveKey(){let e=this.currentValue||[];const t=this.accordion;Array.isArray(e)||(e=[e]),t&&e.length>1&&(e=[e[0]]);for(let t=0;t<e.length;t++)e[t]=e[t].toString();return e},toggle(e){const t=e.name.toString();let n=[];if(this.accordion)e.isActive||n.push(t);else{const i=this.getActiveKey(),r=i.indexOf(t);e.isActive?r>-1&&i.splice(r,1):r<0&&i.push(t),n=i}this.currentValue=n,this.setActive(),this.$emit("update:modelValue",n),this.$emit("on-change",n)}}},fv=(0,D.Z)(pv,[["render",function(e,n,i,r,o,s){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.classes)},[(0,t.WI)(e.$slots,"default")],2)}]]),mv={key:0,class:"ivu-progress-inner-text"},gv={name:"Progress",components:{Icon:wd.Z},props:{percent:{type:Number,default:0},successPercent:{type:Number,default:0},status:{validator:e=>(0,Td.kw)(e,["normal","active","wrong","success"]),default:"normal"},hideInfo:{type:Boolean,default:!1},strokeWidth:{type:Number,default:10},vertical:{type:Boolean,default:!1},strokeColor:{type:[String,Array]},textInside:{type:Boolean,default:!1}},data(){return{currentStatus:this.status}},computed:{isStatus(){return"wrong"==this.currentStatus||"success"==this.currentStatus},statusIcon(){let e="";switch(this.currentStatus){case"wrong":e="ios-close-circle";break;case"success":e="ios-checkmark-circle"}return e},bgStyle(){const e=this.vertical?{height:`${this.percent}%`,width:`${this.strokeWidth}px`}:{width:`${this.percent}%`,height:`${this.strokeWidth}px`};return this.strokeColor&&("string"==typeof this.strokeColor?e["background-color"]=this.strokeColor:e["background-image"]=`linear-gradient(to right, ${this.strokeColor[0]} 0%, ${this.strokeColor[1]} 100%)`),e},successBgStyle(){return this.vertical?{height:`${this.successPercent}%`,width:`${this.strokeWidth}px`}:{width:`${this.successPercent}%`,height:`${this.strokeWidth}px`}},wrapClasses(){return["ivu-progress",`ivu-progress-${this.currentStatus}`,{"ivu-progress-show-info":!this.hideInfo&&!this.textInside,"ivu-progress-vertical":this.vertical}]},textClasses:()=>"ivu-progress-text",textInnerClasses:()=>"ivu-progress-text-inner",outerClasses:()=>"ivu-progress-outer",innerClasses:()=>"ivu-progress-inner",bgClasses:()=>"ivu-progress-bg",successBgClasses:()=>"ivu-progress-success-bg"},watch:{percent(e,t){e<t?this.handleStatus(!0):this.handleStatus()},status(e){this.currentStatus=e}},created(){this.handleStatus()},methods:{handleStatus(e){e?(this.currentStatus="normal",this.$emit("on-status-change","normal")):100==parseInt(this.percent,10)&&(this.currentStatus="success",this.$emit("on-status-change","success"))}}},vv=(0,D.Z)(gv,[["render",function(e,n,i,r,o,s){const a=(0,t.up)("Icon");return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(s.wrapClasses)},[(0,t._)("div",{class:(0,c.C_)(s.outerClasses)},[(0,t._)("div",{class:(0,c.C_)(s.innerClasses)},[(0,t._)("div",{class:(0,c.C_)(s.bgClasses),style:(0,c.j5)(s.bgStyle)},[i.textInside?((0,t.wg)(),(0,t.iD)("div",mv,(0,c.zw)(i.percent)+"% ",1)):(0,t.kq)("",!0)],6),(0,t._)("div",{class:(0,c.C_)(s.successBgClasses),style:(0,c.j5)(s.successBgStyle)},null,6)],2)],2),i.hideInfo||i.textInside?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(s.textClasses)},[(0,t.WI)(e.$slots,"default",{},(()=>[s.isStatus?((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)(s.textInnerClasses)},[(0,t.Wm)(a,{type:s.statusIcon},null,8,["type"])],2)):((0,t.wg)(),(0,t.iD)("span",{key:1,class:(0,c.C_)(s.textInnerClasses)},(0,c.zw)(i.percent)+"% ",3))]))],2))],2)}]]),yv=["name","value"],bv=["onMousemove","onClick"],wv=(0,t.Uk)(),_v={key:0},xv={key:1},kv={name:"Rate",components:{Icon:wd.Z},mixins:[kd.Z,Cd.Z,Tp.Z],props:{count:{type:Number,default:5},value:{type:Number,default:0},allowHalf:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},showText:{type:Boolean,default:!1},name:{type:String},clearable:{type:Boolean,default:!1},character:{type:String,default:""},icon:{type:String,default:""},customIcon:{type:String,default:""}},data(){return{prefixCls:"ivu-rate",hoverIndex:-1,isHover:!1,isHalf:this.allowHalf&&this.value.toString().indexOf(".")>=0,currentValue:this.value}},computed:{classes(){return["ivu-rate",{"ivu-rate-disabled":this.itemDisabled}]},iconClasses(){return["ivu-icon",{[`ivu-icon-${this.icon}`]:""!==this.icon,[`${this.customIcon}`]:""!==this.customIcon}]},showCharacter(){return""!==this.character||""!==this.icon||""!==this.customIcon}},watch:{value(e){this.currentValue=e},currentValue(e){this.setHalf(e)}},methods:{starCls(e){const t=this.hoverIndex,n=this.isHover?t:this.currentValue;let i=!1,r=!1;return n>=e&&(i=!0),r=this.isHover?n===e:Math.ceil(this.currentValue)===e,[{"ivu-rate-star":!this.showCharacter,"ivu-rate-star-chart":this.showCharacter,"ivu-rate-star-full":!r&&i||r&&!this.isHalf,"ivu-rate-star-half":r&&this.isHalf,"ivu-rate-star-zero":!i}]},handleMousemove(e,t){if(!this.itemDisabled){if(this.isHover=!0,this.allowHalf){const e=t.target.getAttribute("type")||!1;this.isHalf="half"===e}else this.isHalf=!1;this.hoverIndex=e}},handleMouseleave(){this.itemDisabled||(this.isHover=!1,this.setHalf(this.currentValue),this.hoverIndex=-1)},setHalf(e){this.isHalf=this.allowHalf&&e.toString().indexOf(".")>=0},handleClick(e){this.itemDisabled||(this.isHalf&&(e-=.5),this.clearable&&Math.abs(e-this.currentValue)<.01&&(e=0),this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e))}}},Cv=(0,D.Z)(kv,[["render",function(n,i,r,o,s,a){return(0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(a.classes),onMouseleave:i[0]||(i[0]=(...e)=>a.handleMouseleave&&a.handleMouseleave(...e))},[(0,t._)("input",{type:"hidden",name:r.name,value:s.currentValue},null,8,yv),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(r.count,(e=>((0,t.wg)(),(0,t.iD)("div",{key:e,class:(0,c.C_)(a.starCls(e)),onMousemove:t=>a.handleMousemove(e,t),onClick:t=>a.handleClick(e)},[a.showCharacter?((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t._)("span",{class:(0,c.C_)([s.prefixCls+"-star-first"]),type:"half"},[""!==r.character?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,c.zw)(r.character),1)],64)):((0,t.wg)(),(0,t.iD)("i",{key:1,class:(0,c.C_)(a.iconClasses),type:"half"},null,2))],2),(0,t._)("span",{class:(0,c.C_)([s.prefixCls+"-star-second"])},[""!==r.character?((0,t.wg)(),(0,t.iD)(t.HY,{key:0},[(0,t.Uk)((0,c.zw)(r.character),1)],64)):((0,t.wg)(),(0,t.iD)("i",{key:1,class:(0,c.C_)(a.iconClasses)},null,2))],2)],64)):((0,t.wg)(),(0,t.iD)("span",{key:0,class:(0,c.C_)([s.prefixCls+"-star-content"]),type:"half"},null,2))],42,bv)))),128)),r.showText?(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{key:0,class:(0,c.C_)([s.prefixCls+"-text"])},[(0,t.WI)(n.$slots,"default",{},(()=>[(0,t._)("span",null,(0,c.zw)(s.currentValue),1),wv,s.currentValue<=1?((0,t.wg)(),(0,t.iD)("span",_v,(0,c.zw)(n.t("i.rate.star")),1)):((0,t.wg)(),(0,t.iD)("span",xv,(0,c.zw)(n.t("i.rate.stars")),1))]))],2)),[[e.F8,s.currentValue>0]]):(0,t.kq)("",!0)],34)}]]),Sv=Cv;function Av(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Av(Object(n),!0).forEach((function(t){Lv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Av(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ov(e){return Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(e)}function Lv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ev(){return Ev=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ev.apply(this,arguments)}function Dv(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pv(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Mv=Pv(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),$v=Pv(/Edge/i),Rv=Pv(/firefox/i),Iv=Pv(/safari/i)&&!Pv(/chrome/i)&&!Pv(/android/i),Fv=Pv(/iP(ad|od|hone)/i),jv=Pv(/chrome/i)&&Pv(/android/i),Nv={capture:!1,passive:!1};function zv(e,t,n){e.addEventListener(t,n,!Mv&&Nv)}function qv(e,t,n){e.removeEventListener(t,n,!Mv&&Nv)}function Vv(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(e){return!1}return!1}}function Bv(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Wv(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&Vv(e,t):Vv(e,t))||i&&e===n)return e;if(e===n)break}while(e=Bv(e))}return null}var Uv,Hv=/\s+/g;function Zv(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(Hv," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(Hv," ")}}function Kv(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function Gv(e,t){var n="";if("string"==typeof e)n=e;else do{var i=Kv(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function Yv(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function Qv(){return document.scrollingElement||document.documentElement}function Jv(e,t,n,i,r){if(e.getBoundingClientRect||e===window){var o,s,a,l,c,u,h;if(e!==window&&e.parentNode&&e!==Qv()?(s=(o=e.getBoundingClientRect()).top,a=o.left,l=o.bottom,c=o.right,u=o.height,h=o.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!Mv))do{if(r&&r.getBoundingClientRect&&("none"!==Kv(r,"transform")||n&&"static"!==Kv(r,"position"))){var d=r.getBoundingClientRect();s-=d.top+parseInt(Kv(r,"border-top-width")),a-=d.left+parseInt(Kv(r,"border-left-width")),l=s+o.height,c=a+o.width;break}}while(r=r.parentNode);if(i&&e!==window){var p=Gv(r||e),f=p&&p.a,m=p&&p.d;p&&(l=(s/=m)+(u/=m),c=(a/=f)+(h/=f))}return{top:s,left:a,bottom:l,right:c,width:h,height:u}}}function Xv(e,t,n){for(var i=ry(e,!0),r=Jv(e)[t];i;){var o=Jv(i)[n];if(!("top"===n||"left"===n?r>=o:r<=o))return i;if(i===Qv())break;i=ry(i,!1)}return!1}function ey(e,t,n,i){for(var r=0,o=0,s=e.children;o<s.length;){if("none"!==s[o].style.display&&s[o]!==sb.ghost&&(i||s[o]!==sb.dragged)&&Wv(s[o],n.draggable,e,!1)){if(r===t)return s[o];r++}o++}return null}function ty(e,t){for(var n=e.lastElementChild;n&&(n===sb.ghost||"none"===Kv(n,"display")||t&&!Vv(n,t));)n=n.previousElementSibling;return n||null}function ny(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===sb.clone||t&&!Vv(e,t)||n++;return n}function iy(e){var t=0,n=0,i=Qv();if(e)do{var r=Gv(e),o=r.a,s=r.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==i&&(e=e.parentNode));return[t,n]}function ry(e,t){if(!e||!e.getBoundingClientRect)return Qv();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Kv(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return Qv();if(i||t)return n;i=!0}}}while(n=n.parentNode);return Qv()}function oy(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function sy(e,t){return function(){if(!Uv){var n=arguments,i=this;1===n.length?e.call(i,n[0]):e.apply(i,n),Uv=setTimeout((function(){Uv=void 0}),t)}}}function ay(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ly(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var cy="Sortable"+(new Date).getTime();var uy=[],hy={initializeByDefault:!0},dy={mount:function(e){for(var t in hy)hy.hasOwnProperty(t)&&!(t in e)&&(e[t]=hy[t]);uy.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),uy.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=e+"Global";uy.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][r]&&t[i.pluginName][r](Tv({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](Tv({sortable:t},n)))}))},initializePlugins:function(e,t,n,i){for(var r in uy.forEach((function(i){var r=i.pluginName;if(e.options[r]||i.initializeByDefault){var o=new i(e,t,e.options);o.sortable=e,o.options=e.options,e[r]=o,Ev(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);void 0!==o&&(e.options[r]=o)}},getEventProperties:function(e,t){var n={};return uy.forEach((function(i){"function"==typeof i.eventProperties&&Ev(n,i.eventProperties.call(t[i.pluginName],e))})),n},modifyOption:function(e,t,n){var i;return uy.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(i=r.optionListeners[t].call(e[r.pluginName],n))})),i}},py=["evt"],fy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,r=Dv(n,py);dy.pluginEvent.bind(sb)(e,t,Tv({dragEl:gy,parentEl:vy,ghostEl:yy,rootEl:by,nextEl:wy,lastDownEl:_y,cloneEl:xy,cloneHidden:ky,dragStarted:Iy,putSortable:Ly,activeSortable:sb.active,originalEvent:i,oldIndex:Cy,oldDraggableIndex:Ay,newIndex:Sy,newDraggableIndex:Ty,hideGhostForTarget:nb,unhideGhostForTarget:ib,cloneNowHidden:function(){ky=!0},cloneNowShown:function(){ky=!1},dispatchSortableEvent:function(e){my({sortable:t,name:e,originalEvent:i})}},r))};function my(e){!function(e){var t=e.sortable,n=e.rootEl,i=e.name,r=e.targetEl,o=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,h=e.newDraggableIndex,d=e.originalEvent,p=e.putSortable,f=e.extraEventProperties;if(t=t||n&&n[cy]){var m,g=t.options,v="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||Mv||$v?(m=document.createEvent("Event")).initEvent(i,!0,!0):m=new CustomEvent(i,{bubbles:!0,cancelable:!0}),m.to=s||n,m.from=a||n,m.item=r||n,m.clone=o,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=h,m.originalEvent=d,m.pullMode=p?p.lastPutMode:void 0;var y=Tv(Tv({},f),dy.getEventProperties(i,t));for(var b in y)m[b]=y[b];n&&n.dispatchEvent(m),g[v]&&g[v].call(t,m)}}(Tv({putSortable:Ly,cloneEl:xy,targetEl:gy,rootEl:by,oldIndex:Cy,oldDraggableIndex:Ay,newIndex:Sy,newDraggableIndex:Ty},e))}var gy,vy,yy,by,wy,_y,xy,ky,Cy,Sy,Ay,Ty,Oy,Ly,Ey,Dy,Py,My,$y,Ry,Iy,Fy,jy,Ny,zy,qy=!1,Vy=!1,By=[],Wy=!1,Uy=!1,Hy=[],Zy=!1,Ky=[],Gy="undefined"!=typeof document,Yy=Fv,Qy=$v||Mv?"cssFloat":"float",Jy=Gy&&!jv&&!Fv&&"draggable"in document.createElement("div"),Xy=function(){if(Gy){if(Mv)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),eb=function(e,t){var n=Kv(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=ey(e,0,t),o=ey(e,1,t),s=r&&Kv(r),a=o&&Kv(o),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Jv(r).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Jv(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&"none"!==s.float){var u="left"===s.float?"left":"right";return!o||"both"!==a.clear&&a.clear!==u?"horizontal":"vertical"}return r&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=i&&"none"===n[Qy]||o&&"none"===n[Qy]&&l+c>i)?"vertical":"horizontal"},tb=function(e){function t(e,n){return function(i,r,o,s){var a=i.options.group.name&&r.options.group.name&&i.options.group.name===r.options.group.name;if(null==e&&(n||a))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(i,r,o,s),n)(i,r,o,s);var l=(n?i:r).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},i=e.group;i&&"object"==Ov(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},nb=function(){!Xy&&yy&&Kv(yy,"display","none")},ib=function(){!Xy&&yy&&Kv(yy,"display","")};Gy&&document.addEventListener("click",(function(e){if(Vy)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Vy=!1,!1}),!0);var rb=function(e){if(gy){e=e.touches?e.touches[0]:e;var t=(r=e.clientX,o=e.clientY,By.some((function(e){var t=e[cy].options.emptyInsertThreshold;if(t&&!ty(e)){var n=Jv(e),i=r>=n.left-t&&r<=n.right+t,a=o>=n.top-t&&o<=n.bottom+t;return i&&a?s=e:void 0}})),s);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[cy]._onDragOver(n)}}var r,o,s},ob=function(e){gy&&gy.parentNode[cy]._isOutsideThisEl(e.target)};function sb(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Ev({},t),e[cy]=this;var n,i,r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return eb(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==sb.supportPointer&&"PointerEvent"in window&&!Iv,emptyInsertThreshold:5};for(var o in dy.initializePlugins(this,e,r),r)!(o in t)&&(t[o]=r[o]);for(var s in tb(t),this)"_"===s.charAt(0)&&"function"==typeof this[s]&&(this[s]=this[s].bind(this));this.nativeDraggable=!t.forceFallback&&Jy,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?zv(e,"pointerdown",this._onTapStart):(zv(e,"mousedown",this._onTapStart),zv(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(zv(e,"dragover",this),zv(e,"dragenter",this)),By.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Ev(this,(i=[],{captureAnimationState:function(){i=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(e){if("none"!==Kv(e,"display")&&e!==sb.ghost){i.push({target:e,rect:Jv(e)});var t=Tv({},i[i.length-1].rect);if(e.thisAnimationDuration){var n=Gv(e,!0);n&&(t.top-=n.f,t.left-=n.e)}e.fromRect=t}}))},addAnimationState:function(e){i.push(e)},removeAnimationState:function(e){i.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(i,{target:e}),1)},animateAll:function(e){var t=this;if(!this.options.animation)return clearTimeout(n),void("function"==typeof e&&e());var r=!1,o=0;i.forEach((function(e){var n=0,i=e.target,s=i.fromRect,a=Jv(i),l=i.prevFromRect,c=i.prevToRect,u=e.rect,h=Gv(i,!0);h&&(a.top-=h.f,a.left-=h.e),i.toRect=a,i.thisAnimationDuration&&oy(l,a)&&!oy(s,a)&&(u.top-a.top)/(u.left-a.left)==(s.top-a.top)/(s.left-a.left)&&(n=function(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}(u,l,c,t.options)),oy(a,s)||(i.prevFromRect=s,i.prevToRect=a,n||(n=t.options.animation),t.animate(i,u,a,n)),n&&(r=!0,o=Math.max(o,n),clearTimeout(i.animationResetTimer),i.animationResetTimer=setTimeout((function(){i.animationTime=0,i.prevFromRect=null,i.fromRect=null,i.prevToRect=null,i.thisAnimationDuration=null}),n),i.thisAnimationDuration=n)})),clearTimeout(n),r?n=setTimeout((function(){"function"==typeof e&&e()}),o):"function"==typeof e&&e(),i=[]},animate:function(e,t,n,i){if(i){Kv(e,"transition",""),Kv(e,"transform","");var r=Gv(this.el),o=r&&r.a,s=r&&r.d,a=(t.left-n.left)/(o||1),l=(t.top-n.top)/(s||1);e.animatingX=!!a,e.animatingY=!!l,Kv(e,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),Kv(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),Kv(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){Kv(e,"transition",""),Kv(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i)}}}))}function ab(e,t,n,i,r,o,s,a){var l,c,u=e[cy],h=u.options.onMove;return!window.CustomEvent||Mv||$v?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=r||t,l.relatedRect=o||Jv(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),h&&(c=h.call(u,l,s)),c}function lb(e){e.draggable=!1}function cb(){Zy=!1}function ub(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function hb(e){return setTimeout(e,0)}function db(e){return clearTimeout(e)}sb.prototype={constructor:sb,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Fy=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,gy):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,r=i.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,a=(s||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=i.filter;if(function(e){Ky.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var i=t[n];i.checked&&Ky.push(i)}}(n),!gy&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||i.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!Iv||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=Wv(a,i.draggable,n,!1))&&a.animated||_y===a)){if(Cy=ny(a),Ay=ny(a,i.draggable),"function"==typeof c){if(c.call(this,e,a,this))return my({sortable:t,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),fy("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(i){if(i=Wv(l,i.trim(),n,!1))return my({sortable:t,rootEl:i,name:"filter",targetEl:a,fromEl:n,toEl:n}),fy("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());i.handle&&!Wv(l,i.handle,n,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,n){var i,r=this,o=r.el,s=r.options,a=o.ownerDocument;if(n&&!gy&&n.parentNode===o){var l=Jv(n);if(by=o,vy=(gy=n).parentNode,wy=gy.nextSibling,_y=n,Oy=s.group,sb.dragged=gy,Ey={target:gy,clientX:(t||e).clientX,clientY:(t||e).clientY},$y=Ey.clientX-l.left,Ry=Ey.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,gy.style["will-change"]="all",i=function(){fy("delayEnded",r,{evt:e}),sb.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!Rv&&r.nativeDraggable&&(gy.draggable=!0),r._triggerDragStart(e,t),my({sortable:r,name:"choose",originalEvent:e}),Zv(gy,s.chosenClass,!0))},s.ignore.split(",").forEach((function(e){Yv(gy,e.trim(),lb)})),zv(a,"dragover",rb),zv(a,"mousemove",rb),zv(a,"touchmove",rb),zv(a,"mouseup",r._onDrop),zv(a,"touchend",r._onDrop),zv(a,"touchcancel",r._onDrop),Rv&&this.nativeDraggable&&(this.options.touchStartThreshold=4,gy.draggable=!0),fy("delayStart",this,{evt:e}),!s.delay||s.delayOnTouchOnly&&!t||this.nativeDraggable&&($v||Mv))i();else{if(sb.eventCanceled)return void this._onDrop();zv(a,"mouseup",r._disableDelayedDrag),zv(a,"touchend",r._disableDelayedDrag),zv(a,"touchcancel",r._disableDelayedDrag),zv(a,"mousemove",r._delayedDragTouchMoveHandler),zv(a,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&zv(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(i,s.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){gy&&lb(gy),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;qv(e,"mouseup",this._disableDelayedDrag),qv(e,"touchend",this._disableDelayedDrag),qv(e,"touchcancel",this._disableDelayedDrag),qv(e,"mousemove",this._delayedDragTouchMoveHandler),qv(e,"touchmove",this._delayedDragTouchMoveHandler),qv(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?zv(document,"pointermove",this._onTouchMove):zv(document,t?"touchmove":"mousemove",this._onTouchMove):(zv(gy,"dragend",this),zv(by,"dragstart",this._onDragStart));try{document.selection?hb((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(e,t){if(qy=!1,by&&gy){fy("dragStarted",this,{evt:t}),this.nativeDraggable&&zv(document,"dragover",ob);var n=this.options;!e&&Zv(gy,n.dragClass,!1),Zv(gy,n.ghostClass,!0),sb.active=this,e&&this._appendGhost(),my({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Dy){this._lastX=Dy.clientX,this._lastY=Dy.clientY,nb();for(var e=document.elementFromPoint(Dy.clientX,Dy.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Dy.clientX,Dy.clientY))!==t;)t=e;if(gy.parentNode[cy]._isOutsideThisEl(e),t)do{if(t[cy]&&t[cy]._onDragOver({clientX:Dy.clientX,clientY:Dy.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);ib()}},_onTouchMove:function(e){if(Ey){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,r=e.touches?e.touches[0]:e,o=yy&&Gv(yy,!0),s=yy&&o&&o.a,a=yy&&o&&o.d,l=Yy&&zy&&iy(zy),c=(r.clientX-Ey.clientX+i.x)/(s||1)+(l?l[0]-Hy[0]:0)/(s||1),u=(r.clientY-Ey.clientY+i.y)/(a||1)+(l?l[1]-Hy[1]:0)/(a||1);if(!sb.active&&!qy){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(yy){o?(o.e+=c-(Py||0),o.f+=u-(My||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Kv(yy,"webkitTransform",h),Kv(yy,"mozTransform",h),Kv(yy,"msTransform",h),Kv(yy,"transform",h),Py=c,My=u,Dy=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!yy){var e=this.options.fallbackOnBody?document.body:by,t=Jv(gy,!0,Yy,!0,e),n=this.options;if(Yy){for(zy=e;"static"===Kv(zy,"position")&&"none"===Kv(zy,"transform")&&zy!==document;)zy=zy.parentNode;zy!==document.body&&zy!==document.documentElement?(zy===document&&(zy=Qv()),t.top+=zy.scrollTop,t.left+=zy.scrollLeft):zy=Qv(),Hy=iy(zy)}Zv(yy=gy.cloneNode(!0),n.ghostClass,!1),Zv(yy,n.fallbackClass,!0),Zv(yy,n.dragClass,!0),Kv(yy,"transition",""),Kv(yy,"transform",""),Kv(yy,"box-sizing","border-box"),Kv(yy,"margin",0),Kv(yy,"top",t.top),Kv(yy,"left",t.left),Kv(yy,"width",t.width),Kv(yy,"height",t.height),Kv(yy,"opacity","0.8"),Kv(yy,"position",Yy?"absolute":"fixed"),Kv(yy,"zIndex","100000"),Kv(yy,"pointerEvents","none"),sb.ghost=yy,e.appendChild(yy),Kv(yy,"transform-origin",$y/parseInt(yy.style.width)*100+"% "+Ry/parseInt(yy.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,r=n.options;fy("dragStart",this,{evt:e}),sb.eventCanceled?this._onDrop():(fy("setupClone",this),sb.eventCanceled||((xy=ly(gy)).draggable=!1,xy.style["will-change"]="",this._hideClone(),Zv(xy,this.options.chosenClass,!1),sb.clone=xy),n.cloneId=hb((function(){fy("clone",n),sb.eventCanceled||(n.options.removeCloneOnHide||by.insertBefore(xy,gy),n._hideClone(),my({sortable:n,name:"clone"}))})),!t&&Zv(gy,r.dragClass,!0),t?(Vy=!0,n._loopId=setInterval(n._emulateDragOver,50)):(qv(document,"mouseup",n._onDrop),qv(document,"touchend",n._onDrop),qv(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,gy)),zv(document,"drop",n),Kv(gy,"transform","translateZ(0)")),qy=!0,n._dragStartId=hb(n._dragStarted.bind(n,t,e)),zv(document,"selectstart",n),Iy=!0,Iv&&Kv(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,r,o=this.el,s=e.target,a=this.options,l=a.group,c=sb.active,u=Oy===l,h=a.sort,d=Ly||c,p=this,f=!1;if(!Zy){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),s=Wv(s,a.draggable,o,!0),L("dragOver"),sb.eventCanceled)return f;if(gy.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return D(!1);if(Vy=!1,c&&!a.disabled&&(u?h||(i=vy!==by):Ly===this||(this.lastPutMode=Oy.checkPull(this,c,gy,e))&&l.checkPut(this,c,gy,e))){if(r="vertical"===this._getDirection(e,s),t=Jv(gy),L("dragOverValid"),sb.eventCanceled)return f;if(i)return vy=by,E(),this._hideClone(),L("revert"),sb.eventCanceled||(wy?by.insertBefore(gy,wy):by.appendChild(gy)),D(!0);var m=ty(o,a.draggable);if(!m||function(e,t,n){var i=Jv(ty(n.el,n.options.draggable));return t?e.clientX>i.right+10||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+10}(e,r,this)&&!m.animated){if(m===gy)return D(!1);if(m&&o===e.target&&(s=m),s&&(n=Jv(s)),!1!==ab(by,o,gy,t,s,n,e,!!s))return E(),o.appendChild(gy),vy=o,P(),D(!0)}else if(m&&function(e,t,n){var i=Jv(ey(n.el,0,n.options,!0));return t?e.clientX<i.left-10||e.clientY<i.top&&e.clientX<i.right:e.clientY<i.top-10||e.clientY<i.bottom&&e.clientX<i.left}(e,r,this)){var g=ey(o,0,a,!0);if(g===gy)return D(!1);if(n=Jv(s=g),!1!==ab(by,o,gy,t,s,n,e,!1))return E(),o.insertBefore(gy,g),vy=o,P(),D(!0)}else if(s.parentNode===o){n=Jv(s);var v,y,b,w=gy.parentNode!==o,_=!function(e,t,n){var i=n?e.left:e.top,r=n?e.right:e.bottom,o=n?e.width:e.height,s=n?t.left:t.top,a=n?t.right:t.bottom,l=n?t.width:t.height;return i===s||r===a||i+o/2===s+l/2}(gy.animated&&gy.toRect||t,s.animated&&s.toRect||n,r),x=r?"top":"left",k=Xv(s,"top","top")||Xv(gy,"top","top"),C=k?k.scrollTop:void 0;if(Fy!==s&&(y=n[x],Wy=!1,Uy=!_&&a.invertSwap||w),v=function(e,t,n,i,r,o,s,a){var l=i?e.clientY:e.clientX,c=i?n.height:n.width,u=i?n.top:n.left,h=i?n.bottom:n.right,d=!1;if(!s)if(a&&Ny<c*r){if(!Wy&&(1===jy?l>u+c*o/2:l<h-c*o/2)&&(Wy=!0),Wy)d=!0;else if(1===jy?l<u+Ny:l>h-Ny)return-jy}else if(l>u+c*(1-r)/2&&l<h-c*(1-r)/2)return function(e){return ny(gy)<ny(e)?1:-1}(t);return(d=d||s)&&(l<u+c*o/2||l>h-c*o/2)?l>u+c/2?1:-1:0}(e,s,n,r,_?1:a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,Uy,Fy===s),0!==v){var S=ny(gy);do{S-=v,b=vy.children[S]}while(b&&("none"===Kv(b,"display")||b===yy))}if(0===v||b===s)return D(!1);Fy=s,jy=v;var A=s.nextElementSibling,T=!1,O=ab(by,o,gy,t,s,n,e,T=1===v);if(!1!==O)return 1!==O&&-1!==O||(T=1===O),Zy=!0,setTimeout(cb,30),E(),T&&!A?o.appendChild(gy):s.parentNode.insertBefore(gy,T?A:s),k&&ay(k,0,C-k.scrollTop),vy=gy.parentNode,void 0===y||Uy||(Ny=Math.abs(y-Jv(s)[x])),P(),D(!0)}if(o.contains(gy))return D(!1)}return!1}function L(a,l){fy(a,p,Tv({evt:e,isOwner:u,axis:r?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:h,fromSortable:d,target:s,completed:D,onMove:function(n,i){return ab(by,o,gy,t,n,Jv(n),e,i)},changed:P},l))}function E(){L("dragOverAnimationCapture"),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function D(t){return L("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(p),p!==d&&(Zv(gy,Ly?Ly.options.ghostClass:c.options.ghostClass,!1),Zv(gy,a.ghostClass,!0)),Ly!==p&&p!==sb.active?Ly=p:p===sb.active&&Ly&&(Ly=null),d===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){L("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(s===gy&&!gy.animated||s===o&&!s.animated)&&(Fy=null),a.dragoverBubble||e.rootEl||s===document||(gy.parentNode[cy]._isOutsideThisEl(e.target),!t&&rb(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function P(){Sy=ny(gy),Ty=ny(gy,a.draggable),my({sortable:p,name:"change",toEl:o,newIndex:Sy,newDraggableIndex:Ty,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){qv(document,"mousemove",this._onTouchMove),qv(document,"touchmove",this._onTouchMove),qv(document,"pointermove",this._onTouchMove),qv(document,"dragover",rb),qv(document,"mousemove",rb),qv(document,"touchmove",rb)},_offUpEvents:function(){var e=this.el.ownerDocument;qv(e,"mouseup",this._onDrop),qv(e,"touchend",this._onDrop),qv(e,"pointerup",this._onDrop),qv(e,"touchcancel",this._onDrop),qv(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;Sy=ny(gy),Ty=ny(gy,n.draggable),fy("drop",this,{evt:e}),vy=gy&&gy.parentNode,Sy=ny(gy),Ty=ny(gy,n.draggable),sb.eventCanceled||(qy=!1,Uy=!1,Wy=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),db(this.cloneId),db(this._dragStartId),this.nativeDraggable&&(qv(document,"drop",this),qv(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Iv&&Kv(document.body,"user-select",""),Kv(gy,"transform",""),e&&(Iy&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),yy&&yy.parentNode&&yy.parentNode.removeChild(yy),(by===vy||Ly&&"clone"!==Ly.lastPutMode)&&xy&&xy.parentNode&&xy.parentNode.removeChild(xy),gy&&(this.nativeDraggable&&qv(gy,"dragend",this),lb(gy),gy.style["will-change"]="",Iy&&!qy&&Zv(gy,Ly?Ly.options.ghostClass:this.options.ghostClass,!1),Zv(gy,this.options.chosenClass,!1),my({sortable:this,name:"unchoose",toEl:vy,newIndex:null,newDraggableIndex:null,originalEvent:e}),by!==vy?(Sy>=0&&(my({rootEl:vy,name:"add",toEl:vy,fromEl:by,originalEvent:e}),my({sortable:this,name:"remove",toEl:vy,originalEvent:e}),my({rootEl:vy,name:"sort",toEl:vy,fromEl:by,originalEvent:e}),my({sortable:this,name:"sort",toEl:vy,originalEvent:e})),Ly&&Ly.save()):Sy!==Cy&&Sy>=0&&(my({sortable:this,name:"update",toEl:vy,originalEvent:e}),my({sortable:this,name:"sort",toEl:vy,originalEvent:e})),sb.active&&(null!=Sy&&-1!==Sy||(Sy=Cy,Ty=Ay),my({sortable:this,name:"end",toEl:vy,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){fy("nulling",this),by=gy=vy=yy=wy=xy=_y=ky=Ey=Dy=Iy=Sy=Ty=Cy=Ay=Fy=jy=Ly=Oy=sb.dragged=sb.ghost=sb.clone=sb.active=null,Ky.forEach((function(e){e.checked=!0})),Ky.length=Py=My=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":gy&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)Wv(e=n[i],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||ub(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach((function(e,t){var r=i.children[t];Wv(r,this.options.draggable,i,!1)&&(n[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Wv(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=dy.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&tb(n)},destroy:function(){fy("destroy",this);var e=this.el;e[cy]=null,qv(e,"mousedown",this._onTapStart),qv(e,"touchstart",this._onTapStart),qv(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(qv(e,"dragover",this),qv(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),By.splice(By.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ky){if(fy("hideClone",this),sb.eventCanceled)return;Kv(xy,"display","none"),this.options.removeCloneOnHide&&xy.parentNode&&xy.parentNode.removeChild(xy),ky=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ky){if(fy("showClone",this),sb.eventCanceled)return;gy.parentNode!=by||this.options.group.revertClone?wy?by.insertBefore(xy,wy):by.appendChild(xy):by.insertBefore(xy,gy),this.options.group.revertClone&&this.animate(gy,xy),Kv(xy,"display",""),ky=!1}}else this._hideClone()}},Gy&&zv(document,"touchmove",(function(e){(sb.active||qy)&&e.cancelable&&e.preventDefault()})),sb.utils={on:zv,off:qv,css:Kv,find:Yv,is:function(e,t){return!!Wv(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:sy,closest:Wv,toggleClass:Zv,clone:ly,index:ny,nextTick:hb,cancelNextTick:db,detectDirection:eb,getChild:ey},sb.get=function(e){return e[cy]},sb.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(sb.utils=Tv(Tv({},sb.utils),e.utils)),dy.mount(e)}))},sb.create=function(e,t){return new sb(e,t)},sb.version="1.14.0";var pb,fb,mb,gb,vb,yb,bb=[],wb=!1;function _b(){bb.forEach((function(e){clearInterval(e.pid)})),bb=[]}function xb(){clearInterval(yb)}var kb=sy((function(e,t,n,i){if(t.scroll){var r,o=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=t.scrollSensitivity,l=t.scrollSpeed,c=Qv(),u=!1;fb!==n&&(fb=n,_b(),pb=t.scroll,r=t.scrollFn,!0===pb&&(pb=ry(n,!0)));var h=0,d=pb;do{var p=d,f=Jv(p),m=f.top,g=f.bottom,v=f.left,y=f.right,b=f.width,w=f.height,_=void 0,x=void 0,k=p.scrollWidth,C=p.scrollHeight,S=Kv(p),A=p.scrollLeft,T=p.scrollTop;p===c?(_=b<k&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),x=w<C&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(_=b<k&&("auto"===S.overflowX||"scroll"===S.overflowX),x=w<C&&("auto"===S.overflowY||"scroll"===S.overflowY));var O=_&&(Math.abs(y-o)<=a&&A+b<k)-(Math.abs(v-o)<=a&&!!A),L=x&&(Math.abs(g-s)<=a&&T+w<C)-(Math.abs(m-s)<=a&&!!T);if(!bb[h])for(var E=0;E<=h;E++)bb[E]||(bb[E]={});bb[h].vx==O&&bb[h].vy==L&&bb[h].el===p||(bb[h].el=p,bb[h].vx=O,bb[h].vy=L,clearInterval(bb[h].pid),0==O&&0==L||(u=!0,bb[h].pid=setInterval(function(){i&&0===this.layer&&sb.active._onTouchMove(vb);var t=bb[this.layer].vy?bb[this.layer].vy*l:0,n=bb[this.layer].vx?bb[this.layer].vx*l:0;"function"==typeof r&&"continue"!==r.call(sb.dragged.parentNode[cy],n,t,e,vb,bb[this.layer].el)||ay(bb[this.layer].el,n,t)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&d!==c&&(d=ry(d,!1)));wb=u}}),30),Cb=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var l=n||r;s();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function Sb(){}function Ab(){}Sb.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=ey(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Cb},Ev(Sb,{pluginName:"revertOnSpill"}),Ab.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:Cb},Ev(Ab,{pluginName:"removeOnSpill"}),sb.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?zv(document,"dragover",this._handleAutoScroll):this.options.supportPointer?zv(document,"pointermove",this._handleFallbackAutoScroll):t.touches?zv(document,"touchmove",this._handleFallbackAutoScroll):zv(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?qv(document,"dragover",this._handleAutoScroll):(qv(document,"pointermove",this._handleFallbackAutoScroll),qv(document,"touchmove",this._handleFallbackAutoScroll),qv(document,"mousemove",this._handleFallbackAutoScroll)),xb(),_b(),clearTimeout(Uv),Uv=void 0},nulling:function(){vb=fb=pb=wb=yb=mb=gb=null,bb.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(i,r);if(vb=e,t||this.options.forceAutoScrollFallback||$v||Mv||Iv){kb(e,this.options,o,t);var s=ry(o,!0);!wb||yb&&i===mb&&r===gb||(yb&&xb(),yb=setInterval((function(){var o=ry(document.elementFromPoint(i,r),!0);o!==s&&(s=o,_b()),kb(e,n.options,o,t)}),10),mb=i,gb=r)}else{if(!this.options.bubbleScroll||ry(o,!0)===Qv())return void _b();kb(e,this.options,ry(o,!1),!1)}}},Ev(e,{pluginName:"scroll",initializeByDefault:!0})}),sb.mount(Ab,Sb);const Tb="undefined"!=typeof window?window.console:n.g.console,Ob=/-(\w)/g,Lb=function(e){const t=Object.create(null);return function(e){return t[e]||(t[e]=(e=>e.replace(Ob,((e,t)=>t?t.toUpperCase():"")))(e))}}();function Eb(e){null!==e.parentElement&&e.parentElement.removeChild(e)}function Db(e,t,n){const i=0===n?e.children[0]:e.children[n-1].nextSibling;e.insertBefore(t,i)}function Pb(e,t){this.$nextTick((()=>this.$emit(e.toLowerCase(),t)))}function Mb(e){return t=>{null!==this.realList&&this["onDrag"+e](t),Pb.call(this,e,t)}}const $b=["Start","Add","Remove","Update","End"],Rb=["Choose","Unchoose","Sort","Filter","Clone"],Ib=["Move",...$b,...Rb].map((e=>"on"+e));let Fb=null;const jb={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},Nb=(0,t.aZ)({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...$b.map((e=>e.toLowerCase())),...Rb.map((e=>e.toLowerCase()))],props:jb,data:()=>({transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}),render(){const e=this.$slots.default?this.$slots.default():null,n=(i=this.$attrs,(r=this.componentData)?{...r.props,...r.attrs}:i);var i,r;return e?(this.transitionMode=function(e){if(!e||1!==e.length)return!1;const[{type:t}]=e;return!!t&&(n=t.name,["transition-group","TransitionGroup"].includes(n));var n}(e),(0,t.h)(this.getTag(),n,e)):(0,t.h)(this.getTag(),n,[])},created(){null!==this.list&&null!==this.modelValue&&Tb.error("list props are mutually exclusive! Please set one.")},mounted(){const e={};$b.forEach((t=>{e["on"+t]=Mb.call(this,t)})),Rb.forEach((t=>{e["on"+t]=Pb.bind(this,t)}));const t=Object.keys(this.$attrs).reduce(((e,t)=>(e[Lb(t)]=this.$attrs[t],e)),{}),n=Object.assign({},t,e,{onMove:(e,t)=>this.onDragMove(e,t)});!("draggable"in n)&&(n.draggable=">*");const i=1===this.$el.nodeType?this.$el:this.$el.parentElement;this._sortable=new sb(i,n),i.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{void 0!==this._sortable&&this._sortable.destroy()}catch(e){}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(e){this.updateOptions(e)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?(0,t.up)(this.component):this.tag},updateOptions(e){for(var t in e){const n=Lb(t);-1===Ib.indexOf(n)&&this._sortable.option(n,e[t])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick((()=>{this.visibleIndexes=function(e,t,n,i){if(!e)return[];const r=Object.values(e),o=t.length-i;return[...t].map(((e,t)=>t>=o?r.length:r.indexOf(e)))}(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)}))},getUnderlyingVm(e){const t=(n=this.getChildrenNodes()||[],i=e,Object.values(n).indexOf(i));var n,i;return-1===t?null:{index:t,element:this.realList[t]}},emitChanges(e){this.$nextTick((()=>{this.$emit("change",e)}))},alterList(e){if(this.list)return void e(this.list);const t=[...this.modelValue];e(t),this.$emit("update:modelValue",t)},spliceList(){this.alterList((e=>e.splice(...arguments)))},updatePosition(e,t){this.alterList((n=>n.splice(t,0,n.splice(e,1)[0])))},getVmIndex(e){const t=this.visibleIndexes,n=t.length;return e>n-1?n:t[e]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(e){if(!this.noTransitionOnDrag||!this.transitionMode)return;this.getChildrenNodes()[e].data=null;const t=this.getComponent();t.children=[],t.kept=void 0},onDragStart(e){this.context=this.getUnderlyingVm(e.item),this.context&&(e.item._underlying_vm_=this.clone(this.context.element),Fb=e.item)},onDragAdd(e){const t=e.item._underlying_vm_;if(void 0===t)return;Eb(e.item);const n=this.getVmIndex(e.newIndex);this.spliceList(n,0,t),this.computeIndexes();const i={element:t,newIndex:n};this.emitChanges({added:i})},onDragRemove(e){if(Db(this.$el,e.item,e.oldIndex),"clone"===e.pullMode)return void Eb(e.clone);if(!this.context)return;const t=this.context.index;this.spliceList(t,1);const n={element:this.context.element,oldIndex:t};this.resetTransitionData(t),this.emitChanges({removed:n})},onDragUpdate(e){Eb(e.item),Db(e.from,e.item,e.oldIndex);const t=this.context.index,n=this.getVmIndex(e.newIndex);this.updatePosition(t,n);const i={element:this.context.element,oldIndex:t,newIndex:n};this.emitChanges({moved:i})},updateProperty(e,t){e.hasOwnProperty(t)&&(e[t]+=this.headerOffset)},onDragMove(e,t){const n=this.move;if(!n||!this.realList)return!0;const i=this.getRelatedContextFromMoveEvent(e),r=this.context,o=this.computeFutureIndex(i,e);return Object.assign(r,{futureIndex:o}),n(Object.assign({},e,{relatedContext:i,draggedContext:r}),t)},onDragEnd(){this.computeIndexes(),Fb=null},getTrargetedComponent:e=>e.__draggable_component__,getRelatedContextFromMoveEvent({to:e,related:t}){const n=this.getTrargetedComponent(e);if(!n)return{component:n};const i=n.realList,r={list:i,component:n};if(e!==t&&i&&n.getUnderlyingVm){const e=n.getUnderlyingVm(t);if(e)return Object.assign(e,r)}return r},computeFutureIndex(e,t){const n=[...t.to.children].filter((e=>"none"!==e.style.display));if(0===n.length)return 0;const i=n.indexOf(t.related),r=e.component.getVmIndex(i);return-1===n.indexOf(Fb)&&t.willInsertAfter?r+1:r}}});function zb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qb={class:"ivu-tag-text"},Vb=["onClick"],Bb=["placeholder","disabled"],Wb={ref:"dropdown",class:"ivu-select-dropdown"},Ub={key:0,class:"ivu-select-not-found"},Hb={class:"ivu-select-dropdown-list"},Zb=function(e){return(0,t.dD)("data-v-4433c9a0"),e=e(),(0,t.Cn)(),e}((function(){return(0,t._)("i",{class:"ion ion-md-return-left ivu-select-item-enter"},null,-1)})),Kb=["onClick"];function Gb(e){return function(e){if(Array.isArray(e))return Yb(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Yb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yb(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}const Qb={name:"SimpleSelect",directives:{clickOutside:$f.X},props:{modelValue:{type:[String,Number,Array,Boolean],reqired:!1,default:""},options:{type:Array,required:!1,default:function(){return[]}},selectedOptions:{type:Array,required:!1,default:function(){return[]}},selectedOption:{type:[Array,Object],required:!1,default:null},size:{type:String,reqired:!1,default:"default"},icon:{type:String,reqired:!1,default:null},filterable:{type:Boolean,required:!1,default:!1},multiple:{type:Boolean,required:!1,default:!1},allowCreate:{type:Boolean,required:!1,default:!1},withCreateButton:{type:Boolean,required:!1,default:!1},withDeselect:{type:Boolean,required:!1,default:!0},createFunction:{type:Function,required:!1,default:function(e){return Promise.resolve({value:e,label:e})}},border:{type:Boolean,required:!1,default:!0},placeholder:{type:String,reqired:!1,default:Ke.cR.select},labelKey:{type:[String,Number],reqired:!1,default:"label"},labelFunction:{type:Function,required:!1,default:null},valueFunction:{type:Function,required:!1,default:null},focusFirst:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},optionComponent:{type:Object,required:!1,default:null},valueKey:{type:[String,Number],reqired:!1,default:"value"},inputValue:{type:String,reqired:!1,default:""},remoteFunction:{type:Function,required:!1,default:null}},emits:["update:modelValue","update:selectedOptions","update:selectedOption","search","select","click-create"],data:function(){return{isLoading:!1,optionsData:[],optionRefs:[],popper:null,selectedOptionData:null,selectedOptionsData:[],focusIndex:-1,searchInput:this.inputValue,isOptionsLoaded:!1,isOpen:!1}},computed:{remoteFunctionThrottled:function(){var e=this;return(0,H.Z)((function(t){return e.remoteFunction(t)}),500)},displayCreate:function(){var e=this;return this.searchInput&&this.allowCreate&&!this.optionsToRender.find((function(t){return e.getValue(t)===e.searchInput||e.getLabel(t)===e.searchInput}))},withFilter:function(){return this.remoteFunction||this.filterable||this.allowCreate},optionsToRender:function(){var e=this;if(!this.filterable&&!this.allowCreate||this.remoteFunction){if(this.remoteFunction&&!this.multiple&&this.selectedOptionData&&this.searchInput===this.getLabel(this.selectedOptionData)){var t=this.optionsData.filter((function(t){return e.getValue(t)!==e.getValue(e.selectedOptionData)}));return[this.selectedOption].concat(Gb(t))}return this.optionsData}return this.filteredOptions.slice(0,100)},filteredOptions:function(){var e=this;return this.remoteFunction?[]:this.searchInput&&this.searchInput!==this.getLabel(this.selectedOptionData)?this.optionsData.filter((function(t){return e.getLabel(t).toString().toLowerCase().includes(e.searchInput.toString().toLowerCase())})):this.optionsData},notFound:function(){return!this.allowCreate&&this.withFilter&&(!this.remoteFunction||!!this.searchInput)&&0===this.optionsToRender.length}},watch:{isOptionsLoaded:function(){if(this.assignSelectedFromValue(this.modelValue),!this.multiple){var e=this.getLabel(this.selectedOptionData);e&&(this.searchInput=e)}},selectedOptions:function(e){this.selectedOptionsData=Gb(e)},selectedOption:function(e){this.selectedOptionData=e,this.searchInput=this.getLabel(this.selectedOptionData)},optionsToRender:function(e,t){var n;e.length!==t.length&&(null===(n=this.popper)||void 0===n||n.update())},modelValue:function(e){var t=this;this.remoteFunction&&!this.multiple?this.searchInput!==this.getLabel(this.selectedOptionData)?this.remoteFunction(this.searchInput||e).then((function(){t.assignSelectedFromValue(e),t.searchInput=t.getLabel(t.selectedOptionData)})):this.remoteFunction(""):(this.assignSelectedFromValue(e),this.searchInput=this.getLabel(this.selectedOptionData))},options:{deep:!0,handler:function(e){this.optionsData=this.normalizeOptions(e),this.remoteFunction||this.assignSelectedFromValue(this.modelValue),this.optionsData.length&&(this.isOptionsLoaded=!0)}},isOpen:function(e){e&&(this.$refs.dropdown.style.minWidth=(0,Td.C2)(this.$el,"width"))}},mounted:function(){this.remoteFunction?(this.remoteFunction(this.multiple?this.searchInput:""),this.multiple||(this.selectedOptionData=this.selectedOption,this.searchInput=this.getLabel(this.selectedOptionData)||this.modelValue)):(this.optionsData=this.normalizeOptions(this.options),this.multiple?(this.selectedOptionsData=Gb(this.selectedOptions),!this.options.length&&this.allowCreate&&(this.optionsData=Gb(this.normalizeOptions(this.modelValue))),this.assignSelectedFromValue(this.modelValue)):(this.selectedOptionData=this.selectedOption,this.assignSelectedFromValue(this.modelValue),this.searchInput=this.getLabel(this.selectedOptionData)||this.modelValue))},beforeUpdate:function(){this.optionRefs=[]},methods:{setOptionRef:function(e){e&&this.optionRefs.push(e)},createOption:function(e){var t=this;this.createFunction(e).then((function(e){t.optionsData.unshift(e),t.selectOption(e)}))},onTabKey:function(){if(this.displayCreate&&0===this.focusIndex)this.createOption(this.searchInput);else{var e=this.getLabel(this.optionsToRender[this.focusIndex]);e&&(this.searchInput=e,this.onSearch())}},normalizeOptions:function(e){return null!=e&&e.length?["string","number","boolean"].includes(typeof e[0])?e.map((function(e){return{value:e,label:e.toString()}})):Gb(e):[]},getLabel:function(e){var t;return e?this.labelFunction?this.labelFunction(e):null!==(t=e[this.labelKey])&&void 0!==t?t:"":""},getValue:function(e){var t;return e?this.valueFunction?this.valueFunction(e):null!==(t=e[this.valueKey])&&void 0!==t?t:"":""},onSearch:function(){var e;this.remoteFunction&&this.remoteFunctionThrottled(this.searchInput);var t=this.optionsToRender.indexOf(this.selectedOptionData);this.focusIndex=-1===t?0:t,this.isOpen=!0,null===(e=this.popper)||void 0===e||e.update(),this.$emit("search",this.searchInput)},moveFocus:(0,H.Z)((function(e){var t=this,n=this.displayCreate||this.withCreateButton?this.optionsToRender.length+1:this.optionsToRender.length,i=this.focusIndex+e;i>=n?this.focusIndex=0:i<0?this.focusIndex=n-1:this.focusIndex+=e,this.$nextTick((function(){var e;null===(e=t.optionRefs[t.focusIndex])||void 0===e||e.scrollIntoView({block:"nearest"})}))}),80),applyFocused:function(){if(this.displayCreate&&0===this.focusIndex)this.createOption(this.searchInput),this.toggleDropdown();else if(this.withCreateButton&&this.focusIndex===this.optionsToRender.length)this.$emit("click-create");else{var e=this.displayCreate?this.focusIndex+1:this.focusIndex,t=this.optionsToRender[e];t&&this.selectOption(t)}},assignSelectedFromValue:function(e){var t=this;if(this.multiple)e&&(this.selectedOptionsData=e.map((function(e){return t.selectedOptionsData.find((function(n){return t.getValue(n).toString()===(null!=e?e:"").toString()}))||t.optionsData.find((function(n){return t.getValue(n).toString()===(null!=e?e:"").toString()}))||{value:e,label:e}})));else{this.getValue(this.selectedOption).toString()===(null!=e?e:"").toString()?this.selectedOptionData=this.selectedOption:this.selectedOptionData=this.optionsData.find((function(n){return t.getValue(n).toString()===(null!=e?e:"").toString()}));var n=this.optionsToRender.indexOf(this.selectedOptionData);this.focusIndex=this.focusFirst&&-1===n?0:n,this.$emit("update:selectedOption",this.selectedOptionData)}},isSelected:function(e){var t=this;return!(!this.getValue(e)||!this.selectedOptionData&&!this.selectedOptionsData.length)&&(this.multiple?this.selectedOptionsData:[this.selectedOptionData]).find((function(n){return t.getValue(n)===t.getValue(e)}))},deselect:function(){this.selectedOptionData=null,this.searchInput="",this.$emit("update:modelValue",""),this.$emit("update:selectedOption",null),this.$emit("select",null)},selectOption:function(e){var t=this;if(this.multiple){var n,i,r=this.selectedOptionsData.find((function(n){return t.getValue(n)===t.getValue(e)}));r?this.selectedOptionsData.splice(this.selectedOptionsData.indexOf(r),1):this.selectedOptionsData.push(e),this.searchInput="",this.remoteFunction&&this.remoteFunction(this.searchInput),this.$emit("update:selectedOptions",this.selectedOptionsData),this.$emit("update:modelValue",this.selectedOptionsData.map(this.getValue)),this.$emit("select",this.selectedOptionsData),this.focusIndex=this.optionsToRender.indexOf(e),null===(n=this.popper)||void 0===n||n.update(),null===(i=this.$refs.input)||void 0===i||i.focus()}else this.selectedOptionData=e,this.searchInput=this.getLabel(e),this.focusIndex=this.optionsToRender.indexOf(e),this.$emit("update:modelValue",this.getValue(e)),this.$emit("update:selectedOption",e),this.$emit("select",e),this.closeDropdown()},onOptionMove:function(){this.$emit("update:modelValue",this.selectedOptionsData.map(this.getValue)),this.$emit("update:selectedOptions",this.selectedOptionsData)},removeOption:function(e){this.selectedOptionsData.splice(this.selectedOptionsData.indexOf(e),1),this.$emit("update:modelValue",this.selectedOptionsData.map(this.getValue)),this.$emit("update:selectedOptions",this.selectedOptionsData)},maybeRemoveOption:function(){this.multiple&&""===this.searchInput&&this.removeOption(this.selectedOptions[this.selectedOptionsData.length-1])},closeDropdown:function(){var e=this;this.isOpen=!1,this.selectedOptionData&&(this.searchInput=this.getLabel(this.selectedOptionData)),this.$nextTick((function(){var t;null===(t=e.optionRefs[0])||void 0===t||t.scrollIntoView({block:"nearest"})}))},toggleDropdown:function(){var e;this.disabled||(this.isOpen=!this.isOpen,this.popper||(this.popper=new(Jh())(this.$el,this.$refs.dropdown,{placement:"bottom-start",modifiers:{computeStyle:{gpuAcceleration:!1},preventOverflow:{boundariesElement:"window"}}})),this.popper.update(),null===(e=this.$refs.input)||void 0===e||e.focus())}}},Jb=(0,D.Z)(Qb,[["render",function(n,i,r,o,s,a){var l,u=(0,t.up)("VueDraggableNext"),h=(0,t.up)("Icon"),d=(0,t.Q2)("click-outside");return(0,t.wy)(((0,t.wg)(),(0,t.iD)("div",{class:(0,c.C_)(["ivu-select",(l={"ivu-select-visible":s.isOpen},zb(l,"ivu-select-".concat(r.size),!0),zb(l,"ivu-select-multiple",r.multiple),zb(l,"ivu-select-disabled",r.disabled),zb(l,"ivu-select-single",!r.multiple),l)]),onKeydown:[i[10]||(i[10]=(0,e.D2)((0,e.iM)((function(){return a.applyFocused&&a.applyFocused.apply(a,arguments)}),["stop"]),["enter"])),i[11]||(i[11]=(0,e.D2)((0,e.iM)((function(e){return a.moveFocus(-1)}),["prevent"]),["up"])),i[12]||(i[12]=(0,e.D2)((0,e.iM)((function(e){return a.moveFocus(1)}),["prevent"]),["down"]))]},[(0,t._)("div",{ref:"selection",tabindex:"-1",class:(0,c.C_)(r.border?"ivu-select-selection":"ivu-select-no-border"),onClick:i[7]||(i[7]=function(){return a.toggleDropdown&&a.toggleDropdown.apply(a,arguments)})},[(0,t._)("div",null,[r.multiple?((0,t.wg)(),(0,t.j4)(u,{key:0,list:s.selectedOptionsData,class:"d-inline",onEnd:a.onOptionMove},{default:(0,t.w5)((function(){return[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(s.selectedOptionsData,(function(n){return(0,t.wg)(),(0,t.iD)("div",{key:a.getValue(n),class:"ivu-tag ivu-tag-checked"},[(0,t._)("span",qb,(0,c.zw)(a.getLabel(n)),1),(0,t._)("i",{class:"ion ion-ios-close",onClick:(0,e.iM)((function(e){return a.removeOption(n)}),["stop"])},null,8,Vb)])})),128))]})),_:1},8,["list","onEnd"])):(0,t.kq)("",!0),r.remoteFunction||r.filterable||r.allowCreate?(0,t.wy)(((0,t.wg)(),(0,t.iD)("input",{key:1,ref:"input","onUpdate:modelValue":i[0]||(i[0]=function(e){return s.searchInput=e}),type:"text",placeholder:s.selectedOptionsData.length?"":r.placeholder,autocomplete:"off",spellcheck:"false",disabled:r.disabled,class:(0,c.C_)(["ivu-select-input",{"ivu-input-no-border":!r.border}]),onKeydown:[i[1]||(i[1]=(0,e.D2)((function(e){return s.isOpen=!0}),["down"])),i[2]||(i[2]=(0,e.D2)((function(e){return s.isOpen=!0}),["up"])),i[3]||(i[3]=(0,e.D2)((0,e.iM)((function(){return a.onTabKey&&a.onTabKey.apply(a,arguments)}),["prevent"]),["tab"])),i[4]||(i[4]=(0,e.D2)((function(){return a.maybeRemoveOption&&a.maybeRemoveOption.apply(a,arguments)}),["backspace"]))],onInput:i[5]||(i[5]=function(){return a.onSearch&&a.onSearch.apply(a,arguments)})},null,42,Bb)),[[e.nr,s.searchInput]]):r.optionComponent&&s.selectedOptionData?((0,t.wg)(),(0,t.j4)((0,t.LL)(r.optionComponent),{key:2,class:(0,c.C_)({"ivu-select-placeholder":!s.selectedOptionData,"ivu-select-selected-value":s.selectedOptionData}),option:s.selectedOptionData},null,8,["class","option"])):s.selectedOptionData||!s.selectedOptionsData.length?((0,t.wg)(),(0,t.iD)("span",{key:3,class:(0,c.C_)({"ivu-select-placeholder":!s.selectedOptionData,"ivu-select-selected-value":s.selectedOptionData})},(0,c.zw)(s.selectedOptionData?a.getLabel(s.selectedOptionData):r.placeholder),3)):(0,t.kq)("",!0),r.withDeselect&&s.selectedOptionData?((0,t.wg)(),(0,t.iD)("i",{key:4,class:"ivu-select-icon ion ion-ios-close-circle ivu-select-custom-icon",onClick:i[6]||(i[6]=(0,e.iM)((function(){return a.deselect&&a.deselect.apply(a,arguments)}),["stop"]))})):((0,t.wg)(),(0,t.iD)("i",{key:5,class:(0,c.C_)(["ivu-select-icon",r.icon?"ion ion-".concat(r.icon," ivu-select-custom-icon"):"ion ion-ios-arrow-down ivu-select-arrow"])},null,2))])],2),(0,t.Wm)(e.uT,{name:"transition-drop"},{default:(0,t.w5)((function(){return[(0,t.wy)((0,t._)("div",Wb,[a.notFound&&!r.withCreateButton?((0,t.wg)(),(0,t.iD)("ul",Ub,[(0,t._)("li",null,(0,c.zw)(n.i18n.not_found),1)])):(0,t.kq)("",!0),(0,t._)("ul",Hb,[a.displayCreate?((0,t.wg)(),(0,t.iD)("li",{key:0,class:(0,c.C_)(["ivu-select-item",{"ivu-select-item-focus":0===s.focusIndex}]),onClick:i[8]||(i[8]=(0,e.iM)((function(e){return a.createOption(s.searchInput)}),["stop"]))},[(0,t.Uk)((0,c.zw)(s.searchInput)+" ",1),Zb],2)):(0,t.kq)("",!0),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(a.optionsToRender,(function(n,i){return(0,t.wg)(),(0,t.iD)("li",{key:i,ref_for:!0,ref:a.setOptionRef,class:(0,c.C_)(["ivu-select-item",[a.isSelected(n)?"ivu-select-item-selected ivu-select-item-focus":"",s.focusIndex===(a.displayCreate?i+1:i)?"ivu-select-item-focus":""]]),onClick:(0,e.iM)((function(e){return a.selectOption(n)}),["stop"])},[r.optionComponent&&n?((0,t.wg)(),(0,t.j4)((0,t.LL)(r.optionComponent),{key:0,option:n},null,8,["option"])):((0,t.wg)(),(0,t.iD)(t.HY,{key:1},[(0,t.Uk)((0,c.zw)(a.getLabel(n)),1)],64))],10,Kb)})),128)),r.withCreateButton?((0,t.wg)(),(0,t.iD)("li",{key:1,class:(0,c.C_)(["ivu-select-item text-center",{"ivu-select-item-focus":s.focusIndex===a.optionsToRender.length}]),onClick:i[9]||(i[9]=(0,e.iM)((function(e){return n.$emit("click-create")}),["stop"]))},[(0,t.Wm)(h,{type:"md-add"}),(0,t.Uk)(" "+(0,c.zw)(n.i18n.create_new),1)],2)):(0,t.kq)("",!0)]),(0,t.wy)((0,t._)("div",{class:"ivu-select-loading"},(0,c.zw)(n.i18n.loading),513),[[e.F8,s.isLoading]])],512),[[e.F8,s.isOpen&&(s.optionsData.length||a.displayCreate||a.notFound)]])]})),_:1})],34)),[[d,a.closeDropdown]])}],["__scopeId","data-v-4433c9a0"]]),Xb=Jb,ew={name:"Contenteditable",props:{modelValue:{type:String,required:!1,default:""},tag:{type:String,required:!1,default:"p"},contenteditable:{type:Boolean,required:!1,default:!0},withEditButton:{type:Boolean,required:!1,default:!0}},emits:["update:modelValue","change"],data:function(){return{value:this.modelValue,isContentEditable:!1}},watch:{modelValue:function(e){e.trim()!==this.$refs.contenteditable.innerText.trim()&&(this.value=e)}},methods:{updateModelValue:function(e){this.$emit("update:modelValue",e.target.innerText.trim())},onEditClick:function(){var e=this;this.isContentEditable=!0,this.$nextTick((function(){e.$refs.contenteditable.focus(),document.execCommand("selectAll",!1,null),document.getSelection().collapseToEnd()}))},onFocusLost:function(){this.isContentEditable=!1,this.value!==this.modelValue&&(!this.modelValue||this.modelValue.match(/^\s+$/)?(this.$emit("update:modelValue",this.value),this.$refs.contenteditable.innerHTML=this.value):(this.value=this.modelValue,this.$emit("change",this.value)))}}},tw=(0,D.Z)(ew,[["render",function(n,i,r,o,s,a){var l=(0,t.up)("Icon");return(0,t.wg)(),(0,t.iD)(t.HY,null,[((0,t.wg)(),(0,t.j4)((0,t.LL)(r.tag),(0,t.dG)({ref:"contenteditable",contenteditable:r.contenteditable,class:"cursor-text"},n.$attrs,{onInput:a.updateModelValue,onClick:i[0]||(i[0]=function(e){return s.isContentEditable=!0}),onBlur:a.onFocusLost,onKeydown:i[1]||(i[1]=(0,e.D2)((0,e.iM)((function(e){return n.$refs.contenteditable.blur()}),["prevent"]),["enter"]))}),{default:(0,t.w5)((function(){return[(0,t.Uk)((0,c.zw)(s.value),1)]})),_:1},16,["contenteditable","onInput","onBlur"])),r.withEditButton&&!s.isContentEditable?((0,t.wg)(),(0,t.j4)(l,{key:0,type:"md-create",class:"contenteditable-edit-button ms-2 cursor-pointer",onClick:(0,e.iM)(a.onEditClick,["stop"])},null,8,["onClick"])):(0,t.kq)("",!0)],64)}]]);var nw=n(8504);function iw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function rw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iw(Object(n),!0).forEach((function(t){ow(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ow(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ke.cR.i&&Object.assign(nw.Z,{i:Ke.cR.i});var sw=(0,e.ri)(at);sw.config.globalProperties.i18n=Ke.cR,sw.config.globalProperties.$log=console.log,sw.directive("popover",gd),sw.component("VButton",_d.Z),sw.component("Menu",op),sw.component("Submenu",ip),sw.component("MenuItem",lp),sw.component("Icon",wd.Z),sw.component("VHeader",vp),sw.component("Card",wp),sw.component("VInput",kp.Z),sw.component("VForm",$p),sw.component("FormItem",cf),sw.component("Spin",bf),sw.component("Checkbox",Cf),sw.component("Tag",Of),sw.component("Radio",df),sw.component("RadioGroup",vf),sw.component("Panel",Df),sw.component("VSelect",Kf),sw.component("VOption",Yf),sw.component("Layout",xp),sw.component("Sider",Xf),sw.component("Breadcrumb",tm),sw.component("BreadcrumbItem",om),sw.component("Pagination",$m),sw.component("Dropdown",up),sw.component("DropdownMenu",pp),sw.component("DropdownItem",mp),sw.component("InputNumber",Ep),sw.component("Split",Fm),sw.component("DatePicker",lv),sw.component("MSelect",Xb),sw.component("Badge",dv),sw.component("Collapse",fv),sw.component("VueDraggableNext",Nb),sw.component("Contenteditable",tw),sw.component("Progress",vv),sw.component("Rate",Sv),sw.use(Gh),sw.use(Pd),sw.use(Md.Z),sw.use(dd),sw.use($d),sw.use(Yd),sw.use(Je.Z),document.addEventListener("DOMContentLoaded",(function(){sw.mount("#app"),tt.subscriptions.create("Motor::NotificationsChannel",{received:function(e){var t,n,i=(n=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nt(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=i[0],o=i[1];it.emit(r,o)}})})),window.onbeforeunload=function(){history.replaceState(rw(rw({},history.state),{},{tableScrollTop:0,tableScrollLeft:0}),document.title,location.href)}})()})();